(window.webpackJsonp=window.webpackJsonp||[]).push([["app~06837ae4"],{"0017":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("div",{ref:"ilearningForum"})},t.staticRenderFns=[]},"01f0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACwCAMAAACYaRRsAAAB1FBMVEX5+fn///+fZf+gZv+rdP+qc/+jav+hZ/+iaf+ueP+dYv+ka/+vef+nb/+sdf+td/+haP+ocP+eZP+mbv+pcv+lbP+xfP+wev+eY/8AAAClbf+pcf+iaP+tdv+dY/+sdv+ocf+we/+mbf+fZP+cYf+xe/+kbP+yff+rdf+gZ/+jaf+qcv+vev/Rtf/Psv/Stv+ncP+ud//Qs//Tt//QtP+nbv/UuP+cYv/RtP+yfP/Ps/+rc/+ja//////6+vr////n2/nVuf/6+vrOsf+gZf+kav+uef/6+vrMrf75+fn5+fn6+vr7+/v5+fn6+vq8lf3s5Pn29PnNrv7TuP/+/f+mcP7Lrvv18vnLrPz69//5+fnVuvuseP/Amf/OsP7byPq8kP7Jpv3x7Pn07f/Wu/+/l//JqP/Gov+2i/7QtPvKrfv9/P+xfv/Lqf22hv+qd/60hP/7+f/St/+6i/7Lq//FoP/WvP+zh/2sfP3v6PnZwfuufv3i0PqufP7Dnf728f/q3f/r4Pnr3/++mfzgzf/cx//Rt/v59f+zgP7y6//m1v/i0P/z7vnOr/zCmv64h/+4jf/Vuf2+lP+zgv/j0v/v5v/TuPzu5f++kv3Zwv+xfP7Rtf4yT3fMAAAAnHRSTlP/////////////////////////////////AP//////////////////////////////////////////////B5UY///0//////H/2YK/R+PH//////////////8t//////////////////////////////////////////////////////////////////////////////////////9M6kj8AAAKjUlEQVR4nO2dCXMTxxLHJWzJMrZsGfmKbHwBQj4UG9uAMD6euK9gzmBiCPcRAoQr5D5e7jup5N3vy6Z7Rr3bOzsrm1S1xFbtv6Y0PT3d6t92jWVhC2/sFUcLJxaPH90Xe8m07+jxxRMLLqUDvLR4uN5swTq8uGQALxx76Vrr1b5jlS5r4KWT9QZaWyd1kxXwG6/Vm2Y9eu0NAl4KBS8QY48BeCEE50HrJJxjAD5Wb4716xgCL73krw9c+5YAeLHeFC+ixVdiCy/x9wu/Di/ETtSb4cV0IhaqEwFnIna83ggvpuOxo/VGeDEdjYXoRQ0VMtxIkSJFihQpUqRIkSL9RX3w4YNPrz7aHqzu7d0w3PV3T8+8dapetD+t/kcBoRAK7T3de/Zs3+OHBafyd2+/ebP88+l64J5e/YOBEhiHNv36wso3y+WVv9ee9+NfNYEhhIUHn+jCuruBt1ye/luteVf/1929rXsbDD+kuaY4bZfLu8q7dtWY+PQ1F0DDDHcPw9Dr4W3DMLTfC4s2AKP215T4mgI0oWw+nFF4EfqCEPjsrpmZN2tIvDqshHAEg7ZtRvHODw9Dd2fOzszMTNaO+GMG2jPcA0MD9mxzbYL1XwCeh5knADx5pkbEpx8CJMoEJXicaZ98KG3DgcD+goo1Il4lIFI1WLInhicmeiY0sOItThaLtSH+6TssDNUVAM4otFHkN23SRA/wPgHeYrFUnJ2tBfG/NCGDJLX2tLZOtPqBvRcBwOo8lECzs0fkia86AAjIRbC4Dwu1xhkCndieVuB9Ag0uFUuz0yBx4g/soCiEo7UJSlLA+kQg79zcnDTxh14Amw61HoIR5CvpL7hZ4AXcV8WJr7W2Nrc2wwgG5vv+2COqwXB8p+deRc0Jn4pfvAAIhELf+ux3scGKVwNLEz91ATgQ72h1/1PsLx5gYN2PwNPToq8V913Yv6ZDR/QJhv7uB2GHZ0tn5N7RN7e3N7fr0mA4djXxODB+1R3mwLPFaxekgKGwAaBsmnc079jRvqNdift57C39koYnAs8EHIlSqfhAChiAgEoVRwGdAiQ4XNM+91EMXlDz7+o1zT3Cs6Vi8f9S/5bWnI4IJmjNO+1o8OEz50VtTp2IYnHyZzlgDrW5fTMM7du8Q9umKIZd1Pgfl2+/ichzeCCQd/K2EDAURgAUQRAQnwc3Dw62D3pj+X4ilWkaHW0azWQyyVQyn8tlO+SBSSYM9xE4PIDJYtpagBWVSs7nu3LZbFoKWBdGEJpJNj/3odz9wgjSppLJZB4bnJbqsMvnA2wbbFPa3OaFA4fy8YtDdYylkqmW+ZaWrmx2Kj0lBNzmFiRAEjgcQFpjDM3kc/ITLcmW5HwOeLPpqSE54MJgodBW8MPaLsDmc/Mbc3l1HuBA9PVJAWtBRVWUzyjTZ+6RKnuFKcU7NTU01CkH3NjWCMMFMiCcfdVDZpM8+Z07VX+HxhNCwIVGJQ6EKjQWYLh75Oe2GaPzE1Ppob6hvoRUh1lRLoRB0R7BcWATuqK9HUMdnYlEoxTw2vrlHzcuflE+lGhMrCMYlOjsTIw3igFDLyogYFigCl/FlW7ccoACclwbZjFgeGpbUXcua954/O1314hlPnwQAt7rFkXtTeyF4c6Jh+cIOH7uthvHYwPyhYArxccT4zBcGEfPHF7QtIpxLobJki8LTOrErxj4GnfsGQ4cf1714rz5QsDw5FgE5QGt+BO7PMDxr8E33qmBeZwlXxYYIeDBA4P2uAEc/7HggwzIFwKuFOkb74Ohi5KU3wSO/zDI9wnSki8EDM/c19kHwwUgod8PHP/iEPg5XEC+EPCQWxBneBuA7wScudMPHP/nfTe2MzhfDhiqqiJcBGDpMHzTe6RiCDggXwrY21GcufrOWoDjn92FNzgwKjH2fCFg6EZHX5XiVuD4t1dZRwPyhYChUyioqgph5zzyfuNw9PiWhqR4S74QMGOb6piCoW0HJgAY3goZV+bLlwc2C6s5CDh+7oElledLAafT8DMEBZgGGx6corCRDgaOx0sQizkB+ULAlaIoLEZFnbkKcPy5G2vJlwJeQ9WA43eqZQoBZ/WzZ9Pwr/OKvX7gi5cox5IvBLzTy8cLK3uyGnD8cjo4Xwg4u3NnFn72geKg4FT+NYDPUJwlX+5IYAEuglDzWh0OzpcC1hrJjsBwZyo8UhX44iWCtORLAY8oESQXFq8OfEfH2POFgOFnjdSVXDanNJIbgaHnqkfiOfykMjhfCljDmaCkXBXg6UpsQL4UsFZXrqtrpMstjmt4yAUfiXO3cZ9kyRcChgIERzPvVmCH3/7UiQnIFwLu0qJCWJSU78rnu4p23se/u3EB+ULAeRcOBYZHeTvwt78Z8ZZ8eWAsxgu3dMFvsKzAnz3iOQH5UsAtSkCnAPMtbmFYtFg7/P19lYOxGBOQLwRcKWQWRRC1tgD/+5LuohNjz5cCXkN+4M8Ta+VoCQEn5+fxt63wK0wYuhI4lM8O/MMUEWHOfHC+FLDbEiyKosIKqGTwfpVz4DikJV8K2BUHdXwG8H/zbiyPs+RLAR88mDzoLezRtIf3LLogwcnhtiEp4LGx5FgSPkUCH3WADzvAQq1Jqcuc95mK4aJ4S74ccGosBcMLqmABInWJ/RbpjoYiOAIOyBcCZl1RgEwawnmZeHwZ1ghH0CjeVSNfClhDmKAo7U9+rXlv/IZ+W2xAvhSwVn+qv3+sfwxGP5h6jTPq6o/fX/y8lPP4uB2QLwecScGni+DzRTYIE55iuQLyhYD7M5n+jBcIhT54cPYQhtZcPMbIFwKugJE4KAey2Tzeki8F7C/alGmCoef+Jr3HfTjznIB8KeAmJRMGSB0/rSmGxNeWfCHggKKjmVEYeg0fqYRRHdSSLwWsZUIF+YL2LLFCwA2jSg2jDQ1NDboSGMomCFrjDIEOGK0D8uWAOQCKoGhtwla7AJYvBezKBDWF+9jJIBn5QsD5YIBq2tCwAUa1CKl/NX+iCxMAziiC4WA2SJ7nzf9ECPiuLsAhOYwN3rwIe/5dIeAvDxzYcMDbHS6bn/sgOSD/SyHgb/yQQSK49ekbIeBT+um3bNgCwzuj0N60YRMM796mLdpH8ueL/RGHj3xAJgTto9AGWk+cNf8jKd7YigcAi6PQh11EIYzNT7Y1f0UM+Po8AfRu6u3d0utCoGxwNr+ZP39dDDj2ui7nFkWBoWyaTR8HteW/Lscbu3B+QEMMbBoY6K3YHJJAyA9BKg5FtpF/Xuy/06GuMFAqiiCwcABRNj/a/EIr9hVJXjgUfig+807a9mjfzZc8EErLAxsHNsLQBTf2aht9sPCsUehDQFrTnpO/LM0bO71sAhA4BzLhOCTPX67FX9G5p2t54Lh2b9wNw+83Bcni50Hryvm1aRj41o1bYVgCzgt/vbm6cC8DAAiC2r3VC4ag4HRs6jbtV+bMPdHXM0PXV973AaKokwacJ0bFvb8i+P3NrlNvLb/3TsZlcADXUOad95br90e2IkWKFClSpEiRIkWKVFOF7I4ch8N3i5bQ3QQndLcZCt2NnEJ3q6zQ3YwsfLd7C90N9cJ3y8LQ3RQyfLfdDN+NTcN369jw3Zw3PLc//hO5VzLibgv+EgAAAABJRU5ErkJggg=="},"0246":function(e,t,n){"use strict";var o=n("dcf0");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"028a":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/emptyData.b2eec3a6.png"},"02bc":function(e,t,n){"use strict";n.r(t);var o=n("80e9"),r=n("0fba");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("22f4");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"58b01035",null);t.default=u.exports},"02f2":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d9e2"),n("2c66"),n("249d"),n("40e9"),n("907a"),n("986a"),n("1d02"),n("3c5d"),n("6ce5"),n("2834"),n("4ea1"),n("b7ef"),n("88a7"),n("271a"),n("5494");var r=o(n("d8db")),i=n("b255"),a=n("b775");t.default={mixins:[r.default],data:()=>({isShow:!0,hasPhoto:!1,mediaStreamTrack:null,hasGetMedia:!1,agree:null,startTakePhoto:!1,loading:!1,monitorStatus:null,alertShow:!1,msg:",",openCameras:!1,isMatch:!1,agreecheckbox:!1,thisVideo:null,thisphoto:null,rePhotoShow:!0}),props:["resourceInfo","needCount"],methods:{setPhotoSettings(){window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,navigator.mediaDevices||(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia||(navigator.mediaDevices.getUserMedia=function(e){const t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,o){t.call(navigator,e,n,o)})):Promise.reject(new Error("无法调用摄像头"))})},openCamera(){const e={audio:!1,video:{width:402,height:342}};this.selectedVideoDevice&&(e.video.deviceId={exact:this.selectedVideoDevice.deviceId}),navigator.mediaDevices.getUserMedia(e).then(async e=>{this.openCameras=!0,this.mediaStreamTrack=e;if((e.getVideoTracks&&e.getVideoTracks().length)>0){var t;if(this.hasGetMedia=!0,await this.initDevicesInfo(),this.thisVideo=document.querySelector("#video"),"srcObject"in this.thisVideo)this.thisVideo.srcObject=e;else this.thisVideo.src=(null===(t=window.URL)||void 0===t?void 0:t.createObjectURL(e))||e;this.thisVideo.play()}else this.$message.error("get camera failed"),this.startTakePhoto=!1}).catch(e=>{this.openCameras=!1,this.$message.error(this.$t("course.openCameraFail")),this.startTakePhoto=!1})},takePhoto(){this.thisVideo=document.querySelector("#video"),this.thisphoto=document.querySelector("#photo"),this.thisphoto.getContext("2d").drawImage(this.thisVideo,0,0,402,342),this.hasPhoto=!0,this.stopMediaStream(this.mediaStreamTrack)},async uploadPhoto(){this.loading=!0,this.thisphoto=document.querySelector("#photo");const e=this.thisphoto.toDataURL("img/jpeg").split(","),t=e[0].match(/:(.*?);/)[1],n=atob(e[1]);let o=n.length;const r=new Uint8Array(o),u="course-photo-record-"+(new Date).getTime()+".jpeg";for(;o--;)r[o]=n.charCodeAt(o);const s=new File([r],u,{type:t}),c=await(0,i.getStuUploadUrl)({fileName:u,bucketName:"klt-static-content"});try{a.axiosRequest.put(c.data.url,s).then(e=>{var t;if(200===(null==e||null===(t=e.data)||void 0===t?void 0:t.code))if(this.$message.success(this.$t("course.photoUploadSuccess")),this.resourceInfo.detectFlag&&this.agree&&this.openCamera){var n;const t={courseId:this.resourceInfo.courseResourceId,photoUrl:null==e||null===(n=e.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.staticUrl};(0,i.faceMatch)(t).then(t=>{200===t.code?(t.data.hasData?(this.rePhotoShow=!0,t.data.matchResult?(this.isMatch=t.data.matchResult,this.$message.success(this.$t("course.faceMathScuess")),this.needCount<=0&&(this.isShow=!1)):t.data.matchResult||(this.isMatch=t.data.matchResult,this.$message.error(this.$t("course.faceMathRec")))):(this.alertShow=!0,this.isMatch=!1,this.rePhotoShow=!1),this.$emit("updatePhotoStatus"),this.saveMonitorPhotoFun(e)):(this.rePhotoShow=!0,this.isMatch=!1,this.$emit("updatePhotoStatus"),this.$message.error(t.message),this.saveMonitorPhotoFun(e))})}else this.$emit("updatePhotoStatus"),this.isMatch=null,this.saveMonitorPhotoFun(e)}).finally(()=>{this.loading=!1})}catch{this.$message.error(this.$t("course.photoUploadFail")),this.loading=!1}},saveMonitorPhotoFun(e){var t,n,o;const r={courseId:null===(t=this.resourceInfo)||void 0===t?void 0:t.courseResourceId,sessionId:null===(n=this.resourceInfo)||void 0===n?void 0:n.associationId,imageUrl:null==e||null===(o=e.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.staticUrl,isMatch:this.isMatch};(0,i.saveMonitorPhoto)(r).then(e=>{200===e.code?this.needCount>1&&this.rePhotoShow&&this.rePhoto():this.$message.error(e.message||this.$t("course.photoUploadFail"))})},rePhoto(){this.openCamera(),this.hasPhoto=!1},onTakePhoto(){if(this.agree||this.monitorStatus){var e,t;if(this.agree=!0,!this.startTakePhoto)return this.startTakePhoto=!0,this.openCamera(),(0,i.saveMonitorStatus)({courseId:null===(e=this.resourceInfo)||void 0===e?void 0:e.courseResourceId,sessionId:null===(t=this.resourceInfo)||void 0===t?void 0:t.associationId}),void(this.agreecheckbox=!0);this.hasPhoto?this.rePhoto():this.takePhoto()}else this.$message.warning(this.$t("course.plsAllowOpenCamera"))},onAgree(){this.agree=!this.agree},closeModel(){this.isShow=!1,this.mediaStreamTrack&&this.stopMediaStream(this.mediaStreamTrack),this.$router.go(-1)},closeModelErr(){this.alertShow=!1,this.mediaStreamTrack&&this.stopMediaStream(this.mediaStreamTrack),this.$router.go(-1)}},mounted(){this.setPhotoSettings()},watch:{isShow:{handler:async function(e){if(e){var t,n;const e=await(0,i.checkMonitorStatus)({courseId:null===(t=this.resourceInfo)||void 0===t?void 0:t.courseResourceId,sessionId:null===(n=this.resourceInfo)||void 0===n?void 0:n.associationId});200===(null==e?void 0:e.code)&&(this.monitorStatus=e.data||!1)}this.$emit("hideLearning",e)},immediate:!0}}}},"030f2":function(e,t,n){(function(e){!function(){"use strict";var t=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},n=function(e){return function(t){return typeof t===e}},o=function(e){return function(t){return e===t}},r=t("string"),i=t("object"),a=t("array"),u=o(null),s=n("boolean"),c=o(void 0),l=function(e){return null==e},d=function(e){return!l(e)},f=n("function"),m=n("number"),p=function(e,t){if(a(e)){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},h=function(){},g=function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e(t.apply(null,n))}},v=function(e){return function(){return e}},b=function(e){return e},y=function(e,t){return e===t};function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=t.concat(n);return e.apply(null,r)}}var x=function(e){return function(t){return!e(t)}},S=function(e){return function(){throw new Error(e)}},A=v(!1),C=v(!0),k=tinymce.util.Tools.resolve("tinymce.ThemeManager"),_=function(){return(_=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function O(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function I(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var T,E,D=function(){return R},R={fold:function(e,t){return e()},isSome:A,isNone:C,getOr:E=b,getOrThunk:T=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(void 0),or:E,orThunk:T,map:D,each:h,bind:D,exists:A,forall:C,filter:function(){return D()},toArray:function(){return[]},toString:v("none()")},M=function(e){var t=v(e),n=function(){return r},o=function(t){return t(e)},r={fold:function(t,n){return n(e)},isSome:C,isNone:A,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return M(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?r:R},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r},P={some:M,none:D,from:function(e){return null==e?R:M(e)}},B=Array.prototype.slice,L=Array.prototype.indexOf,F=Array.prototype.push,N=function(e,t){return L.call(e,t)},j=function(e,t){return N(e,t)>-1},z=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},U=function(e,t){for(var n=[],o=0;o<e;o++)n.push(t(o));return n},V=function(e,t){for(var n=[],o=0;o<e.length;o+=t){var r=B.call(e,o,o+t);n.push(r)}return n},H=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},W=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},G=function(e,t){for(var n=[],o=[],r=0,i=e.length;r<i;r++){var a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}},q=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];t(i,o)&&n.push(i)}return n},Y=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}}(e,(function(e,o){n=t(n,e,o)})),n},Q=function(e,t,n){return W(e,(function(e,o){n=t(n,e,o)})),n},$=function(e,t){return function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return P.some(i);if(n(i,o))break}return P.none()}(e,t,A)},K=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return P.some(n)}return P.none()},X=function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);F.apply(t,e[n])}return t},J=function(e,t){return X(H(e,t))},Z=function(e,t){for(var n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},ee=function(e){var t=B.call(e,0);return t.reverse(),t},te=function(e,t){return q(e,(function(e){return!j(t,e)}))},ne=function(e,t){for(var n={},o=0,r=e.length;o<r;o++){var i=e[o];n[String(i)]=t(i,o)}return n},oe=function(e){return[e]},re=function(e,t){var n=B.call(e,0);return n.sort(t),n},ie=function(e,t){return t>=0&&t<e.length?P.some(e[t]):P.none()},ae=function(e){return ie(e,0)},ue=function(e){return ie(e,e.length-1)},se=f(Array.from)?Array.from:function(e){return B.call(e)},ce=function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return P.none()},le=Object.keys,de=Object.hasOwnProperty,fe=function(e,t){for(var n=le(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}},me=function(e,t){return pe(e,(function(e,n){return{k:n,v:t(e,n)}}))},pe=function(e,t){var n={};return fe(e,(function(e,o){var r=t(e,o);n[r.k]=r.v})),n},he=function(e,t){var n={};return function(e,t,n,o){fe(e,(function(e,r){(t(e,r)?n:o)(e,r)}))}(e,t,function(e){return function(t,n){e[n]=t}}(n),h),n},ge=function(e,t){var n=[];return fe(e,(function(e,o){n.push(t(e,o))})),n},ve=function(e,t){for(var n=le(e),o=0,r=n.length;o<r;o++){var i=n[o],a=e[i];if(t(a,i,e))return P.some(a)}return P.none()},be=function(e){return ge(e,b)},ye=function(e,t){return we(e,t)?P.from(e[t]):P.none()},we=function(e,t){return de.call(e,t)},xe=function(e,t){return we(e,t)&&void 0!==e[t]&&null!==e[t]},Se=function(e,t,n){return void 0===n&&(n=y),e.exists((function(e){return n(e,t)}))},Ae=function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<e.length;o++)e[o].each(n);return t},Ce=function(e,t,n){return e.isSome()&&t.isSome()?P.some(n(e.getOrDie(),t.getOrDie())):P.none()},ke=function(e,t){return e?P.some(t):P.none()},_e=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Oe=function(e,t){return-1!==e.indexOf(t)},Ie=function(e,t){return _e(e,t,0)},Te=function(e,t){return _e(e,t,e.length-t.length)},Ee=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),De=function(e){return e.length>0},Re=function(e){return void 0!==e.style&&f(e.style.getPropertyValue)},Me=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Pe={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Me(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Me(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Me(n)},fromDom:Me,fromPoint:function(e,t,n){return P.from(e.dom.elementFromPoint(t,n)).map(Me)}};"undefined"!=typeof window?window:Function("return this;")();var Be,Le=function(e){return e.dom.nodeName.toLowerCase()},Fe=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}},Ne=Fe(1),je=Fe(3),ze=Fe(9),Ue=Fe(11),Ve=function(e){var t,n=!1;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return n||(n=!0,t=e.apply(null,o)),t}},He=function(){return We(0,0)},We=function(e,t){return{major:e,minor:t}},Ge={nu:We,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?He():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o.test(t))return o}}(e,t);if(!n)return{major:0,minor:0};var o=function(e){return Number(t.replace(n,"$"+e))};return We(o(1),o(2))}(e,n)},unknown:He},qe=function(e,t){var n=String(t).toLowerCase();return $(e,(function(e){return e.search(n)}))},Ye=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qe=function(e){return function(t){return Oe(t,e)}},$e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Oe(e,"edge/")&&Oe(e,"chrome")&&Oe(e,"safari")&&Oe(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ye],search:function(e){return Oe(e,"chrome")&&!Oe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Oe(e,"msie")||Oe(e,"trident")}},{name:"Opera",versionRegexes:[Ye,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qe("firefox")},{name:"Safari",versionRegexes:[Ye,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Oe(e,"safari")||Oe(e,"mobile/"))&&Oe(e,"applewebkit")}}],Ke=[{name:"Windows",search:Qe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Oe(e,"iphone")||Oe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Qe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qe("linux"),versionRegexes:[]},{name:"Solaris",search:Qe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Xe={browsers:v($e),oses:v(Ke)},Je=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:o("Edge"),isChrome:o("Chrome"),isIE:o("IE"),isOpera:o("Opera"),isFirefox:o("Firefox"),isSafari:o("Safari")}},Ze={unknown:function(){return Je({current:void 0,version:Ge.unknown()})},nu:Je,edge:v("Edge"),chrome:v("Chrome"),ie:v("IE"),opera:v("Opera"),firefox:v("Firefox"),safari:v("Safari")},et=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:o("Windows"),isiOS:o("iOS"),isAndroid:o("Android"),isOSX:o("OSX"),isLinux:o("Linux"),isSolaris:o("Solaris"),isFreeBSD:o("FreeBSD"),isChromeOS:o("ChromeOS")}},tt={unknown:function(){return et({current:void 0,version:Ge.unknown()})},nu:et,windows:v("Windows"),ios:v("iOS"),android:v("Android"),linux:v("Linux"),osx:v("OSX"),solaris:v("Solaris"),freebsd:v("FreeBSD"),chromeos:v("ChromeOS")},nt=function(e,t,n){var o=Xe.browsers(),r=Xe.oses(),i=t.bind((function(e){return function(e,t){return ce(t.brands,(function(t){var n=t.brand.toLowerCase();return $(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:Ge.nu(parseInt(t.version,10),0)}}))}))}(o,e)})).orThunk((function(){return function(e,t){return qe(e,t).map((function(e){var n=Ge.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e)})).fold(Ze.unknown,Ze.nu),a=function(e,t){return qe(e,t).map((function(e){var n=Ge.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e).fold(tt.unknown,tt.nu),u=function(e,t,n,o){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),u=a||o("(pointer:coarse)"),s=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!s&&!l;return{isiPad:v(r),isiPhone:v(i),isTablet:v(s),isPhone:v(c),isTouch:v(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(l),isDesktop:v(d)}}(a,i,e,n);return{browser:i,os:a,deviceType:u}},ot=function(e){return window.matchMedia(e).matches},rt=Ve((function(){return nt(navigator.userAgent,P.from(navigator.userAgentData),ot)})),it=function(){return rt()},at=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var o=n;if(void 0!==o.matches)return o.matches(t);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(t);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ut=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},st=function(e,t){return e.dom===t.dom},ct=function(e,t){return function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}(e.dom,t.dom)},lt=function(e,t){return it().browser.isIE()?ct(e,t):function(e,t){var n=e.dom,o=t.dom;return n!==o&&n.contains(o)}(e,t)},dt=function(e){return Pe.fromDom(e.dom.ownerDocument)},ft=function(e){return ze(e)?e:dt(e)},mt=function(e){return Pe.fromDom(ft(e).dom.documentElement)},pt=function(e){return Pe.fromDom(ft(e).dom.defaultView)},ht=function(e){return P.from(e.dom.parentNode).map(Pe.fromDom)},gt=function(e){return P.from(e.dom.offsetParent).map(Pe.fromDom)},vt=function(e){return H(e.dom.childNodes,Pe.fromDom)},bt=function(e,t){var n=e.dom.childNodes;return P.from(n[t]).map(Pe.fromDom)},yt=function(e,t){return{element:e,offset:t}},wt=function(e,t){var n=vt(e);return n.length>0&&t<n.length?yt(n[t],0):yt(e,t)},xt=function(e){return Ue(e)&&d(e.dom.host)},St=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),At=v(St),Ct=St?function(e){return Pe.fromDom(e.dom.getRootNode())}:ft,kt=function(e){return xt(e)?e:Pe.fromDom(ft(e).dom.body)},_t=function(e){var t=Ct(e);return xt(t)?P.some(t):P.none()},Ot=function(e){return Pe.fromDom(e.dom.host)},It=function(e){return d(e.dom.shadowRoot)},Tt=function(e){var t=je(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,o,r=t.ownerDocument;return _t(Pe.fromDom(t)).fold((function(){return r.body.contains(t)}),(n=Tt,o=Ot,function(e){return n(o(e))}))},Et=function(){return Dt(Pe.fromDom(document))},Dt=function(e){var t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Pe.fromDom(t)},Rt=function(e,t,n){if(!(r(n)||s(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Mt=function(e,t,n){Rt(e.dom,t,n)},Pt=function(e,t){var n=e.dom;fe(t,(function(e,t){Rt(n,t,e)}))},Bt=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Lt=function(e,t){return P.from(Bt(e,t))},Ft=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Nt=function(e,t){e.dom.removeAttribute(t)},jt=function(e,t,n){if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Re(e)&&e.style.setProperty(t,n)},zt=function(e,t){Re(e)&&e.style.removeProperty(t)},Ut=function(e,t,n){var o=e.dom;jt(o,t,n)},Vt=function(e,t){var n=e.dom;fe(t,(function(e,t){jt(n,t,e)}))},Ht=function(e,t){var n=e.dom;fe(t,(function(e,t){e.fold((function(){zt(n,t)}),(function(e){jt(n,t,e)}))}))},Wt=function(e,t){var n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Tt(e)?o:Gt(n,t)},Gt=function(e,t){return Re(e)?e.style.getPropertyValue(t):""},qt=function(e,t){var n=e.dom,o=Gt(n,t);return P.from(o).filter((function(e){return e.length>0}))},Yt=function(e){var t={},n=e.dom;if(Re(n))for(var o=0;o<n.style.length;o++){var r=n.style.item(o);t[r]=n.style[r]}return t},Qt=function(e,t,n){var o=Pe.fromTag(e);return Ut(o,t,n),qt(o,t).isSome()},$t=function(e,t){var n=e.dom;zt(n,t),Se(Lt(e,"style").map(Ee),"")&&Nt(e,"style")},Kt=function(e){return e.dom.offsetWidth},Xt=function(e,t){var n=function(n){var o=t(n);if(o<=0||null===o){var r=Wt(n,e);return parseFloat(r)||0}return o},o=function(e,t){return Q(t,(function(t,n){var o=Wt(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0)};return{set:function(t,n){if(!m(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var o=t.dom;Re(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:function(e,t,n){var r=o(e,n);return t>r?t-r:0}}},Jt=Xt("height",(function(e){var t=e.dom;return Tt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Zt=function(e){return Jt.get(e)},en=function(e){return Jt.getOuter(e)},tn=function(e,t){return{left:e,top:t,translate:function(n,o){return tn(e+n,t+o)}}},nn=tn,on=function(e,t){return void 0!==e?e:void 0!==t?t:0},rn=function(e){var t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return nn(n.offsetLeft,n.offsetTop);var i=on(null==o?void 0:o.pageYOffset,r.scrollTop),a=on(null==o?void 0:o.pageXOffset,r.scrollLeft),u=on(r.clientTop,n.clientTop),s=on(r.clientLeft,n.clientLeft);return an(e).translate(a-s,i-u)},an=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?nn(n.offsetLeft,n.offsetTop):Tt(e)?function(e){var t=e.getBoundingClientRect();return nn(t.left,t.top)}(t):nn(0,0)},un=Xt("width",(function(e){return e.dom.offsetWidth})),sn=function(e){return un.get(e)},cn=function(e){return un.getOuter(e)},ln=function(e){var t=Pe.fromDom(function(e){if(At()&&d(e.target)){var t=Pe.fromDom(e.target);if(Ne(t)&&It(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ae(n)}}return P.from(e.target)}(e).getOr(e.target)),n=function(){return e.stopPropagation()},o=function(){return e.preventDefault()},r=g(o,n);return function(e,t,n,o,r,i,a){return{target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}}(t,e.clientX,e.clientY,n,o,r,e)},dn=function(e,t,n,o,r){var i=function(e,t){return function(n){e(n)&&t(ln(n))}}(n,o);return e.dom.addEventListener(t,i,r),{unbind:w(fn,e,t,i,r)}},fn=function(e,t,n,o){e.dom.removeEventListener(t,n,o)},mn=function(e,t){ht(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},pn=function(e,t){(function(e){return P.from(e.dom.nextSibling).map(Pe.fromDom)})(e).fold((function(){ht(e).each((function(e){gn(e,t)}))}),(function(e){mn(e,t)}))},hn=function(e,t){(function(e){return bt(e,0)})(e).fold((function(){gn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},gn=function(e,t){e.dom.appendChild(t.dom)},vn=function(e,t){W(t,(function(t){gn(e,t)}))},bn=function(e){e.dom.textContent="",W(vt(e),(function(e){yn(e)}))},yn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},wn=function(e){var t,n=vt(e);n.length>0&&(t=e,W(n,(function(e){mn(t,e)}))),yn(e)},xn=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return nn(n,o)},Sn=function(e,t,n){var o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},An=function(e,t,n,o){return{x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}},Cn=function(e){var t=void 0===e?window:e,n=t.document,o=xn(Pe.fromDom(n));return function(e){var t=void 0===e?window:e;return it().browser.isFirefox()?P.none():P.from(t.visualViewport)}(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return An(o.left,o.top,n,r)}),(function(e){return An(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)}))},kn=function(e,t){return e.view(t).fold(v([]),(function(t){var n=e.owner(t),o=kn(e,n);return[t].concat(o)}))},_n=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?P.none():P.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Pe.fromDom)},owner:function(e){return dt(e)}}),On=function(e){var t=Pe.fromDom(document),n=xn(t);return function(e,t){var n=t.owner(e),o=kn(t,n);return P.some(o)}(e,_n).fold(w(rn,e),(function(t){var o=an(e),r=Y(t,(function(e,t){var n=an(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return nn(r.left+o.left+n.left,r.top+o.top+n.top)}))},In=function(e,t,n,o){return{x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}},Tn=function(e){var t=rn(e),n=cn(e),o=en(e);return In(t.left,t.top,n,o)},En=function(e){var t=On(e),n=cn(e),o=en(e);return In(t.left,t.top,n,o)},Dn=function(){return Cn(window)},Rn=function(e){return{isValue:C,isError:A,getOr:v(e),getOrThunk:v(e),getOrDie:v(e),or:function(t){return Rn(e)},orThunk:function(t){return Rn(e)},fold:function(t,n){return n(e)},map:function(t){return Rn(t(e))},mapError:function(t){return Rn(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return P.some(e)}}},Mn=function(e){return{isValue:A,isError:C,getOr:b,getOrThunk:function(e){return e()},getOrDie:function(){return S(String(e))()},or:b,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Mn(e)},mapError:function(t){return Mn(t(e))},each:h,bind:function(t){return Mn(e)},exists:A,forall:C,toOptional:P.none}},Pn={value:Rn,error:Mn,fromOption:function(e,t){return e.fold((function(){return Mn(t)}),Rn)}};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(Be||(Be={}));var Bn=function(e,t,n){return e.stype===Be.Error?t(e.serror):n(e.svalue)},Ln=function(e){return{stype:Be.Value,svalue:e}},Fn=function(e){return{stype:Be.Error,serror:e}},Nn=function(e){return e.fold(Fn,Ln)},jn=function(e){return Bn(e,Pn.error,Pn.value)},zn=Ln,Un=function(e){var t=[],n=[];return W(e,(function(e){Bn(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},Vn=Fn,Hn=function(e,t){return e.stype===Be.Value?t(e.svalue):e},Wn=function(e,t){return e.stype===Be.Error?t(e.serror):e},Gn=function(e,t){return e.stype===Be.Value?{stype:Be.Value,svalue:t(e.svalue)}:e},qn=function(e,t){return e.stype===Be.Error?{stype:Be.Error,serror:t(e.serror)}:e},Yn=Bn,Qn=function(e,t,n,o){return{tag:"field",key:e,newKey:t,presence:n,prop:o}},$n=function(e,t,n){switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Kn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var o={},r=0;r<t.length;r++){var i=t[r];for(var a in i)we(i,a)&&(o[a]=e(o[a],i[a]))}return o}},Xn=Kn((function(e,t){return i(e)&&i(t)?Xn(e,t):t})),Jn=Kn((function(e,t){return t})),Zn=function(e){return{tag:"defaultedThunk",process:e}},eo=function(e){return Zn(v(e))},to=function(e){return{tag:"mergeWithThunk",process:e}},no=function(e){return g(Vn,X)(e)},oo=function(e){var t=Un(e);return t.errors.length>0?no(t.errors):zn(t.values)},ro=function(e){return i(e)&&le(e).length>100?" removed due to size":JSON.stringify(e,null,2)},io=function(e,t){return Vn([{path:e,getErrorInfo:t}])},ao=function(e){return{extract:function(t,n){return Wn(e(n),(function(e){return function(e,t){return io(e,v(t))}(t,e)}))},toString:v("val")}},uo=ao(zn),so=function(e,t,n,o){return ye(t,n).fold((function(){return function(e,t,n){return io(e,(function(){return'Could not find valid *required* value for "'+t+'" in '+ro(n)}))}(e,n,t)}),o)},co=function(e,t,n,o){return o(ye(e,t).getOrThunk((function(){return n(e)})))},lo=function(e,t,n,o,r){var i=function(e){return r.extract(t.concat([o]),e)},a=function(e){return e.fold((function(){return zn(P.none())}),(function(e){var n=r.extract(t.concat([o]),e);return Gn(n,P.some)}))};switch(e.tag){case"required":return so(t,n,o,i);case"defaultedThunk":return co(n,o,e.process,i);case"option":return function(e,t,n){return n(ye(e,t))}(n,o,a);case"defaultedOptionThunk":return function(e,t,n,o){return o(ye(e,t).map((function(t){return!0===t?n(e):t})))}(n,o,e.process,a);case"mergeWithThunk":return co(n,o,v({}),(function(t){var o=Xn(e.process(n),t);return i(o)}))}},fo=function(e){return{extract:function(t,n){return e().extract(t,n)},toString:function(){return e().toString()}}},mo=function(e){return le(he(e,d))},po=function(e){var t=ho(e),n=Y(e,(function(e,t){return $n(t,(function(t){var n;return Xn(e,((n={})[t]=!0,n))}),v(e))}),{});return{extract:function(e,o){var r=s(o)?[]:mo(o),i=q(r,(function(e){return!xe(n,e)}));return 0===i.length?t.extract(e,o):function(e,t){return io(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))}(e,i)},toString:t.toString}},ho=function(e){return{extract:function(t,n){return function(e,t,n){for(var o={},r=[],i=0,a=n;i<a.length;i++){var u=a[i];$n(u,(function(n,i,a,u){var s=lo(a,e,t,n,u);Yn(s,(function(e){r.push.apply(r,e)}),(function(e){o[i]=e}))}),(function(e,n){o[e]=n(t)}))}return r.length>0?Vn(r):zn(o)}(t,n,e)},toString:function(){return"obj{\n"+H(e,(function(e){return $n(e,(function(e,t,n,o){return e+" -> "+o.toString()}),(function(e,t){return"state("+e+")"}))})).join("\n")+"}"}}},go=function(e){return{extract:function(t,n){var o=H(n,(function(n,o){return e.extract(t.concat(["["+o+"]"]),n)}));return oo(o)},toString:function(){return"array("+e.toString()+")"}}},vo=function(e){return{extract:function(t,n){for(var o=[],r=0,i=e;r<i.length;r++){var a=i[r].extract(t,n);if(a.stype===Be.Value)return a;o.push(a)}return oo(o)},toString:function(){return"oneOf("+H(e,(function(e){return e.toString()})).join(", ")+")"}}},bo=function(e,t){return{extract:function(n,o){var r=le(o),i=function(t,n){return go(ao(e)).extract(t,n)}(n,r);return Hn(i,(function(e){var r=H(e,(function(e){return Qn(e,e,{tag:"required",process:{}},t)}));return ho(r).extract(n,o)}))},toString:function(){return"setOf("+t.toString()+")"}}},yo=g(go,ho),wo=v(uo),xo=function(e,t){return ao((function(n){var o=typeof n;return e(n)?zn(n):Vn("Expected type: "+t+" but got: "+o)}))},So=xo(m,"number"),Ao=xo(r,"string"),Co=xo(s,"boolean"),ko=xo(f,"function"),_o=function(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return _o(e[t])}));default:return!1}},Oo=ao((function(e){return _o(e)?zn(e):Vn("Expected value to be acceptable for sending via postMessage")})),Io=function(e,t,n,o){return ye(n,o).fold((function(){return function(e,t,n){return io(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+ro(t)}))}(e,n,o)}),(function(n){return n.extract(e.concat(["branch: "+o]),t)}))},To=function(e,t){return{extract:function(n,o){return ye(o,e).fold((function(){return function(e,t){return io(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))}(n,e)}),(function(e){return Io(n,o,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+le(t)}}},Eo=function(e){return ao((function(t){return e(t).fold(Vn,zn)}))},Do=function(e,t){return bo((function(t){return Nn(e(t))}),t)},Ro=function(e,t,n){return jn(function(e,t,n){var o=t.extract([e],n);return qn(o,(function(e){return{input:n,errors:e}}))}(e,t,n))},Mo=function(e){return e.fold((function(e){throw new Error(Bo(e))}),b)},Po=function(e,t,n){return Mo(Ro(e,t,n))},Bo=function(e){return"Errors: \n"+(t=e.errors,n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:v("... (only showing first ten failures)")}]):t,H(n,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))).join("\n")+"\n\nInput object: "+ro(e.input);var t,n},Lo=function(e,t){return To(e,me(t,ho))},Fo=Qn,No=function(e,t){return{tag:"custom",newKey:e,instantiator:t}},jo=function(e){return Eo((function(t){return j(e,t)?Pn.value(t):Pn.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))},zo=function(e){return Fo(e,e,{tag:"required",process:{}},wo())},Uo=function(e,t){return Fo(e,e,{tag:"required",process:{}},t)},Vo=function(e){return Uo(e,So)},Ho=function(e){return Uo(e,Ao)},Wo=function(e,t){return Fo(e,e,{tag:"required",process:{}},jo(t))},Go=function(e){return Uo(e,ko)},qo=function(e,t){return Fo(e,e,{tag:"required",process:{}},ho(t))},Yo=function(e,t){return Fo(e,e,{tag:"required",process:{}},yo(t))},Qo=function(e,t){return Fo(e,e,{tag:"required",process:{}},go(t))},$o=function(e){return Fo(e,e,{tag:"option",process:{}},wo())},Ko=function(e,t){return Fo(e,e,{tag:"option",process:{}},t)},Xo=function(e){return Ko(e,So)},Jo=function(e){return Ko(e,Ao)},Zo=function(e){return Ko(e,ko)},er=function(e,t){return Ko(e,go(t))},tr=function(e,t){return Ko(e,ho(t))},nr=function(e,t){return Fo(e,e,eo(t),wo())},or=function(e,t,n){return Fo(e,e,eo(t),n)},rr=function(e,t){return or(e,t,So)},ir=function(e,t){return or(e,t,Ao)},ar=function(e,t,n){return or(e,t,jo(n))},ur=function(e,t){return or(e,t,Co)},sr=function(e,t){return or(e,t,ko)},cr=function(e,t,n){return or(e,t,go(n))},lr=function(e,t,n){return or(e,t,ho(n))},dr=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},fr=function(e){if(!a(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return W(e,(function(o,r){var i=le(o);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],s=o[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!a(s))throw new Error("case arguments must be an array");t.push(u),n[u]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=n.length;if(i!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+i);var a=function(e){var o=le(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!Z(t,(function(e){return j(o,e)})))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,n)};return{fold:function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var i=t[r];return i.apply(null,n)},match:a,log:function(e){console.log(e,{constructors:t,constructor:u,params:n})}}}})),n};fr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var mr,pr=function(e,t){return function(e,t){var n={};return fe(e,(function(e,o){j(t,o)||(n[o]=e)})),n}(e,t)},hr=function(e,t){return function(e,t){var n;return(n={})[e]=t,n}(e,t)},gr=function(e){return function(e){var t={};return W(e,(function(e){t[e.key]=e.value})),t}(e)},vr=function(e,t){var n,o=function(e){var t=[],n=[];return W(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}(e);return o.errors.length>0?(n=o.errors,Pn.error(X(n))):function(e,t){return 0===e.length?Pn.value(t):Pn.value(Xn(t,Jn.apply(void 0,e)))}(o.values,t)},br=function(e){return f(e)?e:A},yr=function(e,t,n){for(var o=e.dom,r=br(n);o.parentNode;){o=o.parentNode;var i=Pe.fromDom(o),a=t(i);if(a.isSome())return a;if(r(i))break}return P.none()},wr=function(e,t,n){var o=t(e),r=br(n);return o.orThunk((function(){return r(e)?P.none():yr(e,t,r)}))},xr=function(e,t){return st(e.element,t.event.target)},Sr={can:C,abort:A,run:h},Ar=function(e){if(!xe(e,"can")&&!xe(e,"abort")&&!xe(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return _(_({},Sr),e)},Cr=function(e){return{can:function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return Q(e,(function(e,o){return e&&t(o).apply(void 0,n)}),!0)}}(e,(function(e){return e.can})),abort:function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return Q(e,(function(e,o){return e||t(o).apply(void 0,n)}),!1)}}(e,(function(e){return e.abort})),run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];W(e,(function(e){e.run.apply(void 0,t)}))}}},kr=v,_r=kr("touchstart"),Or=kr("touchmove"),Ir=kr("touchend"),Tr=kr("touchcancel"),Er=kr("mousedown"),Dr=kr("mousemove"),Rr=kr("mouseout"),Mr=kr("mouseup"),Pr=kr("mouseover"),Br=kr("focusin"),Lr=kr("focusout"),Fr=kr("keydown"),Nr=kr("keyup"),jr=kr("input"),zr=kr("change"),Ur=kr("click"),Vr=kr("transitioncancel"),Hr=kr("transitionend"),Wr=kr("transitionstart"),Gr=kr("selectstart"),qr=function(e){return v("alloy."+e)},Yr={tap:qr("tap")},Qr=qr("focus"),$r=qr("blur.post"),Kr=qr("paste.post"),Xr=qr("receive"),Jr=qr("execute"),Zr=qr("focus.item"),ei=Yr.tap,ti=qr("longpress"),ni=qr("sandbox.close"),oi=qr("typeahead.cancel"),ri=qr("system.init"),ii=qr("system.touchmove"),ai=qr("system.touchend"),ui=qr("system.scroll"),si=qr("system.resize"),ci=qr("system.attached"),li=qr("system.detached"),di=qr("system.dismissRequested"),fi=qr("system.repositionRequested"),mi=qr("focusmanager.shifted"),pi=qr("slotcontainer.visibility"),hi=qr("change.tab"),gi=qr("dismiss.tab"),vi=qr("highlight"),bi=qr("dehighlight"),yi=function(e,t){Ai(e,e.element,t,{})},wi=function(e,t,n){Ai(e,e.element,t,n)},xi=function(e){yi(e,Jr())},Si=function(e,t,n){Ai(e,t,n,{})},Ai=function(e,t,n,o){var r=_({target:t},o);e.getSystem().triggerEvent(n,t,r)},Ci=function(e,t,n,o){e.getSystem().triggerEvent(n,t,o.event)},ki=function(e){return gr(e)},_i=function(e,t){return{key:e,value:Ar({abort:t})}},Oi=function(e){return{key:e,value:Ar({run:function(e,t){t.event.prevent()}})}},Ii=function(e,t){return{key:e,value:Ar({run:t})}},Ti=function(e,t,n){return{key:e,value:Ar({run:function(e,o){t.apply(void 0,[e,o].concat(n))}})}},Ei=function(e){return function(t){return{key:e,value:Ar({run:function(e,n){xr(e,n)&&t(e,n)}})}}},Di=function(e,t,n){return function(e,t){return Ii(e,(function(n,o){n.getSystem().getByUid(t).each((function(t){Ci(t,t.element,e,o)}))}))}(e,t.partUids[n])},Ri=function(e,t){return Ii(e,(function(e,n){var o=n.event,r=e.getSystem().getByDom(o.target).getOrThunk((function(){return wr(o.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),A).getOr(e)}));t(e,r,n)}))},Mi=function(e){return Ii(e,(function(e,t){t.cut()}))},Pi=function(e){return Ii(e,(function(e,t){t.stop()}))},Bi=function(e,t){return Ei(e)(t)},Li=Ei(ci()),Fi=Ei(li()),Ni=Ei(ri()),ji=function(e){return function(t){return Ii(e,t)}}(Jr()),zi=function(e){return e.dom.innerHTML},Ui=function(e,t){var n=dt(e).dom,o=Pe.fromDom(n.createDocumentFragment()),r=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,vt(Pe.fromDom(n))}(t,n);vn(o,r),bn(e),gn(e,o)},Vi=function(e){return function(e,t){return Pe.fromDom(e.dom.cloneNode(t))}(e,!1)},Hi=function(e){return xt(e)?"#shadow-root":function(e){var t=Pe.fromTag("div"),n=Pe.fromDom(e.dom.cloneNode(!0));return gn(t,n),zi(t)}(Vi(e))},Wi=function(e){return Hi(e)},Gi=ki([function(e,t){return{key:e,value:Ar({can:t})}}(Qr(),(function(e,t){var n=t.event,o=n.originator,r=n.target;return!function(e,t,n){return st(t,e.element)&&!st(t,n)}(e,o,r)||(console.warn(Qr()+" did not get interpreted by the desired target. \nOriginator: "+Wi(o)+"\nTarget: "+Wi(r)+"\nCheck the "+Qr()+" event handlers"),!1)}))]),qi=Object.freeze({__proto__:null,events:Gi}),Yi=0,Qi=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Yi+String(t)},$i=v("alloy-id-"),Ki=v("data-alloy-id"),Xi=$i(),Ji=Ki(),Zi=function(e,t){Object.defineProperty(e.dom,Ji,{value:t,writable:!0})},ea=function(e){var t=Ne(e)?e.dom[Ji]:null;return P.from(t)},ta=function(e){return Qi(e)},na=b,oa=function(e){var t=function(t){return"The component must be in a context to execute: "+t+(e?"\n"+Wi(e().element)+" is not in context.":"")},n=function(e){return function(){throw new Error(t(e))}},o=function(e){return function(){console.warn(t(e))}};return{debugInfo:v("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:A}},ra=oa(),ia=function(e){return H(e,(function(e){return Te(e,"/*")?e.substring(0,e.length-"/*".length):e}))},aa=function(e,t){var n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ia(i)}},e},ua=Qi("alloy-premade"),sa=function(e){return hr(ua,e)},ca=function(e){return function(e,t){var n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ia(i.slice(1))}},e}((function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return e.apply(void 0,I([t.getApis(),t],n,!1))}),e)},la={init:function(){return da({readState:v("No State required")})}},da=function(e){return e},fa=function(e,t){var n={};return fe(e,(function(e,o){fe(e,(function(e,r){var i=ye(n,r).getOr([]);n[r]=i.concat([t(o,e)])}))})),n},ma=function(e){return{classes:c(e.classes)?[]:e.classes,attributes:c(e.attributes)?{}:e.attributes,styles:c(e.styles)?{}:e.styles}},pa=function(e){return e.cHandler},ha=function(e,t){return{name:e,handler:t}},ga=function(e,t,n){var o=_(_({},n),function(e,t){var n={};return W(e,(function(e){n[e.name()]=e.handlers(t)})),n}(t,e));return fa(o,ha)},va=function(e){var t=function(e){return f(e)?{can:C,abort:A,run:e}:e}(e);return function(e,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];var i=[e,n].concat(o);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},ba=function(e,t,n){var o=t[n];return o?function(e,t,n,o){try{var r=re(n,(function(n,r){var i=n[t],a=r[t],u=o.indexOf(i),s=o.indexOf(a);if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(o,null,2));return u<s?-1:s<u?1:0}));return Pn.value(r)}catch(e){return Pn.error([e])}}("Event: "+n,"name",e,o).map((function(e){var t=H(e,(function(e){return e.handler}));return Cr(t)})):function(e,t){return Pn.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(H(t,(function(e){return e.name})),null,2)])}(n,e)},ya=function(e,t){var n=ge(e,(function(e,n){return(1===e.length?Pn.value(e[0].handler):ba(e,t,n)).map((function(o){var r=va(o),i=e.length>1?q(t[n],(function(t){return z(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return hr(n,function(e,t){return{handler:e,purpose:t}}(r,i))}))}));return vr(n,{})},wa="alloy.base.behaviour",xa=ho([Fo("dom","dom",{tag:"required",process:{}},ho([zo("tag"),nr("styles",{}),nr("classes",[]),nr("attributes",{}),$o("value"),$o("innerHtml")])),zo("components"),zo("uid"),nr("events",{}),nr("apis",{}),Fo("eventOrder","eventOrder",function(e){return to(v(e))}((mr={},mr[Jr()]=["disabling",wa,"toggling","typeaheadevents"],mr[Qr()]=[wa,"focusing","keying"],mr[ri()]=[wa,"disabling","toggling","representing"],mr[jr()]=[wa,"representing","streaming","invalidating"],mr[li()]=[wa,"representing","item-events","tooltipping"],mr[Er()]=["focusing",wa,"item-type-events"],mr[_r()]=["focusing",wa,"item-type-events"],mr[Pr()]=["item-type-events","tooltipping"],mr[Xr()]=["receiving","reflecting","tooltipping"],mr)),wo()),$o("domModification")]),Sa=function(e){return e.events},Aa=function(e,t){var n=Bt(e,t);return void 0===n||""===n?[]:n.split(" ")},Ca=function(e){return void 0!==e.dom.classList},ka=function(e,t){return function(e,t,n){var o=Aa(e,t).concat([n]);return Mt(e,t,o.join(" ")),!0}(e,"class",t)},_a=function(e,t){return function(e,t,n){var o=q(Aa(e,t),(function(e){return e!==n}));return o.length>0?Mt(e,t,o.join(" ")):Nt(e,t),!1}(e,"class",t)},Oa=function(e,t){Ca(e)?e.dom.classList.add(t):ka(e,t)},Ia=function(e){0===(Ca(e)?e.dom.classList:function(e){return Aa(e,"class")}(e)).length&&Nt(e,"class")},Ta=function(e,t){Ca(e)?e.dom.classList.remove(t):_a(e,t);Ia(e)},Ea=function(e,t){return Ca(e)&&e.dom.classList.contains(t)},Da=function(e,t){W(t,(function(t){Oa(e,t)}))},Ra=function(e,t){W(t,(function(t){Ta(e,t)}))},Ma=function(e){return e.dom.value},Pa=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Ba=function(e,t){return function(e,t){var n=H(t,(function(e){return tr(e.name(),[zo("config"),nr("state",la)])})),o=Ro("component.behaviours",ho(n),e.behaviours).fold((function(t){throw new Error(Bo(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),b);return{list:t,data:me(o,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return v(t)}))}}(e,t)},La=function(e){var t=function(e){var t=ye(e,"behaviours").getOr({});return J(le(t),(function(e){var n=t[e];return d(n)?[n.me]:[]}))}(e);return Ba(e,t)},Fa=function(e,t,n){var o,r,i,a=_(_({},(o=e).dom),{uid:o.uid,domChildren:H(o.components,(function(e){return e.element}))}),u=function(e){return e.domModification.fold((function(){return ma({})}),ma)}(e),s={"alloy.base.modification":u},c=t.length>0?function(e,t,n,o){var r=_({},t);W(n,(function(t){r[t.name()]=t.exhibit(e,o)}));var i=fa(r,(function(e,t){return{name:e,modification:t}})),a=function(e){return Y(e,(function(e,t){return _(_({},t.modification),e)}),{})},u=Y(i.classes,(function(e,t){return t.modification.concat(e)}),[]),s=a(i.attributes),c=a(i.styles);return ma({classes:u,attributes:s,styles:c})}(n,s,t,a):u;return i=c,_(_({},r=a),{attributes:_(_({},r.attributes),i.attributes),styles:_(_({},r.styles),i.styles),classes:r.classes.concat(i.classes)})},Na=function(e,t,n){var o={"alloy.base.behaviour":Sa(e)};return function(e,t,n,o){var r=ga(e,n,o);return ya(r,t)}(n,e.eventOrder,t,o).getOrDie()},ja=function(e){var t=function(){return l},n=dr(ra),o=Mo(function(e){return Ro("custom.definition",xa,e)}(e)),r=La(e),i=function(e){return e.list}(r),a=function(e){return e.data}(r),u=function(e){var t=Pe.fromTag(e.tag);Pt(t,e.attributes),Da(t,e.classes),Vt(t,e.styles),e.innerHtml.each((function(e){return Ui(t,e)}));var n=e.domChildren;return vn(t,n),e.value.each((function(e){Pa(t,e)})),e.uid,Zi(t,e.uid),t}(Fa(o,i,a)),s=Na(o,i,a),c=dr(o.components),l={uid:e.uid,getSystem:n.get,config:function(t){var n=a;return(f(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:function(e){return f(a[e.name()])},spec:e,readState:function(e){return a[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},getApis:function(){return o.apis},connect:function(e){n.set(e)},disconnect:function(){n.set(oa(t))},element:u,syncComponents:function(){var e=vt(u),t=J(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),oe)}));c.set(t)},components:c.get,events:s};return l},za=function(e){var t=na(e),n=t.events,o=O(t,["events"]),r=function(e){var t=ye(e,"components").getOr([]);return H(t,Wa)}(o),i=_(_({},o),{events:_(_({},qi),n),components:r});return Pn.value(ja(i))},Ua=function(e){var t=Pe.fromText(e);return Va({element:t})},Va=function(e){var t=Po("external.component",po([zo("element"),$o("uid")]),e),n=dr(oa()),o=t.uid.getOrThunk((function(){return ta("external")}));Zi(t.element,o);var r={uid:o,getSystem:n.get,config:P.none,hasConfigured:A,connect:function(e){n.set(e)},disconnect:function(){n.set(oa((function(){return r})))},getApis:function(){return{}},element:t.element,spec:e,readState:v("No state"),syncComponents:h,components:v([]),events:{}};return sa(r)},Ha=ta,Wa=function(e){return function(e){return ye(e,ua)}(e).getOrThunk((function(){var t=function(e){return we(e,"uid")}(e)?e:_({uid:Ha("")},e);return za(t).getOrDie()}))},Ga=sa;function qa(e,t,n,o,r){return e(n,o)?P.some(n):f(r)&&r(n)?P.none():t(n,o,r)}var Ya,Qa=function(e,t,n){for(var o=e.dom,r=f(n)?n:A;o.parentNode;){o=o.parentNode;var i=Pe.fromDom(o);if(t(i))return P.some(i);if(r(i))break}return P.none()},$a=function(e,t,n){return qa((function(e,t){return t(e)}),Qa,e,t,n)},Ka=function(e,t,n){return $a(e,t,n).isSome()},Xa=function(e,t,n){return Qa(e,(function(e){return at(e,t)}),n)},Ja=function(e,t){return function(e,t){return $(e.dom.childNodes,(function(e){return t(Pe.fromDom(e))})).map(Pe.fromDom)}(e,(function(e){return at(e,t)}))},Za=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return ut(n)?P.none():P.from(n.querySelector(e)).map(Pe.fromDom)}(t,e)},eu=function(e,t,n){return qa((function(e,t){return at(e,t)}),Xa,e,t,n)},tu=function(){var e=Qi("aria-owns");return{id:e,link:function(t){Mt(t,"aria-owns",e)},unlink:function(e){Nt(e,"aria-owns")}}},nu=function(e,t){return function(e){return $a(e,(function(e){if(!Ne(e))return!1;var t=Bt(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1})).bind((function(e){var t=Bt(e,"id"),n=Ct(e);return Za(n,'[aria-owns="'+t+'"]')}))}(t).exists((function(t){return ou(e,t)}))},ou=function(e,t){return Ka(t,(function(t){return st(t,e.element)}),A)||nu(e,t)};!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(Ya||(Ya={}));var ru=dr({}),iu=function(e,t,n){switch(ye(ru.get(),e).orThunk((function(){var t=le(ru.get());return ce(t,(function(t){return e.indexOf(t)>-1?P.some(ru.get()[t]):P.none()}))})).getOr(Ya.NORMAL)){case Ya.NORMAL:return n(su());case Ya.LOGGING:var o=function(e,t){var n=[],o=(new Date).getTime();return{logEventCut:function(e,t,o){n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:function(e,t,o){n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:function(e,t,o){n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:function(e,t){n.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,o){n.push({outcome:"response",purpose:o,target:t})},write:function(){var r=(new Date).getTime();j(["mousemove","mouseover","mouseout",ri()],e)||console.log(e,{event:e,time:r-o,target:t.dom,sequence:H(n,(function(e){return j(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Wi(e.target)+")":e.outcome}))})}}}(e,t),r=n(o);return o.write(),r;case Ya.STOP:return!0}},au=["alloy/data/Fields","alloy/debugging/Debugging"],uu=function(e,t,n){return iu(e,t,n)},su=v({logEventCut:h,logEventStopped:h,logNoParent:h,logEventNoHandlers:h,logEventResponse:h,write:h}),cu=v([zo("menu"),zo("selectedMenu")]),lu=v([zo("item"),zo("selectedItem")]);v(ho(lu().concat(cu())));var du=v(ho(lu())),fu=qo("initSize",[zo("numColumns"),zo("numRows")]),mu=function(){return qo("markers",[zo("backgroundMenu")].concat(cu()).concat(lu()))},pu=function(e){return qo("markers",H(e,zo))},hu=function(e,t,n){return function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return $(t,(function(e){return e.indexOf("alloy")>0&&!z(au,(function(t){return e.indexOf(t)>-1}))})).getOr("unknown")}}(),Fo(t,t,n,Eo((function(e){return Pn.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))},gu=function(e){return hu(0,e,eo(h))},vu=function(e){return hu(0,e,eo(P.none))},bu=function(e){return hu(0,e,{tag:"required",process:{}})},yu=function(e){return hu(0,e,{tag:"required",process:{}})},wu=function(e,t){return No(e,v(t))},xu=function(e){return No(e,b)},Su=v(fu),Au=function(e,t,n,o,r,i,a,u){return void 0===u&&(u=!1),{x:e,y:t,bubble:n,direction:o,placement:r,restriction:i,label:a+"-"+r,alwaysFit:u}},Cu=fr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ku=Cu.southeast,_u=Cu.southwest,Ou=Cu.northeast,Iu=Cu.northwest,Tu=Cu.south,Eu=Cu.north,Du=Cu.east,Ru=Cu.west,Mu=function(e,t,n,o){var r=e+t;return r>o?n:r<n?o:r},Pu=function(e,t,n){return Math.min(Math.max(e,t),n)},Bu=function(e,t){return ne(["left","right","top","bottom"],(function(n){return ye(t,n).map((function(t){return function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}}(e,t)}))}))},Lu=function(e){return e.x},Fu=function(e,t){return e.x+e.width/2-t.width/2},Nu=function(e,t){return e.x+e.width-t.width},ju=function(e,t){return e.y-t.height},zu=function(e){return e.y+e.height},Uu=function(e,t){return e.y+e.height/2-t.height/2},Vu=function(e,t,n){return Au(Lu(e),zu(e),n.southeast(),ku(),"southeast",Bu(e,{left:1,top:3}),"layout")},Hu=function(e,t,n){return Au(Nu(e,t),zu(e),n.southwest(),_u(),"southwest",Bu(e,{right:0,top:3}),"layout")},Wu=function(e,t,n){return Au(Lu(e),ju(e,t),n.northeast(),Ou(),"northeast",Bu(e,{left:1,bottom:2}),"layout")},Gu=function(e,t,n){return Au(Nu(e,t),ju(e,t),n.northwest(),Iu(),"northwest",Bu(e,{right:0,bottom:2}),"layout")},qu=function(e,t,n){return Au(Fu(e,t),ju(e,t),n.north(),Eu(),"north",Bu(e,{bottom:2}),"layout")},Yu=function(e,t,n){return Au(Fu(e,t),zu(e),n.south(),Tu(),"south",Bu(e,{top:3}),"layout")},Qu=function(e,t,n){return Au(function(e){return e.x+e.width}(e),Uu(e,t),n.east(),Du(),"east",Bu(e,{left:0}),"layout")},$u=function(e,t,n){return Au(function(e,t){return e.x-t.width}(e,t),Uu(e,t),n.west(),Ru(),"west",Bu(e,{right:1}),"layout")},Ku=function(){return[Vu,Hu,Wu,Gu,Yu,qu,Qu,$u]},Xu=function(){return[Hu,Vu,Gu,Wu,Yu,qu,Qu,$u]},Ju=function(){return[Wu,Gu,Vu,Hu,qu,Yu]},Zu=function(){return[Gu,Wu,Hu,Vu,qu,Yu]},es=function(){return[Vu,Hu,Wu,Gu,Yu,qu]},ts=function(){return[Hu,Vu,Gu,Wu,Yu,qu]},ns=Object.freeze({__proto__:null,events:function(e){return ki([Ii(Xr(),(function(t,n){var o=e.channels,r=le(o),i=n,a=function(e,t){return t.universal?e:q(e,(function(e){return j(t.channels,e)}))}(r,i);W(a,(function(e){var n=o[e],r=n.schema,a=Po("channel["+e+"] data\nReceiver: "+Wi(t.element),r,i.data);n.onReceive(t,a)}))}))])}}),os=[Uo("channels",Do(Pn.value,po([bu("onReceive"),nr("schema",wo())])))],rs=function(e,t,n){return Ni((function(o,r){n(o,e,t)}))},is=function(e,t,n){return function(e,t,n){var o=n.toString(),r=o.indexOf(")")+1,i=o.indexOf("("),a=o.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ia(a.slice(0,1).concat(a.slice(3)))}},e}((function(o){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=[o].concat(r);return o.config({name:v(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))}),n,t)},as=function(e){return{key:e,value:void 0}},us=function(e,t,n,o,r,i,a){var u=function(e){return xe(e,n)?e[n]():P.none()},s=me(r,(function(e,t){return is(n,e,t)})),c=me(i,(function(e,t){return aa(e,t)})),l=_(_(_({},c),s),{revoke:w(as,n),config:function(t){var o=Po(n+"-config",e,t);return{key:n,value:{config:o,me:l,configAsRaw:Ve((function(){return Po(n+"-config",e,t)})),initialConfig:t,state:a}}},schema:v(t),exhibit:function(e,t){return Ce(u(e),ye(o,"exhibit"),(function(e,n){return n(t,e.config,e.state)})).getOrThunk((function(){return ma({})}))},name:v(n),handlers:function(e){return u(e).map((function(e){return ye(o,"events").getOr((function(){return{}}))(e.config,e.state)})).getOr({})}});return l},ss=function(e){return gr(e)},cs=po([zo("fields"),zo("name"),nr("active",{}),nr("apis",{}),nr("state",la),nr("extra",{})]),ls=function(e){var t=Po("Creating behaviour: "+e.name,cs,e);return function(e,t,n,o,r,i){var a,u,s=po(e),c=tr(t,[(a="config",u=e,Ko(a,po(u)))]);return us(s,c,t,n,o,r,i)}(t.fields,t.name,t.active,t.apis,t.extra,t.state)},ds=po([zo("branchKey"),zo("branches"),zo("name"),nr("active",{}),nr("apis",{}),nr("state",la),nr("extra",{})]),fs=function(e){var t=Po("Creating behaviour: "+e.name,ds,e);return function(e,t,n,o,r,i){var a=e,u=tr(t,[Ko("config",e)]);return us(a,u,t,n,o,r,i)}(Lo(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},ms=v(void 0),ps=ls({fields:os,name:"receiving",active:ns}),hs=Object.freeze({__proto__:null,exhibit:function(e,t){return ma({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}}),gs=function(){return Pe.fromDom(document)},vs=function(e){return e.dom.focus()},bs=function(e){var t=Ct(e).dom;return e.dom===t.activeElement},ys=function(e){return void 0===e&&(e=gs()),P.from(e.dom.activeElement).map(Pe.fromDom)},ws=function(e){return ys(Ct(e)).filter((function(t){return e.dom.contains(t.dom)}))},xs=function(e,t){var n=Ct(t),o=ys(n).bind((function(e){var n,o,r=function(t){return st(e,t)};return r(t)?P.some(t):(n=r,(o=function(e){for(var t=0;t<e.childNodes.length;t++){var r=Pe.fromDom(e.childNodes[t]);if(n(r))return P.some(r);var i=o(e.childNodes[t]);if(i.isSome())return i}return P.none()})(t.dom))})),r=e(t);return o.each((function(e){ys(n).filter((function(t){return st(t,e)})).fold((function(){vs(e)}),h)})),r},Ss=function(e,t,n,o,r){var i=function(e){return e+"px"};return{position:e,left:t.map(i),top:n.map(i),right:o.map(i),bottom:r.map(i)}},As=function(e,t){Ht(e,function(e){return _(_({},e),{position:P.some(e.position)})}(t))},Cs=fr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),ks=function(e,t,n,o,r,i){var a=t.rect,u=a.x-n,s=a.y-o,c=r-(u+a.width),l=i-(s+a.height),d=P.some(u),f=P.some(s),m=P.some(c),p=P.some(l),h=P.none();return function(e,t,n,o,r,i,a,u,s){return e.fold(t,n,o,r,i,a,u,s)}(t.direction,(function(){return Ss(e,d,f,h,h)}),(function(){return Ss(e,h,f,m,h)}),(function(){return Ss(e,d,h,h,p)}),(function(){return Ss(e,h,h,m,p)}),(function(){return Ss(e,d,f,h,h)}),(function(){return Ss(e,d,h,h,p)}),(function(){return Ss(e,d,f,h,h)}),(function(){return Ss(e,h,f,m,h)}))},_s=function(e,t){return e.fold((function(){var e=t.rect;return Ss("absolute",P.some(e.x),P.some(e.y),P.none(),P.none())}),(function(e,n,o,r){return ks("absolute",t,e,n,o,r)}),(function(e,n,o,r){return ks("fixed",t,e,n,o,r)}))},Os=function(e,t){var n=w(On,t),o=e.fold(n,n,(function(){var e=xn();return On(t).translate(-e.left,-e.top)})),r=cn(t),i=en(t);return In(o.left,o.top,r,i)},Is=function(e,t){return t.fold((function(){return e.fold(Dn,Dn,In)}),(function(t){return e.fold(t,t,(function(){var n=t(),o=Ts(e,n.x,n.y);return In(o.left,o.top,n.width,n.height)}))}))},Ts=function(e,t,n){var o=nn(t,n);return e.fold(v(o),v(o),(function(){var e=xn();return o.translate(-e.left,-e.top)}))};Cs.none;var Es,Ds=Cs.relative,Rs=Cs.fixed,Ms=function(e,t){return function(e,t){return{anchorBox:e,origin:t}}(e,t)},Ps=function(e){return Lt(e,"data-alloy-placement")},Bs=fr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ls=function(e,t,n,o){var r=e.bubble,i=r.offset,a=function(e,t,n){var o=function(o,r){return t[o].map((function(t){var i="top"===o||"bottom"===o,a=i?n.top:n.left,u=("left"===o||"top"===o?Math.max:Math.min)(t,r)+a;return i?Pu(u,e.y,e.bottom):Pu(u,e.x,e.right)})).getOr(r)},r=o("left",e.x),i=o("top",e.y),a=o("right",e.right),u=o("bottom",e.bottom);return In(r,i,a-r,u-i)}(o,e.restriction,i),u=e.x+i.left,s=e.y+i.top,c=In(u,s,t,n),l=function(e,t){var n=t.x,o=t.y,r=t.right,i=t.bottom,a=e.x,u=e.y,s=e.right,c=e.bottom,l=e.width,d=e.height;return{originInBounds:a>=n&&a<=r&&(u>=o&&u<=i),sizeInBounds:s<=r&&s>=n&&(c<=i&&c>=o),visibleW:Math.min(l,a>=n?r-a:s-n),visibleH:Math.min(d,u>=o?i-u:c-o)}}(c,a),d=l.originInBounds,f=l.sizeInBounds,m=l.visibleW,p=l.visibleH,h=d&&f,g=h?c:function(e,t){var n=t.x,o=t.y,r=t.right,i=t.bottom,a=e.x,u=e.y,s=e.width,c=e.height,l=Math.max(n,r-s),d=Math.max(o,i-c),f=Pu(a,n,l),m=Pu(u,o,d),p=Math.min(f+s,r)-f,h=Math.min(m+c,i)-m;return In(f,m,p,h)}(c,a),b=g.width>0&&g.height>0,y=function(e,t,n){var o=v(t.bottom-n.y),r=v(n.bottom-t.y),i=function(e,t,n,o){return e.fold(t,t,o,o,t,o,n,n)}(e,r,r,o),a=v(t.right-n.x),u=v(n.right-t.x);return{maxWidth:function(e,t,n,o){return e.fold(t,o,t,o,n,n,t,o)}(e,u,u,a),maxHeight:i}}(e.direction,g,o),w=y.maxWidth,x={rect:g,maxHeight:y.maxHeight,maxWidth:w,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:s};return h||e.alwaysFit?Bs.fit(x):Bs.nofit(x,m,p,b)},Fs=function(e){var t=dr(P.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(P.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(P.some(e))}}},Ns=function(){return Fs((function(e){return e.destroy()}))},js=function(){return Fs((function(e){return e.unbind()}))},zs=function(){var e=Fs(h);return _(_({},e),{on:function(t){return e.get().each(t)}})},Us=C,Vs=function(e,t,n){return function(e,t,n,o){return dn(e,t,n,o,!1)}(e,t,Us,n)},Hs=function(e,t,n){return function(e,t,n,o){return dn(e,t,n,o,!0)}(e,t,Us,n)},Ws=ln,Gs=["top","bottom","right","left"],qs="data-alloy-transition-timer",Ys=function(e,t){return function(e,t){return Z(t,(function(t){return Ea(e,t)}))}(e,t.classes)},Qs=function(e,t){var n=function(e){return parseFloat(e).toFixed(3)};return ve(t,(function(t,o){var r,i,a,u=e[o].map(n),s=t.map(n);return void 0===a&&(a=y),!Ce(r=u,i=s,a).getOr(r.isNone()&&i.isNone())})).isSome()},$s=function(e,t){var n,o=js(),i=js(),a=function(t){var n,o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return st(t.target,e)&&!De(o)&&j(Gs,t.raw.propertyName)},u=function(r){if(l(r)||a(r)){o.clear(),i.clear();var u=null==r?void 0:r.raw.type;(l(u)||u===Hr())&&(clearTimeout(n),Nt(e,qs),Ra(e,t.classes))}},s=function(){o.set(Vs(e,Hr(),u)),i.set(Vs(e,Vr(),u))};if("ontransitionstart"in e.dom)var c=Vs(e,Wr(),(function(e){a(e)&&(c.unbind(),s())}));else s();var d=function(e){var t=function(t){var n=Wt(e,t),o=r(n)?n.split(/\s*,\s*/):[];return q(o,De)},n=function(e){if(r(e)&&/^[\d.]+/.test(e)){var t=parseFloat(e);return Te(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),i=t("transition-duration");return Q(i,(function(e,t,r){var i=n(o[r])+n(t);return Math.max(e,i)}),0)}(e);requestAnimationFrame((function(){n=setTimeout(u,d+17),Mt(e,qs,n)}))},Ks=function(e,t,n,o,r,i){var a=function(e,t,n){return n.exists((function(n){var o=e.mode;return"all"===o||n[o]!==t[o]}))}(o,r,i);if(a||Ys(e,o)){Ut(e,"position",n.position);var u=Os(t,e),s=_s(t,_(_({},r),{rect:u})),c=ne(Gs,(function(e){return s[e]}));Qs(n,c)&&(Ht(e,c),a&&function(e,t){Da(e,t.classes),Lt(e,qs).each((function(t){clearTimeout(parseInt(t,10)),Nt(e,qs)})),$s(e,t)}(e,o),Kt(e))}else Ra(e,o.classes)},Xs=function(e,t,n,o){$t(t,"max-height"),$t(t,"max-width");var r,i={width:cn(r=t),height:en(r)};return function(e,t,n,o,r,i){var a=o.width,u=o.height,s=function(t,s,c,l,d){var f=t(n,o,r,e,i),m=Ls(f,a,u,i);return m.fold(v(m),(function(e,t,n,o){return(d===o?n>l||t>c:!d&&o)?m:Bs.nofit(s,c,l,d)}))};return Q(t,(function(e,t){var n=w(s,t);return e.fold(v(e),n)}),Bs.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:ku(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(b,b)}(t,o.preference,e,i,n,o.bounds)},Js=function(e,t){!function(e,t){Mt(e,"data-alloy-placement",t)}(e,t.placement)},Zs=function(e,t){!function(e,t){var n=Jt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ut(e,"max-height",n+"px")}(e,Math.floor(t))},ec=v((function(e,t){Zs(e,t),Vt(e,{"overflow-x":"hidden","overflow-y":"auto"})})),tc=v((function(e,t){Zs(e,t)})),nc=function(e,t,n){return void 0===e[t]?n:e[t]},oc=function(e,t,n,o){var r=Xs(e,t,n,o);return function(e,t,n){var o=_s(n.origin,t);n.transition.each((function(r){Ks(e,n.origin,o,r,t,n.lastPlacement)})),As(e,o)}(t,r,o),Js(t,r),function(e,t){var n=t.classes;Ra(e,n.off),Da(e,n.on)}(t,r),function(e,t,n){(0,n.maxHeightFunction)(e,t.maxHeight)}(t,r,o),function(e,t,n){(0,n.maxWidthFunction)(e,t.maxWidth)}(t,r,o),{layout:r.layout,placement:r.placement}},rc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ic=function(e,t,n,o){void 0===o&&(o=1);var r=e*o,i=t*o,a=function(e){return ye(n,e).getOr([])},u=function(e,t,n){var o=te(rc,n);return{offset:nn(e,t),classesOn:J(n,a),classesOff:J(o,a)}};return{southeast:function(){return u(-e,t,["top","alignLeft"])},southwest:function(){return u(e,t,["top","alignRight"])},south:function(){return u(-e/2,t,["top","alignCentre"])},northeast:function(){return u(-e,-t,["bottom","alignLeft"])},northwest:function(){return u(e,-t,["bottom","alignRight"])},north:function(){return u(-e/2,-t,["bottom","alignCentre"])},east:function(){return u(e,-t/2,["valignCentre","left"])},west:function(){return u(-e,-t/2,["valignCentre","right"])},insetNortheast:function(){return u(r,i,["top","alignLeft","inset"])},insetNorthwest:function(){return u(-r,i,["top","alignRight","inset"])},insetNorth:function(){return u(-r/2,i,["top","alignCentre","inset"])},insetSoutheast:function(){return u(r,-i,["bottom","alignLeft","inset"])},insetSouthwest:function(){return u(-r,-i,["bottom","alignRight","inset"])},insetSouth:function(){return u(-r/2,-i,["bottom","alignCentre","inset"])},insetEast:function(){return u(-r,-i/2,["valignCentre","right","inset"])},insetWest:function(){return u(r,-i/2,["valignCentre","left","inset"])}}},ac=function(){return ic(0,0,{})},uc=b,sc=function(e,t){return function(n){return"rtl"===cc(n)?t:e}},cc=function(e){return"rtl"===Wt(e,"direction")?"rtl":"ltr"};!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(Es||(Es={}));var lc="data-alloy-vertical-dir",dc=function(e){return Ka(e,(function(e){return Ne(e)&&Bt(e,"data-alloy-vertical-dir")===Es.BottomToTop}))},fc=function(){return tr("layouts",[zo("onLtr"),zo("onRtl"),$o("onBottomLtr"),$o("onBottomRtl")])},mc=function(e,t,n,o,r,i,a){var u=a.map(dc).getOr(!1),s=t.layouts.map((function(t){return t.onLtr(e)})),c=t.layouts.map((function(t){return t.onRtl(e)})),l=u?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(s).getOr(r):s.getOr(n),d=u?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(c).getOr(i):c.getOr(o);return sc(l,d)(e)},pc=[zo("hotspot"),$o("bubble"),nr("overrides",{}),fc(),wu("placement",(function(e,t,n){var o=t.hotspot,r=Os(n,o.element),i=mc(e.element,t,es(),ts(),Ju(),Zu(),P.some(t.hotspot.element));return P.some(uc({anchorBox:r,bubble:t.bubble.getOr(ac()),overrides:t.overrides,layouts:i,placer:P.none()}))}))],hc=[zo("x"),zo("y"),nr("height",0),nr("width",0),nr("bubble",ac()),nr("overrides",{}),fc(),wu("placement",(function(e,t,n){var o=Ts(n,t.x,t.y),r=In(o.left,o.top,t.width,t.height),i=mc(e.element,t,Ku(),Xu(),Ku(),Xu(),P.none());return P.some(uc({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:P.none()}))}))],gc=fr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),vc=function(e){return e.fold(b,(function(e,t,n){return e.translate(-t,-n)}))},bc=function(e){return e.fold(b,b)},yc=function(e){return Q(e,(function(e,t){return e.translate(t.left,t.top)}),nn(0,0))},wc=function(e){var t=H(e,bc);return yc(t)},xc=gc.screen,Sc=gc.absolute,Ac=function(e,t,n){var o=dt(e.element),r=xn(o),i=function(e,t,n){var o=pt(n.root).dom;return P.from(o.frameElement).map(Pe.fromDom).filter((function(t){var n=dt(t),o=dt(e.element);return st(n,o)})).map(rn)}(e,0,n).getOr(r);return Sc(i,r.left,r.top)},Cc=function(e,t,n,o){var r=xc(nn(e,t));return P.some(function(e,t,n){return{point:e,width:t,height:n}}(r,n,o))},kc=function(e,t,n,o,r){return e.map((function(e){var i,a,u,s=[t,e.point],c=(i=function(){return wc(s)},a=function(){return wc(s)},u=function(){return function(e){var t=H(e,vc);return yc(t)}(s)},o.fold(i,a,u)),l=function(e,t,n,o){return{x:e,y:t,width:n,height:o}}(c.left,c.top,e.width,e.height),d=n.showAbove?Ju():es(),f=n.showAbove?Zu():ts(),m=mc(r,n,d,f,d,f,P.none());return uc({anchorBox:l,bubble:n.bubble.getOr(ac()),overrides:n.overrides,layouts:m,placer:P.none()})}))},_c=[zo("node"),zo("root"),$o("bubble"),fc(),nr("overrides",{}),nr("showAbove",!1),wu("placement",(function(e,t,n){var o=Ac(e,0,t);return t.node.filter(Tt).bind((function(r){var i=r.dom.getBoundingClientRect(),a=Cc(i.left,i.top,i.width,i.height),u=t.node.getOr(e.element);return kc(a,o,t,n,u)}))}))],Oc=function(e,t,n,o){return{start:e,soffset:t,finish:n,foffset:o}},Ic=fr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Tc=(Ic.before,Ic.on,Ic.after,function(e){return e.fold(b,b,b)}),Ec=fr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Dc={domRange:Ec.domRange,relative:Ec.relative,exact:Ec.exact,exactFromRange:function(e){return Ec.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return Pe.fromDom(e.startContainer)},relative:function(e,t){return Tc(e)},exact:function(e,t,n,o){return e}})}(e);return pt(t)},range:Oc},Rc=function(e,t,n){var o,r=e.document.createRange();return o=r,t.fold((function(e){o.setStartBefore(e.dom)}),(function(e,t){o.setStart(e.dom,t)}),(function(e){o.setStartAfter(e.dom)})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}(r,n),r},Mc=function(e,t,n,o,r){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},Pc=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},Bc=fr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Lc=function(e,t,n){return t(Pe.fromDom(n.startContainer),n.startOffset,Pe.fromDom(n.endContainer),n.endOffset)},Fc=function(e,t){return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Bc.rtl(Pe.fromDom(e.endContainer),e.endOffset,Pe.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Lc(0,Bc.ltr,n)})):Lc(0,Bc.ltr,n)}(0,function(e,t){return t.match({domRange:function(e){return{ltr:v(e),rtl:P.none}},relative:function(t,n){return{ltr:Ve((function(){return Rc(e,t,n)})),rtl:Ve((function(){return P.some(Rc(e,n,t))}))}},exact:function(t,n,o,r){return{ltr:Ve((function(){return Mc(e,t,n,o,r)})),rtl:Ve((function(){return P.some(Mc(e,o,r,t,n))}))}}})}(e,t))},Nc=function(e,t){return Fc(e,t).match({ltr:function(t,n,o,r){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},rtl:function(t,n,o,r){var i=e.document.createRange();return i.setStart(o.dom,r),i.setEnd(t.dom,n),i}})};Bc.ltr,Bc.rtl;var jc,zc=function(e,t){var n=function(t){return e(t)?P.from(t.dom.nodeValue):P.none()};return{get:function(o){if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:function(n,o){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}}(je,"text"),Uc=function(e){return zc.getOption(e)},Vc=["img","br"],Hc=function(e){return Uc(e).filter((function(e){return 0!==e.trim().length||e.indexOf(" ")>-1})).isSome()||j(Vc,Le(e))},Wc=function(e,t){var n=function(e){for(var o=vt(e),r=o.length-1;r>=0;r--){var i=o[r];if(t(i))return P.some(i);var a=n(i);if(a.isSome())return a}return P.none()};return n(e)},Gc=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return ut(n)?[]:H(n.querySelectorAll(e),Pe.fromDom)}(t,e)},qc=function(e,t,n,o){var r=function(e,t,n,o){var r=dt(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r}(e,t,n,o),i=st(e,n)&&t===o;return r.collapsed&&!i},Yc=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return P.some(Oc(Pe.fromDom(t.startContainer),t.startOffset,Pe.fromDom(n.endContainer),n.endOffset))}return P.none()},Qc=function(e){if(null===e.anchorNode||null===e.focusNode)return Yc(e);var t=Pe.fromDom(e.anchorNode),n=Pe.fromDom(e.focusNode);return qc(t,e.anchorOffset,n,e.focusOffset)?P.some(Oc(t,e.anchorOffset,n,e.focusOffset)):Yc(e)},$c=function(e){return function(e){return P.from(e.getSelection())}(e).filter((function(e){return e.rangeCount>0})).bind(Qc)},Kc=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?P.some(n).map(Pc):P.none()}(Nc(e,t))},Xc=function(e,t){return function(e){var t=e.getBoundingClientRect();return t.width>0||t.height>0?P.some(t).map(Pc):P.none()}(Nc(e,t))},Jc=function(e,t){return{element:e,offset:t}},Zc=function(e,t){var n=vt(e);if(0===n.length)return Jc(e,t);if(t<n.length)return Jc(n[t],0);var o=n[n.length-1],r=je(o)?function(e){return zc.get(e)}(o).length:vt(o).length;return Jc(o,r)},el=function(e,t){return je(e)?Jc(e,t):Zc(e,t)},tl=function(e,t){return t.getSelection.getOrThunk((function(){return function(){return $c(e)}}))().map((function(e){var t=el(e.start,e.soffset),n=el(e.finish,e.foffset);return Dc.range(t.element,t.offset,n.element,n.offset)}))},nl=[$o("getSelection"),zo("root"),$o("bubble"),fc(),nr("overrides",{}),nr("showAbove",!1),wu("placement",(function(e,t,n){var o=pt(t.root).dom,r=Ac(e,0,t),i=tl(o,t).bind((function(e){return Xc(o,Dc.exactFromRange(e)).orThunk((function(){var t=Pe.fromText("\ufeff");mn(e.start,t);var n=Kc(o,Dc.exact(t,0,t,1));return yn(t),n})).bind((function(e){return Cc(e.left,e.top,e.width,e.height)}))})),a=tl(o,t).bind((function(e){return Ne(e.start)?P.some(e.start):function(e){return ht(e)}(e.start)})).getOr(e.element);return kc(i,r,t,n,a)}))],ol=function(e){return e.x+e.width},rl=function(e,t){return e.x-t.width},il=function(e,t){return e.y-t.height+e.height},al=function(e){return e.y},ul=function(e,t,n){return Au(ol(e),al(e),n.southeast(),ku(),"southeast",Bu(e,{left:0,top:2}),"link-layout")},sl=function(e,t,n){return Au(rl(e,t),al(e),n.southwest(),_u(),"southwest",Bu(e,{right:1,top:2}),"link-layout")},cl=function(e,t,n){return Au(ol(e),il(e,t),n.northeast(),Ou(),"northeast",Bu(e,{left:0,bottom:3}),"link-layout")},ll=function(e,t,n){return Au(rl(e,t),il(e,t),n.northwest(),Iu(),"northwest",Bu(e,{right:1,bottom:3}),"link-layout")},dl=function(){return[ul,sl,cl,ll]},fl=function(){return[sl,ul,ll,cl]},ml=[zo("item"),fc(),nr("overrides",{}),wu("placement",(function(e,t,n){var o=Os(n,t.item.element),r=mc(e.element,t,dl(),fl(),dl(),fl(),P.none());return P.some(uc({anchorBox:o,bubble:ac(),overrides:t.overrides,layouts:r,placer:P.none()}))}))],pl=Lo("type",{selection:nl,node:_c,hotspot:pc,submenu:ml,makeshift:hc}),hl=[Qo("classes",Ao),ar("mode","all",["all","layout","placement"])],gl=[nr("useFixed",A),$o("getBounds")],vl=[Uo("anchor",pl),tr("transition",hl)],bl=function(e,t,n,o,r,i,a){return function(e,t,n,o,r,i,a,u){var s=nc(a,"maxHeightFunction",ec()),c=nc(a,"maxWidthFunction",h),l=e.anchorBox,d=e.origin,f={bounds:Is(d,i),origin:d,preference:o,maxHeightFunction:s,maxWidthFunction:c,lastPlacement:r,transition:u};return oc(l,t,n,f)}(Ms(n.anchorBox,t),r.element,n.bubble,n.layouts,i,o,n.overrides,a)},yl=function(e,t,n,o,r,i){var a=i.map(Tn);return wl(e,t,n,o,r,a)},wl=function(e,t,n,o,r,i){var a=Po("placement.info",ho(vl),r),u=a.anchor,s=o.element,c=n.get(o.uid);xs((function(){Ut(s,"position","fixed");var r=qt(s,"visibility");Ut(s,"visibility","hidden");var l=t.useFixed()?function(){var e=document.documentElement;return Rs(0,0,e.clientWidth,e.clientHeight)}():function(e){var t=rn(e.element),n=e.element.dom.getBoundingClientRect();return Ds(t.left,t.top,n.width,n.height)}(e),d=u.placement,f=i.map(v).or(t.getBounds);d(e,u,l).each((function(t){var r=t.placer.getOr(bl)(e,l,t,f,o,c,a.transition);n.set(o.uid,r)})),r.fold((function(){$t(s,"visibility")}),(function(e){Ut(s,"visibility",e)})),qt(s,"left").isNone()&&qt(s,"top").isNone()&&qt(s,"right").isNone()&&qt(s,"bottom").isNone()&&Se(qt(s,"position"),"fixed")&&$t(s,"position")}),s)},xl=Object.freeze({__proto__:null,position:function(e,t,n,o,r){yl(e,t,n,o,r,P.none())},positionWithin:yl,positionWithinBounds:wl,getMode:function(e,t,n){return t.useFixed()?"fixed":"absolute"},reset:function(e,t,n,o){var r=o.element;W(["position","left","right","top","bottom"],(function(e){return $t(r,e)})),function(e){Nt(e,"data-alloy-placement")}(r),n.clear(o.uid)}}),Sl=Object.freeze({__proto__:null,init:function(){var e={};return da({readState:function(){return e},clear:function(t){d(t)?delete e[t]:e={}},set:function(t,n){e[t]=n},get:function(t){return ye(e,t)}})}}),Al=ls({fields:gl,name:"positioning",active:hs,apis:xl,state:Sl}),Cl=function(e){yi(e,li());var t=e.components();W(t,Cl)},kl=function(e){var t=e.components();W(t,kl),yi(e,ci())},_l=function(e,t){gn(e.element,t.element)},Ol=function(e,t){var n=e.components();!function(e){W(e.components(),(function(e){return yn(e.element)})),bn(e.element),e.syncComponents()}(e);var o=te(n,t);W(o,(function(t){Cl(t),e.getSystem().removeFromWorld(t)})),W(t,(function(t){t.getSystem().isConnected()?_l(e,t):(e.getSystem().addToWorld(t),_l(e,t),Tt(e.element)&&kl(t)),e.syncComponents()}))},Il=function(e,t){Tl(e,t,gn)},Tl=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),Tt(e.element)&&kl(t),e.syncComponents()},El=function(e){Cl(e),yn(e.element),e.getSystem().removeFromWorld(e)},Dl=function(e){var t=ht(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));El(e),t.each((function(e){e.syncComponents()}))},Rl=function(e){var t=e.components();W(t,El),bn(e.element),e.syncComponents()},Ml=function(e,t){Pl(e,t,gn)},Pl=function(e,t,n){n(e,t.element);var o=vt(t.element);W(o,(function(e){t.getByDom(e).each(kl)}))},Bl=function(e){var t=vt(e.element);W(t,(function(t){e.getByDom(t).each(Cl)})),yn(e.element)},Ll=function(e,t,n,o){n.get().each((function(t){Rl(e)}));var r=t.getAttachPoint(e);Il(r,e);var i=e.getSystem().build(o);return Il(e,i),n.set(i),i},Fl=function(e,t,n,o){var r=Ll(e,t,n,o);return t.onOpen(e,r),r},Nl=function(e,t,n){n.get().each((function(o){Rl(e),Dl(e),t.onClose(e,o),n.clear()}))},jl=function(e,t,n){return n.isOpen()},zl=function(e,t,n){var o=t.getAttachPoint(e);Ut(e.element,"position",Al.getMode(o)),function(e,t,n,o){qt(e.element,t).fold((function(){Nt(e.element,n)}),(function(t){Mt(e.element,n,t)})),Ut(e.element,t,o)}(e,"visibility",t.cloakVisibilityAttr,"hidden")},Ul=function(e,t,n){(function(e){return z(["top","left","right","bottom"],(function(t){return qt(e,t).isSome()}))})(e.element)||$t(e.element,"position"),function(e,t,n){Lt(e.element,n).fold((function(){return $t(e.element,t)}),(function(n){return Ut(e.element,t,n)}))}(e,"visibility",t.cloakVisibilityAttr)},Vl=Object.freeze({__proto__:null,cloak:zl,decloak:Ul,open:Fl,openWhileCloaked:function(e,t,n,o,r){zl(e,t),Fl(e,t,n,o),r(),Ul(e,t)},close:Nl,isOpen:jl,isPartOf:function(e,t,n,o){return jl(0,0,n)&&n.get().exists((function(n){return t.isPartOf(e,n,o)}))},getState:function(e,t,n){return n.get()},setContent:function(e,t,n,o){return n.get().map((function(){return Ll(e,t,n,o)}))}}),Hl=Object.freeze({__proto__:null,events:function(e,t){return ki([Ii(ni(),(function(n,o){Nl(n,e,t)}))])}}),Wl=[gu("onOpen"),gu("onClose"),zo("isPartOf"),zo("getAttachPoint"),nr("cloakVisibilityAttr","data-precloak-visibility")],Gl=ls({fields:Wl,name:"sandboxing",active:Hl,apis:Vl,state:Object.freeze({__proto__:null,init:function(){var e=zs(),t=v("not-implemented");return da({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})}),ql=v("dismiss.popups"),Yl=v("reposition.popups"),Ql=v("mouse.released"),$l=po([nr("isExtraPart",A),tr("fireEventInstead",[nr("event",di())])]),Kl=function(e){var t,n=Po("Dismissal",$l,e);return(t={})[ql()]={schema:po([zo("target")]),onReceive:function(e,t){Gl.isOpen(e)&&(Gl.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold((function(){return Gl.close(e)}),(function(t){return yi(e,t.event)})))}},t},Xl=po([tr("fireEventInstead",[nr("event",fi())]),Go("doReposition")]),Jl=function(e){var t,n=Po("Reposition",Xl,e);return(t={})[Yl()]={onReceive:function(e){Gl.isOpen(e)&&n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return yi(e,t.event)}))}},t},Zl=function(e,t,n){t.store.manager.onLoad(e,t,n)},ed=function(e,t,n){t.store.manager.onUnload(e,t,n)},td=Object.freeze({__proto__:null,onLoad:Zl,onUnload:ed,setValue:function(e,t,n,o){t.store.manager.setValue(e,t,n,o)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),nd=Object.freeze({__proto__:null,events:function(e,t){var n=e.resetOnDom?[Li((function(n,o){Zl(n,e,t)})),Fi((function(n,o){ed(n,e,t)}))]:[rs(e,t,Zl)];return ki(n)}}),od=function(){var e=dr(null);return da({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})},rd=function(){var e=dr({}),t=dr({});return da({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return ye(e.get(),n).orThunk((function(){return ye(t.get(),n)}))},update:function(n){var o=e.get(),r=t.get(),i={},a={};W(n,(function(e){i[e.value]=e,ye(e,"meta").each((function(t){ye(t,"text").each((function(t){a[t]=e}))}))})),e.set(_(_({},o),i)),t.set(_(_({},r),a))},clear:function(){e.set({}),t.set({})}})},id=Object.freeze({__proto__:null,memory:od,dataset:rd,manual:function(){return da({readState:h})},init:function(e){return e.store.manager.state(e)}}),ad=function(e,t,n,o){var r=t.store;n.update([o]),r.setValue(e,o),t.onSetValue(e,o)},ud=[$o("initialValue"),zo("getFallbackEntry"),zo("getDataKey"),zo("setValue"),wu("manager",{setValue:ad,getValue:function(e,t,n){var o=t.store,r=o.getDataKey(e);return n.lookup(r).getOrThunk((function(){return o.getFallbackEntry(r)}))},onLoad:function(e,t,n){t.store.initialValue.each((function(o){ad(e,t,n,o)}))},onUnload:function(e,t,n){n.clear()},state:rd})],sd=[zo("getValue"),nr("setValue",h),$o("initialValue"),wu("manager",{setValue:function(e,t,n,o){t.store.setValue(e,o),t.onSetValue(e,o)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},onUnload:h,state:la.init})],cd=[$o("initialValue"),wu("manager",{setValue:function(e,t,n,o){n.set(o),t.onSetValue(e,o)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},onUnload:function(e,t,n){n.clear()},state:od})],ld=[or("store",{mode:"memory"},Lo("mode",{memory:cd,manual:sd,dataset:ud})),gu("onSetValue"),nr("resetOnDom",!1)],dd=ls({fields:ld,name:"representing",active:nd,apis:td,extra:{setValueFrom:function(e,t){var n=dd.getValue(t);dd.setValue(e,n)}},state:id}),fd=function(e,t){return lr(e,{},H(t,(function(t){return n=t.name(),o="Cannot configure "+t.name()+" for "+e,Fo(n,n,{tag:"option",process:{}},ao((function(e){return Vn("The field: "+n+" is forbidden. "+o)})));var n,o})).concat([No("dump",b)]))},md=function(e){return e.dump},pd=function(e,t){return _(_({},ss(t)),e.dump)},hd=fd,gd=pd,vd=fr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),bd=function(e){return we(e,"uiType")},yd=function(e,t,n,o){return bd(n)&&"placeholder"===n.uiType?function(e,t,n,o){return e.exists((function(e){return e!==n.owner}))?vd.single(!0,v(n)):ye(o,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+le(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))}(e,0,n,o):vd.single(!1,v(n))},wd=function(e,t,n,o){return yd(e,0,n,o).fold((function(r,i){var a=bd(n)?i(t,n.config,n.validated):i(t),u=ye(a,"components").getOr([]),s=J(u,(function(n){return wd(e,t,n,o)}));return[_(_({},a),{components:s})]}),(function(e,o){if(bd(n)){var r=o(t,n.config,n.validated);return n.validated.preprocess.getOr(b)(r)}return o(t)}))},xd=function(e,t,n,o){var r=me(o,(function(e,t){return o=e,r=!1,{name:v(n=t),required:function(){return o.fold((function(e,t){return e}),(function(e,t){return e}))},used:function(){return r},replace:function(){if(r)throw new Error("Trying to use the same placeholder more than once: "+n);return r=!0,o}};var n,o,r})),i=function(e,t,n,o){return J(n,(function(n){return wd(e,t,n,o)}))}(e,t,n,r);return fe(r,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i},Sd=vd.single,Ad=vd.multiple,Cd=v("placeholder"),kd=fr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),_d=nr("factory",{sketch:b}),Od=nr("schema",[]),Id=zo("name"),Td=Fo("pname","pname",Zn((function(e){return"<alloy."+Qi(e.name)+">"})),wo()),Ed=No("schema",(function(){return[$o("preprocess")]})),Dd=nr("defaults",v({})),Rd=nr("overrides",v({})),Md=ho([_d,Od,Id,Td,Dd,Rd]),Pd=ho([_d,Od,Id,Dd,Rd]),Bd=ho([_d,Od,Id,Td,Dd,Rd]),Ld=ho([_d,Ed,Id,zo("unit"),Td,Dd,Rd]),Fd=function(e){return e.fold(P.some,P.none,P.some,P.some)},Nd=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},jd=function(e,t){return function(n){var o=Po("Converting part type",t,n);return e(o)}},zd=jd(kd.required,Md),Ud=jd(kd.external,Pd),Vd=jd(kd.optional,Bd),Hd=jd(kd.group,Ld),Wd=v("entirety"),Gd=Object.freeze({__proto__:null,required:zd,external:Ud,optional:Vd,group:Hd,asNamedPart:Fd,name:Nd,asCommon:function(e){return e.fold(b,b,b,b)},original:Wd}),qd=function(e,t,n,o){return Xn(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o))},Yd=function(e,t){var n={};return W(t,(function(t){Fd(t).each((function(t){var o=Qd(e,t.pname);n[t.name]=function(n){var r=Po("Part: "+t.name+" in "+e,ho(t.schema),n);return _(_({},o),{config:n,validated:r})}}))})),n},Qd=function(e,t){return{uiType:Cd(),owner:e,name:t}},$d=function(e,t,n){return{uiType:Cd(),owner:e,name:t,config:n,validated:{}}},Kd=function(e){return J(e,(function(e){return e.fold(P.none,P.some,P.none,P.none).map((function(e){return qo(e.name,e.schema.concat([xu(Wd())]))})).toArray()}))},Xd=function(e){return H(e,Nd)},Jd=function(e,t,n){return function(e,t,n){var o={},r={};return W(n,(function(e){e.fold((function(e){o[e.pname]=Sd(!0,(function(t,n,o){return e.factory.sketch(qd(t,e,n,o))}))}),(function(e){var n=t.parts[e.name];r[e.name]=v(e.factory.sketch(qd(t,e,n[Wd()]),n))}),(function(e){o[e.pname]=Sd(!1,(function(t,n,o){return e.factory.sketch(qd(t,e,n,o))}))}),(function(e){o[e.pname]=Ad(!0,(function(t,n,o){var r=t[e.name];return H(r,(function(n){return e.factory.sketch(Xn(e.defaults(t,n,o),n,e.overrides(t,n)))}))}))}))})),{internals:v(o),externals:v(r)}}(0,t,n)},Zd=function(e,t,n){return xd(P.some(e),t,t.components,n)},ef=function(e,t,n){var o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},tf=function(e,t,n){return ef(e,t,n).getOrDie("Could not find part: "+n)},nf=function(e,t,n){var o={},r=t.partUids,i=e.getSystem();return W(n,(function(e){o[e]=v(i.getByUid(r[e]))})),o},of=function(e,t){var n=e.getSystem();return me(t.partUids,(function(e,t){return v(n.getByUid(e))}))},rf=function(e){return le(e.partUids)},af=function(e,t,n){var o={},r=t.partUids,i=e.getSystem();return W(n,(function(e){o[e]=v(i.getByUid(r[e]).getOrDie())})),o},uf=function(e,t){var n=Xd(t);return gr(H(n,(function(t){return{key:t,value:e+"-"+t}})))},sf=function(e){return Fo("partUids","partUids",to((function(t){return uf(t.uid,e)})),wo())},cf=Object.freeze({__proto__:null,generate:Yd,generateOne:$d,schemas:Kd,names:Xd,substitutes:Jd,components:Zd,defaultUids:uf,defaultUidsSchema:sf,getAllParts:of,getAllPartNames:rf,getPart:ef,getPartOrDie:tf,getParts:nf,getPartsOrDie:af}),lf=function(e,t,n,o,r){var i=function(e,t){return(e.length>0?[qo("parts",e)]:[]).concat([zo("uid"),nr("dom",{}),nr("components",[]),xu("originalSpec"),nr("debug.sketcher",{})]).concat(t)}(o,r);return Po(e+" [SpecSchema]",po(i.concat(t)),n)},df=function(e,t,n,o,r){var i=ff(r),a=Kd(n),u=sf(n),s=lf(e,t,i,a,[u]),c=Jd(0,s,n);return o(s,Zd(e,s,c.internals()),i,c.externals())},ff=function(e){return function(e){return we(e,"uid")}(e)?e:_(_({},e),{uid:ta("uid")})},mf=po([zo("name"),zo("factory"),zo("configFields"),nr("apis",{}),nr("extraApis",{})]),pf=po([zo("name"),zo("factory"),zo("configFields"),zo("partFields"),nr("apis",{}),nr("extraApis",{})]),hf=function(e){var t=Po("Sketcher for "+e.name,mf,e),n=me(t.apis,ca),o=me(t.extraApis,(function(e,t){return aa(e,t)}));return _(_({name:t.name,configFields:t.configFields,sketch:function(e){return function(e,t,n,o){var r=ff(o);return n(lf(e,t,r,[],[]),r)}(t.name,t.configFields,t.factory,e)}},n),o)},gf=function(e){var t=Po("Sketcher for "+e.name,pf,e),n=Yd(t.name,t.partFields),o=me(t.apis,ca),r=me(t.extraApis,(function(e,t){return aa(e,t)}));return _(_({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:function(e){return df(t.name,t.configFields,t.partFields,t.factory,e)},parts:n},o),r)},vf=function(e){return"input"===Le(e)&&"radio"!==Bt(e,"type")||"textarea"===Le(e)},bf=Object.freeze({__proto__:null,getCurrent:function(e,t,n){return t.find(e)}}),yf=[zo("find")],wf=ls({fields:yf,name:"composing",apis:bf}),xf=["input","button","textarea","select"],Sf=function(e,t,n){(t.disabled()?If:Tf)(e,t)},Af=function(e,t){return!0===t.useNative&&j(xf,Le(e.element))},Cf=function(e){Mt(e.element,"disabled","disabled")},kf=function(e){Nt(e.element,"disabled")},_f=function(e){Mt(e.element,"aria-disabled","true")},Of=function(e){Mt(e.element,"aria-disabled","false")},If=function(e,t,n){t.disableClass.each((function(t){Oa(e.element,t)})),(Af(e,t)?Cf:_f)(e),t.onDisabled(e)},Tf=function(e,t,n){t.disableClass.each((function(t){Ta(e.element,t)})),(Af(e,t)?kf:Of)(e),t.onEnabled(e)},Ef=function(e,t){return Af(e,t)?function(e){return Ft(e.element,"disabled")}(e):function(e){return"true"===Bt(e.element,"aria-disabled")}(e)},Df=Object.freeze({__proto__:null,enable:Tf,disable:If,isDisabled:Ef,onLoad:Sf,set:function(e,t,n,o){(o?If:Tf)(e,t)}}),Rf=Object.freeze({__proto__:null,exhibit:function(e,t){return ma({classes:t.disabled()?t.disableClass.toArray():[]})},events:function(e,t){return ki([_i(Jr(),(function(t,n){return Ef(t,e)})),rs(e,t,Sf)])}}),Mf=[sr("disabled",A),nr("useNative",!0),$o("disableClass"),gu("onDisabled"),gu("onEnabled")],Pf=ls({fields:Mf,name:"disabling",active:Rf,apis:Df}),Bf=function(e,t,n,o){var r=Gc(e.element,"."+t.highlightClass);W(r,(function(n){z(o,(function(e){return e.element===n}))||(Ta(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),yi(n,bi())})))}))},Lf=function(e,t,n,o){Bf(e,t,0,[o]),Ff(e,t,n,o)||(Oa(o.element,t.highlightClass),t.onHighlight(e,o),yi(o,vi()))},Ff=function(e,t,n,o){return Ea(o.element,t.highlightClass)},Nf=function(e,t,n,o){var r=Gc(e.element,"."+t.itemClass);return P.from(r[o]).fold((function(){return Pn.error(new Error("No element found with index "+o))}),e.getSystem().getByDom)},jf=function(e,t,n){return Za(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},zf=function(e,t,n){var o=Gc(e.element,"."+t.itemClass);return(o.length>0?P.some(o[o.length-1]):P.none()).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Uf=function(e,t,n,o){var r=Gc(e.element,"."+t.itemClass);return K(r,(function(e){return Ea(e,t.highlightClass)})).bind((function(t){var n=Mu(t,o,0,r.length-1);return e.getSystem().getByDom(r[n]).toOptional()}))},Vf=function(e,t,n){var o=Gc(e.element,"."+t.itemClass);return Ae(H(o,(function(t){return e.getSystem().getByDom(t).toOptional()})))},Hf=Object.freeze({__proto__:null,dehighlightAll:function(e,t,n){return Bf(e,t,0,[])},dehighlight:function(e,t,n,o){Ff(e,t,n,o)&&(Ta(o.element,t.highlightClass),t.onDehighlight(e,o),yi(o,bi()))},highlight:Lf,highlightFirst:function(e,t,n){jf(e,t).each((function(o){Lf(e,t,n,o)}))},highlightLast:function(e,t,n){zf(e,t).each((function(o){Lf(e,t,n,o)}))},highlightAt:function(e,t,n,o){Nf(e,t,n,o).fold((function(e){throw e}),(function(o){Lf(e,t,n,o)}))},highlightBy:function(e,t,n,o){var r=Vf(e,t);$(r,o).each((function(o){Lf(e,t,n,o)}))},isHighlighted:Ff,getHighlighted:function(e,t,n){return Za(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},getFirst:jf,getLast:zf,getPrevious:function(e,t,n){return Uf(e,t,0,-1)},getNext:function(e,t,n){return Uf(e,t,0,1)},getCandidates:Vf}),Wf=[zo("highlightClass"),zo("itemClass"),gu("onHighlight"),gu("onDehighlight")],Gf=ls({fields:Wf,name:"highlighting",apis:Hf}),qf=[8],Yf=[9],Qf=[13],$f=[27],Kf=[32],Xf=[37],Jf=[38],Zf=[39],em=[40],tm=function(e,t,n){var o=ee(e.slice(0,t)),r=ee(e.slice(t+1));return $(o.concat(r),n)},nm=function(e,t,n){var o=ee(e.slice(0,t));return $(o,n)},om=function(e,t,n){var o=e.slice(0,t),r=e.slice(t+1);return $(r.concat(o),n)},rm=function(e,t,n){var o=e.slice(t+1);return $(o,n)},im=function(e){return function(t){var n=t.raw;return j(e,n.which)}},am=function(e){return function(t){return Z(e,(function(e){return e(t)}))}},um=function(e){return!0===e.raw.shiftKey},sm=function(e){return!0===e.raw.ctrlKey},cm=x(um),lm=function(e,t){return{matches:e,classification:t}},dm=function(e,t,n){t.exists((function(e){return n.exists((function(t){return st(t,e)}))}))||wi(e,mi(),{prevFocus:t,newFocus:n})},fm=function(){var e=function(e){return ws(e.element)};return{get:e,set:function(t,n){var o=e(t);t.getSystem().triggerFocus(n,t.element);var r=e(t);dm(t,o,r)}}},mm=function(){var e=function(e){return Gf.getHighlighted(e).map((function(e){return e.element}))};return{get:e,set:function(t,n){var o=e(t);t.getSystem().getByDom(n).fold(h,(function(e){Gf.highlight(t,e)}));var r=e(t);dm(t,o,r)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(jc||(jc={}));var pm,hm=function(e,t,n,o,r){var i=function(e,t,n,o,r){var i,a,u=n(e,t,o,r);return(i=u,a=t.event,$(i,(function(e){return e.matches(a)})).map((function(e){return e.classification}))).bind((function(n){return n(e,t,o,r)}))},a={schema:function(){return e.concat([nr("focusManager",fm()),or("focusInside","onFocus",Eo((function(e){return j(["onFocus","onEnterOrSpace","onApi"],e)?Pn.value(e):Pn.error("Invalid value for focusInside")}))),wu("handler",a),wu("state",t),wu("sendFocusIn",r)])},processKey:i,toEvents:function(e,t){var a=e.focusInside!==jc.OnFocusMode?P.none():r(e).map((function(n){return Ii(Qr(),(function(o,r){n(o,e,t),r.stop()}))})),u=[Ii(Fr(),(function(o,a){i(o,a,n,e,t).fold((function(){!function(n,o){var i=im(Kf.concat(Qf))(o.event);e.focusInside===jc.OnEnterOrSpaceMode&&i&&xr(n,o)&&r(e).each((function(r){r(n,e,t),o.stop()}))}(o,a)}),(function(e){a.stop()}))})),Ii(Nr(),(function(n,r){i(n,r,o,e,t).each((function(e){r.stop()}))}))];return ki(a.toArray().concat(u))}};return a},gm=function(e){var t=[$o("onEscape"),$o("onEnter"),nr("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),nr("firstTabstop",0),nr("useTabstopAt",C),$o("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return eu(t,e)})).getOr(t);return Zt(n)>0},o=function(e,t,o){(function(e,t){var o=Gc(e.element,t.selector),r=q(o,(function(e){return n(t,e)}));return P.from(r[t.firstTabstop])})(e,t).each((function(n){t.focusManager.set(e,n)}))},r=function(e,t,o,r,i){return i(t,o,(function(e){return function(e,t){return n(e,t)&&e.useTabstopAt(t)}(r,e)})).fold((function(){return r.cyclic?P.some(!0):P.none()}),(function(t){return r.focusManager.set(e,t),P.some(!0)}))},i=function(e,t,n,o){var i=Gc(e.element,n.selector);return function(e,t){return t.focusManager.get(e).bind((function(e){return eu(e,t.selector)}))}(e,n).bind((function(t){return K(i,w(st,t)).bind((function(t){return r(e,i,t,n,o)}))}))},a=v([lm(am([um,im(Yf)]),(function(e,t,n){var o=n.cyclic?tm:nm;return i(e,0,n,o)})),lm(im(Yf),(function(e,t,n){var o=n.cyclic?om:rm;return i(e,0,n,o)})),lm(im($f),(function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))})),lm(am([cm,im(Qf)]),(function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))}))]),u=v([]);return hm(t,la.init,a,u,(function(){return P.some(o)}))},vm=gm(No("cyclic",A)),bm=gm(No("cyclic",C)),ym=function(e,t,n){return vf(n)&&im(Kf)(t.event)?P.none():function(e,t,n){return Si(e,n,Jr()),P.some(!0)}(e,0,n)},wm=function(e,t){return P.some(!0)},xm=[nr("execute",ym),nr("useSpace",!1),nr("useEnter",!0),nr("useControlEnter",!1),nr("useDown",!1)],Sm=function(e,t,n){return n.execute(e,t,e.element)},Am=hm(xm,la.init,(function(e,t,n,o){var r=n.useSpace&&!vf(e.element)?Kf:[],i=n.useEnter?Qf:[],a=n.useDown?em:[],u=r.concat(i).concat(a);return[lm(im(u),Sm)].concat(n.useControlEnter?[lm(am([sm,im(Qf)]),Sm)]:[])}),(function(e,t,n,o){return n.useSpace&&!vf(e.element)?[lm(im(Kf),wm)]:[]}),(function(){return P.none()})),Cm=function(){var e=zs();return da({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(t,n){e.set({numRows:t,numColumns:n})},getNumRows:function(){return e.get().map((function(e){return e.numRows}))},getNumColumns:function(){return e.get().map((function(e){return e.numColumns}))}})},km=Object.freeze({__proto__:null,flatgrid:Cm,init:function(e){return e.state(e)}}),_m=function(e){return function(t,n,o,r){var i=e(t.element);return Em(i,t,n,o,r)}},Om=function(e,t){var n=sc(e,t);return _m(n)},Im=function(e,t){var n=sc(t,e);return _m(n)},Tm=function(e){return function(t,n,o,r){return Em(e,t,n,o,r)}},Em=function(e,t,n,o,r){return o.focusManager.get(t).bind((function(n){return e(t.element,n,o,r)})).map((function(e){return o.focusManager.set(t,e),!0}))},Dm=Tm,Rm=Tm,Mm=Tm,Pm=function(e){return!function(e){return e.offsetWidth<=0&&e.offsetHeight<=0}(e.dom)},Bm=function(e,t,n){var o=Gc(e,n);return function(e,t){return K(e,t).map((function(t){return{index:t,candidates:e}}))}(q(o,Pm),(function(e){return st(e,t)}))},Lm=function(e,t){return K(e,(function(e){return st(t,e)}))},Fm=function(e,t,n,o){return o(Math.floor(t/n),t%n).bind((function(t){var o=t.row*n+t.column;return o>=0&&o<e.length?P.some(e[o]):P.none()}))},Nm=function(e,t,n,o,r){return Fm(e,t,o,(function(t,i){var a=t===n-1?e.length-t*o:o,u=Mu(i,r,0,a-1);return P.some({row:t,column:u})}))},jm=function(e,t,n,o,r){return Fm(e,t,o,(function(t,i){var a=Mu(t,r,0,n-1),u=a===n-1?e.length-a*o:o,s=Pu(i,0,u-1);return P.some({row:a,column:s})}))},zm=[zo("selector"),nr("execute",ym),vu("onEscape"),nr("captureTab",!1),Su()],Um=function(e,t,n){Za(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},Vm=function(e){return function(t,n,o,r){return Bm(t,n,o.selector).bind((function(t){return e(t.candidates,t.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns))}))}},Hm=function(e,t,n){return n.captureTab?P.some(!0):P.none()},Wm=Vm((function(e,t,n,o){return Nm(e,t,n,o,-1)})),Gm=Vm((function(e,t,n,o){return Nm(e,t,n,o,1)})),qm=Vm((function(e,t,n,o){return jm(e,t,n,o,-1)})),Ym=Vm((function(e,t,n,o){return jm(e,t,n,o,1)})),Qm=v([lm(im(Xf),Om(Wm,Gm)),lm(im(Zf),Im(Wm,Gm)),lm(im(Jf),Dm(qm)),lm(im(em),Rm(Ym)),lm(am([um,im(Yf)]),Hm),lm(am([cm,im(Yf)]),Hm),lm(im($f),(function(e,t,n){return n.onEscape(e,t)})),lm(im(Kf.concat(Qf)),(function(e,t,n,o){return function(e,t){return t.focusManager.get(e).bind((function(e){return eu(e,t.selector)}))}(e,n).bind((function(o){return n.execute(e,t,o)}))}))]),$m=v([lm(im(Kf),wm)]),Km=hm(zm,Cm,Qm,$m,(function(){return P.some(Um)})),Xm=function(e,t,n,o){var r=function(e,t,n){var i,a=Mu(t,o,0,n.length-1);return a===e?P.none():(i=n[a],"button"===Le(i)&&"disabled"===Bt(i,"disabled")?r(e,a,n):P.from(n[a]))};return Bm(e,n,t).bind((function(e){var t=e.index,n=e.candidates;return r(t,t,n)}))},Jm=[zo("selector"),nr("getInitial",P.none),nr("execute",ym),vu("onEscape"),nr("executeOnMove",!1),nr("allowVertical",!0)],Zm=function(e,t,n){return function(e,t){return t.focusManager.get(e).bind((function(e){return eu(e,t.selector)}))}(e,n).bind((function(o){return n.execute(e,t,o)}))},ep=function(e,t,n){t.getInitial(e).orThunk((function(){return Za(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))},tp=function(e,t,n){return Xm(e,n.selector,t,-1)},np=function(e,t,n){return Xm(e,n.selector,t,1)},op=function(e){return function(t,n,o,r){return e(t,n,o,r).bind((function(){return o.executeOnMove?Zm(t,n,o):P.some(!0)}))}},rp=function(e,t,n){return n.onEscape(e,t)},ip=v([lm(im(Kf),wm)]),ap=hm(Jm,la.init,(function(e,t,n,o){var r=Xf.concat(n.allowVertical?Jf:[]),i=Zf.concat(n.allowVertical?em:[]);return[lm(im(r),op(Om(tp,np))),lm(im(i),op(Im(tp,np))),lm(im(Qf),Zm),lm(im(Kf),Zm),lm(im($f),rp)]}),ip,(function(){return P.some(ep)})),up=function(e,t,n){return P.from(e[t]).bind((function(e){return P.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))},sp=function(e,t,n,o){var r=e[t].length,i=Mu(n,o,0,r-1);return up(e,t,i)},cp=function(e,t,n,o){var r=Mu(n,o,0,e.length-1),i=e[r].length,a=Pu(t,0,i-1);return up(e,r,a)},lp=function(e,t,n,o){var r=e[t].length,i=Pu(n+o,0,r-1);return up(e,t,i)},dp=function(e,t,n,o){var r=Pu(n+o,0,e.length-1),i=e[r].length,a=Pu(t,0,i-1);return up(e,r,a)},fp=[qo("selectors",[zo("row"),zo("cell")]),nr("cycles",!0),nr("previousSelector",P.none),nr("execute",ym)],mp=function(e,t,n){t.previousSelector(e).orThunk((function(){var n=t.selectors;return Za(e.element,n.cell)})).each((function(n){t.focusManager.set(e,n)}))},pp=function(e,t){return function(n,o,r){var i=r.cycles?e:t;return eu(o,r.selectors.row).bind((function(e){var t=Gc(e,r.selectors.cell);return Lm(t,o).bind((function(t){var o=Gc(n,r.selectors.row);return Lm(o,e).bind((function(e){var n=function(e,t){return H(e,(function(e){return Gc(e,t.selectors.cell)}))}(o,r);return i(n,e,t).map((function(e){return e.cell}))}))}))}))}},hp=pp((function(e,t,n){return sp(e,t,n,-1)}),(function(e,t,n){return lp(e,t,n,-1)})),gp=pp((function(e,t,n){return sp(e,t,n,1)}),(function(e,t,n){return lp(e,t,n,1)})),vp=pp((function(e,t,n){return cp(e,n,t,-1)}),(function(e,t,n){return dp(e,n,t,-1)})),bp=pp((function(e,t,n){return cp(e,n,t,1)}),(function(e,t,n){return dp(e,n,t,1)})),yp=v([lm(im(Xf),Om(hp,gp)),lm(im(Zf),Im(hp,gp)),lm(im(Jf),Dm(vp)),lm(im(em),Rm(bp)),lm(im(Kf.concat(Qf)),(function(e,t,n){return ws(e.element).bind((function(o){return n.execute(e,t,o)}))}))]),wp=v([lm(im(Kf),wm)]),xp=hm(fp,la.init,yp,wp,(function(){return P.some(mp)})),Sp=[zo("selector"),nr("execute",ym),nr("moveOnTab",!1)],Ap=function(e,t,n){return n.focusManager.get(e).bind((function(o){return n.execute(e,t,o)}))},Cp=function(e,t,n){Za(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},kp=function(e,t,n){return Xm(e,n.selector,t,-1)},_p=function(e,t,n){return Xm(e,n.selector,t,1)},Op=v([lm(im(Jf),Mm(kp)),lm(im(em),Mm(_p)),lm(am([um,im(Yf)]),(function(e,t,n,o){return n.moveOnTab?Mm(kp)(e,t,n,o):P.none()})),lm(am([cm,im(Yf)]),(function(e,t,n,o){return n.moveOnTab?Mm(_p)(e,t,n,o):P.none()})),lm(im(Qf),Ap),lm(im(Kf),Ap)]),Ip=v([lm(im(Kf),wm)]),Tp=hm(Sp,la.init,Op,Ip,(function(){return P.some(Cp)})),Ep=[vu("onSpace"),vu("onEnter"),vu("onShiftEnter"),vu("onLeft"),vu("onRight"),vu("onTab"),vu("onShiftTab"),vu("onUp"),vu("onDown"),vu("onEscape"),nr("stopSpaceKeyup",!1),$o("focusIn")],Dp=hm(Ep,la.init,(function(e,t,n){return[lm(im(Kf),n.onSpace),lm(am([cm,im(Qf)]),n.onEnter),lm(am([um,im(Qf)]),n.onShiftEnter),lm(am([um,im(Yf)]),n.onShiftTab),lm(am([cm,im(Yf)]),n.onTab),lm(im(Jf),n.onUp),lm(im(em),n.onDown),lm(im(Xf),n.onLeft),lm(im(Zf),n.onRight),lm(im(Kf),n.onSpace),lm(im($f),n.onEscape)]}),(function(e,t,n){return n.stopSpaceKeyup?[lm(im(Kf),wm)]:[]}),(function(e){return e.focusIn})),Rp=vm.schema(),Mp=bm.schema(),Pp=ap.schema(),Bp=Km.schema(),Lp=xp.schema(),Fp=Am.schema(),Np=Tp.schema(),jp=Dp.schema(),zp=fs({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Rp,cyclic:Mp,flow:Pp,flatgrid:Bp,matrix:Lp,execution:Fp,menu:Np,special:jp}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(o){o(e,t,n)}))},setGridSize:function(e,t,n,o,r){!function(e){return xe(e,"setGridSize")}(n)?console.error("Layout does not support setGridSize"):n.setGridSize(o,r)}},state:km}),Up=function(e,t,n,o){var r=e.getSystem().build(o);Tl(e,r,n)},Vp=function(e,t,n,o){var r=Hp(e);$(r,(function(e){return st(o.element,e.element)})).each(Dl)},Hp=function(e,t){return e.components()},Wp=function(e,t,n,o,r){var i=Hp(e);return P.from(i[o]).map((function(t){return Vp(e,0,0,t),r.each((function(t){Up(e,0,(function(e,t){!function(e,t,n){bt(e,n).fold((function(){gn(e,t)}),(function(e){mn(e,t)}))}(e,t,o)}),t)})),t}))},Gp=ls({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(e,t,n,o){Up(e,0,gn,o)},prepend:function(e,t,n,o){Up(e,0,hn,o)},remove:Vp,replaceAt:Wp,replaceBy:function(e,t,n,o,r){var i=Hp(e);return K(i,o).bind((function(t){return Wp(e,0,0,t,r)}))},set:function(e,t,n,o){xs((function(){var t=H(o,e.getSystem().build);Ol(e,t)}),e.element)},contents:Hp})}),qp=function(e,t){return{key:e,value:{config:{},me:function(e,t){var n=ki(t);return ls({fields:[zo("enabled")],name:e,active:{events:v(n)}})}(e,t),configAsRaw:v({}),initialConfig:{},state:la}}},Yp=function(e,t){t.ignore||(vs(e.element),t.onFocus(e))},Qp=Object.freeze({__proto__:null,focus:Yp,blur:function(e,t){t.ignore||function(e){e.dom.blur()}(e.element)},isFocused:function(e){return bs(e.element)}}),$p=Object.freeze({__proto__:null,exhibit:function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return ma(n)},events:function(e){return ki([Ii(Qr(),(function(t,n){Yp(t,e),n.stop()}))].concat(e.stopMousedown?[Ii(Er(),(function(e,t){t.event.prevent()}))]:[]))}}),Kp=[gu("onFocus"),nr("stopMousedown",!1),nr("ignore",!1)],Xp=ls({fields:Kp,name:"focusing",active:$p,apis:Qp}),Jp=function(e,t,n){var o=t.aria;o.update(e,o,n.get())},Zp=function(e,t,n){t.toggleClass.each((function(t){n.get()?Oa(e.element,t):Ta(e.element,t)}))},eh=function(e,t,n){oh(e,t,n,!n.get())},th=function(e,t,n){n.set(!0),Zp(e,t,n),Jp(e,t,n)},nh=function(e,t,n){n.set(!1),Zp(e,t,n),Jp(e,t,n)},oh=function(e,t,n,o){(o?th:nh)(e,t,n)},rh=function(e,t,n){oh(e,t,n,t.selected)},ih=Object.freeze({__proto__:null,onLoad:rh,toggle:eh,isOn:function(e,t,n){return n.get()},on:th,off:nh,set:oh}),ah=Object.freeze({__proto__:null,exhibit:function(){return ma({})},events:function(e,t){var n,o,r,i=(n=e,o=t,r=eh,ji((function(e){r(e,n,o)}))),a=rs(e,t,rh);return ki(X([e.toggleOnExecute?[i]:[],[a]]))}}),uh=function(e,t,n){Mt(e.element,"aria-expanded",n)},sh=[nr("selected",!1),$o("toggleClass"),nr("toggleOnExecute",!0),or("aria",{mode:"none"},Lo("mode",{pressed:[nr("syncWithExpanded",!1),wu("update",(function(e,t,n){Mt(e.element,"aria-pressed",n),t.syncWithExpanded&&uh(e,t,n)}))],checked:[wu("update",(function(e,t,n){Mt(e.element,"aria-checked",n)}))],expanded:[wu("update",uh)],selected:[wu("update",(function(e,t,n){Mt(e.element,"aria-selected",n)}))],none:[wu("update",h)]}))],ch=ls({fields:sh,name:"toggling",active:ah,apis:ih,state:(pm=!1,{init:function(){var e=dr(pm);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(pm)},readState:function(){return e.get()}}}})}),lh=function(){var e=function(e,t){t.stop(),xi(e)};return[Ii(Ur(),e),Ii(ei(),e),Mi(_r()),Mi(Er())]},dh=function(e){return ki(X([e.map((function(e){return ji((function(t,n){e(t),n.stop()}))})).toArray(),lh()]))},fh=function(e){(ws(e.element).isNone()||Xp.isFocused(e))&&(Xp.isFocused(e)||Xp.focus(e),wi(e,"alloy.item-hover",{item:e}))},mh=function(e){wi(e,"alloy.item-focus",{item:e})},ph=v("alloy.item-hover"),hh=v("alloy.item-focus"),gh=[zo("data"),zo("components"),zo("dom"),nr("hasSubmenu",!1),$o("toggling"),hd("itemBehaviours",[ch,Xp,zp,dd]),nr("ignoreFocus",!1),nr("domModification",{}),wu("builder",(function(e){return{dom:e.dom,domModification:_(_({},e.domModification),{attributes:_(_(_({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:gd(e.itemBehaviours,[e.toggling.fold(ch.revoke,(function(e){return ch.config(_({aria:{mode:"checked"}},e))})),Xp.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){mh(e)}}),zp.config({mode:"execution"}),dd.config({store:{mode:"memory",initialValue:e.data}}),qp("item-type-events",I(I([],lh(),!0),[Ii(Pr(),fh),Ii(Zr(),Xp.focus)],!1))]),components:e.components,eventOrder:e.eventOrder}})),nr("eventOrder",{})],vh=[zo("dom"),zo("components"),wu("builder",(function(e){return{dom:e.dom,components:e.components,events:ki([Pi(Zr())])}}))],bh=v("item-widget"),yh=v([zd({name:"widget",overrides:function(e){return{behaviours:ss([dd.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:h}})])}}})]),wh=[zo("uid"),zo("data"),zo("components"),zo("dom"),nr("autofocus",!1),nr("ignoreFocus",!1),hd("widgetBehaviours",[dd,Xp,zp]),nr("domModification",{}),sf(yh()),wu("builder",(function(e){var t=Jd(bh(),e,yh()),n=Zd(bh(),e,t.internals()),o=function(t){return ef(t,e,"widget").map((function(e){return zp.focusIn(e),e}))},r=function(t,n){return vf(n.event.target)?P.none():e.autofocus?(n.setSource(t.element),P.none()):P.none()};return{dom:e.dom,components:n,domModification:e.domModification,events:ki([ji((function(e,t){o(e).each((function(e){t.stop()}))})),Ii(Pr(),fh),Ii(Zr(),(function(t,n){e.autofocus?o(t):Xp.focus(t)}))]),behaviours:gd(e.widgetBehaviours,[dd.config({store:{mode:"memory",initialValue:e.data}}),Xp.config({ignore:e.ignoreFocus,onFocus:function(e){mh(e)}}),zp.config({mode:"special",focusIn:e.autofocus?function(e){o(e)}:ms(),onLeft:r,onRight:r,onEscape:function(t,n){return Xp.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),P.none()):P.none():(Xp.focus(t),P.some(!0))}})])}}))],xh=Lo("type",{widget:wh,item:gh,separator:vh}),Sh=v([Hd({factory:{sketch:function(e){var t=Po("menu.spec item",xh,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return we(t,"uid")?t:_(_({},t),{uid:ta("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),Ah=v([zo("value"),zo("items"),zo("dom"),zo("components"),nr("eventOrder",{}),fd("menuBehaviours",[Gf,dd,wf,zp]),or("movement",{mode:"menu",moveOnTab:!0},Lo("mode",{grid:[Su(),wu("config",(function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}))],matrix:[wu("config",(function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}})),zo("rowSelector")],menu:[nr("moveOnTab",!0),wu("config",(function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}))]})),Uo("markers",du()),nr("fakeFocus",!1),nr("focusManager",fm()),gu("onHighlight")]),Ch=v("alloy.menu-focus"),kh=gf({name:"Menu",configFields:Ah(),partFields:Sh(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:pd(e.menuBehaviours,[Gf.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),dd.config({store:{mode:"memory",initialValue:e.value}}),wf.config({find:P.some}),zp.config(e.movement.config(e,e.movement))]),events:ki([Ii(hh(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){Gf.highlight(e,n),t.stop(),wi(e,Ch(),{menu:e,item:n})}))})),Ii(ph(),(function(e,t){var n=t.event.item;Gf.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),_h=function(e,t,n,o){return ye(n,o).bind((function(o){return ye(e,o).bind((function(o){var r=_h(e,t,n,o);return P.some([o].concat(r))}))})).getOr([])},Oh=function(e,t){var n={};fe(e,(function(e,t){W(e,(function(e){n[e]=t}))}));var o=t,r=pe(t,(function(e,t){return{k:e,v:t}})),i=me(r,(function(e,t){return[t].concat(_h(n,o,r,t))}));return me(n,(function(e){return ye(i,e).getOr([e])}))},Ih=function(e){return"prepared"===e.type?P.some(e.menu):P.none()},Th={init:function(){var e=dr({}),t=dr({}),n=dr({}),o=zs(),r=dr({}),i=function(t,n,o){return a(t).bind((function(r){return function(t){return ve(e.get(),(function(e,n){return e===t}))}(t).bind((function(e){return n(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:o}}))}))}))},a=function(e){return u(e).bind(Ih)},u=function(e){return ye(t.get(),e)},s=function(t){return ye(e.get(),t)};return{setMenuBuilt:function(e,n){var o;t.set(_(_({},t.get()),((o={})[e]={type:"prepared",menu:n},o)))},setContents:function(i,a,u,s){o.set(i),e.set(u),t.set(a),r.set(s);var c=Oh(s,u);n.set(c)},expand:function(t){return ye(e.get(),t).map((function(e){var o=ye(n.get(),t).getOr([]);return[e].concat(o)}))},refresh:function(e){return ye(n.get(),e)},collapse:function(e){return ye(n.get(),e).bind((function(e){return e.length>1?P.some(e.slice(1)):P.none()}))},lookupMenu:u,lookupItem:s,otherMenus:function(e){var t=r.get();return te(le(t),e)},getPrimary:function(){return o.get().bind(a)},getMenus:function(){return t.get()},clear:function(){e.set({}),t.set({}),n.set({}),o.clear()},isClear:function(){return o.get().isNone()},getTriggeringPath:function(e,t){var r=q(s(e).toArray(),(function(e){return a(e).isSome()}));return ye(n.get(),e).bind((function(e){var n=ee(r.concat(e));return function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];if(!o.isSome())return P.none();t.push(o.getOrDie())}return P.some(t)}(J(n,(function(e,r){return i(e,t,n.slice(0,r+1)).fold((function(){return Se(o.get(),e)?[]:[P.none()]}),(function(e){return[P.some(e)]}))})))}))}}},extractPreparedMenu:Ih},Eh=v("collapse-item"),Dh=hf({name:"TieredMenu",configFields:[yu("onExecute"),yu("onEscape"),bu("onOpenMenu"),bu("onOpenSubmenu"),gu("onRepositionMenu"),gu("onCollapseMenu"),nr("highlightImmediately",!0),qo("data",[zo("primary"),zo("menus"),zo("expansions")]),nr("fakeFocus",!1),gu("onHighlight"),gu("onHover"),mu(),zo("dom"),nr("navigateOnHover",!0),nr("stayInDom",!1),fd("tmenuBehaviours",[zp,Gf,wf,Gp]),nr("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,t){var n,o=zs(),r=Th.init(),i=function(t){var n=function(t,n,o){return me(o,(function(o,r){var i=function(){return kh.sketch(_(_({},o),{value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?mm():fm()}))};return r===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))}(t,e.data.primary,e.data.menus),o=u();return r.setContents(e.data.primary,n,e.data.expansions,o),r.getPrimary()},a=function(e){return dd.getValue(e).value},u=function(t){return me(e.data.menus,(function(e,t){return J(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},s=function(e,t){Gf.highlight(e,t),Gf.getHighlighted(t).orThunk((function(){return Gf.getFirst(t)})).each((function(t){Si(e,t.element,Zr())}))},c=function(e,t){return Ae(H(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?P.some(e.menu):P.none()}))})))},l=function(t,n,o){var r=c(n,n.otherMenus(o));W(r,(function(n){Ra(n.element,[e.markers.backgroundMenu]),e.stayInDom||Gp.remove(t,n)}))},d=function(t,n){var r=function(t){return o.get().getOrThunk((function(){var n={},r=Gc(t.element,"."+e.markers.item),i=q(r,(function(e){return"true"===Bt(e,"aria-haspopup")}));return W(i,(function(e){t.getSystem().getByDom(e).each((function(e){var t=a(e);n[t]=e}))})),o.set(n),n}))}(t);fe(r,(function(e,t){var o=j(n,t);Mt(e.element,"aria-expanded",o)}))},f=function(t,n,o){return P.from(o[0]).bind((function(r){return n.lookupMenu(r).bind((function(r){if("notbuilt"===r.type)return P.none();var i=r.menu,a=c(n,o.slice(1));return W(a,(function(t){Oa(t.element,e.markers.backgroundMenu)})),Tt(i.element)||Gp.append(t,Ga(i)),Ra(i.element,[e.markers.backgroundMenu]),s(t,i),l(t,n,o),P.some(i)}))}))};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(n||(n={}));var m=function(t,o,i){if(void 0===i&&(i=n.HighlightSubmenu),o.hasConfigured(Pf)&&Pf.isDisabled(o))return P.some(o);var u=a(o);return r.expand(u).bind((function(a){return d(t,a),P.from(a[0]).bind((function(u){return r.lookupMenu(u).bind((function(s){var c=function(e,t,n){if("notbuilt"===n.type){var o=e.getSystem().build(n.nbMenu());return r.setMenuBuilt(t,o),o}return n.menu}(t,u,s);return Tt(c.element)||Gp.append(t,Ga(c)),e.onOpenSubmenu(t,o,c,ee(a)),i===n.HighlightSubmenu?(Gf.highlightFirst(c),f(t,r,a)):(Gf.dehighlightAll(c),P.some(o))}))}))}))},p=function(t,n){var o=a(n);return r.collapse(o).bind((function(o){return d(t,o),f(t,r,o).map((function(o){return e.onCollapseMenu(t,n,o),o}))}))},g=function(t){return function(n,o){return eu(o.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(C)}))}))}},v=ki([Ii(Ch(),(function(e,t){var n=t.event.item;r.lookupItem(a(n)).each((function(){var n=t.event.menu;Gf.highlight(e,n);var o=a(t.event.item);r.refresh(o).each((function(t){return l(e,r,t)}))}))})),ji((function(t,o){var r=o.event.target;t.getSystem().getByDom(r).each((function(o){0===a(o).indexOf("collapse-item")&&p(t,o),m(t,o,n.HighlightSubmenu).fold((function(){e.onExecute(t,o)}),h)}))})),Li((function(t,n){i(t).each((function(n){Gp.append(t,Ga(n)),e.onOpenMenu(t,n),e.highlightImmediately&&s(t,n)}))}))].concat(e.navigateOnHover?[Ii(ph(),(function(t,o){var i=o.event.item;!function(e,t){var n=a(t);r.refresh(n).bind((function(t){return d(e,t),f(e,r,t)}))}(t,i),m(t,i,n.HighlightParent),e.onHover(t,i)}))]:[])),b=function(e){return Gf.getHighlighted(e).bind(Gf.getHighlighted)},y={collapseMenu:function(e){b(e).each((function(t){p(e,t)}))},highlightPrimary:function(e){r.getPrimary().each((function(t){s(e,t)}))},repositionMenus:function(t){r.getPrimary().bind((function(e){return b(t).bind((function(e){var t=a(e),n=be(r.getMenus()),o=Ae(H(n,Th.extractPreparedMenu));return r.getTriggeringPath(t,(function(e){return function(e,t,n){return ce(t,(function(e){if(!e.getSystem().isConnected())return P.none();var t=Gf.getCandidates(e);return $(t,(function(e){return a(e)===n}))}))}(0,o,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))})).fold((function(){(function(e){return P.from(e.components()[0]).filter((function(e){return"menu"===Bt(e.element,"role")}))})(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var o=n.primary,r=n.triggeringPath;e.onRepositionMenu(t,o,r)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:pd(e.tmenuBehaviours,[zp.config({mode:"special",onRight:g((function(e,t){return vf(t.element)?P.none():m(e,t,n.HighlightSubmenu)})),onLeft:g((function(e,t){return vf(t.element)?P.none():p(e,t)})),onEscape:g((function(t,n){return p(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))})),focusIn:function(e,t){r.getPrimary().each((function(t){Si(e,t.element,Zr())}))}}),Gf.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),wf.config({find:function(e){return Gf.getHighlighted(e)}}),Gp.config({})]),eventOrder:e.eventOrder,apis:y,events:v}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:hr(e,t),expansions:{}}},collapseItem:function(e){return{value:Qi(Eh()),meta:{text:e}}}}}),Rh=hf({name:"InlineView",configFields:[zo("lazySink"),gu("onShow"),gu("onHide"),Zo("onEscape"),fd("inlineBehaviours",[Gl,dd,ps]),tr("fireDismissalEventInstead",[nr("event",di())]),tr("fireRepositionEventInstead",[nr("event",fi())]),nr("getRelated",P.none),nr("isExtraPart",A),nr("eventOrder",P.none)],factory:function(e,t){var n=function(e,t,n,r){o(e,t,n,(function(){return r.map((function(e){return Tn(e)}))}))},o=function(t,n,o,r){var i=e.lazySink(t).getOrDie();Gl.openWhileCloaked(t,n,(function(){return Al.positionWithinBounds(i,t,o,r())})),dd.setValue(t,P.some({mode:"position",config:o,getBounds:r}))},r=function(t,n,o,r){var i=function(e,t,n,o,r){var i=function(){return e.lazySink(t)},a="horizontal"===o.type?{layouts:{onLtr:function(){return es()},onRtl:function(){return ts()}}}:{},u=function(e){return function(e){return 2===e.length}(e)?a:{}};return Dh.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightImmediately:o.menu.highlightImmediately,onEscape:function(){return Gl.close(t),e.onEscape.map((function(e){return e(t)})),P.some(!0)},onExecute:function(){return P.some(!0)},onOpenMenu:function(e,t){Al.positionWithinBounds(i().getOrDie(),t,n,r())},onOpenSubmenu:function(e,t,n,o){var r=i().getOrDie();Al.position(r,n,{anchor:_({type:"submenu",item:t},u(o))})},onRepositionMenu:function(e,t,o){var a=i().getOrDie();Al.positionWithinBounds(a,t,n,r()),W(o,(function(e){var t=u(e.triggeringPath);Al.position(a,e.triggeredMenu,{anchor:_({type:"submenu",item:e.triggeringItem},t)})}))}})}(e,t,n,o,r);Gl.open(t,i),dd.setValue(t,P.some({mode:"menu",menu:i}))},i=function(t){Gl.isOpen(t)&&dd.getValue(t).each((function(n){switch(n.mode){case"menu":Gl.getState(t).each(Dh.repositionMenus);break;case"position":var o=e.lazySink(t).getOrDie();Al.positionWithinBounds(o,t,n.config,n.getBounds())}}))},a={setContent:function(e,t){Gl.setContent(e,t)},showAt:function(e,t,o){n(e,t,o,P.none())},showWithin:n,showWithinBounds:o,showMenuAt:function(e,t,n){r(e,t,n,P.none)},showMenuWithinBounds:r,hide:function(e){Gl.isOpen(e)&&(dd.setValue(e,P.none()),Gl.close(e))},getContent:function(e){return Gl.getState(e)},reposition:i,isOpen:Gl.isOpen};return{uid:e.uid,dom:e.dom,behaviours:pd(e.inlineBehaviours,[Gl.config({isPartOf:function(t,n,o){return ou(n,o)||function(t,n){return e.getRelated(t).exists((function(e){return ou(e,n)}))}(t,o)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),dd.config({store:{mode:"memory",initialValue:P.none()}}),ps.config({channels:_(_({},Kl(_({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),Jl(_(_({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:i})))})]),eventOrder:e.eventOrder,apis:a}},apis:{showAt:function(e,t,n,o){e.showAt(t,n,o)},showWithin:function(e,t,n,o,r){e.showWithin(t,n,o,r)},showWithinBounds:function(e,t,n,o,r){e.showWithinBounds(t,n,o,r)},showMenuAt:function(e,t,n,o){e.showMenuAt(t,n,o)},showMenuWithinBounds:function(e,t,n,o,r){e.showMenuWithinBounds(t,n,o,r)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),Mh=function(e){return e.x},Ph=function(e,t){return e.x+e.width/2-t.width/2},Bh=function(e,t){return e.x+e.width-t.width},Lh=function(e){return e.y},Fh=function(e,t){return e.y+e.height-t.height},Nh=function(e,t){return e.y+e.height/2-t.height/2},jh=function(e,t,n){return Au(Bh(e,t),Fh(e,t),n.insetSouthwest(),Iu(),"southwest",Bu(e,{right:0,bottom:3}),"layout-inset")},zh=function(e,t,n){return Au(Mh(e),Fh(e,t),n.insetSoutheast(),Ou(),"southeast",Bu(e,{left:1,bottom:3}),"layout-inset")},Uh=function(e,t,n){return Au(Bh(e,t),Lh(e),n.insetNorthwest(),_u(),"northwest",Bu(e,{right:0,top:2}),"layout-inset")},Vh=function(e,t,n){return Au(Mh(e),Lh(e),n.insetNortheast(),ku(),"northeast",Bu(e,{left:1,top:2}),"layout-inset")},Hh=function(e,t,n){return Au(Ph(e,t),Lh(e),n.insetNorth(),Tu(),"north",Bu(e,{top:2}),"layout-inset")},Wh=function(e,t,n){return Au(Ph(e,t),Fh(e,t),n.insetSouth(),Eu(),"south",Bu(e,{bottom:3}),"layout-inset")},Gh=function(e,t,n){return Au(Bh(e,t),Nh(e,t),n.insetEast(),Ru(),"east",Bu(e,{right:0}),"layout-inset")},qh=function(e,t,n){return Au(Mh(e),Nh(e,t),n.insetWest(),Du(),"west",Bu(e,{left:1}),"layout-inset")},Yh=function(e){switch(e){case"north":return Hh;case"northeast":return Vh;case"northwest":return Uh;case"south":return Wh;case"southeast":return zh;case"southwest":return jh;case"east":return Gh;case"west":return qh}},Qh=function(e,t,n,o,r){return Ps(o).map(Yh).getOr(Hh)(e,t,n,o,r)},$h=function(e){switch(e){case"north":return Wh;case"northeast":return zh;case"northwest":return jh;case"south":return Hh;case"southeast":return Vh;case"southwest":return Uh;case"east":return qh;case"west":return Gh}},Kh=function(e,t,n,o,r){return Ps(o).map($h).getOr(Hh)(e,t,n,o,r)},Xh=tinymce.util.Tools.resolve("tinymce.util.Delay"),Jh=hf({name:"Button",factory:function(e){var t=dh(e.action),n=e.dom.tag,o=function(t){return ye(e.dom,"attributes").bind((function(e){return ye(e,t)}))};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:gd(e.buttonBehaviours,[Xp.config({}),zp.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=o("type").getOr("button"),t=o("role").map((function(e){return{role:e}})).getOr({});return _({type:e},t)}return{role:o("role").getOr("button")}}()},eventOrder:e.eventOrder}},configFields:[nr("uid",void 0),zo("dom"),nr("components",[]),hd("buttonBehaviours",[Xp,zp]),$o("action"),$o("role"),nr("eventOrder",{})]}),Zh=function(e){var t=Pe.fromHtml(e),n=vt(t),o=function(e){var t=void 0!==e.dom.attributes?e.dom.attributes:[];return Q(t,(function(e,t){var n;return"class"===t.name?e:_(_({},e),((n={})[t.name]=t.value,n))}),{})}(t),r=function(e){return Array.prototype.slice.call(e.dom.classList,0)}(t),i=0===n.length?{}:{innerHtml:zi(t)};return _({tag:Le(t),classes:r,attributes:o},i)},eg=function(e){var t=function(e){return void 0!==e.uid}(e)&&xe(e,"uid")?e.uid:ta("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOptional()},asSpec:function(){return _(_({},e),{uid:t})}}};function tg(e){return(tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ng(e,t){return(ng=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function og(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function rg(e,t,n){return(rg=og()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&ng(r,n.prototype),r}).apply(null,arguments)}function ig(e){return function(e){if(Array.isArray(e))return ag(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ag(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ag(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ag(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ug=Object.hasOwnProperty,sg=Object.setPrototypeOf,cg=Object.isFrozen,lg=Object.getPrototypeOf,dg=Object.getOwnPropertyDescriptor,fg=Object.freeze,mg=Object.seal,pg=Object.create,hg="undefined"!=typeof Reflect&&Reflect,gg=hg.apply,vg=hg.construct;gg||(gg=function(e,t,n){return e.apply(t,n)}),fg||(fg=function(e){return e}),mg||(mg=function(e){return e}),vg||(vg=function(e,t){return rg(e,ig(t))});var bg,yg=Tg(Array.prototype.forEach),wg=Tg(Array.prototype.pop),xg=Tg(Array.prototype.push),Sg=Tg(String.prototype.toLowerCase),Ag=Tg(String.prototype.match),Cg=Tg(String.prototype.replace),kg=Tg(String.prototype.indexOf),_g=Tg(String.prototype.trim),Og=Tg(RegExp.prototype.test),Ig=(bg=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vg(bg,t)});function Tg(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return gg(e,t,o)}}function Eg(e,t){sg&&sg(e,null);for(var n=t.length;n--;){var o=t[n];if("string"==typeof o){var r=Sg(o);r!==o&&(cg(t)||(t[n]=r),o=r)}e[o]=!0}return e}function Dg(e){var t,n=pg(null);for(t in e)gg(ug,e,[t])&&(n[t]=e[t]);return n}function Rg(e,t){for(;null!==e;){var n=dg(e,t);if(n){if(n.get)return Tg(n.get);if("function"==typeof n.value)return Tg(n.value)}e=lg(e)}return function(e){return console.warn("fallback value for",e),null}}var Mg=fg(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pg=fg(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Bg=fg(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Lg=fg(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fg=fg(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ng=fg(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jg=fg(["#text"]),zg=fg(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ug=fg(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vg=fg(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Hg=fg(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Wg=mg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Gg=mg(/<%[\w\W]*|[\w\W]*%>/gm),qg=mg(/^data-[\-\w.\u00B7-\uFFFF]/),Yg=mg(/^aria-[\-\w]+$/),Qg=mg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$g=mg(/^(?:\w+script|data):/i),Kg=mg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Xg=mg(/^html$/i),Jg=function(){return"undefined"==typeof window?null:window},Zg=function(e,t){if("object"!==tg(e)||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};var ev=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jg(),n=function(t){return e(t)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var o=t.document,r=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,u=t.Node,s=t.Element,c=t.NodeFilter,l=t.NamedNodeMap,d=void 0===l?t.NamedNodeMap||t.MozNamedAttrMap:l,f=t.HTMLFormElement,m=t.DOMParser,p=t.trustedTypes,h=s.prototype,g=Rg(h,"cloneNode"),v=Rg(h,"nextSibling"),b=Rg(h,"childNodes"),y=Rg(h,"parentNode");if("function"==typeof a){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var x=Zg(p,o),S=x?x.createHTML(""):"",A=r,C=A.implementation,k=A.createNodeIterator,_=A.createDocumentFragment,O=A.getElementsByTagName,I=o.importNode,T={};try{T=Dg(r).documentMode?r.documentMode:{}}catch(e){}var E={};n.isSupported="function"==typeof y&&C&&void 0!==C.createHTMLDocument&&9!==T;var D,R,M=Wg,P=Gg,B=qg,L=Yg,F=$g,N=Kg,j=Qg,z=null,U=Eg({},[].concat(ig(Mg),ig(Pg),ig(Bg),ig(Fg),ig(jg))),V=null,H=Eg({},[].concat(ig(zg),ig(Ug),ig(Vg),ig(Hg))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,q=null,Y=!0,Q=!0,$=!1,K=!1,X=!1,J=!1,Z=!1,ee=!1,te=!1,ne=!1,oe=!0,re=!0,ie=!1,ae={},ue=null,se=Eg({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,le=Eg({},["audio","video","img","source","image","track"]),de=null,fe=Eg({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",he="http://www.w3.org/1999/xhtml",ge=he,ve=!1,be=["application/xhtml+xml","text/html"],ye="text/html",we=null,xe=r.createElement("form"),Se=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(e){we&&we===e||(e&&"object"===tg(e)||(e={}),e=Dg(e),z="ALLOWED_TAGS"in e?Eg({},e.ALLOWED_TAGS):U,V="ALLOWED_ATTR"in e?Eg({},e.ALLOWED_ATTR):H,de="ADD_URI_SAFE_ATTR"in e?Eg(Dg(fe),e.ADD_URI_SAFE_ATTR):fe,ce="ADD_DATA_URI_TAGS"in e?Eg(Dg(le),e.ADD_DATA_URI_TAGS):le,ue="FORBID_CONTENTS"in e?Eg({},e.FORBID_CONTENTS):se,G="FORBID_TAGS"in e?Eg({},e.FORBID_TAGS):{},q="FORBID_ATTR"in e?Eg({},e.FORBID_ATTR):{},ae="USE_PROFILES"in e&&e.USE_PROFILES,Y=!1!==e.ALLOW_ARIA_ATTR,Q=!1!==e.ALLOW_DATA_ATTR,$=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,j=e.ALLOWED_URI_REGEXP||j,ge=e.NAMESPACE||he,e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),D=D=-1===be.indexOf(e.PARSER_MEDIA_TYPE)?ye:e.PARSER_MEDIA_TYPE,R="application/xhtml+xml"===D?function(e){return e}:Sg,K&&(Q=!1),te&&(ee=!0),ae&&(z=Eg({},ig(jg)),V=[],!0===ae.html&&(Eg(z,Mg),Eg(V,zg)),!0===ae.svg&&(Eg(z,Pg),Eg(V,Ug),Eg(V,Hg)),!0===ae.svgFilters&&(Eg(z,Bg),Eg(V,Ug),Eg(V,Hg)),!0===ae.mathMl&&(Eg(z,Fg),Eg(V,Vg),Eg(V,Hg))),e.ADD_TAGS&&(z===U&&(z=Dg(z)),Eg(z,e.ADD_TAGS)),e.ADD_ATTR&&(V===H&&(V=Dg(V)),Eg(V,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Eg(de,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ue===se&&(ue=Dg(ue)),Eg(ue,e.FORBID_CONTENTS)),re&&(z["#text"]=!0),X&&Eg(z,["html","head","body"]),z.table&&(Eg(z,["tbody"]),delete G.tbody),fg&&fg(e),we=e)},Ce=Eg({},["mi","mo","mn","ms","mtext"]),ke=Eg({},["foreignobject","desc","title","annotation-xml"]),_e=Eg({},["title","style","font","a","script"]),Oe=Eg({},Pg);Eg(Oe,Bg),Eg(Oe,Lg);var Ie=Eg({},Fg);Eg(Ie,Ng);var Te=function(e){var t=y(e);t&&t.tagName||(t={namespaceURI:he,tagName:"template"});var n=Sg(e.tagName),o=Sg(t.tagName);return e.namespaceURI===pe?t.namespaceURI===he?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===o||Ce[o]):Boolean(Oe[n]):e.namespaceURI===me?t.namespaceURI===he?"math"===n:t.namespaceURI===pe?"math"===n&&ke[o]:Boolean(Ie[n]):e.namespaceURI===he&&(!(t.namespaceURI===pe&&!ke[o])&&(!(t.namespaceURI===me&&!Ce[o])&&(!Ie[n]&&(_e[n]||!Oe[n]))))},Ee=function(e){xg(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=S}catch(t){e.remove()}}},De=function(e,t){try{xg(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){xg(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!V[e])if(ee||te)try{Ee(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Re=function(e){var t,n;if(Z)e="<remove></remove>"+e;else{var o=Ag(e,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===D&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=x?x.createHTML(e):e;if(ge===he)try{t=(new m).parseFromString(i,D)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),ge===he?O.call(t,X?"html":"body")[0]:X?t.documentElement:a},Me=function(e){return k.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Pe=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},Be=function(e){return"object"===tg(u)?e instanceof u:e&&"object"===tg(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Le=function(e,t,o){E[e]&&yg(E[e],(function(e){e.call(n,t,o,we)}))},Fe=function(e){var t;if(Le("beforeSanitizeElements",e,null),Pe(e))return Ee(e),!0;if(Og(/[\u0080-\uFFFF]/,e.nodeName))return Ee(e),!0;var o=R(e.nodeName);if(Le("uponSanitizeElement",e,{tagName:o,allowedTags:z}),e.hasChildNodes()&&!Be(e.firstElementChild)&&(!Be(e.content)||!Be(e.content.firstElementChild))&&Og(/<[/\w]/g,e.innerHTML)&&Og(/<[/\w]/g,e.textContent))return Ee(e),!0;if("select"===o&&Og(/<template/i,e.innerHTML))return Ee(e),!0;if(!z[o]||G[o]){if(!G[o]&&je(o)){if(W.tagNameCheck instanceof RegExp&&Og(W.tagNameCheck,o))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(o))return!1}if(re&&!ue[o]){var r=y(e)||e.parentNode,i=b(e)||e.childNodes;if(i&&r)for(var a=i.length-1;a>=0;--a)r.insertBefore(g(i[a],!0),v(e))}return Ee(e),!0}return e instanceof s&&!Te(e)?(Ee(e),!0):"noscript"!==o&&"noembed"!==o||!Og(/<\/no(script|embed)/i,e.innerHTML)?(K&&3===e.nodeType&&(t=e.textContent,t=Cg(t,M," "),t=Cg(t,P," "),e.textContent!==t&&(xg(n.removed,{element:e.cloneNode()}),e.textContent=t)),Le("afterSanitizeElements",e,null),!1):(Ee(e),!0)},Ne=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in r||n in xe))return!1;if(Q&&!q[t]&&Og(B,t));else if(Y&&Og(L,t));else if(!V[t]||q[t]){if(!(je(e)&&(W.tagNameCheck instanceof RegExp&&Og(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&Og(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&Og(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(de[t]);else if(Og(j,Cg(n,N,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==kg(n,"data:")||!ce[e]){if($&&!Og(F,Cg(n,N,"")));else if(n)return!1}else;return!0},je=function(e){return e.indexOf("-")>0},ze=function(e){var t,o,r,i;Le("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V};for(i=a.length;i--;){var s=t=a[i],c=s.name,l=s.namespaceURI;if(o="value"===c?t.value:_g(t.value),r=R(c),u.attrName=r,u.attrValue=o,u.keepAttr=!0,u.forceKeepAttr=void 0,Le("uponSanitizeAttribute",e,u),o=u.attrValue,!u.forceKeepAttr&&(De(c,e),u.keepAttr))if(Og(/\/>/i,o))De(c,e);else{K&&(o=Cg(o,M," "),o=Cg(o,P," "));var d=R(e.nodeName);if(Ne(d,r,o))try{l?e.setAttributeNS(l,c,o):e.setAttribute(c,o),wg(n.removed)}catch(e){}}}Le("afterSanitizeAttributes",e,null)}},Ue=function e(t){var n,o=Me(t);for(Le("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Le("uponSanitizeShadowNode",n,null),Fe(n)||(n.content instanceof i&&e(n.content),ze(n));Le("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var a,s,c,l,d;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Be(e)){if("function"!=typeof e.toString)throw Ig("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ig("dirty is not a string, aborting")}if(!n.isSupported){if("object"===tg(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Be(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||Ae(r),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var f=R(e.nodeName);if(!z[f]||G[f])throw Ig("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof u)1===(s=(a=Re("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?a=s:a.appendChild(s);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(!(a=Re(e)))return ee?null:ne?S:""}a&&Z&&Ee(a.firstChild);for(var m=Me(ie?e:a);c=m.nextNode();)3===c.nodeType&&c===l||Fe(c)||(c.content instanceof i&&Ue(c.content),ze(c),l=c);if(l=null,ie)return e;if(ee){if(te)for(d=_.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return V.shadowroot&&(d=I.call(o,d,!0)),d}var p=X?a.outerHTML:a.innerHTML;return X&&z["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&Og(Xg,a.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+p),K&&(p=Cg(p,M," "),p=Cg(p,P," ")),x&&ne?x.createHTML(p):p},n.setConfig=function(e){Ae(e),J=!0},n.clearConfig=function(){we=null,J=!1},n.isValidAttribute=function(e,t,n){we||Ae({});var o=R(e),r=R(t);return Ne(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&(E[e]=E[e]||[],xg(E[e],t))},n.removeHook=function(e){if(E[e])return wg(E[e])},n.removeHooks=function(e){E[e]&&(E[e]=[])},n.removeAllHooks=function(){E={}},n}(),tv=function(e){return ev().sanitize(e)},nv=tinymce.util.Tools.resolve("tinymce.util.I18n"),ov={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},rv=function(e){return function(){return ye(e,"temporary-placeholder").getOr("!not found!")}},iv=function(e,t){var n=e.toLowerCase();if(nv.isRtl()){var o=function(e,t){return Te(e,t)?e:function(e,t){return e+t}(e,t)}(n,"-rtl");return we(t,o)?o:n}return n},av=function(e,t){return ye(t,iv(e,t))},uv=function(e,t){var n=t();return av(e,n).getOrThunk(rv(n))},sv=function(){return qp("add-focusable",[Li((function(e){Ja(e.element,"svg").each((function(e){return Mt(e,"focusable","false")}))}))])},cv=function(e,t,n,o){var r,i,a=function(e){return!!nv.isRtl()&&we(ov,e)}(t)?["tox-icon--flip"]:[],u=ye(n,iv(t,n)).or(o).getOrThunk(rv(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(a),innerHtml:u},behaviours:ss(I(I([],null!==(i=e.behaviours)&&void 0!==i?i:[],!0),[sv()],!1))}},lv=function(e,t,n,o){return void 0===o&&(o=P.none()),cv(t,e,n(),o)},dv={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},fv=hf({name:"Notification",factory:function(e){var t,n,o,r,i,a=eg({dom:Zh("<p>"+tv(e.translationProvider(e.text))+"</p>"),behaviours:ss([Gp.config({})])}),u=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},s=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},c=eg({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(0)]},s(0)],behaviours:ss([Gp.config({})])}),l={updateProgress:function(e,t){e.getSystem().isConnected()&&c.getOpt(e).each((function(e){Gp.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(t)]},s(t)])}))},updateText:function(e,t){if(e.getSystem().isConnected()){var n=a.get(e);Gp.set(n,[Ua(t)])}}},d=X([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return P.from(dv[e])})).toArray()]),f=eg(Jh.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[lv("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:function(t){e.onAction(t)}})),m=[(t=d,n={tag:"div",classes:["tox-notification__icon"]},o=e.iconProvider,r=o(),i=$(t,(function(e){return we(r,iv(e,r))})),cv(n,i.getOr("temporary-placeholder"),r,P.none())),{dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:ss([Gp.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:ss([Xp.config({}),qp("notification-events",[Ii(Br(),(function(e){f.getOpt(e).each(Xp.focus)}))])]),components:m.concat(e.progress?[c.asSpec()]:[]).concat(e.closeButton?[f.asSpec()]:[]),apis:l}},configFields:[$o("level"),zo("progress"),zo("icon"),zo("onAction"),zo("text"),zo("iconProvider"),zo("translationProvider"),ur("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function mv(e,t,n){var o=t.backstage.shared;return{open:function(t,r){var i=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0),a=function(){r(),Rh.hide(s)},u=Wa(fv.sketch({text:t.text,level:j(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:P.from(t.icon),closeButton:!i,onAction:a,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),s=Wa(Rh.sketch(_({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{}},o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));n.add(s),t.timeout>0&&Xh.setTimeout((function(){a()}),t.timeout);var c=function(){var t=Tn(Pe.fromDom(e.getContentAreaContainer())),n=Dn(),o=Pu(n.x,t.x,t.right),r=Pu(n.y,t.y,t.bottom),i=Math.max(t.right,n.right),a=Math.max(t.bottom,n.bottom);return P.some(In(o,r,i-o,a-r))};return{close:a,moveTo:function(e,t){Rh.showAt(s,Ga(u),{anchor:{type:"makeshift",x:e,y:t}})},moveRel:function(e,t){var n=Ga(u),r={maxHeightFunction:tc()};if("banner"!==t&&d(e)){var i=function(e){switch(e){case"bc-bc":return Wh;case"tc-tc":return Hh;case"tc-bc":return qu;case"bc-tc":default:return Yu}}(t),a={type:"node",root:Et(),node:P.some(Pe.fromDom(e)),overrides:r,layouts:{onRtl:function(){return[i]},onLtr:function(){return[i]}}};Rh.showWithinBounds(s,n,{anchor:a},c)}else{var l=_(_({},o.anchors.banner()),{overrides:r});Rh.showWithinBounds(s,n,{anchor:l},c)}},text:function(e){fv.updateText(u,e)},settings:t,getEl:function(){return u.element.dom},progressBar:{value:function(e){fv.updateProgress(u,e)}}}},close:function(e){e.close()},reposition:function(e){e.length>0&&W(e,(function(t,n){0===n?t.moveRel(null,"banner"):t.moveRel(e[n-1].getEl(),"bc-tc")}))},getArgs:function(e){return e.settings}}}var pv,hv=function(e,t){var n=null,o=function(){u(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];o(),n=setTimeout((function(){n=null,e.apply(null,r)}),t)}}},gv=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),vv=function(e,t,n,o,r){var i=gv(e,(function(t){return function(e,t){return e.isBlock(t)||j(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}(e,t)}));return P.from(i.backwards(t,n,o,r))},bv=function(e,t){return yv(Pe.fromDom(e.selection.getNode())).getOrThunk((function(){var n=Pe.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return gn(n,Pe.fromDom(t.extractContents())),t.insertNode(n.dom),ht(n).each((function(e){return e.dom.normalize()})),function(e){return Wc(e,Hc)}(n).map((function(t){e.selection.setCursorLocation(t.dom,function(e){return"img"===Le(e)?1:Uc(e).fold((function(){return vt(e).length}),(function(e){return e.length}))}(t))})),n}))},yv=function(e){return eu(e,"[data-mce-autocompleter]")},wv=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},xv=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)},Sv=function(e,t){return e.substring(t.length)},Av=function(e,t,n,o){if(void 0===o&&(o=0),!(r=t).collapsed||3!==r.startContainer.nodeType)return P.none();var r,i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return vv(e,t.startContainer,t.startOffset,(function(e,t,o){return function(e,t,n){var o;for(o=t-1;o>=0;o--){var r=e.charAt(o);if(xv(r))return P.none();if(r===n)break}return P.some(o)}(o,t,n).getOr(t)}),i).bind((function(e){var r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return P.none();var i=wv(r);return 0!==i.lastIndexOf(n)||Sv(i,n).length<o?P.none():P.some({text:Sv(i,n),range:r,triggerChar:n})}))},Cv=function(e,t,n,o){return void 0===o&&(o=0),yv(Pe.fromDom(t.startContainer)).fold((function(){return Av(e,t,n,o)}),(function(t){var o=e.createRng();o.selectNode(t.dom);var r=wv(o);return P.some({range:o,text:Sv(r,n),triggerChar:n})}))},kv=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){wi(e,Fr(),{raw:t})};t.on("keydown",(function(t){var o=function(){return e.getView().bind(Gf.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(o().each(xi),t.preventDefault()):40===t.which?(o().fold((function(){e.getView().each(Gf.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||o().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&yv(Pe.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},_v=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ov=function(e,t){return{container:e,offset:t}},Iv=function(e){if(function(e){return 3===e.nodeType}(e))return Ov(e,e.data.length);var t=e.childNodes;return t.length>0?Iv(t[t.length-1]):Ov(e,t.length)},Tv=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?Tv(n[t],0):n.length>0&&function(e){return 1===e.nodeType}(e)&&n.length===t?Iv(n[n.length-1]):Ov(e,t)},Ev=function(e){return function(t){var n=Tv(t.startContainer,t.startOffset);return!function(e,t){return vv(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1);return!xv(t)})).isSome()}(e,n)}},Dv=function(e,t){var n=t(),o=e.selection.getRng();return function(e,t,n){return ce(n.triggerChars,(function(n){return Cv(e,t,n)}))}(e.dom,o,n).bind((function(n){return Rv(e,t,n)}))},Rv=function(e,t,n,o){void 0===o&&(o={});var r=t(),i=e.selection.getRng().startContainer.nodeValue,a=q(r.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Ev(e.dom)}))(n.range,i,n.text)}));if(0===a.length)return P.none();var u=_v.all(H(a,(function(e){return e.fetch(n.text,e.maxResults,o).then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))})));return P.some({lookupData:u,context:n})},Mv=ho([Ho("type"),Jo("text")]),Pv=ho([nr("type","autocompleteitem"),nr("active",!1),nr("disabled",!1),nr("meta",{}),Ho("value"),Jo("text"),Jo("icon")]),Bv=ho([Ho("type"),Ho("ch"),rr("minChars",1),nr("columns",1),rr("maxResults",10),Zo("matches"),Go("fetch"),Go("onAction"),cr("highlightOn",[],Ao)]),Lv=[ur("disabled",!1),Jo("tooltip"),Jo("icon"),Jo("text"),sr("onSetup",(function(){return h}))],Fv=ho([Ho("type"),Go("onAction")].concat(Lv)),Nv=function(e){return Ro("toolbarbutton",Fv,e)},jv=[ur("active",!1)].concat(Lv),zv=ho(jv.concat([Ho("type"),Go("onAction")])),Uv=function(e){return Ro("ToggleButton",zv,e)},Vv=[sr("predicate",A),ar("scope","node",["node","editor"]),ar("position","selection",["node","selection","line"])],Hv=Lv.concat([nr("type","contextformbutton"),nr("primary",!1),Go("onAction"),No("original",b)]),Wv=jv.concat([nr("type","contextformbutton"),nr("primary",!1),Go("onAction"),No("original",b)]),Gv=Lv.concat([nr("type","contextformbutton")]),qv=jv.concat([nr("type","contextformtogglebutton")]),Yv=Lo("type",{contextformbutton:Hv,contextformtogglebutton:Wv}),Qv=ho([nr("type","contextform"),sr("initValue",v("")),Jo("label"),Qo("commands",Yv),Ko("launch",Lo("type",{contextformbutton:Gv,contextformtogglebutton:qv}))].concat(Vv)),$v=ho([nr("type","contexttoolbar"),Ho("items")].concat(Vv)),Kv=function(e){var t=e.ui.registry.getAll().popups,n=me(t,(function(e){return(t=e,Ro("Autocompleter",Bv,t)).fold((function(e){throw new Error(Bo(e))}),b);var t})),o=function(e){var t={};return W(e,(function(e){t[e]={}})),le(t)}(ge(n,(function(e){return e.ch}))),r=be(n);return{dataset:n,triggerChars:o,lookupByChar:function(e){return q(r,(function(t){return t.ch===e}))}}};!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(pv||(pv={}));var Xv,Jv=pv,Zv="tox-menu-nav__js",eb={normal:Zv,color:"tox-swatch"},tb="tox-collection__item-label",nb="tox-collection__item--active",ob=function(e){return ye(eb,e).getOr(Zv)},rb=function(e){return"color"===e?"tox-swatches":"tox-menu"},ib=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:rb(e),tieredMenu:"tox-tiered-menu"}},ab=function(e){var t=ib(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:ob(e)}},ub=function(e,t,n){var o=ib(n);return{tag:"div",classes:X([[o.menu,"tox-menu-"+t+"-column"],e?[o.hasIcons]:[]])}},sb=[kh.parts.items({})],cb=function(e,t,n){var o=ib(n);return{dom:{tag:"div",classes:X([[o.tieredMenu]])},markers:ab(n)}},lb=function(e,t){return function(n){var o=V(n,t);return H(o,(function(t){return{dom:e,components:t}}))}},db=function(e,t){var n=[],o=[];return W(e,(function(e,r){t(e,r)?(o.length>0&&n.push(o),o=[],we(e.dom,"innerHtml")&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),H(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))},fb=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[kh.parts.items({preprocess:function(n){return"auto"!==e&&e>1?lb({tag:"div",classes:["tox-collection__group"]},e)(n):db(n,(function(e,n){return"separator"===t[n].type}))}})]}},mb=function(e){return z(e,(function(e){return"icon"in e&&void 0!==e.icon}))},pb=function(e){return console.error(Bo(e)),console.log(e),P.none()},hb=function(e,t,n,o,r){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[kh.parts.items({preprocess:function(e){return db(e,(function(e,t){return"separator"===i[t].type}))}})]});return{value:e,dom:a.dom,components:a.components,items:n}},gb=function(e,t,n,o,r){var i;return"color"===r?{value:e,dom:(i=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[kh.parts.items({preprocess:"auto"!==e?lb({tag:"div",classes:["tox-swatches__row"]},e):b})]}]}}(o)).dom,components:i.components,items:n}:"normal"===r&&"auto"===o?{value:e,dom:(i=fb(o,n)).dom,components:i.components,items:n}:"normal"===r&&1===o?{value:e,dom:(i=fb(1,n)).dom,components:i.components,items:n}:"normal"===r?{value:e,dom:(i=fb(o,n)).dom,components:i.components,items:n}:"listpreview"===r&&"auto"!==o?{value:e,dom:(i=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[kh.parts.items({preprocess:lb({tag:"div",classes:["tox-collection__group"]},e)})]}}(o)).dom,components:i.components,items:n}:{value:e,dom:ub(t,o,r),components:sb,items:n}},vb=[Ho("type"),Ho("src"),Jo("alt"),cr("classes",[],Ao)],bb=ho(vb),yb=[Ho("type"),Ho("text"),Jo("name"),cr("classes",["tox-collection__item-label"],Ao)],wb=ho(yb),xb=fo((function(){return To("type",{cardimage:bb,cardtext:wb,cardcontainer:Sb})})),Sb=ho([Ho("type"),ir("direction","horizontal"),ir("align","left"),ir("valign","middle"),Qo("items",xb)]),Ab=[ur("disabled",!1),Jo("text"),Jo("shortcut"),Fo("value","value",Zn((function(){return Qi("menuitem-value")})),wo()),nr("meta",{})],Cb=ho([Ho("type"),Jo("label"),Qo("items",xb),sr("onSetup",(function(){return h})),sr("onAction",h)].concat(Ab)),kb=ho([Ho("type"),ur("active",!1),Jo("icon")].concat(Ab)),_b=[Ho("type"),Ho("fancytype"),sr("onAction",h)],Ob=[nr("initData",{})].concat(_b),Ib=[lr("initData",{},[ur("allowCustomColors",!0),er("colors",wo())])].concat(_b),Tb=Lo("fancytype",{inserttable:Ob,colorswatch:Ib}),Eb=ho([Ho("type"),sr("onSetup",(function(){return h})),sr("onAction",h),Jo("icon")].concat(Ab)),Db=ho([Ho("type"),Go("getSubmenuItems"),sr("onSetup",(function(){return h})),Jo("icon")].concat(Ab)),Rb=ho([Ho("type"),Jo("icon"),ur("active",!1),sr("onSetup",(function(){return h})),Go("onAction")].concat(Ab)),Mb=function(e,t,n){var o=Gc(e.element,"."+n);if(o.length>0){var r=K(o,(function(e){var n=e.dom.getBoundingClientRect().top,r=o[0].dom.getBoundingClientRect().top;return Math.abs(n-r)>t})).getOr(o.length);return P.some({numColumns:r,numRows:Math.ceil(o.length/r)})}return P.none()},Pb=function(e,t){return ss([qp(e,t)])},Bb=function(e){return Pb(Qi("unnamed-events"),e)},Lb=Qi("tooltip.exclusive"),Fb=Qi("tooltip.show"),Nb=Qi("tooltip.hide"),jb=function(e,t,n){e.getSystem().broadcastOn([Lb],{})},zb=Object.freeze({__proto__:null,hideAllExclusive:jb,setComponents:function(e,t,n,o){n.getTooltip().each((function(e){e.getSystem().isConnected()&&Gp.set(e,o)}))}}),Ub=Object.freeze({__proto__:null,events:function(e,t){var n=function(n){t.getTooltip().each((function(o){Dl(o),e.onHide(n,o),t.clearTooltip()})),t.clearTimer()};return ki(X([[Ii(Fb,(function(n){t.resetTimer((function(){!function(n){if(!t.isShowing()){jb(n);var o=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:ki("normal"===e.mode?[Ii(Pr(),(function(e){yi(n,Fb)})),Ii(Rr(),(function(e){yi(n,Nb)}))]:[]),behaviours:ss([Gp.config({})])});t.setTooltip(r),Il(o,r),e.onShow(n,r),Al.position(o,r,{anchor:e.anchor(n)})}}(n)}),e.delay)})),Ii(Nb,(function(o){t.resetTimer((function(){n(o)}),e.delay)})),Ii(Xr(),(function(e,t){var o=t;o.universal||j(o.channels,Lb)&&n(e)})),Fi((function(e){n(e)}))],"normal"===e.mode?[Ii(Br(),(function(e){yi(e,Fb)})),Ii($r(),(function(e){yi(e,Nb)})),Ii(Pr(),(function(e){yi(e,Fb)})),Ii(Rr(),(function(e){yi(e,Nb)}))]:[Ii(vi(),(function(e,t){yi(e,Fb)})),Ii(bi(),(function(e){yi(e,Nb)}))]]))}}),Vb=[zo("lazySink"),zo("tooltipDom"),nr("exclusive",!0),nr("tooltipComponents",[]),nr("delay",300),ar("mode","normal",["normal","follow-highlight"]),nr("anchor",(function(e){return{type:"hotspot",hotspot:e,layouts:{onLtr:v([Yu,qu,Vu,Wu,Hu,Gu]),onRtl:v([Yu,qu,Vu,Wu,Hu,Gu])}}})),gu("onHide"),gu("onShow")],Hb=ls({fields:Vb,name:"tooltipping",active:Ub,state:Object.freeze({__proto__:null,init:function(){var e=zs(),t=zs(),n=function(){e.on(clearTimeout)},o=v("not-implemented");return da({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:function(t,o){n(),e.set(setTimeout(t,o))},readState:o})}}),apis:zb}),Wb=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Gb=tinymce.util.Tools.resolve("tinymce.EditorManager"),qb=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},Yb=function(e){return e.getParam("width",Wb.DOM.getStyle(e.getElement(),"width"))},Qb=function(e){return P.from(e.getParam("min_width")).filter(m)},$b=function(e){return P.from(e.getParam("min_height")).filter(m)},Kb=function(e){return P.from(e.getParam("max_width")).filter(m)},Xb=function(e){return P.from(e.getParam("max_height")).filter(m)},Jb=function(e){return!1!==e.getParam("menubar",!0,"boolean")},Zb=function(e){var t=e.getParam("toolbar",!0),n=!0===t,o=r(t),i=a(t)&&t.length>0;return!ty(e)&&(i||o||n)},ey=function(e){var t=U(9,(function(t){return e.getParam("toolbar"+(t+1),!1,"string")})),n=q(t,(function(e){return"string"==typeof e}));return n.length>0?P.some(n):P.none()},ty=function(e){return ey(e).fold((function(){return e.getParam("toolbar",[],"string[]").length>0}),C)};!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(Xv||(Xv={}));var ny,oy=function(e){return e.getParam("toolbar_mode","","string")};!function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(ny||(ny={}));var ry,iy,ay=function(e){return e.getParam("toolbar_location",ny.auto,"string")},uy=function(e){return ay(e)===ny.bottom},sy=function(e){if(!e.inline)return P.none();var t=function(e){return e.getParam("fixed_toolbar_container","","string")}(e);if(t.length>0)return Za(Et(),t);var n=function(e){return e.getParam("fixed_toolbar_container_target")}(e);return d(n)?P.some(Pe.fromDom(n)):P.none()},cy=function(e){return e.inline&&sy(e).isSome()},ly=function(e){return sy(e).getOrThunk((function(){return kt(Ct(Pe.fromDom(e.getElement())))}))},dy=function(e){return e.inline&&!Jb(e)&&!Zb(e)&&!ty(e)},fy=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!cy(e)&&!dy(e)},my=function(e){var t=e.getParam("menu");return t?me(t,(function(e){return _(_({},e),{items:e.items})})):{}},py=function(e){return e.getParam("menubar")},hy=function(e){return e.getParam("anchor_top","#top")},gy=function(e){return e.getParam("anchor_bottom","#bottom")},vy=ho([(ry="readonly",Uo(ry,Co))]),by=function(e,t){var n=e.outerContainer.element;t&&(e.mothership.broadcastOn([ql()],{target:n}),e.uiMothership.broadcastOn([ql()],{target:n})),e.mothership.broadcastOn(["silver.readonly"],{readonly:t}),e.uiMothership.broadcastOn(["silver.readonly"],{readonly:t})},yy=function(e,t){e.on("init",(function(){e.mode.isReadOnly()&&by(t,!0)})),e.on("SwitchMode",(function(){return by(t,e.mode.isReadOnly())})),function(e){return e.getParam("readonly",!1,"boolean")}(e)&&e.setMode("readonly")},wy=function(){var e;return ps.config({channels:(e={},e["silver.readonly"]={schema:vy,onReceive:function(e,t){Pf.set(e,t.readonly)}},e)})},xy=function(e){return Pf.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},Sy=function(e){return Pf.config({disabled:e})},Ay=function(e){return Pf.config({disabled:e,disableClass:"tox-tbtn--disabled"})},Cy=function(e){return Pf.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},ky=function(e,t){var n=e.getApi(t);return function(e){e(n)}},_y=function(e,t){return Li((function(n){ky(e,n)((function(n){var o=e.onSetup(n);f(o)&&t.set(o)}))}))},Oy=function(e,t){return Fi((function(n){return ky(e,n)(t.get())}))},Iy=function(e,t){return ji((function(n,o){ky(e,n)(e.onAction),e.triggersSubmenu||t!==Jv.CLOSE_ON_EXECUTE||(yi(n,ni()),o.stop())}))},Ty=((iy={})[Jr()]=["disabling","alloy.base.behaviour","toggling","item-events"],iy),Ey=Ae,Dy=function(e,t,n,o){var r=dr(h);return{type:"item",dom:t.dom,components:Ey(t.optComponents),data:e.data,eventOrder:Ty,hasSubmenu:e.triggersSubmenu,itemBehaviours:ss([qp("item-events",[Iy(e,n),_y(e,r),Oy(e,r)]),xy((function(){return e.disabled||o.isDisabled()})),wy(),Gp.config({})].concat(e.itemBehaviours))}},Ry=function(e){return{value:e.value,meta:_({text:e.text.getOr("")},e.meta)}},My=tinymce.util.Tools.resolve("tinymce.Env"),Py=function(e){var t=My.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},n=e.split("+"),o=H(n,(function(e){var n=e.toLowerCase().trim();return we(t,n)?t[n]:e}));return My.mac?o.join(""):o.join("+")},By=function(e,t,n){return void 0===n&&(n=["tox-collection__item-icon"]),lv(e,{tag:"div",classes:n},t)},Ly=function(e){return{dom:{tag:"div",classes:[tb]},components:[Ua(nv.translate(e))]}},Fy=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}},Ny=function(e,t){return{dom:{tag:"div",classes:[tb]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Ua(nv.translate(t))]}]}},jy=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:Py(e)}}},zy=function(e){return By("checkmark",e,["tox-collection__item-checkmark"])},Uy=function(e,t,n){var o,r,i=e.ariaLabel,a=e.value,u=e.iconContent.map((function(e){return function(e,t,n){var o=t();return av(e,o).or(n).getOrThunk(rv(o))}(e,t.icons,n)}));return{dom:(o=u.getOr(""),r={tag:"div",attributes:i.map((function(e){return{title:t.translate(e)}})).getOr({}),classes:["tox-swatch"]},_(_({},r),"custom"===a?{tag:"button",classes:I(I([],r.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:o}:"remove"===a?{classes:I(I([],r.classes,!0),["tox-swatch--remove"],!1),innerHtml:o}:{attributes:_(_({},r.attributes),{"data-mce-color":a}),styles:{"background-color":a}})),optComponents:[]}},Vy=function(e){var t=e.map((function(e){return{attributes:{title:nv.translate(e)}}})).getOr({});return _({tag:"div",classes:[Zv,"tox-collection__item"]},t)},Hy=function(e,t,n,o){return void 0===o&&(o=P.none()),"color"===e.presets?Uy(e,t,o):function(e,t,n,o){var r={tag:"div",classes:["tox-collection__item-icon"]},i=n?e.iconContent.map((function(e){return lv(e,r,t.icons,o)})).orThunk((function(){return P.some({dom:r})})):P.none(),a=e.checkMark,u=P.from(e.meta).fold((function(){return Ly}),(function(e){return we(e,"style")?w(Ny,e.style):Ly})),s=e.htmlContent.fold((function(){return e.textContent.map(u)}),(function(e){return P.some(Fy(e,[tb]))}));return{dom:Vy(e.ariaLabel),optComponents:[i,s,e.shortcutContent.map(jy),a,e.caret]}}(e,t,n,o)},Wy=function(e,t){return ye(e,"tooltipWorker").map((function(e){return[Hb.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{type:"submenu",item:e,overrides:{maxHeightFunction:tc}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){Hb.setComponents(t,[Va({element:Pe.fromDom(e)})])}))}})]})).getOr([])},Gy=function(e,t){var n=function(e){return Wb.DOM.encode(e)}(nv.translate(e));if(t.length>0){var o=new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t),"gi");return n.replace(o,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}return n},qy=function(e,t){return H(e,(function(e){switch(e.type){case"cardcontainer":return function(e,t){return{dom:{tag:"div",classes:["tox-collection__item-container","vertical"===e.direction?"tox-collection__item-container--column":"tox-collection__item-container--row","left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",function(){switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:t}}(e,qy(e.items,t));case"cardimage":return function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}}(e.src,e.classes,e.alt);case"cardtext":var n=e.name.exists((function(e){return j(t.cardText.highlightOn,e)}))?P.from(t.cardText.matchText).getOr(""):"";return Fy(Gy(e.text,n),e.classes)}}))},Yy=Yd(bh(),yh()),Qy=function(e){return{value:e}},$y=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ky=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Xy=function(e){return $y.test(e)||Ky.test(e)},Jy=function(e){return function(e,t){return Ie(e,t)?function(e,t){return e.substring(t)}(e,t.length):e}(e,"#").toUpperCase()},Zy=function(e){var t=function(e){return{value:e.value.replace($y,(function(e,t,n,o){return t+t+n+n+o+o}))}}(e),n=Ky.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},ew=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},tw=function(e){var t=ew(e.red)+ew(e.green)+ew(e.blue);return Qy(t)},nw=Math.min,ow=Math.max,rw=Math.round,iw=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,aw=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,uw=function(e,t,n,o){return{red:e,green:t,blue:n,alpha:o}},sw=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},cw=function(e){var t,n,o,r=(e.hue||0)%360,i=e.saturation/100,a=e.value/100;if(i=ow(0,nw(i,1)),a=ow(0,nw(a,1)),0===i)return t=n=o=rw(255*a),uw(t,n,o,1);var u=r/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:t=s,n=c,o=0;break;case 1:t=c,n=s,o=0;break;case 2:t=0,n=s,o=c;break;case 3:t=0,n=c,o=s;break;case 4:t=c,n=0,o=s;break;case 5:t=s,n=0,o=c;break;default:t=n=o=0}return t=rw(255*(t+l)),n=rw(255*(n+l)),o=rw(255*(o+l)),uw(t,n,o,1)},lw=function(e){var t=Zy(e),n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16);return uw(n,o,r,1)},dw=function(e,t,n,o){var r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(o);return uw(r,i,a,u)},fw=function(e){if("transparent"===e)return P.some(uw(0,0,0,0));var t=iw.exec(e);if(null!==t)return P.some(dw(t[1],t[2],t[3],"1"));var n=aw.exec(e);return null!==n?P.some(dw(n[1],n[2],n[3],n[4])):P.none()},mw=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},pw=uw(255,0,0,1),hw=function(e,t){return e.fire("ResizeContent",t)},gw=function(e,t,n){return{hue:e,saturation:t,value:n}},vw=function(e){var t,n=0,o=0,r=e.red/255,i=e.green/255,a=e.blue/255,u=Math.min(r,Math.min(i,a)),s=Math.max(r,Math.max(i,a));return u===s?gw(0,0,100*(o=u)):(n=60*((n=r===u?3:a===u?1:5)-(r===u?i-a:a===u?r-i:a-r)/(s-u)),t=(s-u)/s,o=s,gw(Math.round(n),Math.round(100*t),Math.round(100*o)))},bw=function(e){return tw(cw(e))},yw=function(e){return(t=e,Xy(t)?P.some({value:Jy(t)}):P.none()).orThunk((function(){return fw(e).map(tw)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1,t.width=1;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);var o=n.getImageData(0,0,1,1).data,r=o[0],i=o[1],a=o[2],u=o[3];return tw(uw(r,i,a,u))}));var t},ww=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");var xw,Sw="choiceitem",Aw=[{type:Sw,text:"Light Green",value:"#BFEDD2"},{type:Sw,text:"Light Yellow",value:"#FBEEB8"},{type:Sw,text:"Light Red",value:"#F8CAC6"},{type:Sw,text:"Light Purple",value:"#ECCAFA"},{type:Sw,text:"Light Blue",value:"#C2E0F4"},{type:Sw,text:"Green",value:"#2DC26B"},{type:Sw,text:"Yellow",value:"#F1C40F"},{type:Sw,text:"Red",value:"#E03E2D"},{type:Sw,text:"Purple",value:"#B96AD9"},{type:Sw,text:"Blue",value:"#3598DB"},{type:Sw,text:"Dark Turquoise",value:"#169179"},{type:Sw,text:"Orange",value:"#E67E23"},{type:Sw,text:"Dark Red",value:"#BA372A"},{type:Sw,text:"Dark Purple",value:"#843FA1"},{type:Sw,text:"Dark Blue",value:"#236FA1"},{type:Sw,text:"Light Gray",value:"#ECF0F1"},{type:Sw,text:"Medium Gray",value:"#CED4D9"},{type:Sw,text:"Gray",value:"#95A5A6"},{type:Sw,text:"Dark Gray",value:"#7E8C8D"},{type:Sw,text:"Navy Blue",value:"#34495E"},{type:Sw,text:"Black",value:"#000000"},{type:Sw,text:"White",value:"#ffffff"}],Cw=function(e){void 0===e&&(e=10);var t,n=ww.getItem("tinymce-custom-colors"),o=r(n)?JSON.parse(n):[],i=e-(t=o).length<0?t.slice(0,e):t,a=function(e){i.splice(e,1)};return{add:function(t){(function(e,t){var n=N(e,t);return-1===n?P.none():P.some(n)})(i,t).each(a),i.unshift(t),i.length>e&&i.pop(),ww.setItem("tinymce-custom-colors",JSON.stringify(i))},state:function(){return i.slice(0)}}}(10),kw=function(e){return!1!==e.getParam("custom_colors")},_w=function(e){var t=function(e){return e.getParam("color_map")}(e);return void 0!==t?function(e){for(var t=[],n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+yw(e[n]).value,type:"choiceitem"});return t}(t):Aw},Ow=function(e){Cw.add(e)},Iw=function(e){return function(e,t){return e.getParam("color_cols",t,"number")}(e,function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))}(_w(e).length))},Tw=function(e){var t={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[t,{type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"}]:[t]},Ew=function(e,t,n,o){"custom"===n?Lw(e)((function(n){n.each((function(n){Ow(n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),"#000000"):"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},Dw=function(e,t){return e.concat(H(Cw.state(),(function(e){return{type:Sw,text:e,value:e}})).concat(Tw(t)))},Rw=function(e,t){return function(n){n(Dw(e,t))}},Mw=function(e,t,n){var o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},Pw=function(e,t,n,o,r){e.ui.registry.addSplitButton(t,{tooltip:o,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){return function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var o;(o=e.style["forecolor"===t?"color":"background-color"])&&(n=n||o)})),P.from(n)}(e,n).bind((function(e){return fw(e).map((function(e){var n=tw(e).value;return Oe(t.toLowerCase(),n)}))})).getOr(!1)},columns:Iw(e),fetch:Rw(_w(e),kw(e)),onAction:function(t){Ew(e,n,r.get(),h)},onItemAction:function(o,i){Ew(e,n,i,(function(n){r.set(n),function(e,t){e.fire("TextColorChange",t)}(e,{name:t,color:n})}))},onSetup:function(n){Mw(n,t,r.get());var o=function(e){e.name===t&&Mw(n,e.name,e.color)};return e.on("TextColorChange",o),function(){e.off("TextColorChange",o)}}})},Bw=function(e,t,n,o){e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){Ew(e,n,t.value,h)}}]}})},Lw=function(e){return function(t,n){var o=!1,r={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:function(e,t){"hex-valid"===t.name&&(o=t.value)},onSubmit:function(n){var r=n.getData().colorpicker;o?(t(P.from(r)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))},onClose:h,onCancel:function(){t(P.none())}})}},Fw=function(e,t,n,o,r,i,a,u){var s=mb(t),c=Nw(t,n,o,"color"!==r?"normal":"color",i,a,u);return gb(e,s,c,o,r)},Nw=function(e,t,n,o,r,i,a){return Ae(H(e,(function(u){return"choiceitem"===u.type?(s=u,Ro("choicemenuitem",kb,s)).fold(pb,(function(s){return P.some(function(e,t,n,o,r,i,a,u){void 0===u&&(u=!0);var s=Hy({presets:n,textContent:t?e.text:P.none(),htmlContent:P.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:P.none(),checkMark:t?P.some(zy(a.icons)):P.none(),caret:P.none(),value:e.value},a,u);return Xn(Dy({data:Ry(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){ch.set(e,t)},isActive:function(){return ch.isOn(e)},isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){return Pf.set(e,t)}}},onAction:function(t){return o(e.value)},onSetup:function(e){return e.setActive(r),h},triggersSubmenu:!1,itemBehaviours:[]},s,i,a),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})}(s,1===n,o,t,i(u.value),r,a,mb(e)))})):P.none();var s})))},jw=function(e,t){var n=ab(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},zw=function(e,t){var n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((function(){return Dw(t.colorinput.getColors(),n)}),(function(e){return e.concat(Tw(n))}))},Uw=Qi("cell-over"),Vw=Qi("cell-execute"),Hw=function(e,t,n){var o,r=function(n){return wi(n,Vw,{row:e,col:t})},i=function(e,t){t.stop(),r(e)};return Wa({dom:{tag:"div",attributes:(o={role:"button"},o["aria-labelledby"]=n,o)},behaviours:ss([qp("insert-table-picker-cell",[Ii(Pr(),Xp.focus),Ii(Jr(),r),Ii(Ur(),i),Ii(ei(),i)]),ch.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Xp.config({onFocus:function(n){return wi(n,Uw,{row:e,col:t})}})])})},Ww=function(e){return J(e,(function(e){return H(e,Ga)}))},Gw=function(e,t){return Ua(t+"x"+e)},qw={inserttable:function(e){var t=Qi("size-label"),n=function(e,t,n){for(var o=[],r=0;r<t;r++){for(var i=[],a=0;a<n;a++)i.push(Hw(r,a,e));o.push(i)}return o}(t,10,10),o=Gw(0,0),r=eg({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[o],behaviours:ss([Gp.config({})])});return{type:"widget",data:{value:Qi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Yy.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Ww(n).concat(r.asSpec()),behaviours:ss([qp("insert-table-picker",[Li((function(e){Gp.set(r.get(e),[o])})),Ri(Uw,(function(e,t,o){var i=o.event,a=i.row,u=i.col;!function(e,t,n,o,r){for(var i=0;i<o;i++)for(var a=0;a<r;a++)ch.set(e[i][a],i<=t&&a<=n)}(n,a,u,10,10),Gp.set(r.get(e),[Gw(a+1,u+1)])})),Ri(Vw,(function(t,n,o){var r=o.event,i=r.row,a=r.col;e.onAction({numRows:i+1,numColumns:a+1}),yi(t,ni())}))]),zp.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,t){var n=zw(e,t),o=t.colorinput.getColorCols(),r=Fw(Qi("menu-value"),n,(function(t){e.onAction({value:t})}),o,"color",Jv.CLOSE_ON_EXECUTE,A,t.shared.providers),i=_(_({},r),{markers:ab("color"),movement:jw(o,"color")});return{type:"widget",data:{value:Qi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Yy.widget(kh.sketch(i))]}}},Yw=function(e,t,n,o,r,i,a,u){void 0===u&&(u=!0);var s=Hy({presets:o,textContent:P.none(),htmlContent:n?e.text.map((function(e){return Gy(e,t)})):P.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:e.value},a.providers,u,e.icon);return Dy({data:Ry(e),disabled:e.disabled,getApi:v({}),onAction:function(t){return r(e.value,e.meta)},onSetup:v(h),triggersSubmenu:!1,itemBehaviours:Wy(e.meta,a)},s,i,a.providers)},Qw=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}));return{type:"separator",dom:_({tag:"div",classes:["tox-collection__item","tox-collection__group-heading"]},t),components:[]}},$w=function(e,t,n,o){void 0===o&&(o=!0);var r=Hy({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,caret:P.none(),checkMark:P.none(),shortcutContent:e.shortcut},n,o);return Dy({data:Ry(e),getApi:function(e){return{isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){return Pf.set(e,t)}}},disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)},Kw=function(e,t,n,o,r){void 0===o&&(o=!0),void 0===r&&(r=!1);var i,a=r?(i=n.icons,By("chevron-down",i,["tox-collection__item-caret"])):function(e){return By("chevron-right",e,["tox-collection__item-caret"])}(n.icons),u=Hy({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,caret:P.some(a),checkMark:P.none(),shortcutContent:e.shortcut},n,o);return Dy({data:Ry(e),getApi:function(e){return{isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){return Pf.set(e,t)}}},disabled:e.disabled,onAction:h,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,t,n)},Xw=function(e,t,n,o){void 0===o&&(o=!0);var r=Hy({iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,checkMark:P.some(zy(n.icons)),caret:P.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return Xn(Dy({data:Ry(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){ch.set(e,t)},isActive:function(){return ch.isOn(e)},isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){return Pf.set(e,t)}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},Jw=function(e,t){return ye(qw,e.fancytype).map((function(n){return n(e,t)}))},Zw=function(e,t,n,o){var r={dom:Vy(e.label),optComponents:[P.some({dom:{tag:"div",classes:["tox-collection__item-container","tox-collection__item-container--row"]},components:qy(e.items,o)})]};return Dy({data:Ry(_({text:P.none()},e)),disabled:e.disabled,getApi:function(e){return{isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){Pf.set(e,t),W(Gc(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(Pf)&&Pf.set(e,t)}))}))}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(o.itemBehaviours).getOr([])},r,t,n.providers)};!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(xw||(xw={}));var ex=function(e,t,n,o,r){var i,a=n.shared.providers,u=function(e){return r?_(_({},e),{shortcut:P.none(),icon:e.text.isSome()?P.none():e.icon}):e};switch(e.type){case"menuitem":return(i=e,Ro("menuitem",Eb,i)).fold(pb,(function(e){return P.some($w(u(e),t,a,o))}));case"nestedmenuitem":return function(e){return Ro("nestedmenuitem",Db,e)}(e).fold(pb,(function(e){return P.some(Kw(u(e),t,a,o,r))}));case"togglemenuitem":return function(e){return Ro("togglemenuitem",Rb,e)}(e).fold(pb,(function(e){return P.some(Xw(u(e),t,a,o))}));case"separator":return function(e){return Ro("separatormenuitem",Mv,e)}(e).fold(pb,(function(e){return P.some(Qw(e))}));case"fancymenuitem":return function(e){return Ro("fancymenuitem",Tb,e)}(e).fold(pb,(function(e){return Jw(u(e),n)}));default:return console.error("Unknown item in general menu",e),P.none()}},tx=function(e,t,n,o,r,i,a){var u=1===o,s=!u||mb(e);return Ae(H(e,(function(e){switch(e.type){case"separator":return(o=e,Ro("Autocompleter.Separator",Mv,o)).fold(pb,(function(e){return P.some(Qw(e))}));case"cardmenuitem":return function(e){return Ro("cardmenuitem",Cb,e)}(e).fold(pb,(function(e){return P.some(Zw(_(_({},e),{onAction:function(t){e.onAction(t),n(e.value,e.meta)}}),r,i,{itemBehaviours:Wy(e.meta,i),cardText:{matchText:t,highlightOn:a}}))}));case"autocompleteitem":default:return function(e){return Ro("Autocompleter.Item",Pv,e)}(e).fold(pb,(function(e){return P.some(Yw(e,t,u,"normal",n,r,i,s))}))}var o})))},nx=function(e,t,n,o,r){var i=mb(t),a=Ae(H(t,(function(e){var t=function(e){return ex(e,n,o,function(e){return r?!we(e,"text"):i}(e),r)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t(_(_({},e),{disabled:!0})):t(e)})));return(r?hb:gb)(e,i,a,1,"normal")},ox=function(e){return Dh.singleData(e.value,e)},rx=function(e,t){var n=zs(),o=dr(!1),r=Wa(Rh.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:ss([qp("dismissAutocompleter",[Ii(di(),(function(){return u()}))])]),lazySink:t.getSink})),i=function(){return n.get().isSome()},a=function(){i()&&Rh.hide(r)},u=function(){if(i()){var t=n.get().map((function(e){return e.element}));yv(t.getOr(Pe.fromDom(e.selection.getNode()))).each(wn),a(),n.clear(),o.set(!1)}},s=Ve((function(){return Kv(e)})),c=function(t,n,o,i){t.matchLength=n.text.length;var a=ce(o,(function(e){return P.from(e.columns)})).getOr(1);Rh.showAt(r,kh.sketch(function(e,t,n,o){var r=n===xw.ContentFocus?mm():fm(),i=jw(t,o),a=ab(o);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===xw.ContentFocus,focusManager:r,menuBehaviours:Bb("auto"!==t?[]:[Li((function(e,t){Mb(e,4,a.item).each((function(t){var n=t.numColumns,o=t.numRows;zp.setGridSize(e,o,n)}))}))])}}(gb("autocompleter-value",!0,i,a,"normal"),a,xw.ContentFocus,"normal")),{anchor:{type:"node",root:Pe.fromDom(e.getBody()),node:P.from(t.element)}}),Rh.getContent(r).each(Gf.highlightFirst)},l=function(r){(function(t){return n.get().map((function(n){return Cv(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Rv(e,s,n,t)}))})).getOrThunk((function(){return Dv(e,s)}))})(r).fold(u,(function(r){!function(t){if(!i()){var r=bv(e,t.range);n.set({triggerChar:t.triggerChar,element:r,matchLength:t.text.length}),o.set(!1)}}(r.context),r.lookupData.then((function(i){n.get().map((function(n){var s,d,f,m=r.context;if(n.triggerChar===m.triggerChar){var p=(s=m.triggerChar,f=ce(d=i,(function(e){return P.from(e.columns)})).getOr(1),J(d,(function(n){var r=n.items;return tx(r,n.matchText,(function(t,r){var i=e.selection.getRng();Cv(e.dom,i,s).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(e){var i=e.range,s={hide:function(){u()},reload:function(e){a(),l(e)}};o.set(!0),n.onAction(s,i,t,r),o.set(!1)}))}),f,Jv.BUBBLE_TO_SANDBOX,t,n.highlightOn)})));p.length>0?c(n,m,i,p):m.text.length-n.matchLength>=10?u():a()}}))}))}))},d={onKeypress:hv((function(e){27!==e.which&&l()}),50),cancelIfNecessary:u,isMenuOpen:function(){return Rh.isOpen(r)},isActive:i,isProcessingAction:o.get,getView:function(){return Rh.getContent(r)}};!1===e.hasPlugin("rtc")&&kv(d,e)},ix=function(e,t,n){return eu(e,t,n).isSome()},ax=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},schedule:function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];n=setTimeout((function(){e.apply(null,o),n=null}),t)}}},ux=function(e){var t=e.raw;return void 0===t.touches||1!==t.touches.length?P.none():P.some(t.touches[0])},sx=function(e){var t=zs(),n=dr(!1),o=ax((function(t){e.triggerEvent(ti(),t),n.set(!0)}),400),r=gr([{key:_r(),value:function(e){return ux(e).each((function(r){o.cancel();var i={x:r.clientX,y:r.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(i)})),P.none()}},{key:Or(),value:function(e){return o.cancel(),ux(e).each((function(e){t.on((function(n){(function(e,t){var n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(e,n)&&t.clear()}))})),P.none()}},{key:Ir(),value:function(r){o.cancel();return t.get().filter((function(e){return st(e.target,r.target)})).map((function(t){return n.get()?(r.prevent(),!1):e.triggerEvent(ei(),r)}))}}]);return{fireIfReady:function(e,t){return ye(r,t).bind((function(t){return t(e)}))}}},cx=function(){return it().browser.isFirefox()},lx=function(e,t){var n=_({stopBackspace:!0},t),o=sx(n),r=H(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return Vs(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()}))})),i=zs(),a=Vs(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),i.set(setTimeout((function(){n.triggerEvent(Kr(),e)}),0))})),u=Vs(e,"keydown",(function(e){n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&function(e){return e.raw.which===qf[0]&&!j(["input","textarea"],Le(e.target))&&!ix(e.target,'[contenteditable="true"]')}(e)&&e.prevent()})),s=function(e,t){return cx()?Hs(e,"focus",t):Vs(e,"focusin",t)}(e,(function(e){n.triggerEvent("focusin",e)&&e.kill()})),c=zs(),l=function(e,t){return cx()?Hs(e,"blur",t):Vs(e,"focusout",t)}(e,(function(e){n.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((function(){n.triggerEvent($r(),e)}),0))}));return{unbind:function(){W(r,(function(e){e.unbind()})),u.unbind(),s.unbind(),l.unbind(),a.unbind(),i.on(clearTimeout),c.on(clearTimeout)}}},dx=function(e,t){var n=ye(e,"target").getOr(t);return dr(n)},fx=fr([{stopped:[]},{resume:["element"]},{complete:[]}]),mx=function(e,t,n,o,r,i){var a=e(t,o),u=function(e,t){var n=dr(!1),o=dr(!1);return{stop:function(){n.set(!0)},cut:function(){o.set(!0)},isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}}(n,r);return a.fold((function(){return i.logEventNoHandlers(t,o),fx.complete()}),(function(e){var n=e.descHandler;return pa(n)(u),u.isStopped()?(i.logEventStopped(t,e.element,n.purpose),fx.stopped()):u.isCut()?(i.logEventCut(t,e.element,n.purpose),fx.complete()):ht(e.element).fold((function(){return i.logNoParent(t,e.element,n.purpose),fx.complete()}),(function(o){return i.logEventResponse(t,e.element,n.purpose),fx.resume(o)}))}))},px=function(e,t,n,o,r,i){return mx(e,t,n,o,r,i).fold(C,(function(o){return px(e,t,n,o,r,i)}),A)},hx=function(e,t,n){var o=function(e){var t=dr(!1);return{stop:function(){t.set(!0)},cut:h,isStopped:t.get,isCut:A,event:e,setSource:S("Cannot set source of a broadcasted event"),getSource:S("Cannot get source of a broadcasted event")}}(t);return W(e,(function(e){var t=e.descHandler;pa(t)(o)})),o.isStopped()},gx=function(e,t,n,o,r){var i=dx(n,o);return px(e,t,n,o,i,r)},vx=function(){var e={};return{registerId:function(t,n,o){fe(o,(function(o,r){var i=void 0!==e[r]?e[r]:{};i[n]=function(e,t){return n=w.apply(void 0,[e.handler].concat(t)),o=e.purpose,{cHandler:n,purpose:o};var n,o}(o,t),e[r]=i}))},unregisterId:function(t){fe(e,(function(e,n){we(e,t)&&delete e[t]}))},filterByType:function(t){return ye(e,t).map((function(e){return ge(e,(function(e,t){return function(e,t){return{id:e,descHandler:t}}(t,e)}))})).getOr([])},find:function(t,n,o){return ye(e,n).bind((function(e){return wr(o,(function(t){return function(e,t){return ea(t).bind((function(t){return ye(e,t)})).map((function(e){return function(e,t){return{element:e,descHandler:t}}(t,e)}))}(e,t)}),t)}))}}},bx=function(){var e=vx(),t={},n=function(e){var t=e.element;return ea(t).getOrThunk((function(){return function(e,t){var n=Qi(Xi+e);return Zi(t,n),n}("uid-",e.element)}))},o=function(n){ea(n.element).each((function(n){delete t[n],e.unregisterId(n)}))};return{find:function(t,n,o){return e.find(t,n,o)},filter:function(t){return e.filterByType(t)},register:function(r){var i=n(r);xe(t,i)&&function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+Wi(r.element)+"\nCannot use it for: "+Wi(e.element)+"\nThe conflicting element is"+(Tt(r.element)?" ":" not ")+"already in the DOM");o(e)}(r,i);var a=[r];e.registerId(a,i,r.events),t[i]=r},unregister:o,getById:function(e){return ye(t,e)}}},yx=hf({name:"Container",factory:function(e){var t=e.dom,n=t.attributes,o=O(t,["attributes"]);return{uid:e.uid,dom:_({tag:"div",attributes:_({role:"presentation"},n)},o),components:e.components,behaviours:md(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[nr("components",[]),fd("containerBehaviours",[]),nr("events",{}),nr("domModification",{}),nr("eventOrder",{})]}),wx=function(e){var t=function(t){return ht(e.element).fold(C,(function(e){return st(t,e)}))},n=bx(),o=function(e,o){return n.find(t,e,o)},r=lx(e.element,{triggerEvent:function(e,t){return uu(e,t.target,(function(n){return function(e,t,n,o){return gx(e,t,n,n.target,o)}(o,e,t,n)}))}}),i={debugInfo:v("real"),triggerEvent:function(e,t,n){uu(e,t,(function(r){return gx(o,e,n,t,r)}))},triggerFocus:function(e,t){ea(e).fold((function(){vs(e)}),(function(n){uu(Qr(),e,(function(n){return function(e,t,n,o,r){var i=dx(n,o);mx(e,t,n,o,i,r)}(o,Qr(),{originator:t,kill:h,prevent:h,target:e},e,n),!1}))}))},triggerEscape:function(e,t){i.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return p(e)},getByDom:function(e){return g(e)},build:Wa,addToGui:function(e){s(e)},removeFromGui:function(e){c(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){d(e)},broadcastOn:function(e,t){f(e,t)},broadcastEvent:function(e,t){m(e,t)},isConnected:C},a=function(e){e.connect(i),je(e.element)||(n.register(e),W(e.components(),a),i.triggerEvent(ri(),e.element,{target:e.element}))},u=function(e){je(e.element)||(W(e.components(),u),n.unregister(e)),e.disconnect()},s=function(t){Il(e,t)},c=function(e){Dl(e)},l=function(e){var t=n.filter(Xr());W(t,(function(t){var n=t.descHandler;pa(n)(e)}))},d=function(e){l({universal:!0,data:e})},f=function(e,t){l({universal:!1,channels:e,data:t})},m=function(e,t){var o=n.filter(e);return hx(o,t)},p=function(e){return n.getById(e).fold((function(){return Pn.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),Pn.value)},g=function(e){var t=ea(e).getOr("not found");return p(t)};return a(e),{root:e,element:e.element,destroy:function(){r.unbind(),yn(e.element)},add:s,remove:c,getByUid:p,getByDom:g,addToWorld:a,removeFromWorld:u,broadcast:d,broadcastOn:f,broadcastEvent:m}},xx=v([nr("prefix","form-field"),fd("fieldBehaviours",[wf,dd])]),Sx=v([Vd({schema:[zo("dom")],name:"label"}),Vd({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[zo("text")],name:"aria-descriptor"}),zd({factory:{sketch:function(e){var t=pr(e,["factory"]);return e.factory.sketch(t)}},schema:[zo("factory")],name:"field"})]),Ax=gf({name:"FormField",configFields:xx(),partFields:Sx(),factory:function(e,t,n,o){var r=pd(e.fieldBehaviours,[wf.config({find:function(t){return ef(t,e,"field")}}),dd.config({store:{mode:"manual",getValue:function(e){return wf.getCurrent(e).bind(dd.getValue)},setValue:function(e,t){wf.getCurrent(e).each((function(e){dd.setValue(e,t)}))}}})]),i=ki([Li((function(t,n){var o=nf(t,e,["label","field","aria-descriptor"]);o.field().each((function(t){var n=Qi(e.prefix);o.label().each((function(e){Mt(e.element,"for",n),Mt(t.element,"id",n)})),o["aria-descriptor"]().each((function(n){var o=Qi(e.prefix);Mt(n.element,"id",o),Mt(t.element,"aria-describedby",o)}))}))}))]),a={getField:function(t){return ef(t,e,"field")},getLabel:function(t){return ef(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:i,apis:a}},apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),Cx=Object.freeze({__proto__:null,exhibit:function(e,t){return ma({attributes:gr([{key:t.tabAttr,value:"true"}])})}}),kx=[nr("tabAttr","data-alloy-tabstop")],_x=ls({fields:kx,name:"tabstopping",active:Cx}),Ox=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ix=function(e,t,n,o){var r=Tx(e,t,n,o);return Ax.sketch(r)},Tx=function(e,t,n,o){return{dom:Ex(n),components:e.toArray().concat([t]),fieldBehaviours:ss(o)}},Ex=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Dx=function(e,t){return Ax.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},Rx=Qi("form-component-change"),Mx=Qi("form-close"),Px=Qi("form-cancel"),Bx=Qi("form-action"),Lx=Qi("form-submit"),Fx=Qi("form-block"),Nx=Qi("form-unblock"),jx=Qi("form-tabchange"),zx=Qi("form-resize"),Ux=function(e,t){var n,o,r,i=e.label.map((function(e){return Dx(e,t)})),a=function(e){return function(t,n){eu(n.event.target,"[data-collection-item-value]").each((function(o){e(t,n,o,Bt(o,"data-collection-item-value"))}))}},u=a((function(n,o,r,i){o.stop(),t.isDisabled()||wi(n,Bx,{name:e.name,value:i})})),s=[Ii(Pr(),a((function(e,t,n){vs(n)}))),Ii(Ur(),u),Ii(ei(),u),Ii(Br(),a((function(e,t,n){Za(e.element,"."+nb).each((function(e){Ta(e,nb)})),Oa(n,nb)}))),Ii(Lr(),a((function(e){Za(e.element,"."+nb).each((function(e){Ta(e,nb)}))}))),ji(a((function(t,n,o,r){wi(t,Bx,{name:e.name,value:r})})))],c=function(e,t){return H(Gc(e.element,".tox-collection__item"),t)},l=Ax.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:b},behaviours:ss([Pf.config({disabled:t.isDisabled,onDisabled:function(e){c(e,(function(e){Oa(e,"tox-collection__item--state-disabled"),Mt(e,"aria-disabled",!0)}))},onEnabled:function(e){c(e,(function(e){Ta(e,"tox-collection__item--state-disabled"),Nt(e,"aria-disabled")}))}}),wy(),Gp.config({}),dd.config({store:{mode:"memory",initialValue:[]},onSetValue:function(n,o){!function(n,o){var r=H(o,(function(n){var o=nv.translate(n.text),r=1===e.columns?'<div class="tox-collection__item-label">'+o+"</div>":"",i='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "},u=o.replace(/\_| \- |\-/g,(function(e){return a[e]}));return'<div class="tox-collection__item'+(t.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+Ox.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+i+r+"</div>"})),i="auto"!==e.columns&&e.columns>1?V(r,e.columns):[r],a=H(i,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}));Ui(n.element,a.join(""))}(n,o),"auto"===e.columns&&Mb(n,5,"tox-collection__item").each((function(e){var t=e.numRows,o=e.numColumns;zp.setGridSize(n,t,o)})),yi(n,zx)}}),_x.config({}),zp.config((o=e.columns,r="normal",1===o?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===o?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===r?".tox-swatches__row":".tox-collection__group",cell:"color"===r?".tox-swatch":".tox-collection__item"}})),qp("collection-events",s)]),eventOrder:(n={},n[Jr()]=["disabling","alloy.base.behaviour","collection-events"],n)});return Ix(i,l,["tox-form__group--collection"],[])},Vx=v([$o("data"),nr("inputAttributes",{}),nr("inputStyles",{}),nr("tag","input"),nr("inputClasses",[]),gu("onSetValue"),nr("styles",{}),nr("eventOrder",{}),fd("inputBehaviours",[dd,Xp]),nr("selectOnFocus",!0)]),Hx=function(e){return ss([Xp.config({onFocus:e.selectOnFocus?function(e){var t=e.element,n=Ma(t);t.dom.setSelectionRange(0,n.length)}:h})])},Wx=function(e){return _(_({},Hx(e)),pd(e.inputBehaviours,[dd.config({store:_(_({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return Ma(e.element)},setValue:function(e,t){Ma(e.element)!==t&&Pa(e.element,t)}}),onSetValue:e.onSetValue})]))},Gx=function(e){return{tag:e.tag,attributes:_({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},qx=hf({name:"Input",configFields:Vx(),factory:function(e,t){return{uid:e.uid,dom:Gx(e),components:[],behaviours:Wx(e),eventOrder:e.eventOrder}}}),Yx={},Qx={exports:Yx};!function(t,n,o,r){!function(e,r){"object"==typeof n&&void 0!==o?o.exports=r():"function"==typeof t&&t.amd?t(r):(e="undefined"!=typeof globalThis?globalThis:e||self).EphoxContactWrapper=r()}(this,(function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n={exports:{}};!function(e){!function(t){var n=setTimeout;function o(){}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void u(t.promise,e)}a(t.promise,o)}else(1===e._state?a:u)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void l((o=n,i=t,function(){o.apply(i,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(t){u(e,t)}var o,i}function u(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new this.constructor(o);return i(this,new c(e,t,n)),n},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);var o=t.length;function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){r(i,e)}),n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)r(i,t[i])}))},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){for(var o=0,r=e.length;o<r;o++)e[o].then(t,n)}))},r._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){n(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},e.exports?e.exports=r:t.Promise||(t.Promise=r)}(t)}(n);var o=n.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||o}}))}(void 0,Yx,Qx);var $x,Kx=Qx.exports.boltExport,Xx=function(e){var t=P.none(),n=[],o=function(e){r()?a(e):n.push(e)},r=function(){return t.isSome()},i=function(e){W(e,a)},a=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){r()||(t=P.some(e),i(n),n=[])})),{get:o,map:function(e){return Xx((function(t){o((function(n){t(e(n))}))}))},isReady:r}},Jx={nu:Xx,pure:function(e){return Xx((function(t){t(e)}))}},Zx=function(e){setTimeout((function(){throw e}),0)},eS=function(e){var t=function(t){e().then(t,Zx)};return{map:function(t){return eS((function(){return e().then(t)}))},bind:function(t){return eS((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return eS((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return Jx.nu(t)},toCached:function(){var t=null;return eS((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},tS=function(e){return eS((function(){return new Kx(e)}))},nS=function(e){return eS((function(){return Kx.resolve(e)}))},oS=["input","textarea"],rS=function(e){var t=Le(e);return j(oS,t)},iS=function(e,t){var n=t.getRoot(e).getOr(e.element);Ta(n,t.invalidClass),t.notify.each((function(t){rS(e.element)&&Mt(e.element,"aria-invalid",!1),t.getContainer(e).each((function(e){Ui(e,t.validHtml)})),t.onValid(e)}))},aS=function(e,t,n,o){var r=t.getRoot(e).getOr(e.element);Oa(r,t.invalidClass),t.notify.each((function(t){rS(e.element)&&Mt(e.element,"aria-invalid",!0),t.getContainer(e).each((function(e){Ui(e,o)})),t.onInvalid(e,o)}))},uS=function(e,t,n){return t.validator.fold((function(){return nS(Pn.value(!0))}),(function(t){return t.validate(e)}))},sS=function(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),uS(e,t).map((function(n){return e.getSystem().isConnected()?n.fold((function(n){return aS(e,t,0,n),Pn.error(n)}),(function(n){return iS(e,t),Pn.value(n)})):Pn.error("No longer in system")}))},cS=Object.freeze({__proto__:null,markValid:iS,markInvalid:aS,query:uS,run:sS,isInvalid:function(e,t){var n=t.getRoot(e).getOr(e.element);return Ea(n,t.invalidClass)}}),lS=Object.freeze({__proto__:null,events:function(e,t){return e.validator.map((function(t){return ki([Ii(t.onEvent,(function(t){sS(t,e).get(b)}))].concat(t.validateOnLoad?[Li((function(t){sS(t,e).get(h)}))]:[]))})).getOr({})}}),dS=[zo("invalidClass"),nr("getRoot",P.none),tr("notify",[nr("aria","alert"),nr("getContainer",P.none),nr("validHtml",""),gu("onValid"),gu("onInvalid"),gu("onValidate")]),tr("validator",[zo("validate"),nr("onEvent","input"),nr("validateOnLoad",!0)])],fS=ls({fields:dS,name:"invalidating",active:lS,apis:cS,extra:{validation:function(e){return function(t){var n=dd.getValue(t);return nS(e(n))}}}}),mS=Object.freeze({__proto__:null,getCoupled:function(e,t,n,o){return n.getOrCreate(e,t,o)}}),pS=[Uo("others",Do(Pn.value,wo()))],hS=ls({fields:pS,name:"coupling",apis:mS,state:Object.freeze({__proto__:null,init:function(){var e={},t=v({});return da({readState:t,getOrCreate:function(t,n,o){var r=le(n.others);if(r)return ye(e,o).getOrThunk((function(){var r=ye(n.others,o).getOrDie("No information found for coupled component: "+o)(t),i=t.getSystem().build(r);return e[o]=i,i}));throw new Error("Cannot find coupled component: "+o+". Known coupled components: "+JSON.stringify(r,null,2))}})}})}),gS=v("sink"),vS=v(Vd({name:gS(),overrides:v({dom:{tag:"div"},behaviours:ss([Al.config({useFixed:C})]),events:ki([Mi(Fr()),Mi(Er()),Mi(Ur())])})}));!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}($x||($x={}));var bS,yS,wS,xS=function(e,t){var n=e.getHotspot(t).getOr(t),o=e.getAnchorOverrides();return e.layouts.fold((function(){return{type:"hotspot",hotspot:n,overrides:o}}),(function(e){return{type:"hotspot",hotspot:n,overrides:o,layouts:e}}))},SS=function(e,t,n,o,r,i,a){return function(e,t,n,o,r,i,a){var u=function(e,t,n){return(0,e.fetch)(n).map(t)}(e,t,o),s=_S(o,e);return u.map((function(e){return e.bind((function(e){return P.from(Dh.sketch(_(_({},i.menu()),{uid:ta(""),data:e,highlightImmediately:a===$x.HighlightFirst,onOpenMenu:function(e,t){var o=s().getOrDie();Al.position(o,t,{anchor:n}),Gl.decloak(r)},onOpenSubmenu:function(e,t,n){var o=s().getOrDie();Al.position(o,n,{anchor:{type:"submenu",item:t}}),Gl.decloak(r)},onRepositionMenu:function(e,t,o){var r=s().getOrDie();Al.position(r,t,{anchor:n}),W(o,(function(e){Al.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:function(){return Xp.focus(o),Gl.close(r),P.some(!0)}})))}))}))}(e,t,xS(e,n),n,o,r,a).map((function(e){return e.fold((function(){Gl.isOpen(o)&&Gl.close(o)}),(function(e){Gl.cloak(o),Gl.open(o,e),i(o)})),o}))},AS=function(e,t,n,o,r,i,a){return Gl.close(o),nS(o)},CS=function(e,t,n,o,r,i){var a=hS.getCoupled(n,"sandbox");return(Gl.isOpen(a)?AS:SS)(e,t,n,a,o,r,i)},kS=function(e,t,n){var o=wf.getCurrent(t).getOr(t),r=sn(e.element);n?Ut(o.element,"min-width",r+"px"):function(e,t){un.set(e,t)}(o.element,r)},_S=function(e,t){return e.getSystem().getByUid(t.uid+"-"+gS()).map((function(e){return function(){return Pn.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return Pn.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},OS=function(e){Gl.getState(e).each((function(e){Dh.repositionMenus(e)}))},IS=function(e,t,n){var o=tu(),r=_S(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:gd(e.sandboxBehaviours,[dd.config({store:{mode:"memory",initialValue:t}}),Gl.config({onOpen:function(r,i){var a=xS(e,t);o.link(t.element),e.matchWidth&&kS(a.hotspot,i,e.useMinWidth),e.onOpen(a,r,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,i)},onClose:function(e,r){o.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},isPartOf:function(e,n,o){return ou(n,o)||ou(t,o)},getAttachPoint:function(){return r().getOrDie()}}),wf.config({find:function(e){return Gl.getState(e).bind((function(e){return wf.getCurrent(e)}))}}),ps.config({channels:_(_({},Kl({isExtraPart:A})),Jl({doReposition:OS}))})])}},TS=function(e){var t=hS.getCoupled(e,"sandbox");OS(t)},ES=function(){return[nr("sandboxClasses",[]),hd("sandboxBehaviours",[wf,ps,Gl,dd])]},DS=v([zo("dom"),zo("fetch"),gu("onOpen"),vu("onExecute"),nr("getHotspot",P.some),nr("getAnchorOverrides",v({})),fc(),fd("dropdownBehaviours",[ch,hS,zp,Xp]),zo("toggleClass"),nr("eventOrder",{}),$o("lazySink"),nr("matchWidth",!1),nr("useMinWidth",!1),$o("role")].concat(ES())),RS=v([Ud({schema:[mu()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),vS()]),MS=gf({name:"Dropdown",configFields:DS(),partFields:RS(),factory:function(e,t,n,o){var r,i,a=function(e){Gl.getState(e).each((function(e){Dh.highlightPrimary(e)}))},u={expand:function(t){ch.isOn(t)||CS(e,b,t,o,h,$x.HighlightNone).get(h)},open:function(t){ch.isOn(t)||CS(e,b,t,o,h,$x.HighlightFirst).get(h)},isOpen:ch.isOn,close:function(t){ch.isOn(t)&&CS(e,b,t,o,h,$x.HighlightFirst).get(h)},repositionMenus:function(e){ch.isOn(e)&&TS(e)}},s=function(e,t){return xi(e),P.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:pd(e.dropdownBehaviours,[ch.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),hS.config({others:{sandbox:function(t){return IS(e,t,{onOpen:function(){return ch.on(t)},onClose:function(){return ch.off(t)}})}}}),zp.config({mode:"special",onSpace:s,onEnter:s,onDown:function(e,t){if(MS.isOpen(e)){var n=hS.getCoupled(e,"sandbox");a(n)}else MS.open(e);return P.some(!0)},onEscape:function(e,t){return MS.isOpen(e)?(MS.close(e),P.some(!0)):P.none()}}),Xp.config({})]),events:dh(P.some((function(t){CS(e,b,t,o,a,$x.HighlightFirst).get(h)}))),eventOrder:_(_({},e.eventOrder),(r={},r[Jr()]=["disabling","toggling","alloy.base.behaviour"],r)),apis:u,domModification:{attributes:_(_({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:(i="type",ye(e.dom,"attributes").bind((function(e){return ye(e,i)}))).getOr("button")}:{})}}},apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),PS=Object.freeze({__proto__:null,events:function(){return ki([_i(Gr(),C)])},exhibit:function(){return ma({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),BS=ls({fields:[],name:"unselecting",active:PS}),LS=Qi("color-input-change"),FS=Qi("color-swatch-change"),NS=Qi("color-picker-cancel"),jS=function(e,t,n){var o=Ax.parts.field({factory:qx,inputClasses:["tox-textfield"],onSetValue:function(e){return fS.run(e).get(h)},inputBehaviours:ss([Pf.config({disabled:t.providers.isDisabled}),wy(),_x.config({}),fS.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return ht(e.element)},notify:{onValid:function(e){var t=dd.getValue(e);wi(e,LS,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=dd.getValue(e);if(0===t.length)return nS(Pn.value(!0));var n=Pe.fromTag("span");Ut(n,"background-color",t);var o=qt(n,"background-color").fold((function(){return Pn.error("blah")}),(function(e){return Pn.value(t)}));return nS(o)}}})]),selectOnFocus:!1}),r=e.label.map((function(e){return Dx(e,t.providers)})),i=function(e,t){wi(e,FS,{value:t})},a=eg(function(e,t){return MS.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:ss([Sy(t.providers.isDisabled),wy(),BS.config({}),_x.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return tS((function(t){return e.fetch(t)})).map((function(o){return P.from(ox(Xn(Fw(Qi("menu-value"),o,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,Jv.CLOSE_ON_EXECUTE,A,t.providers),{movement:jw(e.columns,e.presets)})))}))},parts:{menu:cb(0,0,e.presets)}})}({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Hu,Vu,Yu]},onLtr:function(){return[Vu,Hu,Yu]}},components:[],fetch:Rw(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(e,t){a.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return yi(e,NS)}),(function(t){i(e,t),Ow(t)}))}),"#ffffff"):i(e,"remove"===t?"":t)}))}},t));return Ax.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,a.asSpec()]}]),fieldBehaviours:ss([qp("form-field-events",[Ii(LS,(function(t,n){a.getOpt(t).each((function(e){Ut(e.element,"background-color",n.event.color)})),wi(t,Rx,{name:e.name})})),Ii(FS,(function(e,t){Ax.getField(e).each((function(n){dd.setValue(n,t.event.value),wf.getCurrent(e).each(Xp.focus)}))})),Ii(NS,(function(e,t){Ax.getField(e).each((function(t){wf.getCurrent(e).each(Xp.focus)}))}))])])})},zS=Vd({schema:[zo("dom")],name:"label"}),US=function(e){return Vd({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold((function(){return{}}),(function(e){return{events:ki([Ti(_r(),(function(t,n,o){return e(t,o)}),[t]),Ti(Er(),(function(t,n,o){return e(t,o)}),[t]),Ti(Dr(),(function(t,n,o){o.mouseIsDown.get()&&e(t,o)}),[t])])}}))}})},VS=US("top-left"),HS=US("top"),WS=US("top-right"),GS=US("right"),qS=US("bottom-right"),YS=US("bottom"),QS=US("bottom-left"),$S=US("left"),KS=zd({name:"thumb",defaults:v({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:ki([Di(_r(),e,"spectrum"),Di(Or(),e,"spectrum"),Di(Ir(),e,"spectrum"),Di(Er(),e,"spectrum"),Di(Dr(),e,"spectrum"),Di(Mr(),e,"spectrum")])}}}),XS=zd({schema:[No("mouseIsDown",(function(){return dr(!1)}))],name:"spectrum",overrides:function(e){var t=e.model.manager,n=function(n,o){return t.getValueFromEvent(o).map((function(o){return t.setValueFrom(n,e,o)}))};return{behaviours:ss([zp.config({mode:"special",onLeft:function(n){return t.onLeft(n,e)},onRight:function(n){return t.onRight(n,e)},onUp:function(n){return t.onUp(n,e)},onDown:function(n){return t.onDown(n,e)}}),Xp.config({})]),events:ki([Ii(_r(),n),Ii(Or(),n),Ii(Er(),n),Ii(Dr(),(function(t,o){e.mouseIsDown.get()&&n(t,o)}))])}}}),JS=[zS,$S,GS,HS,YS,VS,WS,QS,qS,KS,XS],ZS=v("slider.change.value"),eA=function(e){var t=e.event.raw;if(function(e){return-1!==e.type.indexOf("touch")}(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?P.some(n.touches[0]).map((function(e){return nn(e.clientX,e.clientY)})):P.none()}var o=t;return void 0!==o.clientX?P.some(o).map((function(e){return nn(e.clientX,e.clientY)})):P.none()},tA=function(e){return e.model.minX},nA=function(e){return e.model.minY},oA=function(e){return e.model.minX-1},rA=function(e){return e.model.minY-1},iA=function(e){return e.model.maxX},aA=function(e){return e.model.maxY},uA=function(e){return e.model.maxX+1},sA=function(e){return e.model.maxY+1},cA=function(e,t,n){return t(e)-n(e)},lA=function(e){return cA(e,iA,tA)},dA=function(e){return cA(e,aA,nA)},fA=function(e){return lA(e)/2},mA=function(e){return dA(e)/2},pA=function(e){return e.stepSize},hA=function(e){return e.snapToGrid},gA=function(e){return e.snapStart},vA=function(e){return e.rounded},bA=function(e,t){return void 0!==e[t+"-edge"]},yA=function(e){return bA(e,"left")},wA=function(e){return bA(e,"right")},xA=function(e){return bA(e,"top")},SA=function(e){return bA(e,"bottom")},AA=function(e){return e.model.value.get()},CA=function(e){return{x:e}},kA=function(e){return{y:e}},_A=function(e,t){return{x:e,y:t}},OA=function(e,t){wi(e,ZS(),{value:t})},IA=function(e,t,n,o){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o)},TA=function(e,t,n,o){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o)},EA=function(e,t,n){return Math.max(t,Math.min(n,e))},DA=function(e){var t=e.min,n=e.max,o=e.range,r=e.value,i=e.step,a=e.snap,u=e.snapStart,s=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,d=e.minBound,f=e.maxBound,m=e.screenRange,p=c?t-1:t,h=l?n+1:n;if(r<d)return p;if(r>f)return h;var g=function(e,t,n){return Math.min(n,Math.max(e,t))-t}(r,d,f),v=EA(g/m*o+t,p,h);return a&&v>=t&&v<=n?function(e,t,n,o,r){return r.fold((function(){var r=e-t,i=Math.round(r/o)*o;return EA(t+i,t-1,n+1)}),(function(t){var r=(e-t)%o,i=Math.round(r/o),a=Math.floor((e-t)/o),u=Math.floor((n-t)/o),s=t+Math.min(u,a+i)*o;return Math.max(t,s)}))}(v,t,n,i,u):s?Math.round(v):v},RA=function(e){var t=e.min,n=e.max,o=e.range,r=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,s=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return r<t?i?0:c:r>n?a?u:l:(r-t)/o*s},MA=function(e){return e.element.dom.getBoundingClientRect()},PA=function(e,t){return e[t]},BA=function(e){var t=MA(e);return PA(t,"left")},LA=function(e){var t=MA(e);return PA(t,"right")},FA=function(e){var t=MA(e);return PA(t,"top")},NA=function(e){var t=MA(e);return PA(t,"bottom")},jA=function(e){var t=MA(e);return PA(t,"width")},zA=function(e){var t=MA(e);return PA(t,"height")},UA=function(e,t,n){return(e+t)/2-n},VA=function(e,t){var n=MA(e),o=MA(t),r=PA(n,"left"),i=PA(n,"right"),a=PA(o,"left");return UA(r,i,a)},HA=function(e,t){var n=MA(e),o=MA(t),r=PA(n,"top"),i=PA(n,"bottom"),a=PA(o,"top");return UA(r,i,a)},WA=function(e,t){wi(e,ZS(),{value:t})},GA=function(e){return{x:e}},qA=function(e,t,n){var o={min:tA(t),max:iA(t),range:lA(t),value:n,step:pA(t),snap:hA(t),snapStart:gA(t),rounded:vA(t),hasMinEdge:yA(t),hasMaxEdge:wA(t),minBound:BA(e),maxBound:LA(e),screenRange:jA(e)};return DA(o)},YA=function(e){return function(t,n){return function(e,t,n){var o=(e>0?TA:IA)(AA(n).x,tA(n),iA(n),pA(n));return WA(t,GA(o)),P.some(o)}(e,t,n).map(C)}},QA=function(e,t,n,o,r,i){var a=function(e,t,n,o,r){var i=jA(e),a=o.bind((function(t){return P.some(VA(t,e))})).getOr(0),u=r.bind((function(t){return P.some(VA(t,e))})).getOr(i),s={min:tA(t),max:iA(t),range:lA(t),value:n,hasMinEdge:yA(t),hasMaxEdge:wA(t),minBound:BA(e),minOffset:0,maxBound:LA(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return RA(s)}(t,i,n,o,r);return BA(t)-BA(e)+a},$A=YA(-1),KA=YA(1),XA=P.none,JA=P.none,ZA={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some((function(e,t){OA(e,CA(uA(t)))})),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some((function(e,t){OA(e,CA(oA(t)))}))},eC=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=qA(e,t,n),r=GA(o);return WA(e,r),o},setToMin:function(e,t){var n=tA(t);WA(e,GA(n))},setToMax:function(e,t){var n=iA(t);WA(e,GA(n))},findValueOfOffset:qA,getValueFromEvent:function(e){return eA(e).map((function(e){return e.left}))},findPositionOfValue:QA,setPositionFromValue:function(e,t,n,o){var r=AA(n),i=QA(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),a=sn(t.element)/2;Ut(t.element,"left",i-a+"px")},onLeft:$A,onRight:KA,onUp:XA,onDown:JA,edgeActions:ZA}),tC=function(e,t){wi(e,ZS(),{value:t})},nC=function(e){return{y:e}},oC=function(e,t,n){var o={min:nA(t),max:aA(t),range:dA(t),value:n,step:pA(t),snap:hA(t),snapStart:gA(t),rounded:vA(t),hasMinEdge:xA(t),hasMaxEdge:SA(t),minBound:FA(e),maxBound:NA(e),screenRange:zA(e)};return DA(o)},rC=function(e){return function(t,n){return function(e,t,n){var o=(e>0?TA:IA)(AA(n).y,nA(n),aA(n),pA(n));return tC(t,nC(o)),P.some(o)}(e,t,n).map(C)}},iC=function(e,t,n,o,r,i){var a=function(e,t,n,o,r){var i=zA(e),a=o.bind((function(t){return P.some(HA(t,e))})).getOr(0),u=r.bind((function(t){return P.some(HA(t,e))})).getOr(i),s={min:nA(t),max:aA(t),range:dA(t),value:n,hasMinEdge:xA(t),hasMaxEdge:SA(t),minBound:FA(e),minOffset:0,maxBound:NA(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return RA(s)}(t,i,n,o,r);return FA(t)-FA(e)+a},aC=P.none,uC=P.none,sC=rC(-1),cC=rC(1),lC={"top-left":P.none(),top:P.some((function(e,t){OA(e,kA(rA(t)))})),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some((function(e,t){OA(e,kA(sA(t)))})),"bottom-left":P.none(),left:P.none()},dC=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=oC(e,t,n),r=nC(o);return tC(e,r),o},setToMin:function(e,t){var n=nA(t);tC(e,nC(n))},setToMax:function(e,t){var n=aA(t);tC(e,nC(n))},findValueOfOffset:oC,getValueFromEvent:function(e){return eA(e).map((function(e){return e.top}))},findPositionOfValue:iC,setPositionFromValue:function(e,t,n,o){var r=AA(n),i=iC(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),a=Zt(t.element)/2;Ut(t.element,"top",i-a+"px")},onLeft:aC,onRight:uC,onUp:sC,onDown:cC,edgeActions:lC}),fC=function(e,t){wi(e,ZS(),{value:t})},mC=function(e,t){return{x:e,y:t}},pC=function(e,t){return function(n,o){return function(e,t,n,o){var r=e>0?TA:IA,i=t?AA(o).x:r(AA(o).x,tA(o),iA(o),pA(o)),a=t?r(AA(o).y,nA(o),aA(o),pA(o)):AA(o).y;return fC(n,mC(i,a)),P.some(i)}(e,t,n,o).map(C)}},hC=pC(-1,!1),gC=pC(1,!1),vC=pC(-1,!0),bC=pC(1,!0),yC={"top-left":P.some((function(e,t){OA(e,_A(oA(t),rA(t)))})),top:P.some((function(e,t){OA(e,_A(fA(t),rA(t)))})),"top-right":P.some((function(e,t){OA(e,_A(uA(t),rA(t)))})),right:P.some((function(e,t){OA(e,_A(uA(t),mA(t)))})),"bottom-right":P.some((function(e,t){OA(e,_A(uA(t),sA(t)))})),bottom:P.some((function(e,t){OA(e,_A(fA(t),sA(t)))})),"bottom-left":P.some((function(e,t){OA(e,_A(oA(t),sA(t)))})),left:P.some((function(e,t){OA(e,_A(oA(t),mA(t)))}))},wC=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=qA(e,t,n.left),r=oC(e,t,n.top),i=mC(o,r);return fC(e,i),i},setToMin:function(e,t){var n=tA(t),o=nA(t);fC(e,mC(n,o))},setToMax:function(e,t){var n=iA(t),o=aA(t);fC(e,mC(n,o))},getValueFromEvent:function(e){return eA(e)},setPositionFromValue:function(e,t,n,o){var r=AA(n),i=QA(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),a=iC(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),u=sn(t.element)/2,s=Zt(t.element)/2;Ut(t.element,"left",i-u+"px"),Ut(t.element,"top",a-s+"px")},onLeft:hC,onRight:gC,onUp:vC,onDown:bC,edgeActions:yC}),xC=gf({name:"Slider",configFields:[nr("stepSize",1),nr("onChange",h),nr("onChoose",h),nr("onInit",h),nr("onDragStart",h),nr("onDragEnd",h),nr("snapToGrid",!1),nr("rounded",!0),$o("snapStart"),Uo("model",Lo("mode",{x:[nr("minX",0),nr("maxX",100),No("value",(function(e){return dr(e.mode.minX)})),zo("getInitialValue"),wu("manager",eC)],y:[nr("minY",0),nr("maxY",100),No("value",(function(e){return dr(e.mode.minY)})),zo("getInitialValue"),wu("manager",dC)],xy:[nr("minX",0),nr("maxX",100),nr("minY",0),nr("maxY",100),No("value",(function(e){return dr({x:e.mode.minX,y:e.mode.minY})})),zo("getInitialValue"),wu("manager",wC)]})),fd("sliderBehaviours",[zp,dd]),No("mouseIsDown",(function(){return dr(!1)}))],partFields:JS,factory:function(e,t,n,o){var r,i=function(t){return tf(t,e,"thumb")},a=function(t){return tf(t,e,"spectrum")},u=function(t){return ef(t,e,"left-edge")},s=function(t){return ef(t,e,"right-edge")},c=function(t){return ef(t,e,"top-edge")},l=function(t){return ef(t,e,"bottom-edge")},d=e.model,f=d.manager,m=function(t,n){f.setPositionFromValue(t,n,e,{getLeftEdge:u,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},p=function(e,t){d.value.set(t);var n=i(e);m(e,n)},h=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&ef(t,e,"thumb").each((function(n){var o=d.value.get();e.onChoose(t,n,o)}))},g=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},v=function(t,n){n.stop(),e.onDragEnd(t,i(t)),h(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:pd(e.sliderBehaviours,[zp.config({mode:"special",focusIn:function(t){return ef(t,e,"spectrum").map(zp.focusIn).map(C)}}),dd.config({store:{mode:"manual",getValue:function(e){return d.value.get()}}}),ps.config({channels:(r={},r[Ql()]={onReceive:h},r)})]),events:ki([Ii(ZS(),(function(t,n){!function(t,n){p(t,n);var o=i(t);e.onChange(t,o,n),P.some(!0)}(t,n.event.value)})),Li((function(t,n){var o=d.getInitialValue();d.value.set(o);var r=i(t);m(t,r);var u=a(t);e.onInit(t,r,u,d.value.get())})),Ii(_r(),g),Ii(Ir(),v),Ii(Er(),g),Ii(Mr(),v)]),apis:{resetToMin:function(t){f.setToMin(t,e)},resetToMax:function(t){f.setToMax(t,e)},setValue:p,refresh:m},domModification:{styles:{position:"relative"}}}},apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),SC=Qi("rgb-hex-update"),AC=Qi("slider-update"),CC=Qi("palette-update"),kC=[fd("formBehaviours",[dd])],_C=function(e){return"<alloy.field."+e+">"},OC=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:pd(e.formBehaviours,[dd.config({store:{mode:"manual",getValue:function(t){var n=of(t,e);return me(n,(function(e,t){return e().bind((function(e){var n,o,r=wf.getCurrent(e);return n=r,o=new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+Wi(e.element)),n.fold((function(){return Pn.error(o)}),Pn.value)})).map(dd.getValue)}))},setValue:function(t,n){fe(n,(function(n,o){ef(t,e,o).each((function(e){wf.getCurrent(e).each((function(e){dd.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return ef(t,e,n).bind(wf.getCurrent)}}}},IC={getField:ca((function(e,t,n){return e.getField(t,n)})),sketch:function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),$d("form",_C(t),n)},record:v(e)}}(),n=e(t),o=t.record(),r=H(o,(function(e){return zd({name:e,pname:_C(e)})}));return df("form",kC,r,OC,n)}},TC=Qi("valid-input"),EC=Qi("invalid-input"),DC=Qi("validating-input"),RC=function(e,t,n,o){var r=function(n,o){return fS.config({invalidClass:t("invalid"),notify:{onValidate:function(e){wi(e,DC,{type:n})},onValid:function(e){wi(e,TC,{type:n,value:dd.getValue(e)})},onInvalid:function(e){wi(e,EC,{type:n,value:dd.getValue(e)})}},validator:{validate:function(t){var n=dd.getValue(t),r=o(n)?Pn.value(!0):Pn.error(e("aria.input.invalid"));return nS(r)},validateOnLoad:!1}})},i=function(n,o,i,a,u){var s=e("colorcustom.rgb.range"),c=[Ax.parts.label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),Ax.parts.field({data:u,factory:qx,inputAttributes:_({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:ss([r(o,n),_x.config({})]),onSetValue:function(e){fS.isInvalid(e)&&fS.run(e).get(h)}})],l="hex"!==o?[Ax.parts["aria-descriptor"]({text:s})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:c.concat(l)}},a=function(e,t){var n=t.red,o=t.green,r=t.blue;dd.setValue(e,{red:n,green:o,blue:r})},u=eg({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),s=function(e,t){u.getOpt(e).each((function(e){Ut(e.element,"background-color","#"+t.value)}))};return hf({factory:function(){var r={red:dr(P.some(255)),green:dr(P.some(255)),blue:dr(P.some(255)),hex:dr(P.some("ffffff"))},c=function(e){return r[e].get()},l=function(e,t){r[e].set(t)},d=function(e){var t=e.red,n=e.green,o=e.blue;l("red",P.some(t)),l("green",P.some(n)),l("blue",P.some(o))},f=function(e,t){var n=t.event;"hex"!==n.type?l(n.type,P.none()):o(e)},m=function(e,t,n){var o=parseInt(n,10);l(t,P.some(o)),c("red").bind((function(e){return c("green").bind((function(t){return c("blue").map((function(n){return uw(e,t,n,1)}))}))})).each((function(t){var n=function(e,t){var n=tw(t);return IC.getField(e,"hex").each((function(t){Xp.isFocused(t)||dd.setValue(e,{hex:n.value})})),n}(e,t);wi(e,SC,{hex:n}),s(e,n)}))},p=function(e,t){var o=t.event;!function(e){return"hex"===e.type}(o)?m(e,o.type,o.value):function(e,t){n(e);var o=Qy(t);l("hex",P.some(t));var r=lw(o);a(e,r),d(r),wi(e,SC,{hex:o}),s(e,o)}(e,o.value)},h=function(t){return{label:e("colorcustom.rgb."+t+".label"),description:e("colorcustom.rgb."+t+".description")}},g=h("red"),v=h("green"),b=h("blue"),y=h("hex");return Xn(IC.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",Ax.sketch(i(sw,"red",g.label,g.description,255))),n.field("green",Ax.sketch(i(sw,"green",v.label,v.description,255))),n.field("blue",Ax.sketch(i(sw,"blue",b.label,b.description,255))),n.field("hex",Ax.sketch(i(Xy,"hex",y.label,y.description,"ffffff"))),u.asSpec()],formBehaviours:ss([fS.config({invalidClass:t("form-invalid")}),qp("rgb-form-events",[Ii(TC,p),Ii(EC,f),Ii(DC,f)])])}})),{apis:{updateHex:function(e,t){dd.setValue(e,{hex:t.value}),function(e,t){var n=lw(t);a(e,n),d(n)}(e,t),s(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},MC=function(e,t){var n=xC.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=xC.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),r=function(e,t){var n=e.width,o=e.height,r=e.getContext("2d");if(null!==r){r.fillStyle=t,r.fillRect(0,0,n,o);var i=r.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,n,o);var a=r.createLinearGradient(0,0,0,o);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=a,r.fillRect(0,0,n,o)}};return hf({factory:function(e){var i=v({x:0,y:0}),a=ss([wf.config({find:P.some}),Xp.config({})]);return xC.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,o],onChange:function(e,t,n){wi(e,CC,{value:n})},onInit:function(e,t,n,o){r(n.element.dom,mw(pw))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(e,t,n){!function(e,t){var n=e.components()[0].element.dom,o=gw(t,100,100),i=cw(o);r(n,mw(i))}(t,n)},setThumb:function(e,t,n){!function(e,t){var n=vw(lw(t));xC.setValue(e,{x:n.saturation,y:100-n.value})}(t,n)}},extraApis:{}})},PC=function(e,t){return hf({name:"ColourPicker",configFields:[zo("dom"),nr("onValidHex",h),nr("onInvalidHex",h)],factory:function(n){var o,r=RC(e,t,n.onValidHex,n.onInvalidHex),i=MC(0,t),a=function(e){return 100-e/360*100},u={paletteRgba:dr(pw),paletteHue:dr(0)},s=eg(function(e,t){var n=xC.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=xC.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return xC.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:v({y:0})},components:[n,o],sliderBehaviours:ss([Xp.config({})]),onChange:function(e,t,n){wi(e,AC,{value:n})}})}(0,t)),c=eg(i.sketch({})),l=eg(r.sketch({})),d=function(e,t,n){c.getOpt(e).each((function(e){i.setHue(e,n)}))},f=function(e,t){l.getOpt(e).each((function(e){r.updateHex(e,t)}))},m=function(e,t,n){s.getOpt(e).each((function(e){xC.setValue(e,{y:a(n)})}))},p=function(e,t){c.getOpt(e).each((function(e){i.setThumb(e,t)}))},h=function(e,t,n,o){!function(e,t){var n=lw(e);u.paletteRgba.set(n),u.paletteHue.set(t)}(t,n),W(o,(function(o){o(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[c.asSpec(),s.asSpec(),l.asSpec()],behaviours:ss([qp("colour-picker-events",[Ii(SC,(o=[d,m,p],function(e,t){var n=t.event.hex,r=function(e){return vw(lw(e))}(n);h(e,n,r.hue,o)})),Ii(CC,function(){var e=[f];return function(t,n){var o=n.event.value,r=u.paletteHue.get(),i=gw(r,o.x,100-o.y),a=bw(i);h(t,a,r,e)}}()),Ii(AC,function(){var e=[d,f];return function(t,n){var o=function(e){return(100-e)/100*360}(n.event.value.y),r=u.paletteRgba.get(),i=vw(r),a=gw(o,i.saturation,i.value),s=bw(a);h(t,s,o,e)}}())]),wf.config({find:function(e){return l.getOpt(e)}}),zp.config({mode:"acyclic"})])}}})},BC=function(){return wf.config({find:P.some})},LC=function(e){return wf.config({find:e.getOpt})},FC=function(e){return wf.config({find:function(t){return bt(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})},NC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},jC=function(e){return function(e){return NC[e]}(e)},zC=tinymce.util.Tools.resolve("tinymce.Resource"),UC=tinymce.util.Tools.resolve("tinymce.util.Tools"),VC=ho([nr("preprocess",b),nr("postprocess",b)]),HC=function(e,t,n){return dd.config(Xn({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))},WC=function(e,t,n){return HC(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))},GC=function(e,t){var n=Po("RepresentingConfigs.memento processors",VC,t);return dd.config({store:{mode:"manual",getValue:function(t){var o=e.get(t),r=dd.getValue(o);return n.postprocess(r)},setValue:function(t,o){var r=n.preprocess(o),i=e.get(t);dd.setValue(i,r)}}})},qC=HC,YC=function(e){return WC(e,zi,Ui)},QC=function(e){return dd.config({store:{mode:"memory",initialValue:e}})},$C=function(e,t){var n=function(e,t){t.stop()},o=function(e){return function(t,n){W(e,(function(e){e(t,n)}))}},r=function(e,t){if(!Pf.isDisabled(e)){var n=t.event.raw;a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event.raw.target;a(e,n.files)},a=function(n,o){dd.setValue(n,function(e,t){var n=UC.explode(t.getSetting("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"));return q(se(e),(function(e){return z(n,(function(t){return Te(e.name.toLowerCase(),"."+t.toLowerCase())}))}))}(o,t)),wi(n,Rx,{name:e.name})},u=eg({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ss([qp("input-file-events",[Mi(Ur()),Mi(ei())])])}),s=e.label.map((function(e){return Dx(e,t)})),c=Ax.parts.field({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ss([QC([]),BC(),Pf.config({}),ch.config({toggleClass:"dragenter",toggleOnExecute:!1}),qp("dropzone-events",[Ii("dragenter",o([n,ch.toggle])),Ii("dragleave",o([n,ch.toggle])),Ii("dragover",n),Ii("drop",o([n,r])),Ii(zr(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Jh.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){u.get(e).element.dom.click()},buttonBehaviours:ss([_x.config({}),Sy(t.isDisabled),wy()])})]}]}}}});return Ix(s,c,["tox-form__group--stretched"],[])},KC=Qi("alloy-fake-before-tabstop"),XC=Qi("alloy-fake-after-tabstop"),JC=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:ss([Xp.config({ignore:!0}),_x.config({})])}},ZC=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[JC([KC]),e,JC([XC])],behaviours:ss([FC(1)])}},ek=function(e,t){wi(e,Fr(),{raw:{which:9,shiftKey:t}})},tk=function(e,t){var n=t.element;Ea(n,KC)?ek(e,!0):Ea(n,XC)&&ek(e,!1)},nk=function(e){return ix(e,["."+KC,"."+XC].join(","),A)},ok=!(it().browser.isIE()||it().browser.isEdge()),rk=function(e,t){var n=ok&&e.sandboxed,o=_(_({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),r=function(e){var t=dr("");return{getValue:function(e){return t.get()},setValue:function(n,o){if(e)Mt(n.element,"srcdoc",o);else{Mt(n.element,"src","javascript:''");var r=n.element.dom.contentWindow.document;r.open(),r.write(o),r.close()}t.set(o)}}}(n),i=e.label.map((function(e){return Dx(e,t)})),a=Ax.parts.field({factory:{sketch:function(e){return ZC({uid:e.uid,dom:{tag:"iframe",attributes:o},behaviours:ss([_x.config({}),Xp.config({}),qC(P.none(),r.getValue,r.setValue)])})}}});return Ix(i,a,["tox-form__group--stretched"],[])},ik=function(e,t){return sk(document.createElement("canvas"),e,t)},ak=function(e){var t=ik(e.width,e.height);return uk(t).drawImage(e,0,0),t},uk=function(e){return e.getContext("2d")},sk=function(e,t,n){return e.width=t,e.height=n,e},ck=function(e){return e.naturalWidth||e.width},lk=function(e){return e.naturalHeight||e.height},dk=function(e){return new Kx((function(t,n){(function(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return P.none();for(var o=n[1],r=t[1],i=atob(r),a=i.length,u=Math.ceil(a/1024),s=new Array(u),c=0;c<u;++c){for(var l=1024*c,d=Math.min(l+1024,a),f=new Array(d-l),m=l,p=0;m<d;++p,++m)f[p]=i[m].charCodeAt(0);s[c]=new Uint8Array(f)}return P.some(new Blob(s,{type:o}))})(e).fold((function(){n("uri is not base64: "+e)}),t)}))},fk=function(e,t,n){return t=t||"image/png",f(HTMLCanvasElement.prototype.toBlob)?new Kx((function(o,r){e.toBlob((function(e){e?o(e):r()}),t,n)})):dk(e.toDataURL(t,n))},mk=function(e){return function(e){return new Kx((function(t,n){var o=URL.createObjectURL(e),r=new Image,i=function(){r.removeEventListener("load",a),r.removeEventListener("error",u)},a=function(){i(),t(r)},u=function(){i(),n("Unable to load data of type "+e.type+": "+o)};r.addEventListener("load",a),r.addEventListener("error",u),r.src=o,r.complete&&setTimeout(a,0)}))}(e).then((function(e){pk(e);var t=ik(ck(e),lk(e));return uk(t).drawImage(e,0,0),t}))},pk=function(e){URL.revokeObjectURL(e.src)},hk=function(e,t,n){var o=t.type,r=v(o),i=v(n),a=function(t,n){return e.then((function(e){return function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}(e,t,n)}))};return{getType:r,toBlob:function(){return Kx.resolve(t)},toDataURL:i,toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return fk(e,t,n)}))},toAdjustedDataURL:a,toAdjustedBase64:function(e,t){return a(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(ak)}}},gk=function(e){return function(e){return new Kx((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))}(e).then((function(t){return hk(mk(e),e,t)}))},vk=function(e,t){return fk(e,t).then((function(t){return hk(Kx.resolve(e),t,e.toDataURL())}))},bk=function(e,t,n){var o="string"==typeof e?parseFloat(e):e;return o>n?o=n:o<t&&(o=t),o},yk=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],wk=function(e,t){for(var n,o=[],r=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)o[a]=t[a+5*i];for(a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=e[a+5*u]*o[u];r[a+5*i]=n}}return r},xk=function(e,t){return e.toCanvas().then((function(n){return Sk(n,e.getType(),t)}))},Sk=function(e,t,n){var o=uk(e),r=function(e,t){for(var n,o,r,i,a=e.data,u=t[0],s=t[1],c=t[2],l=t[3],d=t[4],f=t[5],m=t[6],p=t[7],h=t[8],g=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],S=t[15],A=t[16],C=t[17],k=t[18],_=t[19],O=0;O<a.length;O+=4)n=a[O],o=a[O+1],r=a[O+2],i=a[O+3],a[O]=n*u+o*s+r*c+i*l+d,a[O+1]=n*f+o*m+r*p+i*h+g,a[O+2]=n*v+o*b+r*y+i*w+x,a[O+3]=n*S+o*A+r*C+i*k+_;return e}(o.getImageData(0,0,e.width,e.height),n);return o.putImageData(r,0,0),vk(e,t)},Ak=function(e,t,n){var o=uk(e),r=o.getImageData(0,0,e.width,e.height),i=o.getImageData(0,0,e.width,e.height);return i=function(e,t,n){for(var o=function(e,t,n){return e>n?e=n:e<t&&(e=t),e},r=Math.round(Math.sqrt(n.length)),i=Math.floor(r/2),a=e.data,u=t.data,s=e.width,c=e.height,l=0;l<c;l++)for(var d=0;d<s;d++){for(var f=0,m=0,p=0,h=0;h<r;h++)for(var g=0;g<r;g++){var v=o(d+g-i,0,s-1),b=4*(o(l+h-i,0,c-1)*s+v),y=n[h*r+g];f+=a[b]*y,m+=a[b+1]*y,p+=a[b+2]*y}var w=4*(l*s+d);u[w]=o(f,0,255),u[w+1]=o(m,0,255),u[w+2]=o(p,0,255)}return t}(r,i,n),o.putImageData(i,0,0),vk(e,t)},Ck=function(e){return function(t,n){return xk(t,e([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n))}},kk=function(e){return function(t){return xk(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),_k=Ck((function(e,t){return t=bk(255*t,-255,255),wk(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])})),Ok=Ck((function(e,t){var n;return t=bk(t,-1,1),n=(t*=100)<0?127+t/100*127:127*(n=0===(n=t%1)?yk[t]:yk[Math.floor(t)]*(1-n)+yk[Math.floor(t)+1]*n)+127,wk(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),Ik=function(e,t,n,o){return xk(e,function(e,t,n,o){return t=bk(t,0,2),n=bk(n,0,2),o=bk(o,0,2),wk(e,[t,0,0,0,0,0,n,0,0,0,0,0,o,0,0,0,0,0,1,0,0,0,0,0,1])}([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t,n,o))},Tk=(bS=[0,-1,0,-1,5,-1,0,-1,0],function(e){return function(e,t){return e.toCanvas().then((function(n){return Ak(n,e.getType(),t)}))}(e,bS)}),Ek=(yS=function(e,t){return 255*Math.pow(e/255,1-t)},function(e,t){return e.toCanvas().then((function(n){return function(e,t,n){for(var o=uk(e),r=new Array(256),i=0;i<r.length;i++)r[i]=yS(i,n);var a=function(e,t){for(var n=e.data,o=0;o<n.length;o+=4)n[o]=t[n[o]],n[o+1]=t[n[o+1]],n[o+2]=t[n[o+2]];return e}(o.getImageData(0,0,e.width,e.height),r);return o.putImageData(a,0,0),vk(e,t)}(n,e.getType(),t)}))}),Dk=function(e,t,n){var o=ck(e),r=lk(e),i=t/o,a=n/r,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var s=Rk(e,i,a);return u?s.then((function(e){return Dk(e,t,n)})):s},Rk=function(e,t,n){return new Kx((function(o){var r=ck(e),i=lk(e),a=Math.floor(r*t),u=Math.floor(i*n),s=ik(a,u);uk(s).drawImage(e,0,0,r,i,0,0,a,u),o(s)}))},Mk=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t),o=Math.round(e*n);return Math.ceil(o/n)},Pk=function(e,t,n){var o=(n<0?360+n:n)*Math.PI/180,r=e.width,i=e.height,a=Math.sin(o),u=Math.cos(o),s=Mk(Math.abs(r*u)+Math.abs(i*a)),c=Mk(Math.abs(r*a)+Math.abs(i*u)),l=ik(s,c),d=uk(l);return d.translate(s/2,c/2),d.rotate(o),d.drawImage(e,-r/2,-i/2),vk(l,t)},Bk=function(e,t,n){var o=ik(e.width,e.height),r=uk(o);return"v"===n?(r.scale(1,-1),r.drawImage(e,0,-o.height)):(r.scale(-1,1),r.drawImage(e,-o.width,0)),vk(o,t)},Lk=function(e,t,n,o,r,i){var a=ik(r,i);return uk(a).drawImage(e,-n,-o),vk(a,t)},Fk=function(e){return kk(e)},Nk=function(e){return Tk(e)},jk=function(e,t){return Ek(e,t)},zk=function(e,t){return _k(e,t)},Uk=function(e,t){return Ok(e,t)},Vk=function(e,t){return function(e,t){return e.toCanvas().then((function(n){return Bk(n,e.getType(),t)}))}(e,t)},Hk=function(e,t,n,o,r){return function(e,t,n,o,r){return e.toCanvas().then((function(i){return Lk(i,e.getType(),t,n,o,r)}))}(e,t,n,o,r)},Wk=function(e,t,n){return function(e,t,n){return e.toCanvas().then((function(o){return Dk(o,t,n).then((function(t){return vk(t,e.getType())}))}))}(e,t,n)},Gk=function(e,t){return function(e,t){return e.toCanvas().then((function(n){return Pk(n,e.getType(),t)}))}(e,t)},qk=function(e,t,n){return lv(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t)},Yk=function(e,t){return qk(e,t,[])},Qk=function(e,t){return qk(e,t,[Gp.config({})])},$k=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:ss([Gp.config({})])}},Kk=Qi("toolbar.button.execute"),Xk=((wS={})[Jr()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],wS),Jk=Qi("update-menu-text"),Zk=Qi("update-menu-icon"),e_=function(e,t,n){var o=dr(h),r=e.text.map((function(e){return eg($k(e,t,n.providers))})),i=e.icon.map((function(e){return eg(Qk(e,n.providers.icons))})),a=function(e,t){var n=dd.getValue(e);return Xp.focus(n),wi(n,"keydown",{raw:t.event.raw}),MS.close(n),P.some(!0)},u=e.role.fold((function(){return{}}),(function(e){return{role:e}})),s=e.tooltip.fold((function(){return{}}),(function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}})),c=lv("chevron-down",{tag:"div",classes:[t+"__select-chevron"]},n.providers.icons);return eg(MS.sketch(_(_(_({},e.uid?{uid:e.uid}:{}),u),{dom:{tag:"button",classes:[t,t+"--select"].concat(H(e.classes,(function(e){return t+"--"+e}))),attributes:_({},s)},components:Ey([i.map((function(e){return e.asSpec()})),r.map((function(e){return e.asSpec()})),P.some(c)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:ss(I(I([],e.dropdownBehaviours,!0),[Sy((function(){return e.disabled||n.providers.isDisabled()})),wy(),BS.config({}),Gp.config({}),qp("dropdown-events",[_y(e,o),Oy(e,o)]),qp("menubutton-update-display-text",[Ii(Jk,(function(e,t){r.bind((function(t){return t.getOpt(e)})).each((function(e){Gp.set(e,[Ua(n.providers.translate(t.event.text))])}))})),Ii(Zk,(function(e,t){i.bind((function(t){return t.getOpt(e)})).each((function(e){Gp.set(e,[Qk(t.event.icon,n.providers.icons)])}))}))])],!1)),eventOrder:Xn(Xk,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:ss([zp.config({mode:"special",onLeft:a,onRight:a})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:cb(0,e.columns,e.presets)},fetch:function(t){return tS(w(e.fetch,t))}}))).asSpec()},t_=function(e){return"separator"===e.type},n_={type:"separator"},o_=function(e,t){var n=Q(e,(function(e,n){return function(e){return r(e)}(n)?""===n?e:"|"===n?e.length>0&&!t_(e[e.length-1])?e.concat([n_]):e:we(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]);return n.length>0&&t_(n[n.length-1])&&n.pop(),n},r_=function(e,t){return function(e){return we(e,"getSubmenuItems")}(e)?function(e,t){var n=e.getSubmenuItems(),o=i_(n,t);return{item:e,menus:Xn(o.menus,hr(e.value,o.items)),expansions:Xn(o.expansions,hr(e.value,e.value))}}(e,t):{item:e,menus:{},expansions:{}}},i_=function(e,t){var n=o_(r(e)?e.split(" "):e,t);return Y(n,(function(e,n){var o=function(e){if(t_(e))return e;var t=ye(e,"value").getOrThunk((function(){return Qi("generated-menu-item")}));return Xn({value:t},e)}(n),r=r_(o,t);return{menus:Xn(e.menus,r.menus),items:[r.item].concat(e.items),expansions:Xn(e.expansions,r.expansions)}}),{menus:{},expansions:{},items:[]})},a_=function(e,t,n,o){var r=Qi("primary-menu"),i=i_(e,n.shared.providers.menuItems());if(0===i.items.length)return P.none();var a=nx(r,i.items,t,n,o),u=me(i.menus,(function(e,o){return nx(o,e,t,n,!1)})),s=Xn(u,hr(r,a));return P.from(Dh.tieredData(r,s,i.expansions))},u_=function(e){return{isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){return Pf.set(e,t)},setActive:function(t){var n=e.element;t?(Oa(n,"tox-tbtn--enabled"),Mt(n,"aria-pressed",!0)):(Ta(n,"tox-tbtn--enabled"),Nt(n,"aria-pressed"))},isActive:function(){return Ea(e.element,"tox-tbtn--enabled")}}},s_=function(e,t,n,o){return e_({text:e.text,icon:e.icon,tooltip:e.tooltip,role:o,fetch:function(t,o){e.fetch((function(e){o(a_(e,Jv.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:u_,columns:1,presets:"normal",classes:[],dropdownBehaviours:[_x.config({})]},t,n.shared)},c_=function(e,t,n){var o=function(e){return function(o){var r=!o.isActive();o.setActive(r),e.storage.set(r),n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){vs(t.element),wi(t,Bx,{name:e.name,value:e.storage.get()})}))}))}},r=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(H(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return _(_({type:e.type,active:!1},t),{onAction:o(e),onSetup:r(e)})})))}},l_=function(e,t,n,o,r,i){void 0===n&&(n=[]);var a=t.fold((function(){return{}}),(function(e){return{action:e}})),u=_({buttonBehaviours:ss([Sy((function(){return e.disabled||i.isDisabled()})),wy(),_x.config({}),qp("button press",[Oi("click"),Oi("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),s=Xn(u,{dom:o});return Xn(s,{components:r})},d_=function(e,t,n,o){void 0===o&&(o=[]);var r={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({})},i=e.icon.map((function(e){return Yk(e,n.icons)})),a=Ey([i]);return l_(e,t,o,r,a,n)},f_=function(e,t,n,o){void 0===o&&(o=[]);var r=d_(e,P.some(t),n,o);return Jh.sketch(r)},m_=function(e,t,n,o,r){void 0===o&&(o=[]),void 0===r&&(r=[]);var i=n.translate(e.text),a=e.icon?e.icon.map((function(e){return Yk(e,n.icons)})):P.none(),u=a.isSome()?Ey([a]):[],s=a.isSome()?{}:{innerHtml:i},c=I(I(I(I([],e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],!0),a.isSome()?["tox-button--icon"]:[],!0),e.borderless?["tox-button--naked"]:[],!0),r,!0),l=_(_({tag:"button",classes:c},s),{attributes:{title:i}});return l_(e,t,o,l,u,n)},p_=function(e,t,n,o,r){void 0===o&&(o=[]),void 0===r&&(r=[]);var i=m_(e,P.some(t),n,o,r);return Jh.sketch(i)},h_=function(e,t){return function(n){"custom"===t?wi(n,Bx,{name:e,value:{}}):"submit"===t?yi(n,Lx):"cancel"===t?yi(n,Px):console.error("Unknown button type: ",t)}},g_=function(e,t,n){if(function(e,t){return"menu"===t}(0,t)){var o=e,r=_(_({},e),{onSetup:function(t){return t.setDisabled(e.disabled),h},fetch:c_(o.items,(function(){return i}),n)}),i=eg(s_(r,"tox-tbtn",n,P.none()));return i.asSpec()}if(function(e,t){return"custom"===t||"cancel"===t||"submit"===t}(0,t)){var a=h_(e.name,t),u=_(_({},e),{borderless:!1});return p_(u,a,n.shared.providers,[])}console.error("Unknown footer button type: ",t)},v_=function(e,t){var n,o,r=h_(e.name,"custom");return n=P.none(),o=Ax.parts.field(_({factory:Jh},m_(e,P.some(r),t,[QC(""),BC()]))),Ix(n,o,[],[])},b_=v([nr("field1Name","field1"),nr("field2Name","field2"),bu("onLockedChange"),pu(["lockClass"]),nr("locked",!1),hd("coupledFieldBehaviours",[wf,dd])]),y_=function(e,t){return zd({factory:Ax,name:e,overrides:function(e){return{fieldBehaviours:ss([qp("coupled-input-behaviour",[Ii(jr(),(function(n){(function(e,t,n){return ef(e,t,n).bind(wf.getCurrent)})(n,e,t).each((function(t){ef(n,e,"lock").each((function(o){ch.isOn(o)&&e.onLockedChange(n,t,o)}))}))}))])])}}})},w_=v([y_("field1","field2"),y_("field2","field1"),zd({factory:Jh,schema:[zo("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:ss([ch.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),x_=gf({name:"FormCoupledInputs",configFields:b_(),partFields:w_(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:gd(e.coupledFieldBehaviours,[wf.config({find:P.some}),dd.config({store:{mode:"manual",getValue:function(t){var n,o=af(t,e,["field1","field2"]);return(n={})[e.field1Name]=dd.getValue(o.field1()),n[e.field2Name]=dd.getValue(o.field2()),n},setValue:function(t,n){var o=af(t,e,["field1","field2"]);xe(n,e.field1Name)&&dd.setValue(o.field1(),n[e.field1Name]),xe(n,e.field2Name)&&dd.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return ef(t,e,"field1")},getField2:function(t){return ef(t,e,"field2")},getLock:function(t){return ef(t,e,"lock")}}}},apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),S_=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){var n=parseFloat(t[1]),o=t[2];return Pn.value({value:n,unit:o})}return Pn.error(e)},A_=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=function(e){return we(n,e)};return e.unit===t?P.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?P.some(e.value):P.some(e.value/n[e.unit]*n[t]):P.none()},C_=function(e){return P.none()},k_=function(e,t){var n=S_(e).toOptional(),o=S_(t).toOptional();return Ce(n,o,(function(e,t){return A_(e,t.unit).map((function(e){return t.value/e})).map((function(e){return function(e,t){return function(n){return A_(n,t).map((function(n){return{value:n*e,unit:t}}))}}(e,t.unit)})).getOr(C_)})).getOr(C_)},__=function(e,t){var n=C_,o=Qi("ratio-event"),r=function(e){return lv(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons)},i=x_.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:ss([Pf.config({disabled:function(){return e.disabled||t.isDisabled()}}),wy(),_x.config({})])}),a=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},u=function(n){return Ax.parts.field({factory:qx,inputClasses:["tox-textfield"],inputBehaviours:ss([Pf.config({disabled:function(){return e.disabled||t.isDisabled()}}),wy(),_x.config({}),qp("size-input-events",[Ii(Br(),(function(e,t){wi(e,o,{isField1:n})})),Ii(zr(),(function(t,n){wi(t,Rx,{name:e.name})}))])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},c=x_.parts.field1(a([Ax.parts.label(s("Width")),u(!0)])),l=x_.parts.field2(a([Ax.parts.label(s("Height")),u(!1)]));return x_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,l,a([s("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,o){S_(dd.getValue(e)).each((function(e){n(e).each((function(e){dd.setValue(t,function(e){var t,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=e.value.toFixed((t=e.unit)in n?n[t]:1);return-1!==o.indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+e.unit}(e))}))}))},coupledFieldBehaviours:ss([Pf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){x_.getField1(e).bind(Ax.getField).each(Pf.disable),x_.getField2(e).bind(Ax.getField).each(Pf.disable),x_.getLock(e).each(Pf.disable)},onEnabled:function(e){x_.getField1(e).bind(Ax.getField).each(Pf.enable),x_.getField2(e).bind(Ax.getField).each(Pf.enable),x_.getLock(e).each(Pf.enable)}}),wy(),qp("size-input-events2",[Ii(o,(function(e,t){var o=t.event.isField1,r=o?x_.getField1(e):x_.getField2(e),i=o?x_.getField2(e):x_.getField1(e),a=r.map(dd.getValue).getOr(""),u=i.map(dd.getValue).getOr("");n=k_(a,u)}))])])})},O_={undo:v(Qi("undo")),redo:v(Qi("redo")),zoom:v(Qi("zoom")),back:v(Qi("back")),apply:v(Qi("apply")),swap:v(Qi("swap")),transform:v(Qi("transform")),tempTransform:v(Qi("temp-transform")),transformApply:v(Qi("transform-apply"))},I_=v("save-state"),T_=v("disable"),E_=v("enable"),D_={formActionEvent:Bx,saveState:I_,disable:T_,enable:E_},R_=function(e,t){var n=function(e,n,o,r){return eg(p_({name:e,text:e,disabled:o,primary:r,icon:P.none(),borderless:!1},n,t))},o=function(e,n,o,r){return eg(f_({name:e,icon:P.some(e),tooltip:P.some(n),disabled:r,primary:!1,borderless:!1},o,t))},r=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(Pf)&&Pf.disable(n)}))},i=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(Pf)&&Pf.enable(n)}))},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},u=h,s=function(e,t,n){wi(e,t,n)},c=function(e){return yi(e,D_.disable())},l=function(e){return yi(e,D_.enable())},d=function(e,t){c(e),s(e,O_.transform(),{transform:t}),l(e)},f=function(e){return function(){ee.getOpt(e).each((function(e){Gp.set(e,[J])}))}},m=function(e,t){c(e),s(e,O_.transformApply(),{transform:t,swap:f(e)}),l(e)},p=function(){return n("Back",(function(e){return s(e,O_.back(),{swap:f(e)})}),!1,!1)},g=function(){return eg({dom:{tag:"div",classes:["tox-spacer"]},behaviours:ss([Pf.config({})])})},b=function(){return n("Apply",(function(e){return s(e,O_.apply(),{swap:f(e)})}),!0,!0)},y=[p(),g(),n("Apply",(function(t){m(t,(function(t){var n=e.getRect();return Hk(t,n.x,n.y,n.w,n.h)})),e.hideCrop()}),!1,!0)],w=yx.sketch({dom:a,components:y.map((function(e){return e.asSpec()})),containerBehaviours:ss([qp("image-tools-crop-buttons-events",[Ii(D_.disable(),(function(e,t){r(y,e)})),Ii(D_.enable(),(function(e,t){i(y,e)}))])])}),x=eg(__({name:"size",label:P.none(),constrain:!0,disabled:!1},t)),S=[p(),g(),x,g(),n("Apply",(function(e){x.getOpt(e).each((function(t){var n=dd.getValue(t),o=function(e,t){return function(n){return Wk(n,e,t)}}(parseInt(n.width,10),parseInt(n.height,10));m(e,o)}))}),!1,!0)],A=yx.sketch({dom:a,components:S.map((function(e){return e.asSpec()})),containerBehaviours:ss([qp("image-tools-resize-buttons-events",[Ii(D_.disable(),(function(e,t){r(S,e)})),Ii(D_.enable(),(function(e,t){i(S,e)}))])])}),C=function(e,t){return function(n){return e(n,t)}},k=C(Vk,"h"),_=C(Vk,"v"),O=C(Gk,-90),I=C(Gk,90),T=function(e,t){!function(e,t){c(e),s(e,O_.tempTransform(),{transform:t}),l(e)}(e,t)},E=[p(),g(),o("flip-horizontally","Flip horizontally",(function(e){T(e,k)}),!1),o("flip-vertically","Flip vertically",(function(e){T(e,_)}),!1),o("rotate-left","Rotate counterclockwise",(function(e){T(e,O)}),!1),o("rotate-right","Rotate clockwise",(function(e){T(e,I)}),!1),g(),b()],D=yx.sketch({dom:a,components:E.map((function(e){return e.asSpec()})),containerBehaviours:ss([qp("image-tools-fliprotate-buttons-events",[Ii(D_.disable(),(function(e,t){r(E,e)})),Ii(D_.enable(),(function(e,t){i(E,e)}))])])}),R=function(e,n,o,r,i){var a=xC.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),u=xC.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=xC.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return eg(xC.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o,maxX:i,getInitialValue:v({x:r})},components:[a,u,s],sliderBehaviours:ss([Xp.config({})]),onChoose:n}))},M=function(e,t,n,o,r){return R(e,(function(e,n,o){var r=C(t,o.x/100);d(e,r)}),n,o,r)},B=function(e,t,n,o,u){var s=function(e,t,n,o,r){return[p(),M(e,t,n,o,r),b()]}(e,t,n,o,u);return yx.sketch({dom:a,components:s.map((function(e){return e.asSpec()})),containerBehaviours:ss([qp("image-tools-filter-panel-buttons-events",[Ii(D_.disable(),(function(e,t){r(s,e)})),Ii(D_.enable(),(function(e,t){i(s,e)}))])])})},L=[p(),g(),b()],F=yx.sketch({dom:a,components:L.map((function(e){return e.asSpec()}))}),N=B("Brightness",zk,-100,0,100),j=B("Contrast",Uk,-100,0,100),z=B("Gamma",jk,-100,0,100),U=function(e,t,n){return function(o){return function(e,t,n,o){return Ik(e,t,n,o)}(o,e,t,n)}},V=function(e){return R(e,(function(e,t,n){var o=H.getOpt(e),r=G.getOpt(e),i=W.getOpt(e);o.each((function(t){r.each((function(n){i.each((function(o){var r=dd.getValue(t).x/100,i=dd.getValue(o).x/100,a=dd.getValue(n).x/100,u=U(r,i,a);d(e,u)}))}))}))}),0,100,200)},H=V("R"),W=V("G"),G=V("B"),q=[p(),H,W,G,b()],Y=yx.sketch({dom:a,components:q.map((function(e){return e.asSpec()}))}),Q=function(e,t,n){return function(o){s(o,O_.swap(),{transform:t,swap:function(){ee.getOpt(o).each((function(t){Gp.set(t,[e]),n(t)}))}})}},$=P.some(Nk),K=P.some(Fk),X=[o("crop","Crop",Q(w,P.none(),(function(t){e.showCrop()})),!1),o("resize","Resize",Q(A,P.none(),(function(t){x.getOpt(t).each((function(t){var n=e.getMeasurements(),o=n.width,r=n.height;dd.setValue(t,{width:o,height:r})}))})),!1),o("orientation","Orientation",Q(D,P.none(),u),!1),o("brightness","Brightness",Q(N,P.none(),u),!1),o("sharpen","Sharpen",Q(F,$,u),!1),o("contrast","Contrast",Q(j,P.none(),u),!1),o("color-levels","Color levels",Q(Y,P.none(),u),!1),o("gamma","Gamma",Q(z,P.none(),u),!1),o("invert","Invert",Q(F,K,u),!1)],J=yx.sketch({dom:a,components:X.map((function(e){return e.asSpec()}))}),Z=yx.sketch({dom:{tag:"div"},components:[J],containerBehaviours:ss([Gp.config({})])}),ee=eg(Z);return{memContainer:ee,getApplyButton:function(e){return ee.getOpt(e).map((function(e){var t=e.components()[0];return t.components()[t.components().length-1]}))}}},M_=tinymce.util.Tools.resolve("tinymce.geom.Rect"),P_=tinymce.util.Tools.resolve("tinymce.util.Observable"),B_=tinymce.util.Tools.resolve("tinymce.util.VK"),L_=function(e){if(function(e){return d(e.changedTouches)}(e))for(var t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]};function F_(e,t){var n,o,r,i,a,u,s,c=[],l=[],f=null!==(n=t.document)&&void 0!==n?n:document,m=null!==(o=t.root)&&void 0!==o?o:f,p=Pe.fromDom(f),h=Pe.fromDom(m.getElementById(null!==(r=t.handle)&&void 0!==r?r:e)),g=function(e){var n=e.raw,o=function(e){var t=Math.max,n=e.documentElement,o=e.body,r=t(n.scrollWidth,o.scrollWidth),i=t(n.clientWidth,o.clientWidth),a=t(n.offsetWidth,o.offsetWidth),u=t(n.scrollHeight,o.scrollHeight),s=t(n.clientHeight,o.clientHeight);return{width:r<a?i:r,height:u<t(n.offsetHeight,o.offsetHeight)?s:u}}(f);L_(n),e.prevent(),a=n.button,u=n.screenX,s=n.screenY;var r=Wt(h,"cursor");i=Pe.fromTag("div",f),Vt(i,{position:"absolute",top:"0",left:"0",width:o.width+"px",height:o.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:r}),gn(Dt(p),i),l.push(Vs(p,"mousemove",v),Vs(p,"touchmove",v),Vs(p,"mouseup",b),Vs(p,"touchend",b)),t.start(n)},v=function(e){var n=e.raw;if(L_(n),n.button!==a)return b(e);n.deltaX=n.screenX-u,n.deltaY=n.screenY-s,e.prevent(),t.drag(n)},b=function(e){L_(e.raw),W(l,(function(e){return e.unbind()})),l=[],yn(i),t.stop&&t.stop(e.raw)};return c.push(Vs(h,"mousedown",g),Vs(h,"touchstart",g)),{destroy:function(){W(l.concat(c),(function(e){return e.unbind()})),l=[],c=[],d(i)&&yn(i)}}}var N_=0,j_=function(e,t,n,o,r){var i,a=[],u="tox-crid-"+N_++,s=Pe.fromDom(o),c=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],l=["top","right","bottom","left"],d=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},f=function(t,o,r,i){var a=o.x+r*t.deltaX,u=o.y+i*t.deltaY,s=Math.max(20,o.w+r*t.deltaW),c=Math.max(20,o.h+i*t.deltaH),l=e=M_.clamp({x:a,y:u,w:s,h:c},n,"move"===t.name);l=d(n,l),g.fire("updateRect",{rect:l}),h(l)},m=function(e){var n=function(e,t){Za(s,"#"+u+"-"+e).each((function(e){Vt(e,{left:t.x+"px",top:t.y+"px",width:Math.max(0,t.w)+"px",height:Math.max(0,t.h)+"px"})}))};W(c,(function(t){Za(s,"#"+u+"-"+t.name).each((function(n){Vt(n,{left:e.w*t.xMul+e.x+"px",top:e.h*t.yMul+e.y+"px"})}))})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)},p=function(t){m(e=t)},h=function(e){var t,o;p((t=n,{x:(o=e).x+t.x,y:o.y+t.y,w:o.w,h:o.h}))};!function(){var t=Pe.fromTag("div");Pt(t,{id:u,class:"tox-croprect-container",role:"grid","aria-dropeffect":"execute"}),gn(s,t),W(l,(function(e){Za(s,"#"+u).each((function(t){var n=Pe.fromTag("div");Pt(n,{id:u+"-"+e,class:"tox-croprect-block","data-mce-bogus":"all"}),Ut(n,"display","none"),gn(t,n)}))})),W(c,(function(e){Za(s,"#"+u).each((function(t){var n=Pe.fromTag("div");Pt(n,{id:u+"-"+e.name,"aria-label":e.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:e.label}),Da(n,["tox-croprect-handle","tox-croprect-handle-"+e.name]),Ut(n,"display","none"),gn(t,n)}))})),i=H(c,(function(t){var n;return F_(u,{document:o.ownerDocument,root:Ct(s).dom,handle:u+"-"+t.name,start:function(){n=e},drag:function(e){f(t,n,e.deltaX,e.deltaY)}})})),m(e);var n=function(e){Mt(e.target,"aria-grabbed","focus"===e.raw.type?"true":"false")};a.push(Vs(s,"focusin",n),Vs(s,"focusout",n),Vs(s,"keydown",(function(t){var n;W(c,(function(e){if(Bt(t.target,"id")===u+"-"+e.name)return n=e,!1}));var o=function(e,t,o,r,i){e.stopPropagation(),e.preventDefault(),f(n,o,r,i)};switch(t.raw.keyCode){case B_.LEFT:o(t,0,e,-10,0);break;case B_.RIGHT:o(t,0,e,10,0);break;case B_.UP:o(t,0,e,0,-10);break;case B_.DOWN:o(t,0,e,0,10);break;case B_.ENTER:case B_.SPACEBAR:t.prevent(),r()}})))}();var g=_(_({},P_),{toggleVisibility:function(e){var t=I(I([],H(c,(function(e){return"#"+u+"-"+e.name})),!0),H(l,(function(e){return"#"+u+"-"+e})),!0).join(","),n=Gc(s,t);W(n,e?function(e){return $t(e,"display")}:function(e){return Ut(e,"display","none")})},setClampRect:function(t){n=t,m(e)},setRect:p,getInnerRect:function(){return d(n,e)},setInnerRect:h,setViewPortRect:function(n){t=n,m(e)},destroy:function(){W(i,(function(e){return e.destroy()})),i=[],W(a,(function(e){return e.unbind()})),a=[]}});return g},z_=function(e){var t,n=eg({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=dr(1),r=(t=Ns(),_(_({},t),{run:function(e){return t.get().each(e)}})),i=dr({x:0,y:0,w:1,h:1}),a=dr({x:0,y:0,w:1,h:1}),u=function(e,t){l.getOpt(e).each((function(e){var a=o.get(),u=sn(e.element),s=Zt(e.element),c=t.dom.naturalWidth*a,l=t.dom.naturalHeight*a,d=Math.max(0,u/2-c/2),f=Math.max(0,s/2-l/2),m={left:d.toString()+"px",top:f.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};Vt(t,m),n.getOpt(e).each((function(e){Vt(e.element,m)})),r.run((function(e){var t=i.get();e.setRect({x:t.x*a+d,y:t.y*a+f,w:t.w*a,h:t.h*a}),e.setClampRect({x:d,y:f,w:c,h:l}),e.setViewPortRect({x:0,y:0,w:u,h:s})}))}))},s=function(e,t){var n,r=Pe.fromTag("img");return Mt(r,"src",t),(n=r.dom,new _v((function(e){var t=function(){n.removeEventListener("load",t),e(n)};n.complete?e(n):n.addEventListener("load",t)}))).then((function(){e.getSystem().isConnected()&&l.getOpt(e).map((function(e){var t=Va({element:r});Gp.replaceAt(e,1,P.some(t));var n=a.get(),s={x:0,y:0,w:r.dom.naturalWidth,h:r.dom.naturalHeight};a.set(s);var c=M_.inflate(s,-20,-20);i.set(c),n.w===s.w&&n.h===s.h||function(e,t){l.getOpt(e).each((function(e){var n=sn(e.element),r=Zt(e.element),i=t.dom.naturalWidth,a=t.dom.naturalHeight,u=Math.min(n/i,r/a);u>=1?o.set(1):o.set(u)}))}(e,r),u(e,r)}))}))},c=yx.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[n.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:ss([qp("image-panel-crop-events",[Li((function(e){l.getOpt(e).each((function(e){var t=e.element.dom,n=j_({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,h);n.toggleVisibility(!1),n.on("updateRect",(function(e){var t=e.rect,n=o.get(),r={x:Math.round(t.x/n),y:Math.round(t.y/n),w:Math.round(t.w/n),h:Math.round(t.h/n)};i.set(r)})),r.set(n)}))})),Fi((function(){r.clear()}))])])}],containerBehaviours:ss([Gp.config({}),qp("image-panel-events",[Li((function(t){s(t,e)}))])])}),l=eg(c);return{memContainer:l,updateSrc:s,zoom:function(e,t){var n=o.get(),r=t>0?Math.min(2,n+.1):Math.max(.1,n-.1);o.set(r),l.getOpt(e).each((function(e){var t=e.components()[1].element;u(e,t)}))},showCrop:function(){r.run((function(e){e.toggleVisibility(!0)}))},hideCrop:function(){r.run((function(e){e.toggleVisibility(!1)}))},getRect:function(){return i.get()},getMeasurements:function(){var e=a.get();return{width:e.w,height:e.h}}}},U_=function(e,t,n,o,r){return f_({name:e,icon:P.some(t),disabled:n,tooltip:P.some(e),primary:!1,borderless:!1},o,r)},V_=function(e,t){t?Pf.enable(e):Pf.disable(e)};var H_,W_=function(e){var t,n,o,r,i=dr(e),a=zs(),u=(n=-1,{data:t=[],add:function(e){var o=t.splice(++n);return t.push(e),{state:e,removed:o}},undo:function(){if(o())return t[--n]},redo:function(){if(r())return t[++n]},canUndo:o=function(){return n>0},canRedo:r=function(){return-1!==n&&n<t.length-1}});u.add(e);var s=function(e){i.set(e)},c=function(e){return{blob:e,url:URL.createObjectURL(e)}},l=function(e){URL.revokeObjectURL(e.url)},d=function(){a.on(l),a.clear()},f=function(e){var t=c(e);s(t);var n,o=u.add(t).removed;return n=o,UC.each(n,l),t.url};return{getBlobState:function(){return i.get()},setBlobState:s,addBlobState:f,getTempState:function(){return a.get().getOrThunk(i.get)},updateTempState:function(e){var t=c(e);return d(),a.set(t),t.url},addTempState:function(e){var t=c(e);return a.set(t),t.url},applyTempState:function(e){return a.get().fold(h,(function(t){f(t.blob),e()}))},destroyTempState:d,undo:function(){var e=u.undo();return s(e),e.url},redo:function(){var e=u.redo();return s(e),e.url},getHistoryStates:function(){return{undoEnabled:u.canUndo(),redoEnabled:u.canRedo()}}}},G_=function(e,t){var n=W_(e.currentState),o=function(e){var t=n.getHistoryStates();f.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),wi(e,D_.formActionEvent,{name:D_.saveState(),value:t.undoEnabled})},r=function(e){return e.toBlob()},i=function(e){wi(e,D_.formActionEvent,{name:D_.disable(),value:{}})},a=function(e){m.getApplyButton(e).each((function(e){Pf.enable(e)})),wi(e,D_.formActionEvent,{name:D_.enable(),value:{}})},u=function(e,t){return i(e),d.updateSrc(e,t)},s=function(e,t,n,s,c){i(e),function(e){return gk(e)}(t).then(n).then(r).then(s).then((function(t){return u(e,t)})).then((function(){o(e),c(),a(e)})).catch((function(t){console.log(t),e.getSystem().isConnected()&&a(e)}))},c=function(e,t,o){var r=n.getBlobState().blob;s(e,r,t,(function(e){return n.updateTempState(e)}),o)},l=function(e){var t=n.getBlobState().url;return n.destroyTempState(),o(e),t},d=z_(e.currentState.url),f=function(e){var t=eg(U_("Undo","undo",!0,(function(e){wi(e,O_.undo(),{direction:1})}),e)),n=eg(U_("Redo","redo",!0,(function(e){wi(e,O_.redo(),{direction:1})}),e));return{container:yx.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[t.asSpec(),n.asSpec(),U_("Zoom in","zoom-in",!1,(function(e){wi(e,O_.zoom(),{direction:1})}),e),U_("Zoom out","zoom-out",!1,(function(e){wi(e,O_.zoom(),{direction:-1})}),e)]}),updateButtonUndoStates:function(e,o,r){t.getOpt(e).each((function(e){V_(e,o)})),n.getOpt(e).each((function(e){V_(e,r)}))}}}(t),m=R_(d,t);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[m.memContainer.asSpec(),d.memContainer.asSpec(),f.container],behaviours:ss([dd.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),qp("image-tools-events",[Ii(O_.undo(),(function(e,t){var r=n.undo();u(e,r).then((function(t){a(e),o(e)}))})),Ii(O_.redo(),(function(e,t){var r=n.redo();u(e,r).then((function(t){a(e),o(e)}))})),Ii(O_.zoom(),(function(e,t){var n=t.event.direction;d.zoom(e,n)})),Ii(O_.back(),(function(e,t){!function(e){var t=l(e);u(e,t).then((function(t){a(e)}))}(e),(0,t.event.swap)(),d.hideCrop()})),Ii(O_.apply(),(function(e,t){n.applyTempState((function(){l(e),(0,t.event.swap)()}))})),Ii(O_.transform(),(function(e,t){return c(e,t.event.transform,h)})),Ii(O_.tempTransform(),(function(e,t){return function(e,t){var o=n.getTempState().blob;s(e,o,t,(function(e){return n.addTempState(e)}),h)}(e,t.event.transform)})),Ii(O_.transformApply(),(function(e,t){return function(e,t,o){var r=n.getBlobState().blob;s(e,r,t,(function(t){var o=n.addBlobState(t);return l(e),o}),o)}(e,t.event.transform,t.event.swap)})),Ii(O_.swap(),(function(e,t){!function(e){f.updateButtonUndoStates(e,!1,!1)}(e);var n=t.event.transform,o=t.event.swap;n.fold((function(){o()}),(function(t){c(e,t,o)}))}))]),BC()])}},q_=function(e){return!we(e,"items")},Y_=function(e,t,n,o){return H(n,(function(n){return q_(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===o,onAction:function(){dd.setValue(e,n.value),wi(e,Rx,{name:t}),Xp.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return Y_(e,t,n.items,o)}}}))},Q_=function(e,t){return ce(e,(function(e){return q_(e)?ke(e.value===t,e):Q_(e.items,t)}))},$_=hf({name:"HtmlSelect",configFields:[zo("options"),fd("selectBehaviours",[Xp,dd]),nr("selectClasses",[]),nr("selectAttributes",{}),$o("data")],factory:function(e,t){var n=H(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),o=e.data.map((function(e){return hr("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:pd(e.selectBehaviours,[Xp.config({}),dd.config({store:_({mode:"manual",getValue:function(e){return Ma(e.element)},setValue:function(t,n){$(e.options,(function(e){return e.value===n})).isSome()&&Pa(t.element,n)}},o)})])}}}),K_=function(e,t){var n=e.label.map((function(e){return Dx(e,t)})),o=[Pf.config({disabled:function(){return e.disabled||t.isDisabled()}}),wy(),zp.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return yi(e,Lx),P.some(!0)}}),qp("textfield-change",[Ii(jr(),(function(t,n){wi(t,Rx,{name:e.name})})),Ii(Kr(),(function(t,n){wi(t,Rx,{name:e.name})}))]),_x.config({})],r=e.validation.map((function(e){return fS.config({getRoot:function(e){return ht(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=dd.getValue(t),o=e.validator(n);return nS(!0===o?Pn.value(n):Pn.error(o))},validateOnLoad:e.validateOnLoad}})})).toArray(),i=e.placeholder.fold(v({}),(function(e){return{placeholder:t.translate(e)}})),a=e.inputMode.fold(v({}),(function(e){return{inputmode:e}})),u=_(_({},i),a),s=Ax.parts.field({tag:!0===e.multiline?"textarea":"input",inputAttributes:u,inputClasses:[e.classname],inputBehaviours:ss(X([o,r])),selectOnFocus:!1,factory:qx}),c=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),l=[Pf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){Ax.getField(e).each(Pf.disable)},onEnabled:function(e){Ax.getField(e).each(Pf.enable)}}),wy()];return Ix(n,s,c,l)},X_=Object.freeze({__proto__:null,events:function(e,t){var n=e.stream.streams.setup(e,t);return ki([Ii(e.event,n),Fi((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[Ii(e,(function(){return t.cancel()}))]})).getOr([])))}}),J_=function(e){var t=dr(null);return da({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},Z_=Object.freeze({__proto__:null,throttle:J_,init:function(e){return e.stream.streams.state(e)}}),eO=[Uo("stream",Lo("mode",{throttle:[zo("delay"),nr("stopEvent",!0),wu("streams",{setup:function(e,t){var n=e.stream,o=hv(e.onStream,n.delay);return t.setTimer(o),function(e,t){o.throttle(e,t),n.stopEvent&&t.stop()}},state:J_})]})),nr("event","input"),$o("cancelEvent"),bu("onStream")],tO=ls({fields:eO,name:"streaming",active:X_,state:Z_}),nO=function(e,t,n){var o=dd.getValue(n);dd.setValue(t,o),rO(t)},oO=function(e,t){var n=e.element,o=Ma(n),r=n.dom;"number"!==Bt(n,"type")&&t(r,o)},rO=function(e){oO(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},iO=function(e,t,n){if(e.selectsOver){var o=dd.getValue(t),r=e.getDisplayText(o),i=dd.getValue(n);return 0===e.getDisplayText(i).indexOf(r)?P.some((function(){nO(0,t,n),function(e,t){oO(e,(function(e,n){return e.setSelectionRange(t,n.length)}))}(t,r.length)})):P.none()}return P.none()},aO=v("alloy.typeahead.itemexecute"),uO=v([$o("lazySink"),zo("fetch"),nr("minChars",5),nr("responseTime",1e3),gu("onOpen"),nr("getHotspot",P.some),nr("getAnchorOverrides",v({})),nr("layouts",P.none()),nr("eventOrder",{}),lr("model",{},[nr("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),nr("selectsOver",!0),nr("populateFromBrowse",!0)]),gu("onSetValue"),vu("onExecute"),gu("onItemExecute"),nr("inputClasses",[]),nr("inputAttributes",{}),nr("inputStyles",{}),nr("matchWidth",!0),nr("useMinWidth",!1),nr("dismissOnBlur",!0),pu(["openClass"]),$o("initialData"),fd("typeaheadBehaviours",[Xp,dd,tO,zp,ch,hS]),No("previewing",(function(){return dr(!0)}))].concat(Vx()).concat(ES())),sO=v([Ud({schema:[mu()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(o){iO(e.model,o,n).fold((function(){return Gf.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&nO(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){return wi(e,aO(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&nO(e.model,t,n)}))}}}})]),cO=gf({name:"Typeahead",configFields:uO(),partFields:sO(),factory:function(e,t,n,o){var r=function(t,n,r){e.previewing.set(!1);var i=hS.getCoupled(t,"sandbox");if(Gl.isOpen(i))wf.getCurrent(i).each((function(e){Gf.getHighlighted(e).fold((function(){r(e)}),(function(){Ci(i,e.element,"keydown",n)}))}));else{SS(e,a(t),t,i,o,(function(e){wf.getCurrent(e).each(r)}),$x.HighlightFirst).get(h)}},i=Hx(e),a=function(e){return function(t){return t.map((function(t){var n=be(t.menus),o=J(n,(function(e){return q(e.items,(function(e){return"item"===e.type}))}));return dd.getState(e).update(H(o,(function(e){return e.data}))),t}))}},u=[Xp.config({}),dd.config({onSetValue:e.onSetValue,store:_({mode:"dataset",getDataKey:function(e){return Ma(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){Pa(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return hr("initialValue",e)})).getOr({}))}),tO.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var r=hS.getCoupled(t,"sandbox");if(Xp.isFocused(t)&&Ma(t.element).length>=e.minChars){var i=wf.getCurrent(r).bind((function(e){return Gf.getHighlighted(e).map(dd.getValue)}));e.previewing.set(!0);SS(e,a(t),t,r,o,(function(t){wf.getCurrent(r).each((function(t){i.fold((function(){e.model.selectsOver&&Gf.highlightFirst(t)}),(function(e){Gf.highlightBy(t,(function(t){return dd.getValue(t).value===e.value})),Gf.getHighlighted(t).orThunk((function(){return Gf.highlightFirst(t),P.none()}))}))}))}),$x.HighlightFirst).get(h)}},cancelEvent:oi()}),zp.config({mode:"special",onDown:function(e,t){return r(e,t,Gf.highlightFirst),P.some(!0)},onEscape:function(e){var t=hS.getCoupled(e,"sandbox");return Gl.isOpen(t)?(Gl.close(t),P.some(!0)):P.none()},onUp:function(e,t){return r(e,t,Gf.highlightLast),P.some(!0)},onEnter:function(t){var n=hS.getCoupled(t,"sandbox"),o=Gl.isOpen(n);if(o&&!e.previewing.get())return wf.getCurrent(n).bind((function(e){return Gf.getHighlighted(e)})).map((function(e){return wi(t,aO(),{item:e}),!0}));var r=dd.getValue(t);return yi(t,oi()),e.onExecute(n,t,r),o&&Gl.close(n),P.some(!0)}}),ch.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),hS.config({others:{sandbox:function(t){return IS(e,t,{onOpen:function(){return ch.on(t)},onClose:function(){return ch.off(t)}})}}}),qp("typeaheadevents",[ji((function(t){var n=h;CS(e,a(t),t,o,n,$x.HighlightFirst).get(h)})),Ii(aO(),(function(t,n){var o=hS.getCoupled(t,"sandbox");nO(e.model,t,n.event.item),yi(t,oi()),e.onItemExecute(t,o,n.event.item,dd.getValue(t)),Gl.close(o),rO(t)}))].concat(e.dismissOnBlur?[Ii($r(),(function(e){var t=hS.getCoupled(e,"sandbox");ws(t.element).isNone()&&Gl.close(t)}))]:[]))];return{uid:e.uid,dom:Gx(Xn(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:_(_({},i),pd(e.typeaheadBehaviours,u)),eventOrder:e.eventOrder}}}),lO=function(e){return _(_({},e),{toCached:function(){return lO(e.toCached())},bindFuture:function(t){return lO(e.bind((function(e){return e.fold((function(e){return nS(Pn.error(e))}),(function(e){return t(e)}))})))},bindResult:function(t){return lO(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return lO(e.map((function(e){return e.map(t)})))},mapError:function(t){return lO(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(t,n){return lO(tS((function(o){var r=!1,i=setTimeout((function(){r=!0,o(Pn.error(n()))}),t);e.get((function(e){r||(clearTimeout(i),o(e))}))})))}})},dO=function(e){return lO(tS(e))},fO=dO,mO={type:"separator"},pO=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:h}},hO=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:h}},gO=function(e,t){return function(e){return H(e,pO)}(function(e,t){return q(t,(function(t){return t.type===e}))}(e,t))},vO=function(e){return gO("header",e.targets)},bO=function(e){return gO("anchor",e.targets)},yO=function(e){return P.from(e.anchorTop).map((function(e){return hO("<top>",e)})).toArray()},wO=function(e){return P.from(e.anchorBottom).map((function(e){return hO("<bottom>",e)})).toArray()},xO=function(e,t){var n=e.toLowerCase();return q(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return Oe(t.toLowerCase(),n)||Oe(e.value.toLowerCase(),n)}))},SO=function(e,t,n){var o=dd.getValue(t),r=void 0!==o.meta.text?o.meta.text:o.value;return n.getLinkInformation().fold((function(){return[]}),(function(t){var o,i=xO(r,function(e){return H(e,(function(e){return hO(e,e)}))}(n.getHistory(e)));return"file"===e?(o=[i,xO(r,vO(t)),xO(r,X([yO(t),bO(t),wO(t)]))],Q(o,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(mO,t)}),[])):i}))},AO=Qi("aria-invalid"),CO=function(e){return function(t,n,o){return ye(n,"name").fold((function(){return e(n,o)}),(function(r){return t.field(r,e(n,o))}))}},kO={bar:CO((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:H(e.items,t.interpreter)}}(e,t.shared)})),collection:CO((function(e,t){return Ux(e,t.shared.providers)})),alertbanner:CO((function(e,t){return function(e,t){return yx.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Jh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:uv(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){wi(t,Bx,{name:"alert-banner",value:e.url})},buttonBehaviours:ss([sv()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})}(e,t.shared.providers)})),input:CO((function(e,t){return function(e,t){return K_({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:P.none(),maximized:e.maximized},t)}(e,t.shared.providers)})),textarea:CO((function(e,t){return function(e,t){return K_({name:e.name,multiline:!0,label:e.label,inputMode:P.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:P.none(),maximized:e.maximized},t)}(e,t.shared.providers)})),label:CO((function(e,t){return function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},o=H(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(o),behaviours:ss([BC(),Gp.config({}),YC(P.none()),zp.config({mode:"acyclic"})])}}(e,t.shared)})),iframe:function(e){return function(t,n,o){var r=Xn(n,{source:"dynamic"});return CO(e)(t,r,o)}}((function(e,t){return rk(e,t.shared.providers)})),button:CO((function(e,t){return v_(e,t.shared.providers)})),checkbox:CO((function(e,t){return function(e,t){var n=dd.config({store:{mode:"manual",getValue:function(e){return e.element.dom.checked},setValue:function(e,t){e.element.dom.checked=t}}}),o=function(e){return e.element.dom.click(),P.some(!0)},r=Ax.parts.field({factory:{sketch:b},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ss([BC(),Pf.config({disabled:function(){return e.disabled||t.isDisabled()}}),_x.config({}),Xp.config({}),n,zp.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),qp("checkbox-events",[Ii(zr(),(function(t,n){wi(t,Rx,{name:e.name})}))])])}),i=Ax.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:ss([BS.config({})])}),a=function(e){return lv("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)},u=eg({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return Ax.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,u.asSpec(),i],fieldBehaviours:ss([Pf.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){Ax.getField(e).each(Pf.disable)},onEnabled:function(e){Ax.getField(e).each(Pf.enable)}}),wy()])})}(e,t.shared.providers)})),colorinput:CO((function(e,t){return jS(e,t.shared,t.colorinput)})),colorpicker:CO((function(e){var t=function(e){return"tox-"+e},n=PC(jC,t),o=eg(n.sketch({dom:{tag:"div",classes:[t("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(e){wi(e,Bx,{name:"hex-valid",value:!0})},onInvalidHex:function(e){wi(e,Bx,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[o.asSpec()],behaviours:ss([dd.config({store:{mode:"manual",getValue:function(e){var t=o.get(e);return wf.getCurrent(t).bind((function(e){return dd.getValue(e).hex})).map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t),r=o.get(e);wf.getCurrent(r).fold((function(){console.log("Can not find form")}),(function(e){dd.setValue(e,{hex:P.from(n[1]).getOr("")}),IC.getField(e,"hex").each((function(e){yi(e,jr())}))}))}}}),BC()])}})),dropzone:CO((function(e,t){return $C(e,t.shared.providers)})),grid:CO((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:H(e.items,t.interpreter)}}(e,t.shared)})),listbox:CO((function(e,t){return function(e,t){var n=t.shared.providers,o=ae(e.items).filter(q_),r=e.label.map((function(e){return Dx(e,n)})),i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[Ax.parts.field({dom:{},factory:{sketch:function(n){return e_({uid:n.uid,text:o.map((function(e){return e.text})),icon:P.none(),tooltip:e.label,role:P.none(),fetch:function(n,o){var r=Y_(n,e.name,e.items,dd.getValue(n));o(a_(r,Jv.CLOSE_ON_EXECUTE,t,!1))},onSetup:v(h),getApi:v({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[_x.config({}),dd.config({store:{mode:"manual",initialValue:o.map((function(e){return e.value})).getOr(""),getValue:function(e){return Bt(e.element,"data-value")},setValue:function(t,n){Q_(e.items,n).each((function(e){Mt(t.element,"data-value",e.value),wi(t,Jk,{text:e.text})}))}}})]},"tox-listbox",t.shared)}}})]};return Ax.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:X([r.toArray(),[i]]),fieldBehaviours:ss([Pf.config({disabled:v(e.disabled),onDisabled:function(e){Ax.getField(e).each(Pf.disable)},onEnabled:function(e){Ax.getField(e).each(Pf.enable)}})])})}(e,t)})),selectbox:CO((function(e,t){return function(e,t){var n=H(e.items,(function(e){return{text:t.translate(e.text),value:e.value}})),o=e.label.map((function(e){return Dx(e,t)})),r=Ax.parts.field({dom:{},selectAttributes:{size:e.size},options:n,factory:$_,selectBehaviours:ss([Pf.config({disabled:function(){return e.disabled||t.isDisabled()}}),_x.config({}),qp("selectbox-change",[Ii(zr(),(function(t,n){wi(t,Rx,{name:e.name})}))])])}),i=e.size>1?P.none():P.some(lv("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:X([[r],i.toArray()])};return Ax.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:X([o.toArray(),[a]]),fieldBehaviours:ss([Pf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){Ax.getField(e).each(Pf.disable)},onEnabled:function(e){Ax.getField(e).each(Pf.enable)}}),wy()])})}(e,t.shared.providers)})),sizeinput:CO((function(e,t){return __(e,t.shared.providers)})),urlinput:CO((function(e,t){return function(e,t,n){var o,r=t.shared.providers,i=function(t){var o=dd.getValue(t);n.addToHistory(o.value,e.filetype)},a=Ax.parts.field({factory:cO,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":AO,type:"url"},minChars:0,responseTime:0,fetch:function(o){var r=SO(e.filetype,o,n),i=a_(r,Jv.BUBBLE_TO_SANDBOX,t,!1);return nS(i)},getHotspot:function(e){return f.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(fS)&&fS.run(e).get(h)},typeaheadBehaviours:ss(X([n.getValidationHandler().map((function(t){return fS.config({getRoot:function(e){return ht(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){s.getOpt(e).each((function(e){Mt(e.element,"title",r.translate(t))}))}},validator:{validate:function(n){var o=dd.getValue(n);return fO((function(n){t({type:e.filetype,url:o.value},(function(e){if("invalid"===e.status){var t=Pn.error(e.message);n(t)}else{var o=Pn.value(e.message);n(o)}}))}))},validateOnLoad:!1}})})).toArray(),[Pf.config({disabled:function(){return e.disabled||r.isDisabled()}}),_x.config({}),qp("urlinput-events",X(["file"===e.filetype?[Ii(jr(),(function(t){wi(t,Rx,{name:e.name})}))]:[],[Ii(zr(),(function(t){wi(t,Rx,{name:e.name}),i(t)})),Ii(Kr(),(function(t){wi(t,Rx,{name:e.name}),i(t)}))]]))]])),eventOrder:(o={},o[jr()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:cb(0,0,"normal")},onExecute:function(e,t,n){wi(t,Lx,{})},onItemExecute:function(t,n,o,r){i(t),wi(t,Rx,{name:e.name})}}),u=e.label.map((function(e){return Dx(e,r)})),s=eg(function(e,t,n,o){return void 0===n&&(n=e),void 0===o&&(o=e),lv(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:_({title:r.translate(o),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))},r.icons)}("invalid",P.some(AO),"warning")),c=eg({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]}),l=n.getUrlPicker(e.filetype),d=Qi("browser.url.event"),f=eg({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,c.asSpec()],behaviours:ss([Pf.config({disabled:function(){return e.disabled||r.isDisabled()}})])}),m=eg(p_({name:e.name,icon:P.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return yi(e,d)}),r,[],["tox-browse-url"]));return Ax.sketch({dom:Ex([]),components:u.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:X([[f.asSpec()],l.map((function(){return m.asSpec()})).toArray()])}]),fieldBehaviours:ss([Pf.config({disabled:function(){return e.disabled||r.isDisabled()},onDisabled:function(e){Ax.getField(e).each(Pf.disable),m.getOpt(e).each(Pf.disable)},onEnabled:function(e){Ax.getField(e).each(Pf.enable),m.getOpt(e).each(Pf.enable)}}),wy(),qp("url-input-events",[Ii(d,(function(t){wf.getCurrent(t).each((function(n){var o=dd.getValue(n),r=_({fieldname:e.name},o);l.each((function(o){o(r).get((function(o){dd.setValue(n,o),wi(t,Rx,{name:e.name})}))}))}))}))])])})}(e,t,t.urlinput)})),customeditor:CO((function(e){var t=zs(),n=eg({dom:{tag:e.tag}}),o=zs();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ss([qp("custom-editor-events",[Li((function(r){n.getOpt(r).each((function(n){(!function(e){return we(e,"init")}(e)?zC.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)})):e.init(n.element.dom)).then((function(e){o.on((function(t){e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),dd.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return o.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){o.set(n)}),(function(e){return e.setValue(n)}))}}}),BC()]),components:[n.asSpec()]}})),htmlpanel:CO((function(e){return"presentation"===e.presets?yx.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):yx.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:ss([_x.config({}),Xp.config({})])})})),imagetools:CO((function(e,t){return G_(e,t.shared.providers)})),table:CO((function(e,t){return function(e,t){var n,o,r=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},i=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},a=function(e){return{dom:{tag:"tr"},components:H(e,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:H(o,r)}]}),(n=e.cells,{dom:{tag:"tbody"},components:H(n,a)})],behaviours:ss([_x.config({}),Xp.config({})])}}(e,t.shared.providers)})),panel:CO((function(e,t){return function(e,t){return{dom:{tag:"div",classes:e.classes},components:H(e.items,t.shared.interpreter)}}(e,t)}))},_O={field:function(e,t){return t}},OO=function(e,t,n){var o=Xn(n,{shared:{interpreter:function(t){return IO(e,t,o)}}});return IO(e,t,o)},IO=function(e,t,n){return ye(kO,t.type).fold((function(){return console.error('Unknown factory type "'+t.type+'", defaulting to container: ',t),t}),(function(o){return o(e,t,n)}))},TO={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},EO=function(e,t,n){var o={maxHeightFunction:tc()};return function(){return n()?{type:"node",root:kt(e()),node:P.from(e()),bubble:ic(12,12,TO),layouts:{onRtl:function(){return[Vh]},onLtr:function(){return[Uh]}},overrides:o}:{type:"hotspot",hotspot:t(),bubble:ic(-12,12,TO),layouts:{onRtl:function(){return[Vu]},onLtr:function(){return[Hu]}},overrides:o}}},DO=function(e,t,n){return function(){return n()?{type:"node",root:kt(e()),node:P.from(e()),layouts:{onRtl:function(){return[Hh]},onLtr:function(){return[Hh]}}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Yu]},onLtr:function(){return[Yu]}}}}},RO=function(e,t){return function(){return{type:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return P.some(Dc.range(Pe.fromDom(t.startContainer),t.startOffset,Pe.fromDom(t.endContainer),t.endOffset))}}}},MO=function(e){return function(t){return{type:"node",root:e(),node:t}}},PO=function(e,t,n){var o=cy(e),r=function(){return Pe.fromDom(e.getBody())},i=function(){return Pe.fromDom(e.getContentAreaContainer())},a=function(){return o||!n()};return{inlineDialog:EO(i,t,a),banner:DO(i,t,a),cursor:RO(e,r),node:MO(r)}},BO=function(e){return function(t,n){Lw(e)(t,n)}},LO=function(e){return function(){return kw(e)}},FO=function(e){return function(){return _w(e)}},NO=function(e){return function(){return Iw(e)}},jO=function(e){return{colorPicker:BO(e),hasCustomColors:LO(e),getColors:FO(e),getColorCols:NO(e)}},zO=function(e){return function(){return function(e){return e.getParam("draggable_modal",!1,"boolean")}(e)}},UO=function(e){return{isDraggableModal:zO(e)}},VO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],HO=function(e){return Q(e,(function(e,t){if(we(t,"items")){var n=HO(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(function(e){return we(e,"inline")}(t)||function(e){return we(e,"block")}(t)||function(e){return we(e,"selector")}(t)){var o="custom-"+(r(t.name)?t.name:t.title.toLowerCase());return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return _(_({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})},WO=function(e){return function(e){return P.from(e.getParam("style_formats")).filter(a)}(e).map((function(t){var n=function(e,t){var n=HO(t),o=function(t){W(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(function(){o(n.customFormats)})),n.formats}(e,t);return function(e){return e.getParam("style_formats_merge",!1,"boolean")}(e)?VO.concat(n):n})).getOr(VO)},GO=function(e,t,n){var o={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Xn(e,o)},qO=function(e,t,n,o){var i=function(t){return H(t,(function(t){var a=le(t);if(xe(t,"items")){var u=i(t.items);return Xn(function(e){return Xn(e,{type:"submenu"})}(t),{getStyleItems:v(u)})}return xe(t,"format")?function(e){return GO(e,n,o)}(t):1===a.length&&j(a,"title")?Xn(t,{type:"separator"}):function(t){var i=r(t.name)?t.name:Qi(t.title),a="custom-"+i,u={type:"formatter",format:a,isSelected:n(a),getStylePreview:o(a)},s=Xn(t,u);return e.formatter.register(i,s),s}(t)}))};return i(t)},YO=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()}},o=function(e){var t=e.items;return void 0!==t&&t.length>0?J(t,o):[e.format]},r=dr([]),i=dr([]),a=dr([]),u=dr([]),s=dr(!1);e.on("PreInit",(function(a){var u=WO(e),s=qO(e,u,t,n);r.set(s),i.set(J(s,o))})),e.on("addStyleModifications",(function(r){var i=qO(e,r.items,t,n);a.set(i),s.set(r.replace),u.set(J(i,o))}));return{getData:function(){var e=s.get()?[]:r.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=s.get()?[]:i.get(),t=u.get();return e.concat(t)}}},QO=UC.trim,$O=function(e){return function(t){if(function(e){return d(e)&&1===e.nodeType}(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},KO=$O("true"),XO=$O("false"),JO=function(e,t,n,o,r){return{type:e,title:t,url:n,level:o,attach:r}},ZO=function(e){return e.innerText||e.textContent},eI=function(e){return function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)}(e)&&nI(e)},tI=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},nI=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return KO(e)}return!1}(e)&&!XO(e)},oI=function(e){return tI(e)&&nI(e)},rI=function(e){var t=function(e){return e.id?e.id:Qi("h")}(e);return JO("header",ZO(e),"#"+t,function(e){return tI(e)?parseInt(e.nodeName.substr(1),10):0}(e),(function(){e.id=t}))},iI=function(e){var t=e.id||e.name,n=ZO(e);return JO("anchor",n||"#"+t,"#"+t,0,h)},aI=function(e){var t,n;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,H(Gc(Pe.fromDom(n),t),(function(e){return e.dom}))},uI=function(e){return QO(e.title).length>0},sI=function(e){var t=aI(e);return q(function(e){return H(q(e,oI),rI)}(t).concat(function(e){return H(q(e,eI),iI)}(t)),uI)},cI="tinymce-url-history",lI=function(e){return r(e)&&/^https?/.test(e)},dI=function(e){return i(e)&&ve(e,(function(e){return!(a(t=e)&&t.length<=5&&Z(t,lI));var t})).isNone()},fI=function(){var e,t=ww.getItem(cI);if(null===t)return{};try{e=JSON.parse(t)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+cI+" was not valid JSON",e),{};throw e}return dI(e)?e:(console.log("Local storage "+cI+" was not valid format",e),{})},mI=function(e){var t=fI();return ye(t,e).getOr([])},pI=function(e,t){if(lI(e)){var n=fI(),o=ye(n,t).getOr([]),r=q(o,(function(t){return t!==e}));n[t]=[e].concat(r).slice(0,5),function(e){if(!dI(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));ww.setItem(cI,JSON.stringify(e))}(n)}},hI=function(e){return!!e},gI=function(e){return me(UC.makeMap(e,/[, ]/),hI)},vI=function(e){return P.from(function(e){return e.getParam("file_picker_callback")}(e)).filter(f)},bI=function(e,t){var n=function(e){var t=P.some(function(e){return e.getParam("file_picker_types")}(e)).filter(hI),n=P.some(function(e){return e.getParam("file_browser_callback_types")}(e)).filter(hI),o=t.or(n).map(gI);return vI(e).fold(A,(function(e){return o.fold(C,(function(e){return le(e).length>0&&e}))}))}(e);return s(n)?n?vI(e):P.none():n[t]?vI(e):P.none()},yI=function(e){return P.from(e).filter(r).getOrUndefined()},wI=function(e){return{getHistory:mI,addToHistory:pI,getLinkInformation:function(){return function(e){return function(e){return!1===e.getParam("typeahead_urls")}(e)?P.none():P.some({targets:sI(e.getBody()),anchorTop:yI(hy(e)),anchorBottom:yI(gy(e))})}(e)},getValidationHandler:function(){return function(e){return P.from(function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t}(e))}(e)},getUrlPicker:function(t){return function(e,t){return bI(e,t).map((function(n){return function(o){return tS((function(a){var u=_({filetype:t,fieldname:o.fieldname},P.from(o.meta).getOr({}));n.call(e,(function(e,t){if(!r(e))throw new Error("Expected value to be string");if(void 0!==t&&!i(t))throw new Error("Expected meta to be a object");a({value:e,meta:t})}),o.value,u)}))}}))}(e,t)}}},xI=function(e,t,n){var o=dr(!1),r=function(e){var t=dr(uy(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}}(t),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:nv.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return function(e,t){return IO(_O,e,t)}(e,i)},anchors:PO(t,n,r.isPositionedAtTop),header:r,getSink:function(){return Pn.value(e)}},urlinput:wI(t),styleselect:YO(t),colorinput:jO(t),dialog:UO(t),isContextMenuOpen:function(){return o.get()},setContextMenuState:function(e){return o.set(e)}};return i},SI=cf,AI=Gd,CI=v([nr("shell",!1),zo("makeItem"),nr("setupItem",h),hd("listBehaviours",[Gp])]),kI=Vd({name:"items",overrides:function(){return{behaviours:ss([Gp.config({})])}}}),_I=v([kI]),OI=v("CustomList"),II=gf({name:OI(),configFields:CI(),partFields:_I(),factory:function(e,t,n,o){var r=e.shell?{behaviours:[Gp.config({})],components:[]}:{behaviours:[],components:t},i=function(t){return e.shell?P.some(t):ef(t,e,"items")};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:pd(e.listBehaviours,r.behaviours),apis:{setItems:function(t,n){i(t).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(o){var r=Gp.contents(o),i=n.length,a=i-r.length,u=a>0?U(a,(function(){return e.makeItem()})):[],s=r.slice(i);W(s,(function(e){return Gp.remove(o,e)})),W(u,(function(e){return Gp.append(o,e)}));var c=Gp.contents(o);W(c,(function(o,r){e.setupItem(t,o,n[r],r)}))}))}}}},apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),TI=v([zo("dom"),nr("shell",!0),fd("toolbarBehaviours",[Gp])]),EI=v([Vd({name:"groups",overrides:function(){return{behaviours:ss([Gp.config({})])}}})]),DI=gf({name:"Toolbar",configFields:TI(),partFields:EI(),factory:function(e,t,n,o){var r=function(t){return e.shell?P.some(t):ef(t,e,"groups")},i=e.shell?{behaviours:[Gp.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:pd(e.toolbarBehaviours,i.behaviours),apis:{setGroups:function(e,t){r(e).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){Gp.set(e,t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),RI=h,MI=A,PI=v([]),BI=Object.freeze({__proto__:null,setup:RI,isDocked:MI,getBehaviours:PI}),LI=function(e){return(Se(qt(e,"position"),"fixed")?P.none():gt(e)).orThunk((function(){var t=Pe.fromTag("span");return ht(e).bind((function(e){gn(e,t);var n=gt(t);return yn(t),n}))}))},FI=function(e){return LI(e).map(rn).getOrThunk((function(){return nn(0,0)}))},NI=fr([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),jI=function(e,t){var n=e.element;Oa(n,t.transitionClass),Ta(n,t.fadeOutClass),Oa(n,t.fadeInClass),t.onShow(e)},zI=function(e,t){var n=e.element;Oa(n,t.transitionClass),Ta(n,t.fadeInClass),Oa(n,t.fadeOutClass),t.onHide(e)},UI=function(e,t,n){return Z(e,(function(e){switch(e){case"bottom":return function(e,t){return e.bottom<=t.bottom}(t,n);case"top":return function(e,t){return e.y>=t.y}(t,n)}}))},VI=function(e,t){return t.getInitialPos().map((function(t){return In(t.bounds.x,t.bounds.y,sn(e),Zt(e))}))},HI=function(e,t,n){return n.getInitialPos().bind((function(o){switch(n.clearInitialPos(),o.position){case"static":return P.some(NI.static());case"absolute":var r=LI(e).map(Tn).getOrThunk((function(){return Tn(Et())}));return P.some(NI.absolute(Ss("absolute",ye(o.style,"left").map((function(e){return t.x-r.x})),ye(o.style,"top").map((function(e){return t.y-r.y})),ye(o.style,"right").map((function(e){return r.right-t.right})),ye(o.style,"bottom").map((function(e){return r.bottom-t.bottom})))));default:return P.none()}}))},WI=function(e,t,n){var o=Tn(e);if(UI(n.getModes(),o,t))return P.none();!function(e,t,n){n.setInitialPos({style:Yt(e),position:Wt(e,"position")||"static",bounds:t})}(e,o,n);var r=Dn(),i=o.x-r.x,a=t.y-r.y,u=r.bottom-t.bottom,s=o.y<=t.y;return P.some(NI.fixed(Ss("fixed",P.some(i),s?P.some(a):P.none(),P.none(),s?P.none():P.some(u))))},GI=function(e,t,n){var o=e.element;return Se(qt(o,"position"),"fixed")?function(e,t,n){return VI(e,n).filter((function(e){return UI(n.getModes(),e,t)})).bind((function(t){return HI(e,t,n)}))}(o,t,n):WI(o,t,n)},qI=function(e,t,n){n.setDocked(!1),W(["left","right","top","bottom","position"],(function(t){return $t(e.element,t)})),t.onUndocked(e)},YI=function(e,t,n,o){var r="fixed"===o.position;n.setDocked(r),As(e.element,o),(r?t.onDocked:t.onUndocked)(e)},QI=function(e,t,n,o,r){void 0===r&&(r=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(i){var a=function(e,t){return e.y<t.bottom&&e.bottom>t.y}(i,o);a!==n.isVisible()&&(n.setVisible(a),r&&!a?(Da(e.element,[t.fadeOutClass]),t.onHide(e)):(a?jI:zI)(e,t))}))}))},$I=function(e,t,n){var o=e.element;n.setDocked(!1),function(e,t){var n=e.element;return VI(n,t).bind((function(e){return HI(n,e,t)}))}(e,n).each((function(o){o.fold((function(){return qI(e,t,n)}),(function(o){return YI(e,t,n,o)}),h)})),n.setVisible(!0),t.contextual.each((function(t){Ra(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),KI(e,t,n)},KI=function(e,t,n){e.getSystem().isConnected()&&function(e,t,n){var o=t.lazyViewport(e);n.isDocked()&&QI(e,t,n,o),GI(e,o,n).each((function(r){r.fold((function(){return qI(e,t,n)}),(function(o){return YI(e,t,n,o)}),(function(r){QI(e,t,n,o,!0),YI(e,t,n,r)}))}))}(e,t,n)},XI=function(e,t,n){n.isDocked()&&$I(e,t,n)},JI=Object.freeze({__proto__:null,refresh:KI,reset:XI,isDocked:function(e,t,n){return n.isDocked()},getModes:function(e,t,n){return n.getModes()},setModes:function(e,t,n,o){return n.setModes(o)}}),ZI=Object.freeze({__proto__:null,events:function(e,t){return ki([Bi(Hr(),(function(n,o){e.contextual.each((function(e){Ea(n.element,e.transitionClass)&&(Ra(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n));o.stop()}))})),Ii(ui(),(function(n,o){KI(n,e,t)})),Ii(si(),(function(n,o){XI(n,e,t)}))])}}),eT=[tr("contextual",[Ho("fadeInClass"),Ho("fadeOutClass"),Ho("transitionClass"),Go("lazyContext"),gu("onShow"),gu("onShown"),gu("onHide"),gu("onHidden")]),sr("lazyViewport",Dn),cr("modes",["top","bottom"],Ao),gu("onDocked"),gu("onUndocked")],tT=ls({fields:eT,name:"docking",active:ZI,apis:JI,state:Object.freeze({__proto__:null,init:function(e){var t=dr(!1),n=dr(!0),o=zs(),r=dr(e.modes);return da({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+r.get().join(",")}})}})}),nT=v(Qi("toolbar-height-change")),oT={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},rT=function(e,t){return j(tT.getModes(e),t)},iT=function(e){var t=e.element;ht(t).each((function(n){var o="padding-"+tT.getModes(e)[0];if(tT.isDocked(e)){var r=sn(n);Ut(t,"width",r+"px"),Ut(n,o,function(e){return en(e)+(parseInt(Wt(e,"margin-top"),10)||0)+(parseInt(Wt(e,"margin-bottom"),10)||0)}(t)+"px")}else $t(t,"width"),$t(n,o)}))},aT=function(e,t){t?(Ta(e,oT.fadeOutClass),Da(e,[oT.transitionClass,oT.fadeInClass])):(Ta(e,oT.fadeInClass),Da(e,[oT.fadeOutClass,oT.transitionClass]))},uT=function(e,t){var n=Pe.fromDom(e.getContainer());t?(Oa(n,"tox-tinymce--toolbar-sticky-on"),Ta(n,"tox-tinymce--toolbar-sticky-off")):(Oa(n,"tox-tinymce--toolbar-sticky-off"),Ta(n,"tox-tinymce--toolbar-sticky-on"))},sT=function(e,t){var n=zs(),o=t.getSink,r=function(e){o().each((function(t){return e(t.element)}))},i=function(t){e.inline||iT(t),uT(e,tT.isDocked(t)),t.getSystem().broadcastOn([Yl()],{}),o().each((function(e){return e.getSystem().broadcastOn([Yl()],{})}))},a=e.inline?[]:function(){var e;return[ps.config({channels:(e={},e[nT()]={onReceive:iT},e)})]}();return I([Xp.config({}),tT.config({contextual:_({lazyContext:function(t){var n=en(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer(),r=Tn(Pe.fromDom(o)),i=r.height-n,a=r.y+(rT(t,"top")?0:n);return P.some(In(r.x,a,r.width,i))},onShow:function(){r((function(e){return aT(e,!0)}))},onShown:function(e){r((function(e){return Ra(e,[oT.transitionClass,oT.fadeInClass])})),n.get().each((function(t){var o,r,i;o=e.element,i=dt(r=t),ys(i).filter((function(e){return!st(r,e)})).filter((function(e){return st(e,Pe.fromDom(i.dom.body))||lt(o,e)})).each((function(){return vs(r)})),n.clear()}))},onHide:function(e){(function(e,t){return ws(e).orThunk((function(){return t().toOptional().bind((function(e){return ws(e.element)}))}))})(e.element,o).fold(n.clear,n.set),r((function(e){return aT(e,!1)}))},onHidden:function(){r((function(e){return Ra(e,[oT.transitionClass])}))}},oT),lazyViewport:function(t){var n=Dn(),o=function(e){return e.getParam("toolbar_sticky_offset",0,"number")}(e),r=n.y+(rT(t,"top")?o:0),i=n.height-(rT(t,"bottom")?o:0);return In(n.x,r,n.width,i)},modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i})],a,!0)},cT=Object.freeze({__proto__:null,setup:function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(tT.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(iT)})),e.on("SkinLoaded",(function(){n().each((function(e){tT.isDocked(e)?tT.reset(e):tT.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(tT.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){tT.refresh(t);var n=t.element;Pm(n)&&function(e,t){var n=dt(t),o=n.dom.defaultView.innerHeight,r=xn(n),i=Pe.fromDom(e.elm),a=En(i),u=Zt(i),s=a.y,c=s+u,l=rn(t),d=Zt(t),f=l.top,m=f+d,p=Math.abs(f-r.top)<2,h=Math.abs(m-(r.top+o))<2;if(p&&s<m)Sn(r.left,s-d,n);else if(h&&c>f){var g=s-o+u+d;Sn(r.left,g,n)}}(e,n)}))})),e.on("PostRender",(function(){uT(e,!1)}))},isDocked:function(e){return e().map(tT.isDocked).getOr(!1)},getBehaviours:sT}),lT=ho([Ho("type"),Uo("items",vo([yo([Ho("name"),Qo("items",Ao)]),Ao]))].concat(Lv)),dT=[Jo("text"),Jo("tooltip"),Jo("icon"),Go("fetch"),sr("onSetup",(function(){return h}))],fT=ho(I([Ho("type")],dT,!0)),mT=function(e){return Ro("menubutton",fT,e)},pT=ho([Ho("type"),Jo("tooltip"),Jo("icon"),Jo("text"),Zo("select"),Go("fetch"),sr("onSetup",(function(){return h})),ar("presets","normal",["normal","color","listpreview"]),nr("columns",1),Go("onAction"),Go("onItemAction")]),hT=hf({factory:function(e,t){var n={focus:zp.focusIn,setMenus:function(e,n){var o=H(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},o=mT(n).mapError((function(e){return Bo(e)})).getOrDie();return s_(o,"tox-mbtn",t.backstage,P.some("menuitem"))}));Gp.set(e,o)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:ss([Gp.config({}),qp("menubar-events",[Li((function(t){e.onSetup(t)})),Ii(Pr(),(function(e,t){Za(e.element,".tox-mbtn--active").each((function(n){eu(t.event.target,".tox-mbtn").each((function(t){st(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){MS.expand(e),MS.close(n),Xp.focus(e)}))}))}))}))})),Ii(mi(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){MS.isOpen(n)&&(MS.expand(e),MS.close(n))}))}))}))]),zp.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),P.some(!0)}}),_x.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[zo("dom"),zo("uid"),zo("onEscape"),zo("backstage"),nr("onSetup",h)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),gT=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))},vT=function(e){return e.dimension.property},bT=function(e,t){return e.dimension.getDimension(t)},yT=function(e,t){var n=gT(e,t);Ra(n,[t.shrinkingClass,t.growingClass])},wT=function(e,t){Ta(e.element,t.openClass),Oa(e.element,t.closedClass),Ut(e.element,vT(t),"0px"),Kt(e.element)},xT=function(e,t){Ta(e.element,t.closedClass),Oa(e.element,t.openClass),$t(e.element,vT(t))},ST=function(e,t,n,o){n.setCollapsed(),Ut(e.element,vT(t),bT(t,e.element)),Kt(e.element),yT(e,t),wT(e,t),t.onStartShrink(e),t.onShrunk(e)},AT=function(e,t,n,o){var r=o.getOrThunk((function(){return bT(t,e.element)}));n.setCollapsed(),Ut(e.element,vT(t),r),Kt(e.element);var i=gT(e,t);Ta(i,t.growingClass),Oa(i,t.shrinkingClass),wT(e,t),t.onStartShrink(e)},CT=function(e,t,n){var o=bT(t,e.element);("0px"===o?ST:AT)(e,t,n,P.some(o))},kT=function(e,t,n){var o=gT(e,t),r=Ea(o,t.shrinkingClass),i=bT(t,e.element);xT(e,t);var a=bT(t,e.element);(r?function(){Ut(e.element,vT(t),i),Kt(e.element)}:function(){wT(e,t)})(),Ta(o,t.shrinkingClass),Oa(o,t.growingClass),xT(e,t),Ut(e.element,vT(t),a),n.setExpanded(),t.onStartGrow(e)},_T=function(e,t,n){var o=gT(e,t);return!0===Ea(o,t.growingClass)},OT=function(e,t,n){var o=gT(e,t);return!0===Ea(o,t.shrinkingClass)},IT=Object.freeze({__proto__:null,refresh:function(e,t,n){if(n.isExpanded()){$t(e.element,vT(t));var o=bT(t,e.element);Ut(e.element,vT(t),o)}},grow:function(e,t,n){n.isExpanded()||kT(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&CT(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&ST(e,t,n)},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:_T,isShrinking:OT,isTransitioning:function(e,t,n){return _T(e,t)||OT(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?CT:kT)(e,t,n)},disableTransitions:yT}),TT=Object.freeze({__proto__:null,exhibit:function(e,t,n){var o=t.expanded;return ma(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:hr(t.dimension.property,"0px")})},events:function(e,t){return ki([Bi(Hr(),(function(n,o){o.event.raw.propertyName===e.dimension.property&&(yT(n,e),t.isExpanded()&&$t(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}}),ET=[zo("closedClass"),zo("openClass"),zo("shrinkingClass"),zo("growingClass"),$o("getAnimationRoot"),gu("onShrunk"),gu("onStartShrink"),gu("onGrown"),gu("onStartGrow"),nr("expanded",!1),Uo("dimension",Lo("property",{width:[wu("property","width"),wu("getDimension",(function(e){return sn(e)+"px"}))],height:[wu("property","height"),wu("getDimension",(function(e){return Zt(e)+"px"}))]}))],DT=ls({fields:ET,name:"sliding",active:TT,apis:IT,state:Object.freeze({__proto__:null,init:function(e){var t=dr(e.expanded);return da({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:w(t.set,!1),setExpanded:w(t.set,!0),readState:function(){return"expanded: "+t.get()}})}})}),RT=[fd("slotBehaviours",[])],MT=function(e){return"<alloy.field."+e+">"},PT=function(e,t){var n,o=function(t){return rf(e)},r=function(t,n){return function(o,r){return ef(o,e,r).map((function(e){return t(e,r)})).getOr(n)}},i=function(e,t){return"true"!==Bt(e.element,"aria-hidden")},a=r(i,!1),u=r((function(e,t){if(i(e)){var n=e.element;Ut(n,"display","none"),Mt(n,"aria-hidden","true"),wi(e,pi(),{name:t,visible:!1})}})),s=(n=u,function(e,t){W(t,(function(t){return n(e,t)}))}),c=r((function(e,t){if(!i(e)){var n=e.element;$t(n,"display"),Nt(n,"aria-hidden"),wi(e,pi(),{name:t,visible:!0})}})),l={getSlotNames:o,getSlot:function(t,n){return ef(t,e,n)},isShowing:a,hideSlot:u,hideAllSlots:function(e){return s(e,o())},showSlot:c};return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.slotBehaviours),apis:l}},BT=me({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return ca(e)})),LT=_(_({},BT),{sketch:function(e){var t=function(){var e=[];return{slot:function(t,n){return e.push(t),$d("container",MT(t),n)},record:v(e)}}(),n=e(t),o=t.record(),r=H(o,(function(e){return zd({name:e,pname:MT(e)})}));return df("container",RT,r,PT,n)}}),FT=ho([Jo("icon"),Jo("tooltip"),sr("onShow",h),sr("onHide",h),sr("onSetup",(function(){return h}))]),NT=function(e){return{element:function(){return e.element.dom}}},jT=function(e,t){var n=H(le(t),(function(e){var n=t[e],o=Mo(function(e){return Ro("sidebar",FT,e)}(n));return{name:e,getApi:NT,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return H(n,(function(t){var o=dr(h);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Bb([_y(t,o),Oy(t,o),Ii(pi(),(function(e,t){var o=t.event;$(n,(function(e){return e.name===o.name})).each((function(t){(o.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},zT=function(e){return LT.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:jT(t,e),slotBehaviours:Bb([Li((function(e){return LT.hideAllSlots(e)}))])}}))},UT=function(e){return wf.getCurrent(e).bind((function(e){return DT.isGrowing(e)||DT.hasGrown(e)?wf.getCurrent(e).bind((function(e){return $(LT.getSlotNames(e),(function(t){return LT.isShowing(e,t)}))})):P.none()}))},VT=Qi("FixSizeEvent"),HT=Qi("AutoSizeEvent"),WT=Object.freeze({__proto__:null,block:function(e,t,n,o){Mt(e.element,"aria-busy",!0);var r=t.getRoot(e).getOr(e),i=ss([zp.config({mode:"special",onTab:function(){return P.some(!0)},onShiftTab:function(){return P.some(!0)}}),Xp.config({})]),a=o(r,i),u=r.getSystem().build(a);Gp.append(r,Ga(u)),u.hasConfigured(zp)&&t.focus&&zp.focusIn(u),n.isBlocked()||t.onBlock(e),n.blockWith((function(){return Gp.remove(r,u)}))},unblock:function(e,t,n){Nt(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),GT=[sr("getRoot",P.none),ur("focus",!0),gu("onBlock"),gu("onUnblock")],qT=ls({fields:GT,name:"blocking",apis:WT,state:Object.freeze({__proto__:null,init:function(){var e=Ns();return da({readState:e.isSet,blockWith:function(t){e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),YT=function(e){return wf.getCurrent(e).each((function(e){return vs(e.element)}))},QT=function(e,t,n,o){var r=t.element;if(function(e,t){P.from(e.iframeElement).map(Pe.fromDom).each((function(e){t?(Lt(e,"tabindex").each((function(t){return Mt(e,"data-mce-tabindex",t)})),Mt(e,"tabindex",-1)):(Nt(e,"tabindex"),Lt(e,"data-mce-tabindex").each((function(t){Mt(e,"tabindex",t),Nt(e,"data-mce-tabindex")})))}))}(e,n),n)qT.block(t,function(e){return function(t,n){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Zh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}}(o)),$t(r,"display"),Nt(r,"aria-hidden"),e.hasFocus()&&YT(t);else{var i=wf.getCurrent(t).exists((function(e){return bs(e.element)}));qT.unblock(t),Ut(r,"display","none"),Mt(r,"aria-hidden","true"),i&&e.focus()}},$T=function(e,t,n){var o=dr(!1),r=zs(),i=function(n){var r;!o.get()||function(e){return"focusin"===e.type}(r=n)&&(r.composed?ae(r.composedPath()):P.from(r.target)).map(Pe.fromDom).filter(Ne).exists((function(e){return Ea(e,"mce-pastebin")}))||(n.preventDefault(),YT(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(function(){e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(function(e){"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));var a=function(r){r!==o.get()&&(o.set(r),QT(e,t(),r,n.providers),e.fire("AfterProgressState",{state:r}))};e.on("ProgressState",(function(t){if(r.on(Xh.clearTimeout),m(t.time)){var n=Xh.setEditorTimeout(e,(function(){return a(t.state)}),t.time);r.set(n)}else a(t.state),r.clear()}))},KT=function(e,t,n){return{within:e,extra:t,withinWidth:n}},XT=function(e,t,n){var o,r=(o=function(e,t){var o=n(e);return P.some({element:e,start:t,finish:t+o,width:o})},Q(e,(function(e,t){return o(t,e.len).fold(v(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),{len:0,list:[]}).list),i=q(r,(function(e){return e.finish<=t})),a=Y(i,(function(e,t){return e+t.width}),0);return{within:i,extra:r.slice(i.length),withinWidth:a}},JT=function(e){return H(e,(function(e){return e.element}))},ZT=function(e,t,n,o){var r=function(e,t,n){var o=XT(t,e,n);return 0===o.extra.length?P.some(o):P.none()}(e,t,n).getOrThunk((function(){return XT(t,e-n(o),n)})),i=r.within,a=r.extra,u=r.withinWidth;return 1===a.length&&a[0].width<=n(o)?function(e,t,n){var o=JT(e.concat(t));return KT(o,[],n)}(i,a,u):a.length>=1?function(e,t,n,o){var r=JT(e).concat([n]);return KT(r,JT(t),o)}(i,a,o,u):function(e,t,n){return KT(JT(e),[],n)}(i,0,u)},eE=function(e,t){var n=H(t,(function(e){return Ga(e)}));DI.setGroups(e,n)},tE=function(e,t,n){var o=t.builtGroups.get();if(0!==o.length){var r=tf(e,t,"primary"),i=hS.getCoupled(e,"overflowGroup");Ut(r.element,"visibility","hidden");var a=o.concat([i]),u=ce(a,(function(e){return ws(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}));n([]),eE(r,a);var s=sn(r.element),c=ZT(s,t.builtGroups.get(),(function(e){return sn(e.element)}),i);0===c.extra.length?(Gp.remove(r,i),n([])):(eE(r,c.within),n(c.extra)),$t(r.element,"visibility"),Kt(r.element),u.each(Xp.focus)}},nE=v([fd("splitToolbarBehaviours",[hS]),No("builtGroups",(function(){return dr([])}))]),oE=v([pu(["overflowToggledClass"]),Zo("getOverflowBounds"),zo("lazySink"),No("overflowGroups",(function(){return dr([])}))].concat(nE())),rE=v([zd({factory:DI,schema:TI(),name:"primary"}),Ud({schema:TI(),name:"overflow"}),Ud({name:"overflow-button"}),Ud({name:"overflow-group"})]),iE=v((function(e,t){!function(e,t){var n=un.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ut(e,"max-width",n+"px")}(e,Math.floor(t))})),aE=v([pu(["toggledClass"]),zo("lazySink"),Go("fetch"),Zo("getBounds"),tr("fireDismissalEventInstead",[nr("event",di())]),fc()]),uE=v([Ud({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ss([ch.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Ud({factory:DI,schema:TI(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:ss([zp.config({mode:"cyclic",onEscape:function(t){return ef(t,e,"button").each(Xp.focus),P.none()}})])}}})]),sE=function(e,t){var n=hS.getCoupled(e,"toolbarSandbox");Gl.isOpen(n)?Gl.close(n):Gl.open(n,t.toolbar())},cE=function(e,t,n,o){var r=n.getBounds.map((function(e){return e()})),i=n.lazySink(e).getOrDie();Al.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:iE()}}},r)},lE=function(e,t,n,o,r){DI.setGroups(t,r),cE(e,t,n,o),ch.on(e)},dE=gf({name:"FloatingToolbarButton",factory:function(e,t,n,o){return _(_({},Jh.sketch(_(_({},o.button()),{action:function(e){sE(e,o)},buttonBehaviours:gd({dump:o.button().buttonBehaviours},[hS.config({others:{toolbarSandbox:function(t){return function(e,t,n){var o=tu();return{dom:{tag:"div",attributes:{id:o.id}},behaviours:ss([zp.config({mode:"special",onEscape:function(e){return Gl.close(e),P.some(!0)}}),Gl.config({onOpen:function(r,i){n.fetch().get((function(r){lE(e,i,n,t.layouts,r),o.link(e.element),zp.focusIn(i)}))},onClose:function(){ch.off(e),Xp.focus(e),o.unlink(e.element)},isPartOf:function(t,n,o){return ou(n,o)||ou(e,o)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),ps.config({channels:_(_({},Kl(_({isExtraPart:A},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),Jl({doReposition:function(){Gl.getState(hS.getCoupled(e,"toolbarSandbox")).each((function(o){cE(e,o,n,t.layouts)}))}}))})])}}(t,n,e)}}})])}))),{apis:{setGroups:function(t,o){Gl.getState(hS.getCoupled(t,"toolbarSandbox")).each((function(r){lE(t,r,e,n.layouts,o)}))},reposition:function(t){Gl.getState(hS.getCoupled(t,"toolbarSandbox")).each((function(o){cE(t,o,e,n.layouts)}))},toggle:function(e){sE(e,o)},getToolbar:function(e){return Gl.getState(hS.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return Gl.isOpen(hS.getCoupled(e,"toolbarSandbox"))}}})},configFields:aE(),partFields:uE(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}}),fE=v([zo("items"),pu(["itemSelector"]),fd("tgroupBehaviours",[zp])]),mE=v([Hd({name:"items",unit:"item"})]),pE=gf({name:"ToolbarGroup",configFields:fE(),partFields:mE(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:pd(e.tgroupBehaviours,[zp.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),hE=function(e){return H(e,(function(e){return Ga(e)}))},gE=function(e,t,n){tE(e,n,(function(o){n.overflowGroups.set(o),t.getOpt(e).each((function(e){dE.setGroups(e,hE(o))}))}))},vE=gf({name:"SplitFloatingToolbar",configFields:oE(),partFields:rE(),factory:function(e,t,n,o){var r=eg(dE.sketch({fetch:function(){return tS((function(t){t(hE(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[Hu,Vu]},onRtl:function(){return[Vu,Hu]},onBottomLtr:function(){return[Gu,Wu]},onBottomRtl:function(){return[Wu,Gu]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:pd(e.splitToolbarBehaviours,[hS.config({others:{overflowGroup:function(){return pE.sketch(_(_({},o["overflow-group"]()),{items:[r.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(H(n,t.getSystem().build)),gE(t,r,e)},refresh:function(t){return gE(t,r,e)},toggle:function(e){r.getOpt(e).each((function(e){dE.toggle(e)}))},isOpen:function(e){return r.getOpt(e).map(dE.isOpen).getOr(!1)},reposition:function(e){r.getOpt(e).each((function(e){dE.reposition(e)}))},getOverflow:function(e){return r.getOpt(e).bind(dE.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),bE=v([pu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),gu("onOpened"),gu("onClosed")].concat(nE())),yE=v([zd({factory:DI,schema:TI(),name:"primary"}),zd({factory:DI,schema:TI(),name:"overflow",overrides:function(e){return{toolbarBehaviours:ss([DT.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){ef(t,e,"overflow-button").each((function(e){ch.off(e),Xp.focus(e)})),e.onClosed(t)},onGrown:function(t){zp.focusIn(t),e.onOpened(t)},onStartGrow:function(t){ef(t,e,"overflow-button").each(ch.on)}}),zp.config({mode:"acyclic",onEscape:function(t){return ef(t,e,"overflow-button").each(Xp.focus),P.some(!0)}})])}}}),Ud({name:"overflow-button",overrides:function(e){return{buttonBehaviours:ss([ch.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Ud({name:"overflow-group"})]),wE=function(e,t){ef(e,t,"overflow-button").bind((function(){return ef(e,t,"overflow")})).each((function(n){xE(e,t),DT.toggleGrow(n)}))},xE=function(e,t){ef(e,t,"overflow").each((function(n){tE(e,t,(function(e){var t=H(e,(function(e){return Ga(e)}));DI.setGroups(n,t)})),ef(e,t,"overflow-button").each((function(e){DT.hasGrown(n)&&ch.on(e)})),DT.refresh(n)}))},SE=gf({name:"SplitSlidingToolbar",configFields:bE(),partFields:yE(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:pd(e.splitToolbarBehaviours,[hS.config({others:{overflowGroup:function(e){return pE.sketch(_(_({},o["overflow-group"]()),{items:[Jh.sketch(_(_({},o["overflow-button"]()),{action:function(t){yi(e,"alloy.toolbar.toggle")}}))]}))}}}),qp("toolbar-toggle-events",[Ii("alloy.toolbar.toggle",(function(t){wE(t,e)}))])]),apis:{setGroups:function(t,n){!function(t,n){var o=H(n,t.getSystem().build);e.builtGroups.set(o)}(t,n),xE(t,e)},refresh:function(t){return xE(t,e)},toggle:function(t){return wE(t,e)},isOpen:function(t){return function(e,t){return ef(e,t,"overflow").map(DT.hasGrown).getOr(!1)}(t,e)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),AE=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:_({tag:"div",classes:["tox-toolbar__group"]},t),components:[pE.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:ss([_x.config({}),Xp.config({})])}},CE=function(e){return pE.sketch(AE(e))},kE=function(e,t){var n=Li((function(t){var n=H(e.initGroups,CE);DI.setGroups(t,n)}));return ss([Cy(e.providers.isDisabled),wy(),zp.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),qp("toolbar-events",[n])])},_E=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":AE({title:P.none(),items:[]}),"overflow-button":d_({name:"more",icon:P.some("more-drawer"),disabled:!1,tooltip:P.some("More..."),primary:!1,borderless:!1},P.none(),e.providers)},splitToolbarBehaviours:kE(e,t)}},OE=function(e){var t=_E(e),n=vE.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return vE.sketch(_(_({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element,n=En(t),o=mt(t),r=En(o),i=Math.max(o.dom.scrollHeight,r.height);return In(n.x+4,r.y,n.width-8,i)},parts:_(_({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},IE=function(e){var t=SE.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=SE.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=_E(e);return SE.sketch(_(_({},o),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([nT()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([nT()],{type:"closed"})}}))},TE=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return DI.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Xv.scrolling?["tox-toolbar--scrolling"]:[])},components:[DI.parts.groups({})],toolbarBehaviours:kE(e,t)})},EE=AI.optional({factory:hT,name:"menubar",schema:[zo("backstage")]}),DE=AI.optional({factory:{sketch:function(e){return II.sketch({uid:e.uid,dom:e.dom,listBehaviours:ss([zp.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return TE({type:e.type,uid:Qi("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),P.some(!0)}})},setupItem:function(e,t,n,o){DI.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[zo("dom"),zo("onEscape")]}),RE=AI.optional({factory:{sketch:function(e){return function(e){return e.type===Xv.sliding?IE:e.type===Xv.floating?OE:TE}(e)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),P.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[zo("dom"),zo("onEscape"),zo("getSink")]}),ME=AI.optional({factory:{sketch:function(e){var t=e.editor,n=e.sticky?sT:PI;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:ss(n(t,e.sharedBackstage))}}},name:"header",schema:[zo("dom")]}),PE=AI.optional({name:"socket",schema:[zo("dom")]}),BE=AI.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ss([_x.config({}),Xp.config({}),DT.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){wf.getCurrent(e).each(LT.hideAllSlots),yi(e,HT)},onGrown:function(e){yi(e,HT)},onStartGrow:function(e){wi(e,VT,{width:qt(e.element,"width").getOr("")})},onStartShrink:function(e){wi(e,VT,{width:sn(e.element)+"px"})}}),Gp.config({}),wf.config({find:function(e){var t=Gp.contents(e);return ae(t)}})])}],behaviours:ss([FC(0),qp("sidebar-sliding-events",[Ii(VT,(function(e,t){Ut(e.element,"width",t.event.width)})),Ii(HT,(function(e,t){$t(e.element,"width")}))])])}}},name:"sidebar",schema:[zo("dom")]}),LE=AI.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ss([Gp.config({}),qT.config({focus:!1}),wf.config({find:function(e){return ae(e.components())}})]),components:[]}}},name:"throbber",schema:[zo("dom")]}),FE=gf({name:"OuterContainer",factory:function(e,t,n){var o={getSocket:function(t){return SI.getPart(t,e,"socket")},setSidebar:function(t,n){SI.getPart(t,e,"sidebar").each((function(e){return function(e,t){wf.getCurrent(e).each((function(e){return Gp.set(e,[zT(t)])}))}(e,n)}))},toggleSidebar:function(t,n){SI.getPart(t,e,"sidebar").each((function(e){return function(e,t){wf.getCurrent(e).each((function(e){wf.getCurrent(e).each((function(n){DT.hasGrown(e)?LT.isShowing(n,t)?DT.shrink(e):(LT.hideAllSlots(n),LT.showSlot(n,t)):(LT.hideAllSlots(n),LT.showSlot(n,t),DT.grow(e))}))}))}(e,n)}))},whichSidebar:function(t){return SI.getPart(t,e,"sidebar").bind(UT).getOrNull()},getHeader:function(t){return SI.getPart(t,e,"header")},getToolbar:function(t){return SI.getPart(t,e,"toolbar")},setToolbar:function(t,n){SI.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){SI.getPart(t,e,"multiple-toolbar").each((function(e){II.setItems(e,n)}))},refreshToolbar:function(t){SI.getPart(t,e,"toolbar").each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){SI.getPart(t,e,"toolbar").each((function(e){var t,n;t=e.getApis().toggle,n=function(t){return t(e)},null!=t?P.some(n(t)):P.none()}))},isToolbarDrawerToggled:function(t){return SI.getPart(t,e,"toolbar").bind((function(e){return P.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(!1)},getThrobber:function(t){return SI.getPart(t,e,"throbber")},focusToolbar:function(t){SI.getPart(t,e,"toolbar").orThunk((function(){return SI.getPart(t,e,"multiple-toolbar")})).each((function(e){zp.focusIn(e)}))},setMenubar:function(t,n){SI.getPart(t,e,"menubar").each((function(e){hT.setMenus(e,n)}))},focusMenubar:function(t){SI.getPart(t,e,"menubar").each((function(e){hT.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[zo("dom"),zo("behaviours")],partFields:[ME,EE,RE,DE,PE,BE,LE],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var o=H(n,(function(e){return CE(e)}));e.setToolbar(t,o)},setToolbars:function(e,t,n){var o=H(n,(function(e){return H(e,CE)}));e.setToolbars(t,o)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),NE={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},jE=function(e){return"string"==typeof e?e.split(" "):e},zE=function(e,t){var n=_(_({},NE),t.menus),o=le(t.menus).length>0,r=void 0===t.menubar||!0===t.menubar?jE("file edit view insert format tools table help"):jE(!1===t.menubar?"":t.menubar),i=q(r,(function(e){var n=we(NE,e);return o?n||ye(t.menus,e).exists((function(e){return we(e,"items")})):n})),a=H(i,(function(o){var r=n[o];return function(e,t,n){var o=function(e){return e.getParam("removed_menuitems","")}(n).split(/[ ,]/);return{text:e.title,getItems:function(){return J(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length||z(o,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}}({title:r.title,items:jE(r.items)},t,e)}));return q(a,(function(e){return e.getItems().length>0&&z(e.getItems(),(function(e){return"separator"!==e.type}))}))},UE=function(e){var t=function(){e._skinLoaded=!0,function(e){e.fire("SkinLoaded")}(e)};return function(){e.initialized?t():e.on("init",t)}},VE=function(e,t,n){return new _v((function(o,r){n.load(t,o,r),e.on("remove",(function(){return n.unload(t)}))}))},HE=function(e,t){return VE(e,t+"/skin.min.css",e.ui.styleSheetLoader)},WE=function(e,t){var n;return(n=Pe.fromDom(e.getElement()),_t(n).isSome())?VE(e,t+"/skin.shadowdom.min.css",Wb.DOM.styleSheetLoader):_v.resolve()},GE=function(e,t){var n=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var o=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):Gb.baseURL+"/skins/ui/"+o}return n}(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!1===function(e){return!1===e.getParam("skin")}(t)&&r(n)?_v.all([HE(t,n),WE(t,n)]).then(UE(t),function(e,t){return function(){return function(e,t){return e.fire("SkinLoadError",t)}(e,{message:t})}}(t,"Skin could not be loaded")):UE(t)()},qE=w(GE,!1),YE=w(GE,!0),QE=function(e,t){return function(n){var o=js(),r=function(){n.setActive(e.formatter.match(t));var r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?r():e.once("init",r),function(){e.off("init",r),o.clear()}}},$E=function(e,t,n){return function(o){var r=function(){return n(o)},i=function(){n(o),e.on(t,r)};return e.initialized?i():e.once("init",i),function(){e.off("init",i),e.off(t,r)}}},KE=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},XE=function(e,t){return function(){return e.execCommand(t)}},JE=function(e,t,n){var o=function(e,o,i,a){var u=t.shared.providers.translate(e.title);if("separator"===e.type)return P.some({type:"separator",text:u});if("submenu"===e.type){var s=J(e.getStyleItems(),(function(e){return r(e,o,a)}));return 0===o&&s.length<=0?P.none():P.some({type:"nestedmenuitem",text:u,disabled:s.length<=0,getSubmenuItems:function(){return J(e.getStyleItems(),(function(e){return r(e,o,a)}))}})}return P.some(_({type:"togglemenuitem",text:u,icon:e.icon,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))},r=function(e,t,r){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:o(e,t,!1,r).toArray():o(e,t,i,r).toArray()},i=function(e){var t=n.getCurrentValue(),o=n.shouldHide?0:1;return J(e,(function(e){return r(e,o,t)}))};return{validateItems:i,getFetch:function(e,t){return function(n,o){var r=t(),a=i(r);o(a_(a,Jv.CLOSE_ON_EXECUTE,e,!1))}}}},ZE=function(e,t,n){var o=n.dataset,r="basic"===o.type?function(){return H(o.data,(function(e){return GO(e,n.isSelectedFor,n.getPreviewFor)}))}:o.getData;return{items:JE(0,t,n),getStyleItems:r}},eD=function(e,t,n){var o=ZE(0,t,n),r=o.items,i=o.getStyleItems,a=$E(e,"NodeChange",(function(e){var t=e.getComponent();n.updateText(t)}));return e_({text:n.icon.isSome()?P.none():n.text,icon:n.icon,tooltip:P.from(n.tooltip),role:P.none(),fetch:r.getFetch(t,i),onSetup:a,getApi:function(e){return{getComponent:v(e)}},columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(H_||(H_={}));var tD,nD,oD,rD=function(e,t,n,o){return{type:"basic",data:function(e){return H(e,(function(e){var t=e,n=e,o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}}))}(function(e,t){return t===H_.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")}(e.getParam(t,n,"string"),o))}},iD=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],aD=function(e){var t={type:"basic",data:iD};return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:P.none,getPreviewFor:function(e){return P.none},onAction:function(t){return function(){return $(iD,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}},updateText:function(t){var n=$(iD,(function(t){return e.formatter.match(t.format)})).fold(v("left"),(function(e){return e.title.toLowerCase()}));wi(t,Zk,{icon:"align-"+n})},dataset:t,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},uD=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],sD=function(e){var t=e.split(/\s*,\s*/);return H(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},cD=function(e){var t=function(){var t=function(e){return e?sD(e)[0]:""},o=e.queryCommandValue("FontName"),r=n.data,i=o?o.toLowerCase():"";return{matchOpt:$(r,(function(e){var n=e.format;return n.toLowerCase()===i||t(n).toLowerCase()===t(i).toLowerCase()})).orThunk((function(){return ke(function(e){var t;return 0===e.indexOf("-apple-system")&&(t=sD(e.toLowerCase()),Z(uD,(function(e){return t.indexOf(e.toLowerCase())>-1})))}(i),{title:"System Font",format:i})})),font:o}},n=rD(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",H_.SemiColon);return{tooltip:"Fonts",text:P.some("System Font"),icon:P.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getCurrentValue:function(){return t().matchOpt},getPreviewFor:function(e){return function(){return P.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},updateText:function(e){var n=t(),o=n.matchOpt,r=n.font,i=o.fold(v(r),(function(e){return e.title}));wi(e,Jk,{text:i})},dataset:n,shouldHide:!1,isInvalid:A}},lD={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},dD={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},fD=function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(72*parseInt(e,10)/96,t||0)+"pt":ye(dD,e).getOr(e)},mD=function(e){var t=function(){var t=P.none(),n=o.data,r=e.queryCommandValue("FontSize");if(r)for(var i=function(e){var o=fD(r,e),i=function(e){return ye(lD,e).getOr("")}(o);t=$(n,(function(e){return e.format===r||e.format===o||e.format===i}))},a=3;t.isNone()&&a>=0;a--)i(a);return{matchOpt:t,size:r}},n=v(P.none),o=rD(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",H_.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getPreviewFor:n,getCurrentValue:function(){return t().matchOpt},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},updateText:function(e){var n=t(),o=n.matchOpt,r=n.size,i=o.fold(v(r),(function(e){return e.title}));wi(e,Jk,{text:i})},dataset:o,shouldHide:!1,isInvalid:A}},pD=function(e,t){var n=t(),o=H(n,(function(e){return e.format}));return P.from(e.formatter.closest(o)).bind((function(e){return $(n,(function(t){return t.format===e}))})).orThunk((function(){return ke(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))},hD=function(e){var t=rD(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",H_.SemiColon);return{tooltip:"Blocks",text:P.some("Paragraph"),icon:P.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:P.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},onAction:KE(e),updateText:function(n){var o=pD(e,(function(){return t.data})).fold(v("Paragraph"),(function(e){return e.title}));wi(n,Jk,{text:o})},dataset:t,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},gD=function(e,t){return{tooltip:"Formats",text:P.some("Paragraph"),icon:P.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:P.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return void 0!==n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()}},onAction:KE(e),updateText:function(t){var n=function(e){var t=e.items;return void 0!==t&&t.length>0?J(t,n):[{title:e.title,format:e.format}]},o=J(WO(e),n),r=pD(e,v(o)).fold(v("Paragraph"),(function(e){return e.title}));wi(t,Jk,{text:r})},shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},vD=Object.freeze({__proto__:null,events:function(e,t){var n=function(n,o){e.updateState.each((function(e){var r=e(n,o);t.set(r)})),e.renderComponents.each((function(e){var r=e(o,t.get()),i=H(r,n.getSystem().build);Ol(n,i)}))};return ki([Ii(Xr(),(function(t,o){var r=o;if(!r.universal){var i=e.channel;j(r.channels,i)&&n(t,r.data)}})),Li((function(t,o){e.initialData.each((function(e){n(t,e)}))}))])}}),bD=Object.freeze({__proto__:null,getState:function(e,t,n){return n}}),yD=[zo("channel"),$o("renderComponents"),$o("updateState"),$o("initialData")],wD=Object.freeze({__proto__:null,init:function(){var e=dr(P.none());return{readState:function(){return e.get().getOr("none")},get:e.get,set:e.set,clear:function(){return e.set(P.none())}}}}),xD=ls({fields:yD,name:"reflecting",active:vD,apis:bD,state:wD}),SD=v([zo("toggleClass"),zo("fetch"),bu("onExecute"),nr("getHotspot",P.some),nr("getAnchorOverrides",v({})),fc(),bu("onItemExecute"),$o("lazySink"),zo("dom"),gu("onOpen"),fd("splitDropdownBehaviours",[hS,zp,Xp]),nr("matchWidth",!1),nr("useMinWidth",!1),nr("eventOrder",{}),$o("role")].concat(ES())),AD=zd({factory:Jh,schema:[zo("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:ss([Xp.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(xi)},buttonBehaviours:ss([ch.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),CD=zd({factory:Jh,schema:[zo("dom")],name:"button",defaults:function(){return{buttonBehaviours:ss([Xp.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),kD=v([AD,CD,Vd({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[zo("text")],name:"aria-descriptor"}),Ud({schema:[mu()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(o){e.onItemExecute(o,t,n)}))}}}}),vS()]),_D=gf({name:"SplitDropdown",configFields:SD(),partFields:kD(),factory:function(e,t,n,o){var r,i=function(e){wf.getCurrent(e).each((function(e){Gf.highlightFirst(e),zp.focusIn(e)}))},a=function(t){CS(e,b,t,o,i,$x.HighlightFirst).get(h)},u=function(t){var n=tf(t,e,"button");return xi(n),P.some(!0)},s=_(_({},ki([Li((function(t,n){ef(t,e,"aria-descriptor").each((function(e){var n=Qi("aria");Mt(e.element,"id",n),Mt(t.element,"aria-describedby",n)}))}))])),dh(P.some(a))),c={repositionMenus:function(e){ch.isOn(e)&&TS(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:c,eventOrder:_(_({},e.eventOrder),(r={},r[Jr()]=["disabling","toggling","alloy.base.behaviour"],r)),events:s,behaviours:pd(e.splitDropdownBehaviours,[hS.config({others:{sandbox:function(t){var n=tf(t,e,"arrow");return IS(e,t,{onOpen:function(){ch.on(n),ch.on(t)},onClose:function(){ch.off(n),ch.off(t)}})}}}),zp.config({mode:"special",onSpace:u,onEnter:u,onDown:function(e){return a(e),P.some(!0)}}),Xp.config({}),ch.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),OD=function(e){return{isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){return Pf.set(e,t)}}},ID=function(e){return{setActive:function(t){ch.set(e,t)},isActive:function(){return ch.isOn(e)},isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){return Pf.set(e,t)}}},TD=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},ED=Qi("focus-button"),DD=function(e,t,n,o,r,i){var a;return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:TD(n,i)},components:Ey([e.map((function(e){return Yk(e,i.icons)})),t.map((function(e){return $k(e,"tox-tbtn",i)}))]),eventOrder:(a={},a[Er()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:ss([Cy(i.isDisabled),wy(),qp("common-button-display-events",[Ii(Er(),(function(e,t){t.event.prevent(),yi(e,ED)}))])].concat(o.map((function(n){return xD.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return Ey([e.icon.map((function(e){return Yk(e,i.icons)})),e.text.map((function(e){return $k(e,"tox-tbtn",i)}))])}})})).toArray()).concat(r.getOr([])))}},RD=function(e,t,n){var o,r=dr(h),i=DD(e.icon,e.text,e.tooltip,P.none(),P.none(),n);return Jh.sketch({dom:i.dom,components:i.components,eventOrder:Xk,buttonBehaviours:ss([qp("toolbar-button-events",[(o={onAction:e.onAction,getApi:t.getApi},ji((function(e,t){ky(o,e)((function(t){wi(e,Kk,{buttonApi:t}),o.onAction(t)}))}))),_y(t,r),Oy(t,r)]),Cy((function(){return e.disabled||n.isDisabled()})),wy()].concat(t.toolbarButtonBehaviours))})},MD=function(e,t,n){return RD(e,{toolbarButtonBehaviours:[].concat(n.length>0?[qp("toolbarButtonWith",n)]:[]),getApi:OD,onSetup:e.onSetup},t)},PD=function(e,t,n){return Xn(RD(e,{toolbarButtonBehaviours:[Gp.config({}),ch.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[qp("toolbarToggleButtonWith",n)]:[]),getApi:ID,onSetup:e.onSetup},t))},BD=function(e,t,n){return function(o){return tS((function(e){return t.fetch(e)})).map((function(r){return P.from(ox(Xn(Fw(Qi("menu-value"),r,(function(n){t.onItemAction(e(o),n)}),t.columns,t.presets,Jv.CLOSE_ON_EXECUTE,t.select.getOr(A),n),{movement:jw(t.columns,t.presets),menuBehaviours:Bb("auto"!==t.columns?[]:[Li((function(e,n){Mb(e,4,ob(t.presets)).each((function(t){var n=t.numRows,o=t.numColumns;zp.setGridSize(e,n,o)}))}))])})))}))}},LD=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],FD=function(e,t){return function(n,o,r){var i=e(n).mapError((function(e){return Bo(e)})).getOrDie();return t(i,o,r)}},ND={button:FD(Nv,(function(e,t){return n=e,o=t.backstage.shared.providers,MD(n,o,[]);var n,o})),togglebutton:FD(Uv,(function(e,t){return n=e,o=t.backstage.shared.providers,PD(n,o,[]);var n,o})),menubutton:FD(mT,(function(e,t){return s_(e,"tox-tbtn",t.backstage,P.none())})),splitbutton:FD((function(e){return Ro("SplitButton",pT,e)}),(function(e,t){return function(e,t){var n,o=Qi("channel-update-split-dropdown-display"),r=function(e){return{isDisabled:function(){return Pf.isDisabled(e)},setDisabled:function(t){return Pf.set(e,t)},setIconFill:function(t,n){Za(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Mt(e,"fill",n)}))},setIconStroke:function(t,n){Za(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Mt(e,"stroke",n)}))},setActive:function(t){Mt(e.element,"aria-pressed",t),Za(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return ch.set(e,t)}))}))},isActive:function(){return Za(e.element,"span").exists((function(t){return e.getSystem().getByDom(t).exists(ch.isOn)}))}}},i=dr(h),a={getApi:r,onSetup:e.onSetup};return _D.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:_({"aria-pressed":!1},TD(e.tooltip,t.providers))},onExecute:function(t){e.onAction(r(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:ss([Ay(t.providers.isDisabled),wy(),qp("split-dropdown-events",[Ii(ED,Xp.focus),_y(a,i),Oy(a,i)]),BS.config({})]),eventOrder:(n={},n[ci()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:BD(r,e,t.providers),parts:{menu:cb(0,e.columns,e.presets)},components:[_D.parts.button(DD(e.icon,e.text,P.none(),P.some(o),P.some([ch.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),_D.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:uv("chevron-down",t.providers.icons)},buttonBehaviours:ss([Ay(t.providers.isDisabled),wy(),sv()])}),_D.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})}(e,t.backstage.shared)})),grouptoolbarbutton:FD((function(e){return Ro("GroupToolbarButton",lT,e)}),(function(e,t,n){var o,r=n.ui.registry.getAll().buttons,i=((o={})[lc]=t.backstage.shared.header.isPositionedAtTop()?Es.TopToBottom:Es.BottomToTop,o);switch(oy(n)){case Xv.floating:return function(e,t,n,o){var r=t.shared;return dE.sketch({lazySink:r.getSink,fetch:function(){return tS((function(t){t(H(n(e.items),CE))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:DD(e.icon,e.text,e.tooltip,P.none(),P.none(),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})}(e,t.backstage,(function(e){return VD(n,{buttons:r,toolbar:e,allowToolbarGroups:!1},t,P.none())}),i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(e,t){return function(e,t){var n=_({type:"advanced"},t.styleselect);return eD(e,t,gD(e,n))}(e,t.backstage)},fontsizeSelectButton:function(e,t){return function(e,t){return eD(e,t,mD(e))}(e,t.backstage)},fontSelectButton:function(e,t){return function(e,t){return eD(e,t,cD(e))}(e,t.backstage)},formatButton:function(e,t){return function(e,t){return eD(e,t,hD(e))}(e,t.backstage)},alignMenuButton:function(e,t){return function(e,t){return eD(e,t,aD(e))}(e,t.backstage)}},jD={styleselect:ND.styleSelectButton,fontsizeselect:ND.fontsizeSelectButton,fontselect:ND.fontSelectButton,formatselect:ND.formatButton,align:ND.alignMenuButton},zD=function(e){var t,n=e.toolbar,o=e.buttons;return!1===n?[]:void 0===n||!0===n?function(e){var t=H(LD,(function(t){var n=q(t.items,(function(t){return we(e,t)||we(jD,t)}));return{name:t.name,items:n}}));return q(t,(function(e){return e.items.length>0}))}(o):r(n)?(t=n.split("|"),H(t,(function(e){return{items:e.trim().split(" ")}}))):function(e){return p(e,(function(e){return we(e,"name")&&we(e,"items")}))}(n)?n:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},UD=function(e,t,n,o,r,i){return ye(t,n.toLowerCase()).orThunk((function(){return i.bind((function(e){return ce(e,(function(e){return ye(t,e+n.toLowerCase())}))}))})).fold((function(){return ye(jD,n.toLowerCase()).map((function(t){return t(e,r)})).orThunk((function(){return P.none()}))}),(function(t){return"grouptoolbarbutton"!==t.type||o?function(e,t,n){return ye(ND,e.type).fold((function(){return console.error("skipping button defined by",e),P.none()}),(function(o){return P.some(o(e,t,n))}))}(t,r,e):(console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),P.none())}))},VD=function(e,t,n,o){var r=zD(t),i=H(r,(function(r){var i=J(r.items,(function(r){return 0===r.trim().length?[]:UD(e,t.buttons,r,t.allowToolbarGroups,n,o).toArray()}));return{title:P.from(e.translate(r.name)),items:i}}));return q(i,(function(e){return e.items.length>0}))},HD=function(e,t,n,o){var i=t.outerContainer,a=n.toolbar,u=n.buttons;if(p(a,r)){var s=a.map((function(t){var r={toolbar:t,buttons:u,allowToolbarGroups:n.allowToolbarGroups};return VD(e,r,{backstage:o},P.none())}));FE.setToolbars(i,s)}else FE.setToolbar(i,VD(e,n,{backstage:o},P.none()))},WD=it(),GD=WD.os.isiOS()&&WD.os.version.major<=12,qD=Object.freeze({__proto__:null,render:function(e,t,n,o,r){var i=dr(0),a=t.outerContainer;qE(e);var s=Pe.fromDom(r.targetNode),c=kt(Ct(s));!function(e,t){Pl(e,t,pn)}(s,t.mothership),Ml(c,t.uiMothership),e.on("PostRender",(function(){HD(e,t,n,o),i.set(e.getWin().innerWidth),FE.setMenubar(a,zE(e,n)),FE.setSidebar(a,n.sidebar),function(e,t){var n=e.dom,o=e.getWin(),r=e.getDoc().documentElement,i=dr(nn(o.innerWidth,o.innerHeight)),a=dr(nn(r.offsetWidth,r.offsetHeight)),u=function(){var t=i.get();t.left===o.innerWidth&&t.top===o.innerHeight||(i.set(nn(o.innerWidth,o.innerHeight)),hw(e))},s=function(){var t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(nn(t.offsetWidth,t.offsetHeight)),hw(e))},c=function(t){return function(e,t){return e.fire("ScrollContent",t)}(e,t)};n.bind(o,"resize",u),n.bind(o,"scroll",c);var l=Hs(Pe.fromDom(e.getBody()),"load",s),d=t.uiMothership.element;e.on("hide",(function(){Ut(d,"display","none")})),e.on("show",(function(){$t(d,"display")})),e.on("NodeChange",s),e.on("remove",(function(){l.unbind(),n.unbind(o,"resize",u),n.unbind(o,"scroll",c),o=null}))}(e,t)}));var l,d,f,m=FE.getSocket(a).getOrDie("Could not find expected socket element");if(GD){Vt(m.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var p=(l=function(){e.fire("ScrollContent")},d=20,f=null,{cancel:function(){u(f)||(clearTimeout(f),f=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u(f)&&(f=setTimeout((function(){f=null,l.apply(null,e)}),d))}}),h=Vs(m.element,"scroll",p.throttle);e.on("remove",h.unbind)}yy(e,t),e.addCommand("ToggleSidebar",(function(t,n){FE.toggleSidebar(a,n),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return FE.whichSidebar(a)}));var g=oy(e);g!==Xv.sliding&&g!==Xv.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var n=e.getWin().innerWidth;n!==i.get()&&(FE.refreshToolbar(t.outerContainer),i.set(n))}));var v={enable:function(){by(t,!1)},disable:function(){by(t,!0)},isDisabled:function(){return Pf.isDisabled(a)}};return{iframeContainer:m.element.dom,editorContainer:a.element.dom,api:v}}}),YD=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?P.some(parseInt(""+e,10)):P.none()},QD=function(e){return m(e)?e+"px":e},$D=function(e,t,n){var o=t.filter((function(t){return e<t})),r=n.filter((function(t){return e>t}));return o.or(r).getOr(e)},KD=function(e){return function(e){var t=qb(e),n=$b(e),o=Xb(e);return YD(t).map((function(e){return $D(e,n,o)}))}(e).getOr(qb(e))},XD=function(e){var t=Yb(e),n=Qb(e),o=Kb(e);return YD(t).map((function(e){return $D(e,n,o)}))},JD=function(e,t,n,o,r){var i=n.uiMothership,a=n.outerContainer,u=Wb.DOM,s=cy(e),c=fy(e),l=Kb(e).or(XD(e)),d=o.shared.header,f=d.isPositionedAtTop,m=oy(e),p=m===Xv.sliding||m===Xv.floating,h=dr(!1),g=function(){return h.get()&&!e.removed},b=function(e){return p?e.fold(v(0),(function(e){return e.components().length>1?Zt(e.components()[1].element):0})):0},y=function(){i.broadcastOn([Yl()],{})},w=function(e){if(void 0===e&&(e=!1),g()){var n;if(s||(n=l.getOrThunk((function(){var e=YD(Wt(Et(),"margin-left")).getOr(0);return sn(Et())-rn(t).left+e})),Ut(r.get().element,"max-width",n+"px")),p&&FE.refreshToolbar(a),s||function(){var e=FE.getToolbar(a),n=b(e),o=Tn(t),i=f()?Math.max(o.y-Zt(r.get().element)+n,0):o.bottom;Vt(a.element,{position:"absolute",top:Math.round(i)+"px",left:Math.round(o.x)+"px"})}(),c){var o=r.get();e?tT.reset(o):tT.refresh(o)}y()}},x=function(n){if(void 0===n&&(n=!0),!s&&c&&g()){var o=d.getDockingMode(),i=function(n){switch(ay(e)){case ny.auto:var o=FE.getToolbar(a),r=b(o),i=Zt(n.element)-r,u=Tn(t);if(u.y>i)return"top";var s=mt(t),c=Math.max(s.dom.scrollHeight,Zt(s));return u.bottom<c-i||Dn().bottom<u.bottom-i?"bottom":"top";case ny.bottom:return"bottom";case ny.top:default:return"top"}}(r.get());i!==o&&(!function(e){var t=r.get();tT.setModes(t,[e]),d.setDockingMode(e);var n=f()?Es.TopToBottom:Es.BottomToTop;Mt(t.element,lc,n)}(i),n&&w(!0))}};return{isVisible:g,isPositionedAtTop:f,show:function(){h.set(!0),Ut(a.element,"display","flex"),u.addClass(e.getBody(),"mce-edit-focus"),$t(i.element,"display"),x(!1),w()},hide:function(){h.set(!1),n.outerContainer&&(Ut(a.element,"display","none"),u.removeClass(e.getBody(),"mce-edit-focus")),Ut(i.element,"display","none")},update:w,updateMode:x,repositionPopups:y}},ZD=function(e,t){var n=Tn(e);return{pos:t?n.y:n.bottom,bounds:n}},eR=Object.freeze({__proto__:null,render:function(e,t,n,o,r){var i=t.mothership,a=t.uiMothership,u=t.outerContainer,s=dr(null),c=Pe.fromDom(r.targetNode),l=JD(e,c,t,o,s),d=function(e){return e.getParam("toolbar_persist",!1,"boolean")}(e);YE(e);var f=function(){if(s.get())l.show();else{s.set(FE.getHeader(u).getOrDie());var r=ly(e);Ml(r,i),Ml(r,a),HD(e,t,n,o),FE.setMenubar(u,zE(e,n)),l.show(),function(e,t,n,o){var r=dr(ZD(t,n.isPositionedAtTop())),i=function(o){var i=ZD(t,n.isPositionedAtTop()),a=i.pos,u=i.bounds,s=r.get(),c=s.pos,l=s.bounds,d=u.height!==l.height||u.width!==l.width;r.set({pos:a,bounds:u}),d&&hw(e,o),n.isVisible()&&(c!==a?n.update(!0):d&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){Xh.requestAnimationFrame((function(){return i(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()}));var a=js();a.set(Hs(Pe.fromDom(e.getBody()),"load",i)),e.on("remove",(function(){a.clear()}))}(e,c,l,d),e.nodeChanged()}};e.on("show",f),e.on("hide",l.hide),d||(e.on("focus",f),e.on("blur",l.hide)),e.on("init",(function(){(e.hasFocus()||d)&&f()})),yy(e,t);var m={show:function(){l.show()},hide:function(){l.hide()},enable:function(){by(t,!1)},disable:function(){by(t,!0)},isDisabled:function(){return Pf.isDisabled(u)}};return{editorContainer:u.element.dom,api:m}}}),tR=function(e,t){return Ii(Kk,(function(n,o){var r=function(e){return{hide:function(){return yi(e,ni())},getValue:function(){return dd.getValue(e)}}}(e.get(n));t.onAction(r,o.event.buttonApi)}))},nR=function(e,t,n){var o={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?function(e,t,n){var o=t.original;o.primary;var r=O(o,["primary"]),i=Mo(Uv(_(_({},r),{type:"togglebutton",onAction:h})));return PD(i,n.backstage.shared.providers,[tR(e,t)])}(e,t,o):function(e,t,n){var o=t.original;o.primary;var r=O(o,["primary"]),i=Mo(Nv(_(_({},r),{type:"button",onAction:h})));return MD(i,n.backstage.shared.providers,[tR(e,t)])}(e,t,o)},oR=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),o=eg(qx.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:ss([zp.config({mode:"special",onEnter:function(e){return r.findPrimary(e).map((function(e){return xi(e),!0}))},onLeft:function(e,t){return t.cut(),P.none()},onRight:function(e,t){return t.cut(),P.none()}})])})),r=function(e,t,n){var o=H(t,(function(t){return eg(nR(e,t,n))}));return{asSpecs:function(){return H(o,(function(e){return e.asSpec()}))},findPrimary:function(e){return ce(t,(function(t,n){return t.primary?P.from(o[n]).bind((function(t){return t.getOpt(e)})).filter(x(Pf.isDisabled)):P.none()}))}}}(o,e.commands,t);return[{title:P.none(),items:[o.asSpec()]},{title:P.none(),items:r.asSpecs()}]},rR=oR,iR=function(e,t,n){return void 0===n&&(n=.01),t.bottom-e.y>=n&&e.bottom-t.y>=n},aR=function(e){var t=function(e){var t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){var n=wt(Pe.fromDom(e.startContainer),e.startOffset).element;return(je(n)?ht(n):P.some(n)).filter(Ne).map((function(e){return e.dom.getBoundingClientRect()})).getOr(t)}return t}(e.selection.getRng());if(e.inline){var n=xn();return In(n.left+t.left,n.top+t.top,t.width,t.height)}var o=En(Pe.fromDom(e.getBody()));return In(o.x+t.left,o.y+t.top,t.width,t.height)},uR=function(e,t,n,o){void 0===o&&(o=0);var r=Cn(window),i=Tn(Pe.fromDom(e.getContentAreaContainer())),a=Jb(e)||Zb(e)||ty(e),u=function(e,t,n){var o=Math.max(e.x+n,t.x);return{x:o,width:Math.min(e.right-n,t.right)-o}}(i,r,o),s=u.x,c=u.width;if(e.inline&&!a)return In(s,r.y,c,r.height);var l=function(e,t,n,o,r,i){var a=Pe.fromDom(e.getContainer()),u=Za(a,".tox-editor-header").getOr(a),s=Tn(u),c=s.y>=t.bottom,l=o&&!c;if(e.inline&&l)return{y:Math.max(s.bottom+i,n.y),bottom:n.bottom};if(e.inline&&!l)return{y:n.y,bottom:Math.min(s.y-i,n.bottom)};var d="line"===r?Tn(a):t;return l?{y:Math.max(s.bottom+i,n.y),bottom:Math.min(d.bottom-i,n.bottom)}:{y:Math.max(d.y+i,n.y),bottom:Math.min(s.y-i,n.bottom)}}(e,i,r,t.header.isPositionedAtTop(),n,o),d=l.y,f=l.bottom;return In(s,d,c,f-d)},sR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},cR={maxHeightFunction:tc(),maxWidthFunction:iE()},lR=function(e){return"node"===e},dR=function(e,t,n,o,r){var i=aR(e),a=o.lastElement().exists((function(e){return st(n,e)}));return function(e,t){var n=e.selection.getRng(),o=wt(Pe.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&st(o.element,t)}(e,n)?a?Qh:Hh:a?function(e,t,n){var o=qt(e,"position");Ut(e,"position",t);var r=n(e);return o.each((function(t){return Ut(e,"position",t)})),r}(t,o.getMode(),(function(){return iR(i,Tn(t))&&!o.isReposition()?Kh:Qh})):("fixed"===o.getMode()?r.y+xn().top:r.y)+(Zt(t)+12)<=i.y?Hh:Wh},fR=function(e,t,n,o){var r=function(t){return function(o,r,i,a,u){var s=dR(e,a,t,n,u),c=_(_({},o),{y:u.y,height:u.height});return _(_({},s(c,r,i,a,u)),{alwaysFit:!0})}},i=function(e){return lR(o)?[r(e)]:[]};return t?{onLtr:function(e){return[Yu,Vu,Hu,Wu,Gu,qu].concat(i(e))},onRtl:function(e){return[Yu,Hu,Vu,Gu,Wu,qu].concat(i(e))}}:{onLtr:function(e){return[qu,Yu,Wu,Vu,Gu,Hu].concat(i(e))},onRtl:function(e){return[qu,Yu,Gu,Hu,Wu,Vu].concat(i(e))}}},mR=function(e,t){var n=q(t,(function(t){return t.predicate(e.dom)})),o=G(n,(function(e){return"contexttoolbar"===e.type}));return{contextToolbars:o.pass,contextForms:o.fail}},pR=function(e,t,n){var o=mR(e,t);if(o.contextForms.length>0)return P.some({elem:e,toolbars:[o.contextForms[0]]});var r=mR(e,n);if(r.contextForms.length>0)return P.some({elem:e,toolbars:[r.contextForms[0]]});if(o.contextToolbars.length>0||r.contextToolbars.length>0){var i=function(e){if(e.length<=1)return e;var t=function(t){return z(e,(function(e){return e.position===t}))},n=function(t){return q(e,(function(e){return e.position===t}))},o=t("selection"),r=t("node");if(o||r){if(r&&o){var i=n("node"),a=H(n("selection"),(function(e){return _(_({},e),{position:"node"})}));return i.concat(a)}return n(o?"selection":"node")}return n("line")}(o.contextToolbars.concat(r.contextToolbars));return P.some({elem:e,toolbars:i})}return P.none()},hR=function(e,t,n){return e(t)?P.none():yr(t,(function(e){if(Ne(e)){var t=mR(e,n.inNodeScope),o=t.contextToolbars,r=t.contextForms,i=r.length>0?r:function(e){if(e.length<=1)return e;var t=function(t){return $(e,(function(e){return e.position===t}))};return t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position})).fold((function(){return[]}),(function(t){return q(e,(function(e){return e.position===t}))}))}(o);return i.length>0?P.some({elem:e,toolbars:i}):P.none()}return P.none()}),e)},gR=function(e,t){var n={},o=[],r=[],i={},a={},u=function(e,u){var s=Mo(Ro("ContextForm",Qv,u));n[e]=s,s.launch.map((function(n){i["form:"+e]=_(_({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(s)}})})),"editor"===s.scope?r.push(s):o.push(s),a[e]=s},s=function(e,t){var n;(n=t,Ro("ContextToolbar",$v,n)).each((function(n){"editor"===t.scope?r.push(n):o.push(n),a[e]=n}))},c=le(e);return W(c,(function(t){var n=e[t];"contextform"===n.type?u(t,n):"contexttoolbar"===n.type&&s(t,n)})),{forms:n,inNodeScope:o,inEditorScope:r,lookupTable:a,formNavigators:i}},vR=Qi("forward-slide"),bR=Qi("backward-slide"),yR=Qi("change-slide-event"),wR=function(e,t,n,o){var r,i,a=o.backstage,u=a.shared,s=it().deviceType.isTouch,c=zs(),l=zs(),d=zs(),f=Wa((r={sink:n,onEscape:function(){return e.focus(),P.some(!0)}},i=dr([]),Rh.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){i.set([]),Rh.getContent(e).each((function(e){$t(e.element,"visibility")})),Ta(e.element,"tox-pop--resizing"),$t(e.element,"width")},inlineBehaviours:ss([qp("context-toolbar-events",[Bi(Hr(),(function(e,t){"width"===t.event.raw.propertyName&&(Ta(e.element,"tox-pop--resizing"),$t(e.element,"width"))})),Ii(yR,(function(e,t){var n=e.element;$t(n,"width");var o=sn(n);Rh.setContent(e,t.event.contents),Oa(n,"tox-pop--resizing");var r=sn(n);Ut(n,"width",o+"px"),Rh.getContent(e).each((function(e){t.event.focus.bind((function(e){return vs(e),ws(n)})).orThunk((function(){return zp.focusIn(e),ys(Ct(n))}))})),Xh.setTimeout((function(){Ut(e.element,"width",r+"px")}),0)})),Ii(vR,(function(e,t){Rh.getContent(e).each((function(t){i.set(i.get().concat([{bar:t,focus:ys(Ct(e.element))}]))})),wi(e,yR,{contents:t.event.forwardContents,focus:P.none()})})),Ii(bR,(function(e,t){ue(i.get()).each((function(t){i.set(i.get().slice(0,i.get().length-1)),wi(e,yR,{contents:Ga(t.bar),focus:t.focus})}))}))]),zp.config({mode:"special",onEscape:function(e){return ue(i.get()).fold((function(){return r.onEscape()}),(function(t){return yi(e,bR),P.some(!0)}))}})]),lazySink:function(){return Pn.value(r.sink)}}))),m=function(){var t=d.get().getOr("node"),n=lR(t)?1:0;return uR(e,u,t,n)},p=function(){return!(e.removed||s()&&a.isContextMenuOpen())},g=function(){if(p()){var t=m(),n=Se(d.get(),"node")?function(e,t){return t.filter(Tt).map(En).getOrThunk((function(){return aR(e)}))}(e,c.get()):aR(e);return t.height<=0||!iR(n,t)}return!0},v=function(){c.clear(),l.clear(),d.clear(),Rh.hide(f)},b=function(){if(Rh.isOpen(f)){var e=f.element;$t(e,"display"),g()?Ut(e,"display","none"):(l.set(0),Rh.reposition(f))}},y=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:ss([zp.config({mode:"acyclic"}),qp("pop-dialog-wrap-events",[Li((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return zp.focusIn(t)}))})),Fi((function(t){e.shortcuts.remove("ctrl+F9")}))])])}},w=Ve((function(){return gR(t,(function(e){var t=x([e]);wi(f,vR,{forwardContents:y(t)})}))})),x=function(t){var n=e.ui.registry.getAll().buttons,r=w(),i=_(_({},n),r.formNavigators),a=oy(e)===Xv.scrolling?Xv.scrolling:Xv.default,s=X(H(t,(function(t){return"contexttoolbar"===t.type?function(t,n){return VD(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o,P.some(["form:"]))}(i,t):function(e,t){return rR(e,t)}(t,u.providers)})));return TE({type:a,uid:Qi("context-toolbar"),initGroups:s,onEscape:P.none,cyclicKeying:!0,providers:u.providers})},S=function(t,o){var r="node"===t?u.anchors.node(o):u.anchors.cursor(),i=function(e,t,n,o){return"line"===t?{bubble:ic(12,0,sR),layouts:{onLtr:function(){return[Qu]},onRtl:function(){return[$u]}},overrides:cR}:{bubble:ic(0,12,sR,1/12),layouts:fR(e,n,o,t),overrides:cR}}(e,t,s(),{lastElement:c.get,isReposition:function(){return Se(l.get(),0)},getMode:function(){return Al.getMode(n)}});return Xn(r,i)},A=function(e,t){if(C.cancel(),p()){var o=x(e),r=e[0].position,i=S(r,t);d.set(r),l.set(1);var a=f.element;$t(a,"display"),function(e){return Se(Ce(e,c.get(),st),!0)}(t)||(Ta(a,"tox-pop--transition"),Al.reset(n,f)),Rh.showWithinBounds(f,y(o),{anchor:i,transition:{classes:["tox-pop--transition"],mode:"placement"}},(function(){return P.some(m())})),t.fold(c.clear,c.set),g()&&Ut(a,"display","none")}},C=hv((function(){e.hasFocus()&&!e.removed&&(Ea(f.element,"tox-pop--transition")?C.throttle():function(e,t){var n=Pe.fromDom(t.getBody()),o=function(e){return st(e,n)},r=Pe.fromDom(t.selection.getNode());return function(e){return!o(e)&&!lt(n,e)}(r)?P.none():pR(r,e.inNodeScope,e.inEditorScope).orThunk((function(){return hR(o,r,e)}))}(w(),e).fold(v,(function(e){A(e.toolbars,P.some(e.elem))})))}),17);e.on("init",(function(){e.on("remove",v),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",b),e.on("click keyup focus SetContent",C.throttle),e.on("contexttoolbar-hide",v),e.on("contexttoolbar-show",(function(t){var n=w();ye(n.lookupTable,t.toolbarKey).each((function(n){A([n],ke(t.target!==e,t.target)),Rh.getContent(f).each(zp.focusIn)}))})),e.on("focusout",(function(t){Xh.setEditorTimeout(e,(function(){ws(n.element).isNone()&&ws(f.element).isNone()&&v()}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&v()})),e.on("AfterProgressState",(function(t){t.state?v():e.hasFocus()&&C.throttle()})),e.on("NodeChange",(function(e){ws(f.element).fold(C.throttle,h)}))}))},xR={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},SR=(nD=["Infinity","[0-9]+\\."+(tD=function(e){return"(?:"+e+")?"})("[0-9]+")+tD("[eE][+-]?[0-9]+"),"\\.[0-9]+"+tD("[eE][+-]?[0-9]+"),"[0-9]+"+tD("[eE][+-]?[0-9]+")].join("|"),new RegExp("^([+-]?(?:"+nD+"))(.*)$")),AR=function(e,t){return P.from(SR.exec(e)).bind((function(e){var n=Number(e[1]),o=e[2];return function(e,t){return z(t,(function(t){return z(xR[t],(function(t){return e===t}))}))}(o,t)?P.some({value:n,unit:o}):P.none()}))},CR=function(e,t){var n=function(){var n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),r=zs();return H(n,(function(n){return{type:"togglemenuitem",text:t.display(n),onSetup:function(i){var a=function(e){e&&(r.on((function(e){return e.setActive(!1)})),r.set(i)),i.setActive(e)};a(Se(o,t.hash(n)));var u=t.watcher(e,n,a);return function(){r.clear(),u()}},onAction:function(){return t.setCurrent(e,n)}}}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:function(e){return e(n())},onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},kR={name:"lineheight",text:"Line height",icon:"line-height",getOptions:function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},hash:function(e){return function(e,t){return AR(e,t).map((function(e){return e.value+e.unit}))}(e,["fixed","relative","empty"]).getOr(e)},display:b,watcher:function(e,t,n){return e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind},getCurrent:function(e){return P.from(e.queryCommandValue("LineHeight"))},setCurrent:function(e,t){return e.execCommand("LineHeight",!1,t)}},_R=function(e){CR(e,kR),function(e){return P.from(function(e){return e.getParam("content_langs",void 0,"array")}(e)).map((function(t){return{name:"language",text:"Language",icon:"language",getOptions:v(t),hash:function(e){return c(e.customCode)?e.code:e.code+"/"+e.customCode},display:function(e){return e.title},watcher:function(e,t,n){return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:t.customCode}).unbind},getCurrent:function(e){var t=Pe.fromDom(e.selection.getNode());return wr(t,(function(e){return P.some(e).filter(Ne).bind((function(e){return Lt(e,"lang").map((function(t){return{code:t,customCode:Lt(e,"data-mce-lang").getOrUndefined(),title:""}}))}))}))},setCurrent:function(e,t){return e.execCommand("Lang",!1,t)},onToolbarSetup:function(t){var n=js();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),n.clear}}}))}(e).each((function(t){return CR(e,t)}))},OR=function(e,t){!function(e,t){var n=ZE(0,t,aD(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=ZE(0,t,cD(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=_({type:"advanced"},t.styleselect),o=ZE(0,t,gD(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})}(e,t),function(e,t){var n=ZE(0,t,hD(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=ZE(0,t,mD(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t)},IR=function(e){return $E(e,"NodeChange",(function(t){t.setDisabled(!e.queryCommandState("outdent"))}))},TR=function(e){!function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:IR(e),onAction:XE(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:XE(e,"indent")})}(e)},ER=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},DR=function(e){!function(e){UC.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:QE(e,t.name),onAction:ER(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:QE(e,n),onAction:ER(e,n)})}}(e),function(e){UC.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:XE(e,t.action)})}))}(e),function(e){UC.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:XE(e,t.action),onSetup:QE(e,t.name)})}))}(e)},RR=function(e){DR(e),function(e){UC.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:XE(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:ER(e,"code")})}(e)},MR=function(e,t){return $E(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(n){n.setDisabled(e.mode.isReadOnly()||!e.undoManager[t]())}))},PR=function(e){!function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:MR(e,"hasUndo"),onAction:XE(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:MR(e,"hasRedo"),onAction:XE(e,"redo")})}(e),function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:MR(e,"hasUndo"),onAction:XE(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:MR(e,"hasRedo"),onAction:XE(e,"redo")})}(e)},BR=function(e){return $E(e,"VisualAid",(function(t){t.setActive(e.hasVisual)}))},LR=function(e){!function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:XE(e,"mceToggleVisualAid")})}(e),function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:BR(e),onAction:XE(e,"mceToggleVisualAid")})}(e)},FR=function(e,t){!function(e){W([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:XE(e,t.cmd),onSetup:QE(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:XE(e,"JustifyNone")})}(e),RR(e),OR(e,t),PR(e),function(e){!function(e){e.addCommand("mceApplyTextcolor",(function(t,n){!function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))}(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){!function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))}(e,t)}))}(e);var t=dr("#000000"),n=dr("#000000");Pw(e,"forecolor","forecolor","Text color",t),Pw(e,"backcolor","hilitecolor","Background color",n),Bw(e,"forecolor","forecolor","Text color"),Bw(e,"backcolor","hilitecolor","Background color")}(e),LR(e),TR(e),_R(e)},NR=function(e,t){return{type:"makeshift",x:e,y:t}},jR=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},zR=function(e,t){var n=Wb.DOM.getPos(e);return function(e,t,n){return NR(e.x+t,e.y+n)}(t,n.x,n.y)},UR=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?function(e){if(jR(e)){var t=e.touches[0];return NR(t.pageX,t.pageY)}return NR(e.pageX,e.pageY)}(t):zR(e.getContentAreaContainer(),function(e){if(jR(e)){var t=e.touches[0];return NR(t.clientX,t.clientY)}return NR(e.clientX,e.clientY)}(t)):VR(e)},VR=function(e){return{type:"selection",root:Pe.fromDom(e.selection.getNode())}},HR=function(e,t,n){switch(n){case"node":return function(e){return{type:"node",node:P.some(Pe.fromDom(e.selection.getNode())),root:Pe.fromDom(e.getBody())}}(e);case"point":return UR(e,t);case"selection":return VR(e)}},WR=function(e,t,n,o,r,i){var a=n(),u=HR(e,t,i);a_(a,Jv.CLOSE_ON_EXECUTE,o,!1).map((function(e){t.preventDefault(),Rh.showMenuAt(r,{anchor:u},{menu:{markers:ab("normal")},data:e})}))},GR={onLtr:function(){return[Yu,Vu,Hu,Wu,Gu,qu,Hh,Wh,Vh,zh,Uh,jh]},onRtl:function(){return[Yu,Hu,Vu,Gu,Wu,qu,Hh,Wh,Uh,jh,Vh,zh]}},qR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},YR=function(e,t,n,o,r,i,a){var u=function(e,t,n){var o=HR(e,t,n);return _({bubble:ic(0,"point"===n?12:0,qR),layouts:GR,overrides:{maxWidthFunction:iE(),maxHeightFunction:tc()}},o)}(e,t,i);a_(n,Jv.CLOSE_ON_EXECUTE,o,!0).map((function(n){t.preventDefault(),Rh.showMenuWithinBounds(r,{anchor:u},{menu:{markers:ab("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return P.some(uR(e,o.shared,"node"===i?"node":"selection"))})),e.fire("contexttoolbar-hide")}))},QR=function(e,t,n,o,r,i){var a=it(),u=a.os.isiOS(),s=a.os.isOSX(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),d=function(){var a=n();YR(e,t,a,o,r,i,!(c||u||s&&l))};if((s||u)&&"node"!==i){var f=function(){!function(e){var t=e.selection.getRng(),n=function(){Xh.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10),i()};e.once("touchend",n);var o=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);var r=function(){return i()};e.once("longpresscancel",r);var i=function(){e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",o)}}(e),d()};!function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var o=t.touches[0],r=n.getRng();return Kc(e.getWin(),Dc.domRange(r)).exists((function(e){return e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY}))}(e,t)?(e.once("selectionchange",f),e.once("touchend",(function(){return e.off("selectionchange",f)}))):f()}else d()},$R=function(e){return"string"==typeof e?e.split(/[ ,]/):e},KR=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},XR=function(e){return function(e,t,n){var o=e.ui.registry.getAll().contextMenus;return P.from(e.getParam(t)).map($R).getOrThunk((function(){return q($R(n),(function(e){return we(o,e)}))}))}(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},JR=function(e){return r(e)?"|"===e:"separator"===e.type},ZR={type:"separator"},eM=function(e){var t,n=function(e){return{text:e.text,icon:e.icon,disabled:e.disabled,shortcut:e.shortcut}};if(r(e))return e;switch(e.type){case"separator":return ZR;case"submenu":return _(_({type:"nestedmenuitem"},n(e)),{getSubmenuItems:function(){var t=e.getSubmenuItems();return r(t)?t:H(t,eM)}});default:return _(_({type:"menuitem"},n(e)),{onAction:(t=e.onAction,function(){return t()})})}},tM=function(e,t){if(0===t.length)return e;var n=ue(e).filter((function(e){return!JR(e)})).fold((function(){return[]}),(function(e){return[ZR]}));return e.concat(n).concat(t).concat([ZR])},nM=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},oM=function(e,t){return nM(e,t)?e.selection.getStart(!0):t.target},rM=function(e,t,n){var o=it().deviceType.isTouch,i=Wa(Rh.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:ss([qp("dismissContextMenu",[Ii(di(),(function(t,n){Gl.close(t),e.focus()}))])])})),a=function(e){return Rh.hide(i)},u=function(t){if(KR(e)&&t.preventDefault(),!function(e,t){return t.ctrlKey&&!KR(e)}(e,t)&&!function(e){return!1===e.getParam("contextmenu")}(e)){var a=function(e,t){var n=function(e){return e.getParam("contextmenu_avoid_overlap","","string")}(e),o=nM(e,t)?"selection":"point";if(De(n)){var r=oM(e,t);return ix(Pe.fromDom(r),n)?"node":o}return o}(e,t);(o()?QR:WR)(e,t,(function(){var n=oM(e,t),o=e.ui.registry.getAll(),i=XR(e);return function(e,t,n){var o=Q(t,(function(t,o){return ye(e,o.toLowerCase()).map((function(e){var o=e.update(n);if(r(o))return tM(t,o.split(" "));if(o.length>0){var i=H(o,eM);return tM(t,i)}return t})).getOrThunk((function(){return t.concat([o])}))}),[]);return o.length>0&&JR(o[o.length-1])&&o.pop(),o}(o.contextMenus,i,n)}),n,i,a)}};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",u)}))},iM=fr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),aM=function(e){return function(t){return t.translate(-e.left,-e.top)}},uM=function(e){return function(t){return t.translate(e.left,e.top)}},sM=function(e){return function(t,n){return Q(e,(function(e,t){return t(e)}),nn(t,n))}},cM=function(e,t,n){return e.fold(sM([uM(n),aM(t)]),sM([aM(t)]),sM([]))},lM=function(e,t,n){return e.fold(sM([uM(n)]),sM([]),sM([uM(t)]))},dM=function(e,t,n){return e.fold(sM([]),sM([aM(n)]),sM([uM(t),aM(n)]))},fM=function(e,t,n){var o=e.fold((function(e,t){return{position:P.some("absolute"),left:P.some(e+"px"),top:P.some(t+"px")}}),(function(e,t){return{position:P.some("absolute"),left:P.some(e-n.left+"px"),top:P.some(t-n.top+"px")}}),(function(e,t){return{position:P.some("fixed"),left:P.some(e+"px"),top:P.some(t+"px")}}));return _({right:P.none(),bottom:P.none()},o)},mM=function(e,t,n,o){var r=function(e,r){return function(i,a){var u=e(t,n,o);return r(i.getOr(u.left),a.getOr(u.top))}};return e.fold(r(dM,pM),r(lM,hM),r(cM,gM))},pM=iM.offset,hM=iM.absolute,gM=iM.fixed,vM=function(e,t){var n=Bt(e,t);return c(n)?NaN:parseInt(n,10)},bM=function(e,t,n,o){return function(e,t){var n=e.element,o=vM(n,t.leftAttr),r=vM(n,t.topAttr);return isNaN(o)||isNaN(r)?P.none():P.some(nn(o,r))}(e,t).fold((function(){return n}),(function(e){return gM(e.left+o.left,e.top+o.top)}))},yM=function(e,t,n,o,r,i){var a=bM(e,t,n,o),u=t.mustSnap?SM(e,t,a,r,i):AM(e,t,a,r,i),s=cM(a,r,i);return function(e,t,n){var o=e.element;Mt(o,t.leftAttr,n.left+"px"),Mt(o,t.topAttr,n.top+"px")}(e,t,s),u.fold((function(){return{coord:gM(s.left,s.top),extra:P.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))},wM=function(e,t){!function(e,t){var n=e.element;Nt(n,t.leftAttr),Nt(n,t.topAttr)}(e,t)},xM=function(e,t,n,o){return ce(e,(function(e){var r=e.sensor;return function(e,t,n,o,r,i){var a=lM(e,r,i),u=lM(t,r,i);return Math.abs(a.left-u.left)<=n&&Math.abs(a.top-u.top)<=o}(t,r,e.range.left,e.range.top,n,o)?P.some({output:mM(e.output,t,n,o),extra:e.extra}):P.none()}))},SM=function(e,t,n,o,r){var i=t.getSnapPoints(e);return xM(i,n,o,r).orThunk((function(){return Q(i,(function(e,t){var i=t.sensor,a=function(e,t,n,o,r,i){var a=lM(e,r,i),u=lM(t,r,i),s=Math.abs(a.left-u.left),c=Math.abs(a.top-u.top);return nn(s,c)}(n,i,t.range.left,t.range.top,o,r);return e.deltas.fold((function(){return{deltas:P.some(a),snap:P.some(t)}}),(function(n){return(a.left+a.top)/2<=(n.left+n.top)/2?{deltas:P.some(a),snap:P.some(t)}:e}))}),{deltas:P.none(),snap:P.none()}).snap.map((function(e){return{output:mM(e.output,n,o,r),extra:e.extra}}))}))},AM=function(e,t,n,o,r){var i=t.getSnapPoints(e);return xM(i,n,o,r)},CM=Object.freeze({__proto__:null,snapTo:function(e,t,n,o){var r=t.getTarget(e.element);if(t.repositionTarget){var i=dt(e.element),a=xn(i),u=FI(r),s=function(e,t,n){return{coord:mM(e.output,e.output,t,n),extra:e.extra}}(o,a,u),c=fM(s.coord,0,u);Ht(r,c)}}}),kM=function(e,t){e.getSystem().addToGui(t),function(e){ht(e.element).filter(Ne).each((function(t){qt(t,"z-index").each((function(e){Mt(t,"data-initial-z-index",e)})),Ut(t,"z-index",Wt(e.element,"z-index"))}))}(t)},_M=function(e){!function(e){ht(e.element).filter(Ne).each((function(e){Lt(e,"data-initial-z-index").fold((function(){return $t(e,"z-index")}),(function(t){return Ut(e,"z-index",t)})),Nt(e,"data-initial-z-index")}))}(e),e.getSystem().removeFromGui(e)},OM=function(e,t,n){return e.getSystem().build(yx.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},IM=tr("snaps",[zo("getSnapPoints"),gu("onSensor"),zo("leftAttr"),zo("topAttr"),nr("lazyViewport",Dn),nr("mustSnap",!1)]),TM=[nr("useFixed",A),zo("blockerClass"),nr("getTarget",b),nr("onDrag",h),nr("repositionTarget",!0),nr("onDrop",h),sr("getBounds",Dn),IM],EM=function(e){return(t=qt(e,"left"),n=qt(e,"top"),o=qt(e,"position"),r=function(e,t,n){return("fixed"===n?gM:pM)(parseInt(e,10),parseInt(t,10))},t.isSome()&&n.isSome()&&o.isSome()?P.some(r(t.getOrDie(),n.getOrDie(),o.getOrDie())):P.none()).getOrThunk((function(){var t=rn(e);return hM(t.left,t.top)}));var t,n,o,r},DM=function(e,t,n,o,r,i,a){return function(e,t,n,o,r){var i=r.bounds,a=lM(t,n,o),u=Pu(a.left,i.x,i.x+i.width-r.width),s=Pu(a.top,i.y,i.y+i.height-r.height),c=hM(u,s);return t.fold((function(){var e=dM(c,n,o);return pM(e.left,e.top)}),v(c),(function(){var e=cM(c,n,o);return gM(e.left,e.top)}))}(0,t.fold((function(){var e,t,a,u=(e=n,t=i.left,a=i.top,e.fold((function(e,n){return pM(e+t,n+a)}),(function(e,n){return hM(e+t,n+a)}),(function(e,n){return gM(e+t,n+a)}))),s=cM(u,o,r);return gM(s.left,s.top)}),(function(t){var a=yM(e,t,n,i,o,r);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord})),o,r,a)},RM=function(e,t){return{bounds:e.getBounds(),height:en(t.element),width:cn(t.element)}},MM=function(e,t,n,o,r){var i=n.update(o,r),a=n.getStartData().getOrThunk((function(){return RM(t,e)}));i.each((function(n){!function(e,t,n,o){var r=t.getTarget(e.element);if(t.repositionTarget){var i=dt(e.element),a=xn(i),u=FI(r),s=EM(r),c=DM(e,t.snaps,s,a,u,o,n),l=fM(c,0,u);Ht(r,l)}t.onDrag(e,r,o)}(e,t,a,n)}))},PM=function(e,t,n,o){t.each(_M),n.snaps.each((function(t){wM(e,t)}));var r=n.getTarget(e.element);o.reset(),n.onDrop(e,r)},BM=function(e){return function(t,n){var o=function(e){n.setStartData(RM(t,e))};return ki(I([Ii(ui(),(function(e){n.getStartData().each((function(){return o(e)}))}))],e(t,n,o),!0))}},LM=Object.freeze({__proto__:null,getData:function(e){return P.from(nn(e.x,e.y))},getDelta:function(e,t){return nn(t.left-e.left,t.top-e.top)}}),FM=function(e,t,n){return[Ii(Er(),(function(o,r){if(0===r.event.raw.button){r.stop();var i=function(){return PM(o,P.some(s),e,t)},a=ax(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),MM(o,e,t,LM,n)}},s=OM(o,e.blockerClass,function(e){return ki([Ii(Er(),e.forceDrop),Ii(Mr(),e.drop),Ii(Dr(),(function(t,n){e.move(n.event)})),Ii(Rr(),e.delayDrop)])}(u));n(o),kM(o,s)}}))]},NM=I(I([],TM,!0),[wu("dragger",{handlers:BM(FM)})],!1),jM=Object.freeze({__proto__:null,getData:function(e){var t=e.raw.touches;return 1===t.length?function(e){var t=e[0];return P.some(nn(t.clientX,t.clientY))}(t):P.none()},getDelta:function(e,t){return nn(t.left-e.left,t.top-e.top)}}),zM=function(e,t,n){var o=zs(),r=function(n){PM(n,o.get(),e,t),o.clear()};return[Ii(_r(),(function(i,a){a.stop();var u=function(){return r(i)},s={drop:u,delayDrop:h,forceDrop:u,move:function(n){MM(i,e,t,jM,n)}},c=OM(i,e.blockerClass,function(e){return ki([Ii(_r(),e.forceDrop),Ii(Ir(),e.drop),Ii(Tr(),e.drop),Ii(Or(),(function(t,n){e.move(n.event)}))])}(s));o.set(c);n(i),kM(i,c)})),Ii(Or(),(function(n,o){o.stop(),MM(n,e,t,jM,o.event)})),Ii(Ir(),(function(e,t){t.stop(),r(e)})),Ii(Tr(),r)]},UM=NM,VM=I(I([],TM,!0),[wu("dragger",{handlers:BM(zM)})],!1),HM=I(I([],TM,!0),[wu("dragger",{handlers:BM((function(e,t,n){return I(I([],FM(e,t,n),!0),zM(e,t,n),!0)}))})],!1),WM=fs({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:UM,touch:VM,mouseOrTouch:HM}),name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:P.from(e.extra)}}},state:Object.freeze({__proto__:null,init:function(){var e=P.none(),t=P.none(),n=v({});return da({readState:n,reset:function(){e=P.none(),t=P.none()},update:function(t,n){return t.getData(n).bind((function(n){return function(t,n){var o=e.map((function(e){return t.getDelta(e,n)}));return e=P.some(n),o}(t,n)}))},getStartData:function(){return t},setStartData:function(e){t=P.some(e)}})}}),apis:CM}),GM=function(e,t,n,o,r,i){return e.fold((function(){return WM.snap({sensor:hM(n-20,o-20),range:nn(r,i),output:hM(P.some(n),P.some(o)),extra:{td:t}})}),(function(e){var r=n-20,i=o-20,a=e.element.dom.getBoundingClientRect();return WM.snap({sensor:hM(r,i),range:nn(40,40),output:hM(P.some(n-a.width/2),P.some(o-a.height/2)),extra:{td:t}})}))},qM=function(e,t,n){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var r=o.td;(function(e,t){return e.exists((function(e){return st(e,t)}))})(t.get(),r)||(t.set(r),n(r))},mustSnap:!0}},YM=function(e){return eg(Jh.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ss([WM.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),BS.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},QM=function(e,t){var n=dr([]),o=dr([]),r=dr(!1),i=zs(),a=zs(),u=function(e){var n=En(e);return GM(d.getOpt(t),e,n.x,n.y,n.width,n.height)},s=function(e){var n=En(e);return GM(f.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=qM((function(){return H(n.get(),(function(e){return u(e)}))}),i,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),l=qM((function(){return H(o.get(),(function(e){return s(e)}))}),a,(function(t){i.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),d=YM(c),f=YM(l),m=Wa(d.asSpec()),p=Wa(f.asSpec()),h=function(t,n,o,r){var i=o(n);WM.snapTo(t,i);!function(t,n,o,r){var i=n.dom.getBoundingClientRect();$t(t.element,"display");var a=pt(Pe.fromDom(e.getBody())).dom.innerHeight,u=o(i),s=r(i,a);(u||s)&&Ut(t.element,"display","none")}(t,n,(function(e){return e[r]<0}),(function(e,t){return e[r]>t}))},g=function(e){return h(m,e,u,"top")},v=function(e){return h(p,e,s,"bottom")};it().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){r.get()||(Il(t,m),Il(t,p),r.set(!0)),i.set(e.start),a.set(e.finish),e.otherCells.each((function(t){n.set(t.upOrLeftCells),o.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(g),a.get().each(v)})),e.on("TableSelectionClear",(function(){r.get()&&(Dl(m),Dl(p),r.set(!1)),i.clear(),a.clear()})))},$M=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},KM=function(e,t,n){t.delimiter||(t.delimiter="»");return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ss([zp.config({mode:"flow",selector:"div[role=button]"}),Pf.config({disabled:n.isDisabled}),wy(),_x.config({}),Gp.config({}),qp("elementPathEvents",[Li((function(o,r){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return zp.focusIn(o)})),e.on("NodeChange",(function(r){var i,a,u=function(t){for(var n=[],o=t.length;o-- >0;){var r=t[o];if(1===r.nodeType&&!$M(r)){var i=e.fire("ResolveName",{name:r.nodeName.toLowerCase(),target:r});if(i.isDefaultPrevented()||n.push({name:i.name,element:r}),i.isPropagationStopped())break}}return n}(r.parents);u.length>0?Gp.set(o,(i=H(u||[],(function(t,o){return Jh.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":o,"tab-index":-1,"aria-level":o+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:ss([Sy(n.isDisabled),wy()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}},Q(i.slice(1),(function(e,t){var n=e;return n.push(a),n.push(t),n}),[i[0]]))):Gp.set(o,[])}))}))])]),components:[]}};!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(oD||(oD={}));var XM=function(e,t,n){var o=Pe.fromDom(e.getContainer()),r=function(e,t,n,o,r){var i={};return i.height=$D(o+t.top,$b(e),Xb(e)),n===oD.Both&&(i.width=$D(r+t.left,Qb(e),Kb(e))),i}(e,t,n,Zt(o),sn(o));fe(r,(function(e,t){return Ut(o,t,QD(e))})),function(e){e.fire("ResizeEditor")}(e)},JM=function(e,t,n,o){var r=nn(20*n,20*o);return XM(e,r,t),P.some(!0)},ZM=function(e,t){var n=function(e){var t=!e.hasPlugin("autoresize"),n=e.getParam("resize",t);return!1===n?oD.None:"both"===n?oD.Both:oD.Vertical}(e);return n===oD.None?P.none():P.some(lv("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[WM.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,o,r){return XM(e,r,n)},blockerClass:"tox-blocker"}),zp.config({mode:"special",onLeft:function(){return JM(e,n,-1,0)},onRight:function(){return JM(e,n,1,0)},onUp:function(){return JM(e,n,0,-1)},onDown:function(){return JM(e,n,0,1)}}),_x.config({}),Xp.config({})]},t.icons))},eP=function(e,t){var n=function(){var n,o=[];return e.getParam("elementpath",!0,"boolean")&&o.push(KM(e,{},t)),e.hasPlugin("wordcount")&&o.push(function(e,t){var n,o=function(e,n,o){return Gp.set(e,[Ua(t.translate(["{0} "+o,n[o]]))])};return Jh.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ss([Sy(t.isDisabled),wy(),_x.config({}),Gp.config({}),dd.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),qp("wordcount-events",[ji((function(e){var t=dd.getValue(e),n="words"===t.mode?"characters":"words";dd.setValue(e,{mode:n,count:t.count}),o(e,t.count,n)})),Li((function(t){e.on("wordCountUpdate",(function(e){var n=dd.getValue(t).mode;dd.setValue(t,{mode:n,count:e.wordCount}),o(t,e.wordCount,n)}))}))])]),eventOrder:(n={},n[Jr()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})}(e,t)),e.getParam("branding",!0,"boolean")&&o.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=nv.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),o.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:o}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var o=n(),r=ZM(e,t);return o.concat(r.toArray())}()}},tP=function(e){var t,n,o,r,i=e.inline,a=i?eR:qD,u=fy(e)?cT:BI,s=P.none(),c=it(),l=c.browser.isIE()?["tox-platform-ie"]:[],d=c.deviceType.isTouch()?["tox-platform-touch"]:[],f=uy(e),m=ly(e),p=nv.isRtl()?{attributes:{dir:"rtl"}}:{},g={attributes:(t={},t[lc]=f?Es.BottomToTop:Es.TopToBottom,t)},v=function(){return s.bind(FE.getHeader)},b=function(){Ut(q.element,"width",document.body.clientWidth+"px")},y=Wa((n=st(Et(),m)&&"grid"===Wt(m,"display"),o={dom:_({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(l).concat(d)},p),behaviours:ss([Al.config({useFixed:function(){return u.isDocked(v)}})])},r={dom:{styles:{width:document.body.clientWidth+"px"}},events:ki([Ii(si(),b)])},Xn(o,n?r:{}))),w=function(){return Pn.value(y)},x=eg({dom:{tag:"div",classes:["tox-anchorbar"]}}),S=function(){return s.bind((function(e){return FE.getThrobber(e)})).getOrDie("Could not find throbber element")},A=xI(y,e,(function(){return s.bind((function(e){return x.getOpt(e)})).getOrDie("Could not find a anchor bar element")})),C=FE.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:A,onEscape:function(){e.focus()}}),k=oy(e),O=FE.parts.toolbar(_({dom:{tag:"div",classes:["tox-toolbar"]},getSink:w,providers:A.shared.providers,onEscape:function(){e.focus()},type:k,lazyToolbar:function(){return s.bind((function(e){return FE.getToolbar(e)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return v().getOrDie("Could not find header element")}},g)),I=FE.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:A.shared.providers,onEscape:function(){e.focus()},type:k}),T=FE.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),E=FE.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),D=FE.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:A}),R=e.getParam("statusbar",!0,"boolean")&&!i?P.some(eP(e,A.shared.providers)):P.none(),M={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[T,E]},B=ty(e),L=Zb(e),F=Jb(e),N=FE.parts.header({dom:_({tag:"div",classes:["tox-editor-header"]},g),components:X([F?[C]:[],B?[I]:L?[O]:[],cy(e)?[]:[x.asSpec()]]),sticky:fy(e),editor:e,sharedBackstage:A.shared}),j=X([f?[]:[N],i?[]:[M],f?[N]:[]]),z=X([[{dom:{tag:"div",classes:["tox-editor-container"]},components:j}],i?[]:R.toArray(),[D]]),U=dy(e),V=_(_({role:"application"},nv.isRtl()?{dir:"rtl"}:{}),U?{"aria-hidden":"true"}:{}),H=Wa(FE.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(d).concat(l),styles:_({visibility:"hidden"},U?{opacity:"0",border:"0"}:{}),attributes:V},components:z,behaviours:ss([wy(),Pf.config({disableClass:"tox-tinymce--disabled"}),zp.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));s=P.some(H),e.shortcuts.add("alt+F9","focus menubar",(function(){FE.focusMenubar(H)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){FE.focusToolbar(H)})),e.addCommand("ToggleToolbarDrawer",(function(){FE.toggleToolbarDrawer(H)})),e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return FE.isToolbarDrawerToggled(H)}));var G=wx(H),q=wx(y);!function(e,t,n){var o=function(e,o){W([t,n],(function(t){t.broadcastEvent(e,o)}))},r=function(e,o){W([t,n],(function(t){t.broadcastOn([e],o)}))},i=function(e){return r(ql(),{target:e.target})},a=gs(),u=Vs(a,"touchstart",i),s=Vs(a,"touchmove",(function(e){return o(ii(),e)})),c=Vs(a,"touchend",(function(e){return o(ai(),e)})),l=Vs(a,"mousedown",i),d=Vs(a,"mouseup",(function(e){0===e.raw.button&&r(Ql(),{target:e.target})})),f=function(e){return r(ql(),{target:Pe.fromDom(e.target)})},m=function(e){0===e.button&&r(Ql(),{target:Pe.fromDom(e.target)})},p=function(){W(e.editorManager.get(),(function(t){e!==t&&t.fire("DismissPopups",{relatedTarget:e})}))},h=function(e){return o(ui(),Ws(e))},g=function(e){r(Yl(),{}),o(si(),Ws(e))},v=function(){return r(Yl(),{})},b=function(t){t.state&&r(ql(),{target:Pe.fromDom(e.getContainer())})},y=function(e){r(ql(),{target:Pe.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(function(){e.on("click",f),e.on("tap",f),e.on("mouseup",m),e.on("mousedown",p),e.on("ScrollWindow",h),e.on("ResizeWindow",g),e.on("ResizeEditor",v),e.on("AfterProgressState",b),e.on("DismissPopups",y)})),e.on("remove",(function(){e.off("click",f),e.off("tap",f),e.off("mouseup",m),e.off("mousedown",p),e.off("ScrollWindow",h),e.off("ResizeWindow",g),e.off("ResizeEditor",v),e.off("AfterProgressState",b),e.off("DismissPopups",y),l.unbind(),u.unbind(),s.unbind(),c.unbind(),d.unbind()})),e.on("detach",(function(){Bl(t),Bl(n),t.destroy(),n.destroy()}))}(e,G,q);var Y=function(){var t=QD(KD(e)),n=QD(function(e){return XD(e).getOr(Yb(e))}(e));return e.inline||(Qt("div","width",n)&&Ut(H.element,"width",n),Qt("div","height",t)?Ut(H.element,"height",t):Ut(H.element,"height","200px")),t};return{mothership:G,uiMothership:q,backstage:A,renderUI:function(){u.setup(e,A.shared,v),FR(e,A),rM(e,w,A),function(e){var t=e.ui.registry.getAll().sidebars;W(le(t),(function(n){var o=t[n],r=function(){return Se(P.from(e.queryCommandValue("ToggleSidebar")),n)};e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:function(t){var n=function(){return t.setActive(r())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))}(e),$T(e,S,A.shared),me(function(e){return e.getParam("toolbar_groups",{},"object")}(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,o=t.menuItems,r=t.contextToolbars,i=t.sidebars,s=ey(e),c={menuItems:o,menus:my(e),menubar:py(e),toolbar:s.getOrThunk((function(){return function(e){return e.getParam("toolbar",!0)}(e)})),allowToolbarGroups:k===Xv.floating,buttons:n,sidebar:i};wR(e,r,y,{backstage:A}),QM(e,y);var l=e.getElement(),d=Y(),f={mothership:G,uiMothership:q,outerContainer:H},m={targetNode:l,height:d};return a.render(e,f,c,A,m)},getUi:function(){return{channels:{broadcastAll:q.broadcast,broadcastOn:q.broadcastOn,register:h}}}}},nP=v([zo("lazySink"),$o("dragBlockClass"),sr("getBounds",Dn),nr("useTabstopAt",C),nr("eventOrder",{}),fd("modalBehaviours",[zp]),vu("onExecute"),yu("onEscape")]),oP={sketch:b},rP=v([Vd({name:"draghandle",overrides:function(e,t){return{behaviours:ss([WM.config({mode:"mouse",getTarget:function(e){return Xa(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),zd({schema:[zo("dom")],name:"title"}),zd({factory:oP,schema:[zo("dom")],name:"close"}),zd({factory:oP,schema:[zo("dom")],name:"body"}),Vd({factory:oP,schema:[zo("dom")],name:"footer"}),Ud({factory:{sketch:function(e,t){return _(_({},e),{dom:t.dom,components:t.components})}},schema:[nr("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),nr("components",[])],name:"blocker"})]),iP=gf({name:"ModalDialog",configFields:nP(),partFields:rP(),factory:function(e,t,n,o){var r,i=zs(),a=Qi("modal-events"),u=_(_({},e.eventOrder),((r={})[ci()]=[a].concat(e.eventOrder["alloy.system.attached"]||[]),r));return{uid:e.uid,dom:e.dom,components:t,apis:{show:function(t){i.set(t);var n=e.lazySink(t).getOrDie(),r=o.blocker(),a=n.getSystem().build(_(_({},r),{components:r.components.concat([Ga(t)]),behaviours:ss([Xp.config({}),qp("dialog-blocker-events",[Bi(Br(),(function(){zp.focusIn(t)}))])])}));Il(n,a),zp.focusIn(t)},hide:function(e){i.clear(),ht(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){Dl(e)}))}))},getBody:function(t){return tf(t,e,"body")},getFooter:function(t){return tf(t,e,"footer")},setIdle:function(e){qT.unblock(e)},setBusy:function(e,t){qT.block(e,t)}},eventOrder:u,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:pd(e.modalBehaviours,[Gp.config({}),zp.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),qT.config({getRoot:i.get}),qp(a,[Li((function(t){var n,o,r,i,a,u;n=t.element,o=tf(t,e,"title").element,r=Lt(n,"id").fold((function(){var e=Qi("dialog-label");return Mt(o,"id",e),e}),b),Mt(n,"aria-labelledby",r),i=t.element,a=tf(t,e,"body").element,u=P.from(Bt(i,"id")).fold((function(){var e=Qi("dialog-describe");return Mt(a,"id",e),e}),b),Mt(i,"aria-describedby",u)}))])])}},apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),aP=ho([Ho("type"),Ho("name")].concat(Ab)),uP=Co,sP=[Fo("name","name",Zn((function(){return Qi("button-name")})),Ao),Jo("icon"),ar("align","end",["start","end"]),ur("primary",!1),ur("disabled",!1)],cP=I(I([],sP,!0),[Ho("text")],!1),lP=I([Wo("type",["submit","cancel","custom"])],cP,!0),dP=I([Wo("type",["menu"]),Jo("text"),Jo("tooltip"),Jo("icon"),Qo("items",aP)],sP,!0),fP=Lo("type",{submit:lP,cancel:lP,custom:lP,menu:dP}),mP=[Ho("type"),Ho("text"),Wo("level",["info","warn","error","success"]),Ho("icon"),nr("url","")],pP=ho(mP),hP=[Ho("type"),Ho("text"),ur("disabled",!1),ur("primary",!1),Fo("name","name",Zn((function(){return Qi("button-name")})),Ao),Jo("icon"),ur("borderless",!1)],gP=ho(hP),vP=[Ho("type"),Ho("name"),Ho("label"),ur("disabled",!1)],bP=ho(vP),yP=Co,wP=[Ho("type"),Ho("name")],xP=wP.concat([Jo("label")]),SP=xP.concat([nr("columns","auto")]),AP=ho(SP),CP=yo([Ho("value"),Ho("text"),Ho("icon")]),kP=ho(xP),_P=Ao,OP=ho(xP),IP=Ao,TP=wP.concat([ir("tag","textarea"),Ho("scriptId"),Ho("scriptUrl"),function(e,t){return or(e,t,Oo)}("settings",void 0)]),EP=wP.concat([ir("tag","textarea"),Go("init")]),DP=Eo((function(e){return Ro("customeditor.old",po(EP),e).orThunk((function(){return Ro("customeditor.new",po(TP),e)}))})),RP=Ao,MP=ho(xP),PP=go(uo),BP=function(e){return[Ho("type"),Vo("columns"),e]},LP=[Ho("type"),Ho("html"),ar("presets","presentation",["presentation","document"])],FP=ho(LP),NP=xP.concat([ur("sandboxed",!0)]),jP=ho(NP),zP=Ao,UP=xP.concat([Uo("currentState",ho([zo("blob"),Ho("url")]))]),VP=ho(UP),HP=xP.concat([Jo("inputMode"),Jo("placeholder"),ur("maximized",!1),ur("disabled",!1)]),WP=ho(HP),GP=Ao,qP=function(e){return[Ho("type"),Ho("label"),e]},YP=[Ho("text"),Ho("value")],QP=[Ho("text"),Qo("items",function(e,t){return n=Ve(t),{extract:function(e,t){return n().extract(e,t)},toString:function(){return n().toString()}};var n}(0,(function(){return $P})))],$P=vo([ho(YP),ho(QP)]),KP=xP.concat([Qo("items",$P),ur("disabled",!1)]),XP=ho(KP),JP=Ao,ZP=xP.concat([Yo("items",[Ho("text"),Ho("value")]),rr("size",1),ur("disabled",!1)]),eB=ho(ZP),tB=Ao,nB=xP.concat([ur("constrain",!0),ur("disabled",!1)]),oB=ho(nB),rB=ho([Ho("width"),Ho("height")]),iB=[Ho("type"),Qo("header",Ao),Qo("cells",go(Ao))],aB=ho(iB),uB=xP.concat([Jo("placeholder"),ur("maximized",!1),ur("disabled",!1)]),sB=ho(uB),cB=Ao,lB=xP.concat([ar("filetype","file",["image","media","file"]),nr("disabled",!1)]),dB=ho(lB),fB=ho([Ho("value"),nr("meta",{})]),mB=function(e){return Fo("items","items",{tag:"required",process:{}},go(Eo((function(t){return Ro("Checking item of "+e,pB,t).fold((function(e){return Pn.error(Bo(e))}),(function(e){return Pn.value(e)}))}))))},pB=fo((function(){return To("type",{alertbanner:pP,bar:ho((e=mB("bar"),[Ho("type"),e])),button:gP,checkbox:bP,colorinput:kP,colorpicker:OP,dropzone:MP,grid:ho(BP(mB("grid"))),iframe:jP,input:WP,listbox:XP,selectbox:eB,sizeinput:oB,textarea:sB,urlinput:dB,customeditor:DP,htmlpanel:FP,imagetools:VP,collection:AP,label:ho(qP(mB("label"))),table:aB,panel:gB});var e})),hB=[Ho("type"),nr("classes",[]),Qo("items",pB)],gB=ho(hB),vB=[Fo("name","name",Zn((function(){return Qi("tab-name")})),Ao),Ho("title"),Qo("items",pB)],bB=[Ho("type"),Yo("tabs",vB)],yB=ho(bB),wB=cP,xB=fP,SB=ho([Ho("title"),Uo("body",To("type",{panel:gB,tabpanel:yB})),ir("size","normal"),Qo("buttons",xB),nr("initialData",{}),sr("onAction",h),sr("onChange",h),sr("onSubmit",h),sr("onClose",h),sr("onCancel",h),nr("onTabChange",h)]),AB=ho(I([Wo("type",["cancel","custom"])],wB,!0)),CB=ho([Ho("title"),Ho("url"),Xo("height"),Xo("width"),er("buttons",AB),sr("onAction",h),sr("onCancel",h),sr("onClose",h),sr("onMessage",h)]),kB=function(e){return i(e)?[e].concat(J(be(e),kB)):a(e)?J(e,kB):[]},_B=function(e){return r(e.type)&&r(e.name)},OB={checkbox:yP,colorinput:_P,colorpicker:IP,dropzone:PP,input:GP,iframe:zP,sizeinput:rB,selectbox:tB,listbox:JP,size:rB,textarea:cB,urlinput:fB,customeditor:RP,collection:CP,togglemenuitem:uP},IB=function(e){var t=function(e){return q(kB(e),_B)}(e),n=J(t,(function(e){return function(e){return P.from(OB[e.type])}(e).fold((function(){return[]}),(function(t){return[Uo(e.name,t)]}))}));return ho(n)},TB=function(e){return{internalDialog:Mo(Ro("dialog",SB,e)),dataValidator:IB(e),initialData:e.initialData}},EB={open:function(e,t){var n=TB(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(Mo(Ro("dialog",CB,t)))},redial:function(e){return TB(e)}},DB=function(e){var t=[],n={};return fe(e,(function(e,o){e.fold((function(){t.push(o)}),(function(e){n[o]=e}))})),t.length>0?Pn.error(t):Pn.value(n)},RB=function(e,t){var n=eg(IC.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:H(e.items,(function(e){return OO(n,e,t)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:ss([zp.config({mode:"acyclic",useTabstopAt:x(nk)}),LC(n),GC(n,{postprocess:function(e){return DB(e).fold((function(e){return console.error(e),{}}),b)}})])}},MB=hf({name:"TabButton",configFields:[nr("uid",void 0),zo("value"),Fo("dom","dom",to((function(){return{attributes:{role:"tab",id:Qi("aria"),"aria-selected":"false"}}})),wo()),$o("action"),nr("domModification",{}),fd("tabButtonBehaviours",[Xp,zp,dd]),zo("view")],factory:function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:dh(e.action),behaviours:pd(e.tabButtonBehaviours,[Xp.config({}),zp.config({mode:"execution",useSpace:!0,useEnter:!0}),dd.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),PB=v([zo("tabs"),zo("dom"),nr("clickToDismiss",!1),fd("tabbarBehaviours",[Gf,zp]),pu(["tabClass","selectedClass"])]),BB=Hd({factory:MB,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Gf.dehighlight(e,t),wi(e,gi(),{tabbar:e,button:t})},n=function(e,t){Gf.highlight(e,t),wi(e,hi(),{tabbar:e,button:t})};return{action:function(o){var r=o.getSystem().getByUid(e.uid).getOrDie(),i=Gf.isHighlighted(r,o);(i&&e.clickToDismiss?t:i?h:n)(r,o)},domModification:{classes:[e.markers.tabClass]}}}}),LB=v([BB]),FB=gf({name:"Tabbar",configFields:PB(),partFields:LB(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:pd(e.tabbarBehaviours,[Gf.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Mt(t.element,"aria-selected","true")},onDehighlight:function(e,t){Mt(t.element,"aria-selected","false")}}),zp.config({mode:"flow",getInitial:function(e){return Gf.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}}),NB=hf({name:"Tabview",configFields:[fd("tabviewBehaviours",[Gp])],factory:function(e,t){return{uid:e.uid,dom:e.dom,behaviours:pd(e.tabviewBehaviours,[Gp.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),jB=v([nr("selectFirst",!0),gu("onChangeTab"),gu("onDismissTab"),nr("tabs",[]),fd("tabSectionBehaviours",[])]),zB=zd({factory:FB,schema:[zo("dom"),qo("markers",[zo("tabClass"),zo("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),UB=zd({factory:NB,name:"tabview"}),VB=v([zB,UB]),HB=gf({name:"TabSection",configFields:jB(),partFields:VB(),factory:function(e,t,n,o){var r=function(t,n){ef(t,e,"tabbar").each((function(e){n(e).each(xi)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.tabSectionBehaviours),events:ki(X([e.selectFirst?[Li((function(e,t){r(e,Gf.getFirst)}))]:[],[Ii(hi(),(function(t,n){!function(t){var n=dd.getValue(t);ef(t,e,"tabview").each((function(o){$(e.tabs,(function(e){return e.value===n})).each((function(n){var r=n.view();Lt(t.element,"id").each((function(e){Mt(o.element,"aria-labelledby",e)})),Gp.set(o,r),e.onChangeTab(o,t,r)}))}))}(n.event.button)})),Ii(gi(),(function(t,n){var o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:function(t){return ef(t,e,"tabview").map((function(e){return Gp.contents(e)})).getOr([])},showTab:function(e,t){r(e,(function(e){var n=Gf.getCandidates(e);return $(n,(function(e){return dd.getValue(e)===t})).filter((function(t){return!Gf.isHighlighted(e,t)}))}))}}}},apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),WB=function(e,t){Ut(e,"height",t+"px"),it().browser.isIE()?$t(e,"flex-basis"):Ut(e,"flex-basis",t+"px")},GB=function(e,t,n){Xa(e,'[role="dialog"]').each((function(e){Za(e,'[role="tablist"]').each((function(o){n.get().map((function(n){return Ut(t,"height","0"),Ut(t,"flex-basis","0"),Math.min(n,function(e,t,n){var o,r=mt(e).dom,i=Xa(e,".tox-dialog-wrap").getOr(e);o="fixed"===Wt(i,"position")?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight);var a=Zt(t),u=t.dom.offsetLeft>=n.dom.offsetLeft+sn(n)?Math.max(Zt(n),a):a,s=parseInt(Wt(e,"margin-top"),10)||0,c=parseInt(Wt(e,"margin-bottom"),10)||0;return o-(Zt(e)+s+c-u)}(e,t,o))})).each((function(e){WB(t,e)}))}))}))},qB=function(e){return Za(e,'[role="tabpanel"]')},YB=function(e){var t;return{smartTabHeight:(t=zs(),{extraEvents:[Li((function(n){var o=n.element;qB(o).each((function(r){Ut(r,"visibility","hidden"),n.getSystem().getByDom(r).toOptional().each((function(n){(function(e){return ae(re(e,(function(e,t){return e>t?-1:e<t?1:0})))})(function(e,t,n){return H(e,(function(o,r){Gp.set(n,e[r].view());var i=t.dom.getBoundingClientRect();return Gp.set(n,[]),i.height}))}(e,r,n)).fold(t.clear,t.set)})),GB(o,r,t),$t(r,"visibility"),function(e,t){ae(e).each((function(e){return HB.showTab(t,e.value)}))}(e,n),Xh.requestAnimationFrame((function(){GB(o,r,t)}))}))})),Ii(si(),(function(e){var n=e.element;qB(n).each((function(e){GB(n,e,t)}))})),Ii(zx,(function(e,n){var o=e.element;qB(o).each((function(e){var n=ys(Ct(e));Ut(e,"visibility","hidden");var r=qt(e,"height").map((function(e){return parseInt(e,10)}));$t(e,"height"),$t(e,"flex-basis");var i=e.dom.getBoundingClientRect().height;r.forall((function(e){return i>e}))?(t.set(i),GB(o,e,t)):r.each((function(t){WB(e,t)})),$t(e,"visibility"),n.each(vs)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}},QB=function(e,t){var n=dr({}),o=function(e){var t=dd.getValue(e),o=DB(t).getOr({}),r=n.get(),i=Xn(r,o);n.set(i)},r=function(e){var t=n.get();dd.setValue(e,t)},i=dr(null),a=H(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[IC.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:H(e.items,(function(e){return OO(n,e,t)})),formBehaviours:ss([zp.config({mode:"acyclic",useTabstopAt:x(nk)}),qp("TabView.form.events",[Li(r),Fi(o)]),ps.config({channels:gr([{key:"send-data-to-section",value:{onReceive:o}},{key:"send-data-to-view",value:{onReceive:r}}])})])}}))]}}})),u=YB(a).smartTabHeight;return HB.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var o=dd.getValue(t);wi(e,jx,{name:o,oldName:i.get()}),i.set(o)},tabs:a,components:[HB.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[FB.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ss([_x.config({})])}),HB.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:ss([qp("tabpanel",u.extraEvents),zp.config({mode:"acyclic"}),wf.config({find:function(e){return ae(HB.getViewItems(e))}}),dd.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},$B=Qi("update-dialog"),KB=Qi("update-title"),XB=Qi("update-body"),JB=Qi("update-footer"),ZB=Qi("body-send-message"),eL=function(e,t,n,o){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:_(_({},t.map((function(e){return{id:e}})).getOr({})),o?{"aria-live":"polite"}:{})},components:[],behaviours:ss([FC(0),xD.config({channel:XB,updateState:function(e,t){return P.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},renderComponents:function(e){switch(e.body.type){case"tabpanel":return[QB(e.body,n)];default:return[RB(e.body,n)]}},initialData:e})])}},tL=My.deviceType.isTouch(),nL=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},oL=function(e,t){return iP.parts.close(Jh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:ss([_x.config({})])}))},rL=function(){return iP.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},iL=function(e,t){return iP.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Zh("<p>"+tv(t.translate(e))+"</p>")}]}]})},aL=function(e){return iP.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},uL=function(e,t){return[yx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),yx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},sL=function(e){var t,n="tox-dialog",o=n+"-wrap",r=o+"__backdrop",i=n+"__disable-scroll";return iP.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),P.some(!0)},useTabstopAt:function(e){return!nk(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:_({position:"relative"},e.extraStyles)},components:I([e.header,e.body],e.footer.toArray(),!0),parts:{blocker:{dom:Zh('<div class="'+o+'"></div>'),components:[{dom:{tag:"div",classes:tL?[r,r+"--opaque"]:[r]}}]}},dragBlockClass:o,modalBehaviours:ss(I([Xp.config({}),qp("dialog-events",e.dialogEvents.concat([Bi(Br(),(function(e,t){zp.focusIn(e)}))])),qp("scroll-lock",[Li((function(){Oa(Et(),i)})),Fi((function(){Ta(Et(),i)}))])],e.extraBehaviours,!0)),eventOrder:_((t={},t[Jr()]=["dialog-events"],t[ci()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[li()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},cL=function(e){return Jh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[lv("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:function(e){yi(e,Px)}})},lL=function(e,t,n){var o=function(e){return[Ua(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:_({},t.map((function(e){return{id:e}})).getOr({}))},components:o(e),behaviours:ss([xD.config({channel:KB,renderComponents:o})])}},dL=function(){return{dom:Zh('<div class="tox-dialog__draghandle"></div>')}},fL=function(e,t){return function(e,t){var n=iP.parts.title(lL(e,P.none(),t)),o=iP.parts.draghandle(dL()),r=iP.parts.close(cL(t)),i=[n].concat(e.draggable?[o]:[]).concat([r]);return yx.sketch({dom:Zh('<div class="tox-dialog__header"></div>'),components:i})}({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},mL=function(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:Zh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},pL=function(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){iP.setBusy(e(),(function(e,o){return mL(n.message,o,t)}))},onUnblock:function(){iP.setIdle(e())}}},hL=function(e,t,n,o){var r;return Wa(sL(_(_({},e),{lazySink:o.shared.getSink,extraBehaviours:I([xD.config({channel:$B,updateState:function(e,t){return P.some(t)},initialData:t}),QC({})],e.extraBehaviours,!0),onEscape:function(e){yi(e,Px)},dialogEvents:n,eventOrder:(r={},r[Xr()]=[xD.name(),ps.name()],r[ci()]=["scroll-lock",xD.name(),"messages","dialog-events","alloy.base.behaviour"],r[li()]=["alloy.base.behaviour","dialog-events","messages",xD.name(),"scroll-lock"],r)})))},gL=function(e){return H(e,(function(e){return"menu"===e.type?function(e){var t=H(e.items,(function(e){var t=dr(!1);return _(_({},e),{storage:t})}));return _(_({},e),{items:t})}(e):e}))},vL=function(e){return Q(e,(function(e,t){return"menu"===t.type?Q(t.items,(function(e,t){return e[t.name]=t.storage,e}),e):e}),{})},bL=function(e,t){return[Ri(Br(),tk),e(Mx,(function(e,n){t.onClose(),n.onClose()})),e(Px,(function(e,t,n,o){t.onCancel(e),yi(o,Mx)})),Ii(Nx,(function(e,n){return t.onUnblock()})),Ii(Fx,(function(e,n){return t.onBlock(n.event)}))]},yL=function(e,t){var n=function(t,n){return Ii(t,(function(t,r){o(t,(function(o,i){n(e(),o,r.event,t)}))}))},o=function(e,t){xD.getState(e).get().each((function(n){t(n,e)}))};return I(I([],bL(n,t),!0),[n(Bx,(function(e,t,n){t.onAction(e,{name:n.name})}))],!1)},wL=function(e,t,n){var o=function(t,n){return Ii(t,(function(t,o){r(t,(function(r,i){n(e(),r,o.event,t)}))}))},r=function(e,t){xD.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return I(I([],bL(o,t),!0),[o(Lx,(function(e,t){return t.onSubmit(e)})),o(Rx,(function(e,t,n){t.onChange(e,{name:n.name})})),o(Bx,(function(e,t,o,r){var i=function(){return zp.focusIn(r)},a=function(e){return Ft(e,"disabled")||Lt(e,"aria-disabled").exists((function(e){return"true"===e}))},u=Ct(r.element),s=ys(u);t.onAction(e,{name:o.name,value:o.value}),ys(u).fold(i,(function(e){a(e)||s.exists((function(t){return lt(e,t)&&a(t)}))?i():n().toOptional().filter((function(t){return!lt(t.element,e)})).each(i)}))})),o(jx,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Fi((function(t){var n=e();dd.setValue(t,n.getData())}))],!1)},xL=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]),o=G(n,(function(e){return"start"===e.align})),r=function(e,t){return yx.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:H(t,(function(e){return e.memento.asSpec()}))})};return[r("start",o.pass),r("end",o.fail)]},SL=function(e,t){return{dom:Zh('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ss([xD.config({channel:JB,initialData:e,updateState:function(e,n){var o=H(n.buttons,(function(e){var n=eg(function(e,t){return g_(e,e.type,t)}(e,t));return{name:e.name,align:e.align,memento:n}}));return P.some({lookupByName:function(e,t){return function(e,t,n){return $(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))}(e,o,t)},footerButtons:o})},renderComponents:xL})])}},AL=function(e,t){return iP.parts.footer(SL(e,t))},CL=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=wf.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return IC.getField(n,t).fold((function(){var o=e.getFooter();return xD.getState(o).get().bind((function(e){return e.lookupByName(n,t)}))}),(function(e){return P.some(e)}))}return P.none()},kL=function(e,t,n){var o=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},i={getData:function(){var t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t,r=dd.getValue(o),i=me(n,(function(e){return e.get()}));return _(_({},r),i)},setData:function(t){o((function(o){var r=i.getData(),a=_(_({},r),t),u=function(e,t){var n=e.getRoot();return xD.getState(n).get().map((function(e){return Mo(Ro("data",e.dataValidator,t))})).getOr(t)}(e,a),s=e.getFormWrapper();dd.setValue(s,u),fe(n,(function(e,t){we(a,t)&&e.set(a[t])}))}))},disable:function(t){CL(e,t).each(Pf.disable)},enable:function(t){CL(e,t).each(Pf.enable)},focus:function(t){CL(e,t).each(Xp.focus)},block:function(e){if(!r(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((function(t){wi(t,Fx,{message:e})}))},unblock:function(){o((function(e){yi(e,Nx)}))},showTab:function(t){o((function(n){var o=e.getBody();xD.getState(o).get().exists((function(e){return e.isTabPanel()}))&&wf.getCurrent(o).each((function(e){HB.showTab(e,t)}))}))},redial:function(e){o((function(n){var o=t(e);n.getSystem().broadcastOn([$B],o),n.getSystem().broadcastOn([KB],o.internalDialog),n.getSystem().broadcastOn([XB],o.internalDialog),n.getSystem().broadcastOn([JB],o.internalDialog),i.setData(o.initialData)}))},close:function(){o((function(e){yi(e,Mx)}))}};return i},_L=function(e,t,n){var o=fL(e.internalDialog.title,n),r=function(e,t){var n=eL(e,P.none(),t,!1);return iP.parts.body(n)}({body:e.internalDialog.body},n),i=gL(e.internalDialog.buttons),a=vL(i),u=AL({buttons:i},n),s=wL((function(){return m}),pL((function(){return d}),n.shared.providers,t),n.shared.getSink),c=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(e.internalDialog.size),l={header:o,body:r,footer:P.some(u),extraClasses:c,extraBehaviours:[],extraStyles:{}},d=hL(l,e,s,n),f={getRoot:v(d),getBody:function(){return iP.getBody(d)},getFooter:function(){return iP.getFooter(d)},getFormWrapper:function(){var e=iP.getBody(d);return wf.getCurrent(e).getOr(e)}},m=kL(f,t.redial,a);return{dialog:d,instanceApi:m}},OL=function(e,t,n,o){var r,i,a,u,s,c=Qi("dialog-label"),l=Qi("dialog-content"),d=eg((a={title:e.internalDialog.title,draggable:!0},u=c,s=n.shared.providers,yx.sketch({dom:Zh('<div class="tox-dialog__header"></div>'),components:[lL(a,P.some(u),s),dL(),cL(s)],containerBehaviours:ss([WM.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return eu(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),f=eg(function(e,t,n,o){return eL(e,P.some(t),n,o)}({body:e.internalDialog.body},l,n,o)),m=gL(e.internalDialog.buttons),p=vL(m),h=eg(function(e,t){return SL(e,t)}({buttons:m},n)),g=wL((function(){return y}),{onBlock:function(e){qT.block(b,(function(t,o){return mL(e.message,o,n.shared.providers)}))},onUnblock:function(){qT.unblock(b)},onClose:function(){return t.closeWindow()}},n.shared.getSink),b=Wa({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(r={role:"dialog"},r["aria-labelledby"]=c,r["aria-describedby"]=l,r)},eventOrder:(i={},i[Xr()]=[xD.name(),ps.name()],i[Jr()]=["execute-on-form"],i[ci()]=["reflecting","execute-on-form"],i),behaviours:ss([zp.config({mode:"cyclic",onEscape:function(e){return yi(e,Mx),P.some(!0)},useTabstopAt:function(e){return!nk(e)&&("button"!==Le(e)||"disabled"!==Bt(e,"disabled"))}}),xD.config({channel:$B,updateState:function(e,t){return P.some(t)},initialData:e}),Xp.config({}),qp("execute-on-form",g.concat([Bi(Br(),(function(e,t){zp.focusIn(e)}))])),qT.config({getRoot:function(){return P.some(b)}}),Gp.config({}),QC({})]),components:[d.asSpec(),f.asSpec(),h.asSpec()]}),y=kL({getRoot:v(b),getFooter:function(){return h.get(b)},getBody:function(){return f.get(b)},getFormWrapper:function(){var e=f.get(b);return wf.getCurrent(e).getOr(e)}},t.redial,p);return{dialog:b,instanceApi:y}},IL=tinymce.util.Tools.resolve("tinymce.util.URI"),TL=["insertContent","setContent","execCommand","close","block","unblock"],EL=function(e){return i(e)&&-1!==TL.indexOf(e.mceAction)},DL=function(e,t,n,o){var a,u,c,l=fL(e.title,o),d=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[ZC({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:ss([_x.config({}),Xp.config({})])})]}],behaviours:ss([zp.config({mode:"acyclic",useTabstopAt:x(nk)})])};return iP.parts.body(t)}(e),f=e.buttons.bind((function(e){return 0===e.length?P.none():P.some(AL({buttons:e},o))})),m=yL((function(){return S}),pL((function(){return w}),o.shared.providers,t)),p=_(_({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),h=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],g=new IL(e.url,{base_uri:new IL(window.location.href)}),v=g.protocol+"://"+g.host+(g.port?":"+g.port:""),b=js(),y=[qp("messages",[Li((function(){var t=Vs(Pe.fromDom(window),"message",(function(t){if(g.isSameOrigin(new IL(t.raw.origin))){var o=t.raw.data;EL(o)?function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var o=!!s(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}}(n,S,o):function(e){return!EL(e)&&i(e)&&we(e,"mceAction")}(o)&&e.onMessage(S,o)}}));b.set(t)})),Fi(b.clear)]),ps.config({channels:(a={},a[ZB]={onReceive:function(e,t){Za(e.element,"iframe").each((function(e){e.dom.contentWindow.postMessage(t,v)}))}},a)})],w=hL({header:l,body:d,footer:f,extraClasses:h,extraBehaviours:y,extraStyles:p},e,m,o),S=(u=w,c=function(e){u.getSystem().isConnected()&&e(u)},{block:function(e){if(!r(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c((function(t){wi(t,Fx,{message:e})}))},unblock:function(){c((function(e){yi(e,Nx)}))},close:function(){c((function(e){yi(e,Mx)}))},sendMessage:function(e){c((function(t){t.getSystem().broadcastOn([ZB],e)}))}});return{dialog:w,instanceApi:S}},RL=function(e,t,n){return t&&n?[]:[tT.config({contextual:{lazyContext:function(){return P.some(Tn(Pe.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},ML=function(e){var t=e.backstage,n=e.editor,o=fy(n),r=function(e){var t=e.backstage.shared;return{open:function(n,o){var r=function(){iP.hide(s),o()},i=eg(g_({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:P.none()},"cancel",e.backstage)),a=rL(),u=oL(r,t.providers),s=Wa(sL({lazySink:function(){return t.getSink()},header:nL(a,u),body:iL(n,t.providers),footer:P.some(aL(uL([],[i.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ii(Px,r)],eventOrder:{}}));iP.show(s);var c=i.get(s);Xp.focus(c)}}}(e),i=function(e){var t=e.backstage.shared;return{open:function(n,o){var r=function(e){iP.hide(c),o(e)},i=eg(g_({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:P.none()},"submit",e.backstage)),a=g_({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:P.none()},"cancel",e.backstage),u=rL(),s=oL((function(){return r(!1)}),t.providers),c=Wa(sL({lazySink:function(){return t.getSink()},header:nL(u,s),body:iL(n,t.providers),footer:P.some(aL(uL([],[a,i.asSpec()]))),onEscape:function(){return r(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ii(Px,(function(){return r(!1)})),Ii(Lx,(function(){return r(!0)}))],eventOrder:{}}));iP.show(c);var l=i.get(c);Xp.focus(l)}}}(e),a=function(e,o){return EB.openUrl((function(e){var r=DL(e,{closeWindow:function(){iP.hide(r.dialog),o(r.instanceApi)}},n,t);return iP.show(r.dialog),r.instanceApi}),e)},u=function(e,n){return EB.open((function(e,o,r){var i=o,a=_L({dataValidator:r,initialData:i,internalDialog:e},{redial:EB.redial,closeWindow:function(){iP.hide(a.dialog),n(a.instanceApi)}},t);return iP.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),e)},s=function(e,r,i,a){return EB.open((function(e,u,s){var c=Mo(Ro("data",s,u)),l=zs(),d=t.shared.header.isPositionedAtTop(),f=function(){return l.on((function(e){Rh.reposition(e),tT.refresh(e)}))},m=OL({dataValidator:s,initialData:c,internalDialog:e},{redial:EB.redial,closeWindow:function(){l.on(Rh.hide),n.off("ResizeEditor",f),l.clear(),i(m.instanceApi)}},t,a),p=Wa(Rh.sketch(_(_({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:ss(I([qp("window-manager-inline-events",[Ii(di(),(function(e,t){yi(m.dialog,Px)}))])],RL(n,o,d),!0)),isExtraPart:function(e,t){return function(e){return ix(e,".tox-alert-dialog")||ix(e,".tox-confirm-dialog")}(t)}})));return l.set(p),Rh.showWithin(p,Ga(m.dialog),{anchor:r},P.some(Et())),o&&d||(tT.refresh(p),n.on("ResizeEditor",f)),m.instanceApi.setData(c),zp.focusIn(m.dialog),m.instanceApi}),e)};return{open:function(e,n,o){return void 0!==n&&"toolbar"===n.inline?s(e,t.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?s(e,t.shared.anchors.cursor(),o,n.ariaAttrs):u(e,o)},openUrl:function(e,t){return a(e,t)},alert:function(e,t){r.open(e,(function(){t()}))},close:function(e){e.close()},confirm:function(e,t){i.open(e,(function(e){t(e)}))}}};k.add("silver",(function(e){var t=tP(e),n=t.uiMothership,o=t.backstage,r=t.renderUI,i=t.getUi;rx(e,o.shared);var a=ML({editor:e,backstage:o});return{renderUI:r,getWindowManagerImpl:v(a),getNotificationManagerImpl:function(){return mv(e,{backstage:o},n)},ui:i()}}))}()}).call(this,n("c8ba"))},"0325":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("0643"),n("4e3e");var r=o(n("068a")),i=o(n("8de0")),a=n("2f62");t.default={name:"CatalogTreeNode",components:{CatalogTreeNode:r.default,GlobalCollapse:i.default},props:{node:{type:Object,default:()=>({})},progress:{type:Boolean,default:!1},studyType:{type:String,default:"all"},courseStatus:{type:String,default:""},courseTime:Object,isPreview:{type:Boolean,default:!1},isPlaneStyle:{type:Boolean,default:!1},isElectoralCourse:{type:Boolean,default:!1}},data:()=>({courseLocked:!1,selectedBlockId:"",isNoTransition:!1,nodeDomObj:null,nodeListDomObj:null}),watch:{"node.isCurrent":{handler(e){e&&(this.$bus.$emit("set-curr-node",this.node),this.isPlaneStyle&&this.showCurrentNode())},immediate:!0},courseStatus:{handler(e){this.$isInner&&["learningCountDown","learningHasNotBegun"].includes(e)&&(this.courseLocked=!0)},immediate:!0},"node.expanded":{handler(e){this.isPlaneStyle&&(e?this.collapseOtherNode():this.closeNode())},immediate:!0}},computed:{showIcon(){return 1!==this.node.childNodes.length||"sequential"!==this.node.data.blockType},...(0,a.mapState)({hasSatisfactionCom:e=>e.hasSatisfactionCom,userRole:e=>e.userRole}),filterProgress(){return!this.progress||this.node.data.progress<100},filterStudyType(){const{hasOptional:e,optional:t,level:n}=this.node.data;return"require"===this.studyType?!t:"optional"!==this.studyType||(1===n?t:e)},filterLength(){return!this.$isInner||("vertical"!==this.node.data.blockType||this.node.parent.childNodes.length>1)},setLock(){var e;return this.courseTime.whiteList||!this.courseTime.isStart||(null===(e=this.node)||void 0===e?void 0:e.locked)},isShowGradeIcon(){if(this.$isInner){var e;const{childNodes:t,data:n}=this.node;return!("sequential"!==(null==n?void 0:n.blockType)||1!==(null==t?void 0:t.length)||null===(e=t[0].data)||void 0===e||!e.isRelatedGrade)||!("vertical"!==(null==n?void 0:n.blockType)||null==n||!n.isRelatedGrade)}return!1}},mounted(){this.$nextTick(()=>{this.nodeDomObj=document.getElementById("tree_node_"+this.node.id),this.nodeListDomObj=document.querySelector(".catalog-tree-list")})},methods:{handleExpandIconClick(){this.node.expanded?this.node.collapse():this.node.expand()},collapseOtherNode(){var e;null===(e=this.node.parent)||void 0===e||null===(e=e.childNodes)||void 0===e||e.forEach(e=>{e.id!==this.node.id&&(e.expanded=!1)})},closeNode(){var e,t,n,o;const r=null===(e=this.nodeDomObj)||void 0===e?void 0:e.getBoundingClientRect(),i=(null==r?void 0:r.top)||0,a=(null==r?void 0:r.height)||0,u=(null===(t=this.nodeDomObj)||void 0===t||null===(t=t.getElementsByClassName("tree-node-content")[0])||void 0===t?void 0:t.getBoundingClientRect().height)||0,s=(null===(n=this.nodeDomObj)||void 0===n||null===(n=n.getElementsByClassName("tree-node-children")[0])||void 0===n?void 0:n.getBoundingClientRect().height)||0,c=(null===(o=this.nodeListDomObj)||void 0===o?void 0:o.getBoundingClientRect().top)||0,l=i+a+4-s;this.isNoTransition=i+u+4<c,l<c&&l+s>0&&(this.nodeListDomObj.scrollTop=l+s<c?this.nodeListDomObj.scrollTop-s:this.nodeListDomObj.scrollTop-(c-l)+4)},showCurrentNode(){setTimeout(()=>{var e,t,n;const o=null===(e=this.nodeDomObj)||void 0===e?void 0:e.getBoundingClientRect(),r=(null==o?void 0:o.top)||0,i=(null==o?void 0:o.height)||0,a=(null===(t=this.nodeListDomObj)||void 0===t?void 0:t.getBoundingClientRect().top)||0,u=(null===(n=this.nodeListDomObj)||void 0===n?void 0:n.getBoundingClientRect().height)||0;r+i-36<=a?this.nodeListDomObj.scrollTop=this.nodeListDomObj.scrollTop-(a-r):r+i-36>=a+u&&(this.nodeListDomObj.scrollTop=this.nodeListDomObj.scrollTop+(r+i-(a+u)))},300)},handleContentClick(){const{isLeaf:e}=this.node;if(this.node.store.setCurrentNode(this.node),this.handleExpandIconClick(),this.$isInner)if(e)this.$bus.$emit("change-block",this.node,"course");else{if("sequential"!==this.node.data.blockType||1!==this.node.childNodes.length||!this.$isInner)return;this.$bus.$emit("change-block",this.node.childNodes[0],"course")}else e&&this.$bus.$emit("change-block",this.node,"course")}}}},"034a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACdUlEQVRIS7WVTWsTURiFz52ZVJLSdAoJ2SgKlWwsuihCd8Ya484SJU1VEH+Duukv6Ep/RzVG9zFqiy4KxV1XohstYmkhySRp0+nMfWUmNx8zmZtpBbPJMPed87zn3C+G//xjfn3j8+M0Y/YaGLJEiI/jM8Dmiexvav/J6/OrX4NqPQAhvkXADEDdevGnpW5AjV1wX9mHv2DtbXafk0vgttninb1Mcv75CMQDaH55VCaie2dJzUosgXOAW2aLWaMQn4OHDYhYqNe6oEVSGaiTwkF74MDUc+As6kJAZkvt7GaSC4O4PIDG5gMRSICHXqWvwtZSOI5eA1NjYAqg0tHPxNUnF3sKpwaoU7NgE3p3Wsw67OYP99kRME3CQc0CGCGigWbzZSUYsLFCYL6FJTpWJs+DRaa6gJMmeHvXY9PmBKNpu5BLd9/0RbwONpyIJCkp58CY2h0lG+DHozkS0DFtpO6UJIBPK6PqojR65Skiieuu6MnBNo52XkoX2/TN9TMAhEx0bgiwHwJYlADqH4vSVRSbe4ZIUjjY38bhzguPA+ZOtxMwQV98Feyg/kEOUOOXoUzo7hy4q8j4Lo1IvyUDVIskGhl83PM0cmr59IfqxgCW5RtN2u/oDtSzryURvV+WOwg7oIYcjgeECZ1iXL8tc1ApBOwD0Rp1h8IydFaTnpMAapUC+ecyTLBvSBQ6J42ek+zkeqXQCLvFwhJiDIaeK00HHnb1SqFMXHLh9A5BEZUMxBT2Vs+V7gcCjGoxzS2+RaCZsE4l4zVVsxfi2XffAgHOS6OaT3NLWyMgC6Kxl34fwpjBQFVFs1eHxZ3xsP35j0YGn/0FxDkAKDUE/AwAAAAASUVORK5CYII="},"03d9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHKADAAQAAAABAAAAHgAAAAAefafCAAADpklEQVRIDd2WS0iUURTH56GTDVL2WMQ0gbMoqEXQ+GagBnpQGO0EK3pIj0UQWWBTZIvAsgdIL8hNkWlEuYlKKoIwCk2dgV5EESU2YYugDJ2axhmn3/n6vmGc+fwcoVp44XjPPed//ueee893R5Npsg/zRAssKCjYZzabq+PxeIz5jN/vPz0RDutEwCTbAv4CMh3JQ1Y7nc6+/v7+Z+gZjYwrJJkdxneIg8paqFBiN6J/ys7OXtDZ2fkzk4yWTECCgXgvkwMJkWw/cw3yA90ZiUT2oGc0MkpIdbNhkyQyGgKBwGcRi8XS8Mdk8pWVlc1UdcMpo4Qw1FLJNOYvOTk5pzRGm812UmxI3vDw8CHNbjSP2zTFxcUukjVBItiDXV1djzXCYDAYcTgcYdZrELfL5WrG9l3z683jVjgyMnKUQBvyHmkUkqKiouWFhYUrRWc0cr8fmKdwl3WKxeCPYZdyd25i/YiZ+6rs6em5XlJSMj8ajb5VORdxl29IXskpXMMWB+cGN+ZnYlghOz8uyRj+7u7uG5IE4nliU+1zxCYbYQqIjRM5IbaxxpgJ5cggV46NXftIGk8lwa+ckPisVqvWxas48hWpWG2tm1AlUnYK2T2qe6gFxGKxtMTiE4xgRZcqtc3IOnnoJqQzNxCwBOAIO/clBxjpnMQBiUHcnNB6PWxawoqKChs7VLqNHbfwGbzQC9SzUeVzYq6Kj7lOuFJxaQl7e3t3AcpHflHl4dSA5DXVp3U5j4HESKxL5UoOMY1KyGcgvwK1KuIcLf9xFJoFO9e9Qw3X0dHRh35eXdeqnJp7dEKsPnY2i3mAndYnUElKSsLhJFdCJfYYiwGVa1QPJCr0eDzys1MtUcz1/Nx8TTAkKfn5+Z34pRvb6NinSa6EKrHCIQbh5GGfqzmzNCUcDh9BnwogmJube1azp86tra0RbPJ2Gg7hGBoa2k2VTh524d4uAcqll5aWLuS5eonTSmtX8XJcFqfe8Hq9WRBtEx+kF9vb26N6OLHxAFTR8ZcoIkaDLabjXytHSrJ6SYbjVXl5+ZWxCMQeCoV2gm0UGRwc3GGEhatJOIWb45dn0mTmA/VgeKIGrqUz24xIwG8Cr2wKss38E9VshKdLy/HfEQxVLpWEDyBYQfAjgr3iGG8Qo9wh+LvjYcUPvp0cy1Dvm9mBdOMM7q4G420B/IOxDm757+CbJJRypez/Mdosdru9iuO8RbbQX8gor1CawB/GfhPZikzy8RtdHXQcPQfM0AAAAABJRU5ErkJggg=="},"040f":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("aeb1")),i=n("604d"),a=o(n("6797")),u=o(n("ed1f")),s=o(n("108f")),c=o(n("f8cd9")),l=o(n("2034")),d=o(n("60a5")),f=o(n("01f0")),m=o(n("3527")),p=o(n("ffc7")),h=n("08f3"),g=n("71e7");t.default={name:"fileItem",components:{OverflowTips:a.default,PreviewDocument:i.PreviewDocument},props:{fileItem:{type:Object,default:()=>({attachmentsName:"",attachmentsType:"",attachmentsId:"",fileStatus:"",attachmentsUrl:"",isDownloadAble:!1})},line:{type:String,default:"1"},size:{type:String,default:""},isEdit:{type:Boolean,default:!1},index:{type:Number,default:0},confirmDeleteFile:{type:Function,default:()=>{}},getIsAllowDownload:{type:Function,default:()=>!0}},watch:{fileItem:{handler(e){e.fileStatus===h.FileStatusEnum.Success&&(this.allowQueryDocInfo=!0)},deep:!0,immediate:!0}},data:()=>({previewModalVisible:!1,isShowPreview:!1,FileStatusEnum:h.FileStatusEnum,allowQueryDocInfo:!1}),computed:{isFileAllowDownload(){const{attachmentsId:e,attachmentsUrl:t}=this.fileItem,n=this.isEdmId(this.fileItem);return this.getIsAllowDownload(this.fileItem)&&(n||!!e&&!!t)},isAllowEdmDownLoad(){const{attachmentsId:e,attachmentsUrl:t}=this.fileItem;return this.getIsAllowDownload(this.fileItem)&&!!e}},methods:{isEdmId:e=>/^[MR]/.test(e.attachmentsId),handlePreviewFile(){"small"===this.size?this.previewModalVisible=!0:(this.isShowPreview=!this.isShowPreview,this.allowQueryDocInfo=!0)},handleCancel(){this.previewModalVisible=!1},setPreviewUrl(e,t){const n=e.substring(e.lastIndexOf(".")+1).toLowerCase();let o="";return["pdf"].includes(n)?o=u.default:["doc","docx"].includes(n)?o=s.default:["ppt","pptx"].includes(n)?o=c.default:["xls","xlsx"].includes(n)?o=l.default:["zip","rar"].includes(n)?o=d.default:["mp4"].includes(n)?o=f.default:["jpg","jpeg","tif","tiff","png"].includes(n)?o=m.default:["txt"].includes(n)?o=p.default:"image"!==t.split("/")[0]&&(o=d.default),o},showPreviewIcon(e){var t,n;const o=this.isEdmId(e),r=null===(t=e.attachmentsName)||void 0===t||null===(t=t.substring(null===(n=e.attachmentsName)||void 0===n?void 0:n.lastIndexOf(".")))||void 0===t?void 0:t.toLowerCase();return".jpg,.jpeg,.png,.xls,.xlsx,.doc,.docx,.pdf,.ppt,.pptx".includes(r)&&o},handleDownloadFile(){const{attachmentsId:e,attachmentsName:t,attachmentsUrl:n}=this.fileItem,o=this.isEdmId(this.fileItem);n&&!o?(0,r.default)(n,t):e&&o&&(0,g.downloadEdmFile)(e,t)},getFileExtension(e){var t,n;const o=null===(t=e.attachmentsName)||void 0===t||null===(t=t.substring(null===(n=e.attachmentsName)||void 0===n?void 0:n.lastIndexOf(".")))||void 0===t?void 0:t.toLowerCase();return()=>o}}}},"0431":function(e,t,n){"use strict";n("7705")},"046a":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/course_h5_hover.2acf2873.png"},"0497":function(e,t){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},"053e":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/icon_error_content.b85ae2c7.png"},"05c7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAlVJREFUSA2VVM9rE0EYfV+yNVXJQVJQC4oKKljQUwW1h/ZihTSJHjzqRUH6X/S/MHjQQxUFkcKmmuJFvFZ7FhUURIQWPTWhRrP7+c00md2d7rqTgdl58+Z975udX8AIhf3qC1VHCAG5ivnljTPo9z5qvVc6S9WVTy6xBReR1oS9O0Ybx4ZMB04J+M2SB6bbxkKw5gyRDZwSoLOxAOYjxkbh7fWq6f8HuCXgIFqeyOxuBLNR7ibz6/okdoJvABeTNhRgf/E4XfV/JPlkL/8PdtTsbXNlIpweSxraPeLVah0BTQPhBEATcnClHVTmiuAxOyjRJ/Ql7pdwPyWpVNWSaoXjdQ8hHoj54d0gFm4XOX8ZngSp+IGHihyYEG0WUOQGSGd09nQSKk/x1pvMrYXTcgzXpJ5yCs4TEX2RSV+j2upnvckKoLTvksS9z4vNHSfakP2/rD1FbE4Rza9sYbwyK5vczjXJEhCtoXxglhr+5lBiEiiC5pe7KF+sC3o4FDi3hEcoT9do7nknHpN60ZhvFtHqduQwjMfFmZjwWyZWprklObLJkvgDM9TunXc2V0FqIt13F0x8DKQn6AczMY0bZL6SJkxPAIyeIKTUmPQEnJlgS2apakphtwTcvn5CFnVyrwM9wcHSOV2JHu8dx1H2aydtXt4Rq/z5a8/kOwqFe3JxXsWUt+T2P0UYNoU7FvF6775G/dhFMyQNlof0i9XE2KEpy1xLNVfxpqTTlMs5fN3syamX0CoEuSj0QXIvUqP11hpNdGnG3xZiUZbmGSi8L29Z4pIp8T+fz6/6YthnLAAAAABJRU5ErkJggg=="},"068a":function(e,t,n){"use strict";n.r(t);var o=n("5526"),r=n("d1c2");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("5b913");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"51b96529",null);t.default=u.exports},"068b":function(e,t,n){"use strict";var o=n("9066");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"06dc":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/VIP_logo_en.7ffd1b98.png"},"077a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"detail",mounted(){this.init()},props:{compProp:{type:Object,default:()=>({forumId:"",forumType:"mooc",env:"PROD"})}},methods:{async init(){await this.checkAsync()||await this.loadResource(),window.ILEARNING_COMPS_FORUM.createForumDetail({container:this.$refs.ilearningForum,props:this.compProp})}}}},"07c6":function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},"07cb":function(e,t,n){"use strict";n.r(t);var o=n("ed42"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"07d3":function(e,t,n){"use strict";n.r(t);var o=n("fa63"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"081a":function(e,t,n){"use strict";n("ca53")},"08e3":function(e,t,n){"use strict";n.r(t);var o=n("d2cb"),r=n("5079");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("1aab");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"1aff9179",null);t.default=u.exports},"0a49":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAABYklEQVQ4T62UzypFURTGfx8DM3UTZWLiKgb3AVwGV56AKOIhzMi9Rv7EiIcgivIEYuDPA1AUBgwokjIzYGlr3dx7nOMcsUenvfb67bXX960jYpaZDQFrQEHSSzhiZs3AKTAlaTeapgTQLLAIdEm6clAnEL5nJK1kBVWAeSAv6ToCqkgKl9StpIo2gDEgF3naM7ApaTIVZGZFYB84lDRYm2Bme0A/UJJ0UhuTN7YHaAS6gRHgFShKOouACsAR0ARsAxfAO3AeQHdAuyeEzQNXJij0bZlZgAVFS0CDH7gNoBzQ4hsP1Z7EQSLVBTu0+t5jbLPTIHHx/wO5Y79KdCenVeV5bX7uKfToBuj4Y7Pva+UPCgT5R13+Pkl1yrliVfl3XP63T/mjTzCzXrfAT4YckHRcZ8gEr6wD4wkjsiVpInVEfEDLwELC0M5JCrFMQzsNLEdAeeASKEtaygoaBlZ/82P7AAl/qIlsfmU6AAAAAElFTkSuQmCC"},"0ab7":function(e,t,n){"use strict";var o=n("e0da");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"0c44":function(e,t,n){"use strict";n("6bc9")},"0c4b":function(e,t,n){"use strict";n("b634")},"0d8e":function(e,t,n){},"0db6":function(e,t,n){"use strict";var o=n("c9b8").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new o(r?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},"0e44":function(e,t,n){},"0eab":function(e,t,n){},"0ed5":function(e,t,n){"use strict";var o=n("23fd");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"0f02":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("0643"),n("fffc"),n("4e3e");var r=o(n("600b")),i=o(n("5cba")),a=n("ca00"),u=n("2934"),s=n("2f62"),c=n("b255"),l=n("4ee2"),d=n("08f3");t.default={name:"LearnBar",inheritAttrs:!1,components:{CourseHandler:r.default,CoursePermissions:i.default},props:{courseInfomation:Object,durationSwitch:Number,currTab:{type:String,default:"course"},schoolId:[String,Number],courseId:String,resourceId:String,appId:String,classId:String,classTitle:String,totalProgress:[String,Number],lang:{type:String,default:"cn"},typeId:String,isInner:Boolean,isPreview:Boolean,hasCourseBook:Boolean,isPublishCase:Boolean,isDiscussion:Boolean,isProgress:{type:Boolean,default:!0},showLearn:Boolean,headerShow:Boolean,isInnerMOOC:Boolean,remainDuration:Number,status:{type:String,default:"published"}},data:()=>({options:[],roleValue:"",tabNodes:[],logoUrl:"",courseImage:"this.src='"+n("2465")+"'",roleFineshed:!1,showRoleSelect:!1,isStudio:!1,isLecturer:!1,closeLearnBar:!1,clockIcon:n("2b5f")}),created(){var e;(this.closeLearnBar=this.$route.query.closeLearnBar||!1,this.isInner||this.getLogoUrl(),this.isInner)&&(this.getRoleList(),(null===(e=this.courseInfomation)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.typeId)===d.CourseTypeIdEnum.Micro&&(this.roleFineshed=!0,this.getPermission()))},mounted(){this.tabNodes=document.querySelectorAll(".tab"),this.$bus.$on("isStudio",e=>{this.isStudio=e}),this.$bus.$on("isLecturer",e=>{this.isLecturer=e}),this.isProgress||this.hideIlearningShare()},watch:{tabs:{handler(e){e.length>0&&(this.tabNodes=document.querySelectorAll(".tab"))}},isStudio:{handler(e){this.$emit("isStudio",e)},immediate:!0}},computed:{...(0,s.mapState)({userRole:e=>e.userRole}),barStyle:{get(){const e={};if(this.tabNodes.length>0){var t;let o=0;const r=this.tabs.findIndex(e=>e.key===this.currTab);for(let e=0;e<this.tabNodes.length;e++){var n;if(e===r)break;o+=(null===(n=this.tabNodes[e])||void 0===n?void 0:n.offsetWidth)||0}const i=`translateX(${o}px)`;e.width=(null===(t=this.tabNodes[r])||void 0===t?void 0:t.offsetWidth)+"px",e.transform=i,e.transition="transform 0.3s ease"}return e}},tabs(){const{code:e}=this.$route.params,t=[{key:"course",value:this.$t("course.course"),name:e?"newApplicationLearn":"applicationLearn",path:"application-learn"}];if(this.hasCourseBook&&t.splice(1,0,{key:"material",value:this.$t("course.materials"),name:"applicationMaterial",path:"application-material"}),this.isInnerMOOC&&(t.unshift({key:"announcement",value:this.$t("course.announceMent"),name:"applicationAnnounceMent",path:"application-announcement"}),this.isPublishCase&&t.push({key:"caseStudy",value:this.$t("homework.caseStudy"),name:"caseStudy",path:"case-study"}),this.isDiscussion&&t.push({key:"discussion",value:this.$t("course.discussionTab"),name:"discussion",path:"discussion"})),this.isInner){const n=this.isProgress?[{key:"progress",value:this.$t("course.courseProgress"),name:e?"newProgressAndGrades":"progressAndGrades",path:"progress-and-grades"}]:[];return(this.isLecturer||this.isStudio)&&n.push({key:"manage",value:this.$t("course.manage")}),t.concat(n)}return t},userHeaderUrl(){return this.$store.state.user.avatarUrl},userName(){const{nickName:e,realName:t,mobile:n,email:o}=this.$store.state.user,r=e||t||n||o||"";return(0,a.reBytesStr)(r,11)}},methods:{hideIlearningShare(){const e=document.querySelector(".shareAndCollect");e&&e.childNodes.forEach((t,n)=>{n!==e.childNodes.length-1&&(t.style.display="none")})},getPermission(){(0,c.managerPermission)(this.appId).then(e=>{const{code:t,data:n}=e;200===t?n.admin||n.teacher?(this.isLecturer=!0,this.isStudio=!0):n.developer||n.assistant?(this.isLecturer=!1,this.isStudio=!0):(this.isLecturer=!1,this.isStudio=!1):this.$message.error(e.message)})},geStudio(e){this.$emit("isStudio",e)},async getRoleList(){const e=await(0,c.getRoleList)(this.appId).catch(e=>{throw(0,l.logReportApi)("curriculum_040013",{error:e,data:{params:{appId:this.appId},error:e}}),this.$tools.getIsRateLimiting(e)&&this.$router.push(`/course/${this.$route.params.schoolId}/net-err`),e});if((null==e?void 0:e.code)===d.ResponceCodeEnum.Success){var t,n;this.options=null===(t=e.data)||void 0===t?void 0:t.roles;const o=null===(n=e.data)||void 0===n?void 0:n.primary;this.roleValue=null==o?void 0:o.code,0===this.options.length&&(this.roleValue=-1),-1===this.roleValue?(this.isLecturer=!1,this.isStudio=!1):3===this.roleValue?(this.isLecturer=!0,this.isStudio=!1):(this.isLecturer=!0,this.isStudio=!0),this.showRoleSelect=(-1!==this.roleValue||0!==this.options.length)&&this.isInnerMOOC,this.$store.commit("setUserRole",this.roleValue),this.$store.commit("setUserRoleType",null==o?void 0:o.type),this.$bus.$emit("roleChange",{type:"default",value:this.roleValue})}else(0,l.logReportApi)("curriculum_040013",{statusCode:d.ResponceCodeEnum.Success,subErrorInfo:null==e?void 0:e.code,data:{params:{appId:this.appId},response:e||{}}});this.roleFineshed=!0},roleChange(e){this.$bus.$emit("roleChange",{type:"change",value:e}),this.$store.commit("setUserRole",e);const t=this.options.find(t=>t.code===e);this.$store.commit("setUserRoleType",null==t?void 0:t.type)},getLogoUrl(){(0,u.getLogo)(this.schoolId).then(e=>{"success"===e.details&&(this.logoUrl=e.data.logoUrl)})},goToHomePage(){if(this.isHeaderShow){const e=`${location.origin}/portal/${this.schoolId}?sxz-lang=${this.$route.query["sxz-lang"]||""}`;window.open(e,"_self")}},backToView(){this.$emit("hide-watermark",!1),window.localStorage.removeItem("filterCourseType"),this.coursestatus&&this.$tools.isApplication()&&this.studyDuration();const{"sxz-lang":e,coursePackageType:t,status:n,entry:o,scheduleId:r,saleMode:i,processId:u,type:s}=this.$route.query,c={status:"classLectureCenter"===o?n:this.status,courseId:this.courseId,appId:this.appId,appType:this.$tools.whichAppType(),classId:this.classId,"sxz-lang":e||"zh_CN",headershow:this.headershow,coursePackageType:t,saleMode:i,entry:o,scheduleId:r};u&&(c.processId=u,c.type=s);let l=`${window.location.origin}/course/${this.$route.params.schoolId}/application-view`;const d=Object.keys(c);let f=!0;d.forEach(e=>{void 0!==c[e]&&(l+=`${f?"?":"&"}${e}=${c[e]}`,f=!1)}),(0,a.publicOpen)(l,"_self")},changeTab(e){this.$emit("change-tab",e),this.tabNodes=document.querySelectorAll(".tab")}}}},"0f53":function(e,t,n){"use strict";var o=n("bfdd");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"0fba":function(e,t,n){"use strict";n.r(t);var o=n("8210"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"0fd3":function(e,t,n){"use strict";var o=n("7fae"),r=n("2dc5"),i=n("7e5b"),a=n("6d8b"),u=n("a15a"),s=n("401b"),c=n("4a3f"),l=function(e){function t(t,n,o){var r=e.call(this)||this;return r.add(r.createLine(t,n,o)),r._updateEffectSymbol(t,n),r}return Object(o.a)(t,e),t.prototype.createLine=function(e,t,n){return new i.a(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),o=n.get("symbolSize"),r=n.get("symbol");a.isArray(o)||(o=[o,o]);var i=e.getItemVisual(t,"style"),s=n.get("color")||i&&i.stroke,c=this.childAt(1);this._symbolType!==r&&(this.remove(c),(c=Object(u.a)(r,-.5,-.5,1,1,s)).z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",s),c.setStyle(n.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(s),this._symbolType=r,this._symbolScale=o,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var o=this.childAt(1);if(o){var r=e.getItemLayout(n),i=1e3*t.get("period"),u=t.get("loop"),s=t.get("roundTrip"),c=t.get("constantSpeed"),l=a.retrieve(t.get("delay"),(function(t){return t/e.count()*i/3}));if(o.ignore=!0,this._updateAnimationPoints(o,r),c>0&&(i=this._getLineLength(o)/c*1e3),i!==this._period||u!==this._loop||s!==this._roundTrip){o.stopAnimation();var d=void 0;d=a.isFunction(l)?l(n):l,o.__t>0&&(d=-i*o.__t),this._animateSymbol(o,i,d,u,s)}this._period=i,this._loop=u,this._roundTrip=s}},t.prototype._animateSymbol=function(e,t,n,o,r){if(t>0){e.__t=0;var i=this,a=e.animate("",o).when(r?2*t:t,{__t:r?2:1}).delay(n).during((function(){i._updateSymbolPosition(e)}));o||a.done((function(){i.remove(e)})),a.start()}},t.prototype._getLineLength=function(e){return s.dist(e.__p1,e.__cp1)+s.dist(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,o=e.__cp1,r=e.__t<1?e.__t:2-e.__t,i=[e.x,e.y],a=i.slice(),u=c.h,l=c.i;i[0]=u(t[0],o[0],n[0],r),i[1]=u(t[1],o[1],n[1],r);var d=e.__t<1?l(t[0],o[0],n[0],r):l(n[0],o[0],t[0],1-r),f=e.__t<1?l(t[1],o[1],n[1],r):l(n[1],o[1],t[1],1-r);e.rotation=-Math.atan2(f,d)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*s.dist(a,i),1===r&&(i[0]=a[0]+(i[0]-a[0])/2,i[1]=a[1]+(i[1]-a[1])/2)):1===e.__lastT?e.scaleY=2*s.dist(t,i):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=i[0],e.y=i[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(r.a);t.a=l},"100f":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("0643"),n("4e3e");var r=o(n("068a")),i=o(n("2027")),a=n("ca00");t.default={name:"CatalogTree",components:{CatalogTreeNode:r.default},props:{data:{type:Array,default:()=>[]},defaultSelectedKey:{type:String,default:""},courseStatus:{type:String,default:""},progress:{type:Boolean,default:!1},studyType:{type:String,default:"all"},courseTime:Object,isPreview:{type:Boolean,default:!1},isPlaneStyle:{type:Boolean,default:!1},isElectoralCourse:{type:Boolean,default:!1}},data:()=>({store:{},root:{},currSystemTime:""}),created(){const e=this;this.$bus.$on("change-block",(function(t){e.$emit("change-block",t)})),(0,a.getSystemTime)().then(e=>{this.currSystemTime=e})},watch:{data:{handler(e){e.length>0&&(this.store=new i.default({data:e,defaultSelectedKey:[this.defaultSelectedKey],courseStatus:this.courseStatus,courseTime:this.courseTime,currSystemTime:this.currSystemTime,isPreview:this.isPreview,isInner:this.$isInner,isPlaneStyle:this.isPlaneStyle}),this.root=this.store.root,this.getLeafList(this.root))},immediate:!0},defaultSelectedKey(e){this.store._initDefaultSelectedNodes(e)}},methods:{getLeafList(e){const t=[],n=e=>{var o;!e.isLeaf&&null!==(o=e.childNodes)&&void 0!==o&&o.length?e.childNodes.forEach(e=>{n(e)}):t.push(e)};n(e),this.$emit("root",t)}}}},1055:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAACBElEQVQ4T63UwWvTcBQH8Pd+SYYXLx4sY4gg6nW6JliWtEnrzlVBve26mygOdt3w6kkQhuwiouJxGwNB1rVN0hhsMte5yyaiN5l/gMw2v9+TRjNXbVkD5pDL7/c+v+TlfYPwny4c5GzYTZ1JrExE17p7EHFFcLFaKmiNfjX/QLYdjApGjwnwLYLUimR5ewTaGYpomoCmATAjEbuUz0+0joI9UNVpLiDiLQWhrOvqp34ne97OqbY4eENEa8W8tpDsOYQqjc2zEgnfMtTRYdpWc4MdlKUbZu7yx/jVk6KaE+wRwVyxoC4PAzUardMd6uxbhhob8a3ibY1JwGetyez9YZDDw93wC0Nxt6BrKzFke5tmBCCXJicqqSAnnAGkKctQb8dQ1Q2ejqAyp+vj39JAjvPuHAesW3ntTAzV3eAFB3pQMrTdtJBA9tI01NyvJ3KaFiJolqE9TAPVnHCGGHwv6tnnMeR5W2Nt4lVLz15MA9WdYFZCZc0wxnf/fH43XAUQi5ahvR4GW1/3M/IJZckysuWeOar77y9QxPeSuTgOqzlBiILfNM0rn3ug373qRmSeCO4V8+qjfljVDq4jg0UietI3IkmR73/IHEQ/XgHCVyLYYIpSQYpOJqElYMtc7sxP5XL7A0N7dKE77QqI81zwO0goAeAzzmj76oAwD/wfHdejv9d/Albm1RMkZlEVAAAAAElFTkSuQmCC"},"108f":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/word_icon.2d705a7d.png"},"10de":function(e,t,n){},1103:function(e,t,n){},1185:function(e,t,n){"use strict";var o=n("4ea4").default,r=n("dbce").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("0643"),n("2382"),n("fffc"),n("4e3e"),n("a573"),n("88a7"),n("271a"),n("5494");var i=r(n("2ef0")),a=o(n("c1df")),u=o(n("12a2")),s=o(n("50e6")),c=o(n("2a83")),l=o(n("2672")),d=o(n("af140")),f=o(n("711e")),m=o(n("5380")),p=o(n("8edf")),h=o(n("ff42")),g=o(n("c326")),v=o(n("6397")),b=o(n("24560")),y=o(n("ec66")),w=o(n("e814")),x=o(n("b12c")),S=o(n("2fb5")),A=o(n("b256")),C=o(n("1659")),k=o(n("76dc")),_=o(n("ac00")),O=o(n("326f")),I=o(n("0c0c")),T=o(n("df0d")),E=o(n("5f89")),D=o(n("49da")),R=o(n("bbe4")),M=o(n("81bb")),P=o(n("31ab")),B=o(n("ef94")),L=o(n("6bf3")),F=o(n("8060")),N=o(n("8291")),j=o(n("3467")),z=o(n("ec73")),U=o(n("6ff3")),V=o(n("58ad")),H=o(n("7fb1")),W=o(n("8b4f")),G=n("859b"),q=n("5f87"),Y=o(n("1a4c")),Q=o(n("fc20")),$=n("ca00"),K=o(n("d6a0")),X=o(n("1fbb")),J=n("b255"),Z=n("2934"),ee=n("4ee2"),te=n("cabd"),ne=n("b255"),oe=n("2f62"),re=n("1c68"),ie=n("64fb"),ae=n("08f3"),ue=n("7397"),se=o(n("9225"));(0,ie.register)("sxz-ai-converge");t.default={name:"LearnContent",mixins:[H.default,X.default],props:{courseId:String,resourceId:String,appId:String,courseCode:String,coursewarePackageName:String,classId:String,resourceInfo:{type:Object,default:()=>({})},courseTime:{type:Object,default:()=>({})},status:{type:String,default:"published"},durationSwitch:Number,isPreview:Boolean,innerCourseStatus:String,canInstructor:Boolean,isInner:Boolean,isShare:Boolean,sxzLang:String,watermark:String,isNeedOccupy:Boolean,headerShow:Boolean,inside:Boolean,showPhotoModal:Boolean,isTeacher:Boolean,isInnerMOOC:Boolean,courseInformation:{type:Object,default:()=>{}},isStudio:Boolean,isElectoralCourse:{type:Boolean,default:!1},learnedDuration:Number},components:{CourseWordcloudInner:u.default,CatalogTree:c.default,CourseComment:l.default,LearnContentError:E.default,CourseVideoInner:d.default,CourseVideo:f.default,CourseAudioInner:m.default,CourseAudio:p.default,CourseDocumentInner:h.default,CourseDocument:g.default,CourseEdmDocumentInner:h.default,CourseEdmDocument:v.default,CourseExamInner:b.default,CourseExam:y.default,CourseQuizInner:x.default,CourseQuiz:w.default,CourseGraphicInner:A.default,CourseGraphic:S.default,CourseH5Inner:k.default,CourseH5:C.default,CourseELab:_.default,CourseExperiment:T.default,CourseAchievementInner:P.default,ExamTest:O.default,CourseEvaluation:V.default,CourseSatisfactionInner:D.default,SatisfactionDialog:R.default,CourseRollInner:s.default,CourseSurveyInner:M.default,CourseHomeworkInner:L.default,CourseCaseInner:F.default,CourseDebateInner:N.default,CourseThroughInner:j.default,CourseDiscussionInner:B.default,CourseElabExperiment:W.default,CourseProgram:z.default,CourseProgramQuestion:U.default,NewExamTest:I.default},data(){return{courseOutline:{},allBlockList:[],allUnitList:[],blockCatalog:[],currBlock:{},videoPlayerList:[],audioPlayerList:[],failText:this.$t("course.contentRemoved"),blockItemArr:[],currStudyBlockId:location.hash.indexOf("&")>0?location.hash.split("&")[0].slice(1):location.hash.slice(1),catalogFilterList:[],catalogFilter:"",curCatalogFilter:"",preCatalogFilter:"",rootList:[],managerList:[],isShowComment:!1,isAdmin:!1,totalNumm:0,resourceRelate:[],requestQueue:[],showStudyTip:!0,isFilterStatus:!1,nodeInfo:{},nextBlockTimer:null,autoPlayId:"",firstRender:!0,isShowSummary:!1,summaryBtnTipsOn:!0,screenshot:!1,screenshotConfig:{},firstEntry:!0,satisfactionVisible:!1,initProgress:!1,studyDuration:0,openEndDate:"",PrevIcon:K.default,havePreCourse:!1,displayName:"",relatedPrereqBlockId:"",precourse:"",showPreTips:!1,aiConfig:null,aiCovergeParams:"",hasSummaryData:!1,aiServiceEnable:!1,whiteStatus:!1,currentVideoId:"",courseMap:{},videoMapBlockId:"",currentAiActiveTab:"",unitName:"",scrollIntoViewTimer:null,ilearningCourseAdmin:!1,courseManagerList:[],courseIdAI:"",isCommentReady:!1,isOpenSelectOps:!1,url:[],isHeaderShow:this.headerShow,tipModalVisible:!1,chapterLearnedDuration:0,isO3Tenant:!1,outlineMap:{}}},beforeRouteEnter(e,t,n){const{query:o={}}=e;!o["sxz-lang"]&&ue.isInner&&(0,$.refreshUrl)(e,"cn"===se.default.locale?"zh_CN":"en_US"),n()},async created(){const{closeLearnBar:e}=this.$route.query;e&&(this.isHeaderShow=!1),this.hasDataSecurityFn();try{if(this.$isInner){if(!window.initDiscuss){const e=document.createElement("script"),t="//r.hw3static.com/s/community/cards/lst/dist/website/DiscussIlearning/assets/discuss.js";e.src=`${t}?r=${(new Date).getTime()}`,document.body.appendChild(e)}}else{const e=await Y.default.getConfigProperty("klt.ai.aiask.config",{cacheTime:1});this.aiServiceEnable=(null==e?void 0:e.aiServiceEnable)||!1,this.aiServiceEnable&&this.getAiConfig()}}catch{}this.handleBusEvent(),this.init(),this.$isInner&&this.handleCourseMapping()},watch:{currStudyBlockId(e){!this.isInner&&e&&this.postStudyDuration()},chapterBlockId(e,t){this.isInner||!["published","publishing"].includes(this.status)||this.isTeacher||e!==t&&this.updateChapterLearnedTime()},currentVideoId(e){this.isInner&&e&&this.isShowSummary&&this.updateParams(e)},isShowComment(){this.isInner&&this.changeMemuCommentHeight()},isShowSummary(e){var t;if(!e||null===(t=this.$refs)||void 0===t||!t.aiCoverge)return;const n=this.$refs.aiCoverge.shadowRoot.querySelector("iframe").contentWindow,o=location.href.indexOf(".shixizhi.huawei.com")>-1?location.origin:"*";n.postMessage(JSON.stringify({from:"ai_course_fe",operation:"openCoverge"}),o)}},mounted(){if(this.getO3TenantIdList(),this.scrollIntoView(),this.$isInner||this.initScrollListen(),window.addEventListener("pagehide",this.saveCurrStudyBlock,!1),window.addEventListener("visibilitychange",this.visibilitychangeStopDuration,!1),this.isInner){this.isPreview||"published"!==this.status||"published"!==this.innerCourseStatus||(this.addEventListenerInnerSSO(),window.removeEventListener("onload",this.removeEventListenerInnerSSO));const e=JSON.parse(localStorage.getItem("course"))||{videoRate:"1x"};this.$store.commit("user/SETVIDEOPLAYRATE",e.videoRate),window.addEventListener("visibilitychange",this.visibilitychangeStopDuration,!1),window.addEventListener("updateSubTitleTime",this.updateSubtitleTime),window.addEventListener("langChange",this.handleLangChangeFun),window.addEventListener("updateVideoMark",this.updateVideoMark),window.addEventListener("onClose",this.onClose),window.addEventListener("setMarker",this.setMarker),this.isInWhiteList(),this.isInnerMOOC&&(window.addEventListener("resize",this.changeMemuCommentHeight),window.addEventListener("scroll",this.changeMemuCommentHeight))}else this.$tools.isApplication()&&["published","publishing"].includes(this.status)&&((0,J.countingAppStudyTimes)(this.resourceId),this.recordStudyDuration()),(0,te.checkPermission)(["TEACHING_CONTENT_COURSE_MANAGEMENT_COURSE_LIST_DELETE"]).then(e=>{this.isAdmin=null==e?void 0:e.data[0].hasPermission}),this.$isInner||this.setScreenshotConfig();(0,$.jumpToThridParty)("learn-content-main-overflow")},computed:{chapterBlockId(){var e,t;return null!==(e=this.courseOutline)&&void 0!==e&&e.children&&this.currStudyBlockId?this.getChapterBlockId(null===(t=this.courseOutline)||void 0===t?void 0:t.children,this.currStudyBlockId):null},hasAuth(){return 1===Number(this.$store.state.userRole)},...(0,oe.mapState)({hasSatisfactionCom:e=>e.hasSatisfactionCom,userRole:e=>e.userRole,userRoleType:e=>e.userRoleType}),isInnerAdmin(){return this.$isInner&&""!==this.userRole&&[0,1,2,3].includes(Number(this.userRole))},showContent(){return this.isPreview?["UNKNOWN","NOT_IN_WHITE_LIST","platformAuditing","contentAuditing","approved","platformRejected","contentRejected","platformRevoke","COURSE_NOT_START"].includes(this.courseTime.statusEnum):this.canInstructor?!!this.canInstructor:["START_LEARN","CONTINUE_LEARN","NOT_IN_WHITE_LIST","COURSE_COUNTDOWN","platformAuditing","contentAuditing","approved","platformRejected","contentRejected","platformRevoke","COURSE_NOT_START"].includes(this.courseTime.statusEnum)},blockIsLocked(){var e,t;return Object.keys(this.nodeInfo).length&&this.nodeInfo.locked||(null===(e=this.resourceInfo)||void 0===e?void 0:e.enrollStartDate)&&new Date(null===(t=this.resourceInfo)||void 0===t?void 0:t.enrollStartDate).getTime()>(new Date).getTime()},notWhiteList(){return["NOT_IN_WHITE_LIST","platformAuditing","contentAuditing","platformRejected","contentRejected","platformRevoke"].includes(this.courseTime.statusEnum)},menuList(){return this.courseOutline.children||[]},isSingle(){return 1===this.blockItemArr.length},gid(){let e="";return e=window.location.host.includes("kweweb-uata.huawei.com")||window.location.host.includes("kweweb-a3.huawei.com")||window.location.host.includes("klt-local.huawei.com")?"sit":window.location.host.includes("uat.ilearning.huawei.com")?"uat":"prod",{sit:2026553,uat:3824554,prod:3958946}[e]},showName(){const e="vertical"===this.currBlock.blockType;return this.isInnerMOOC&&e},showStudio(){this.currBlock.blockType;return this.isStudio&&this.showName},isApplicationLearnPage(){return["applicationLearn","newApplicationLearn"].includes(this.$route.name)}},methods:{showCompContent(){return!this.blockIsLocked&&!this.notWhiteList},async getO3TenantIdList(){this.isO3Tenant=await(0,$.isO3Tenant)(this.$route.params.schoolId)},updateChapterLearnedTime(){const e=new URL(window.location.href).searchParams.get("id");(0,ne.getChapterProgress)(this.courseId,e,this.chapterBlockId).then(({code:e,data:t})=>{200===e&&t.duration?this.chapterLearnedDuration=Math.round(t.duration/60):this.chapterLearnedDuration=0})},initScrollListen(){const e=document.getElementById("innerContent");let t=null;null==e||e.addEventListener("scroll",()=>{const n=e.scrollTop;clearTimeout(t),t=setTimeout(()=>{const t=e.scrollTop;Math.abs(n-t)>1200&&(this.tipModalVisible=!0)},500)})},previewImage(e){document.addEventListener("wheel",(function(e){const t=new WheelEvent("mousewheel",{deltaX:-e.deltaX,deltaY:-e.deltaY,deltaZ:-e.deltaZ,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}));const t=e.detail[1];this.url=t,setTimeout(()=>{this.$refs.previewImageRef.$el.querySelector(".el-image__preview").click()},20)},changeMemuCommentHeight(){this.$nextTick(()=>{const e=document.body.clientHeight;if(this.isInnerMOOC)if(this.isShowComment){const t=document.querySelector(".courseComment-inner"),n=t.getBoundingClientRect().top;t.style.height=e-n-20+"px";document.querySelector(".comment-body").style.height=e-n-162+"px"}else{const t=document.querySelector(".menu-inner"),n=t.getBoundingClientRect().top;t.style.height=e-n-20+"px"}else if(this.isShowComment){document.querySelector(".comment-body").style.height="594px"}})},hasDataSecurityFn(){var e;const t=document.getElementsByTagName("script");let n=!1;for(let e=0;e<t.length;e++)t[e].src.indexOf("DataSecurity.bundle.")>-1&&(n=!0);if(!(n||this.$isInner||null!==(e=window.sxz)&&void 0!==e&&e.openScreenshot)){const e=+new Date,t=document.createElement("script");t.id="idDataSecurity",t.src="https://sxzcdn.shixizhi.huawei.com/lib/DataSecurity.bundle.20241122.js?t="+e,document.getElementsByTagName("head")[0].appendChild(t),t.onload=()=>{this.$isInner||this.setScreenshotConfig()}}},showTips(...e){const t=e[0].detail[1],{message:n,type:o}=t;if("feedbackToast"===t)(0,re.feedbackToast)();else switch(o){case"warn":this.$message.warning(n);break;case"success":this.$message.success(n);break;case"error":this.$message.error(n)}},handleCourseMapping(){const e={curriculumId:this.courseId,edxClassId:""};(this.isElectoralCourse?J.getCourseMappingNew:ne.getCourseMapping)(e).then(t=>{const{code:n,data:o}=t;n===ae.ResponceCodeEnum.Success?0===Object.keys(o).length||null===o?this.courseIdAI=this.courseId:this.isInnerMOOC?this.courseIdAI=o.edxClassId:this.courseIdAI=this.courseId:(0,ee.logReportApi)("curriculum_040014",{statusCode:ae.ResponceCodeEnum.Success,data:{params:e,response:t||{}},subErrorInfo:null==t?void 0:t.code})}).catch(t=>{(0,ee.logReportApi)("curriculum_040014",{error:t,data:{params:e,error:t}}),this.courseIdAI=this.courseId,this.$tools.getIsRateLimiting(t)&&this.$router.push(`/course/${this.$route.params.schoolId}/net-err`)})},scrollIntoView(){clearInterval(this.scrollIntoViewTimer),this.scrollIntoViewTimer=setInterval(()=>{const e=this.$route.query.blockId,t=document.getElementById(e);t&&(null==t||t.scrollIntoView(),clearInterval(this.scrollIntoViewTimer))},2e3)},setFinish(e){if(this.$isInner){const t=this.$tools.getQueryString("componentId",location);t&&setTimeout(()=>{const n=document.getElementById(""+t);document.getElementById("innerContent").scrollTo({top:n.offsetTop});const{origin:o,pathname:r,search:i}=window.location,a=(0,$.deleteQueryString)(i,"componentId");let u="";e&&(u=(0,$.deleteQueryString)(a,e));const s=o+r+u+(this.currBlock.blockId?"#"+this.currBlock.blockId:window.location.hash||"");window.history.replaceState(null,null,s)})}},goStudio(){const e=this.$isInner?"100000":this.$route.params.schoolId,t=`${location.origin}/course-admin/${e}/management/teaching-content/course/course-detail/edit/${this.courseId}/${this.currBlock.blockId}?sxz-lang=${this.$route.query["sxz-lang"]||"zh_CN"}&resourceApplyId=${this.resourceId}&nav=courseOutline&isStudio=true`;window.open(t,"_blank")},updatePlayingVideo(e,t){this.isShowSummary&&this.$isInner&&(this.currentVideoId=e,this.videoMapBlockId=t)},timeUpdate(e){this.$isInner&&e.currentTime()&&this.isShowSummary&&this.$nextTick(()=>{setTimeout(()=>{var t;const n=null===(t=this.$refs)||void 0===t?void 0:t.aiCoverge.shadowRoot.querySelector("iframe").contentWindow,o=location.href.indexOf(".shixizhi.huawei.com")>-1?location.origin:"*";n.postMessage(JSON.stringify({from:"ai_course_fe",operation:"subtitleScroll",data:1e3*e.currentTime()}),o)},200)})},handleLangChangeFun(e){if(this.$isInner&&this.isShowSummary){var t;const[n,o]=e.detail;null===(t=this.$refs)||void 0===t||null===(t=t["CourseVideoInner"+this.videoMapBlockId][0])||void 0===t||null===(t=t.$refs)||void 0===t||null===(t=t.videoPlayer.$refs)||void 0===t||t.customHandler.handlerCaptionClick(o)}},changeProcess(e){if(this.$isInner&&this.isShowSummary){var t;const n=null===(t=this.$refs)||void 0===t?void 0:t.aiCoverge.shadowRoot.querySelector("iframe").contentWindow,o=location.href.indexOf(".shixizhi.huawei.com")>-1?location.origin:"*";n.postMessage(JSON.stringify({from:"ai_course_fe",operation:"subtitleScroll",data:1e3*e.time}),o)}},isInWhiteList(){this.resourceInfo.code&&(0,J.isInWhiteList)(this.resourceInfo.code).then(e=>{this.whiteStatus=e.data})},closeSatisfaction(){this.satisfactionVisible=!1,this.initProgress=!0},updateSubtitleTime(e){const[t,n]=e.detail;let o="";var r,i;this.$isInner?o=null===(r=this.$refs)||void 0===r||null===(r=r["CourseVideoInner"+this.videoMapBlockId][0])||void 0===r||null===(r=r.$refs)||void 0===r?void 0:r.videoPlayer:o=null===(i=this.$refs)||void 0===i||null===(i=i["CourseVideo"+this.blockItemArr[0].blockId][0])||void 0===i||null===(i=i.$refs)||void 0===i?void 0:i.videoPlayer;o.player.currentTime(parseInt(n/1e3)),o.player.play()},updateVideoMark(e){var t;const[n,o]=e.detail,r=o.summaryType||"video"===(null===(t=this.currBlock)||void 0===t?void 0:t.children[0].definitions.blockType);if("video"===r){let e="";var i,a;if(this.$isInner)e=null===(i=this.$refs)||void 0===i||null===(i=i["CourseVideoInner"+this.videoMapBlockId][0])||void 0===i||null===(i=i.$refs)||void 0===i?void 0:i.videoPlayer;else e=null===(a=this.$refs)||void 0===a||null===(a=a["CourseVideo"+(o.blockId||this.blockItemArr[0].blockId)][0])||void 0===a||null===(a=a.$refs)||void 0===a?void 0:a.videoPlayer;e.player.currentTime(parseInt(o.beginTime/1e3)),e.player.play()}else if(!this.$isInner&&"audio"===r){var u;const e=null===(u=this.$refs)||void 0===u?void 0:u["CourseAudio"+(o.blockId||this.blockItemArr[0].blockId)][0];e.setCurrentTime(parseInt(o.beginTime/1e3)),e.audio.playing=!0,e.play()}},setMarker(e){var t;const[n,o]=e.detail;var r;if(this.$isInner){if("video"===(null===(r=this.currBlock)||void 0===r?void 0:r.children[0].definitions.blockType)){var i;const e=null===(i=this.$refs)||void 0===i||null===(i=i["CourseVideoInner"+this.videoMapBlockId][0])||void 0===i||null===(i=i.$refs)||void 0===i?void 0:i.videoPlayer;var a,u;if(o.flag)null==e||null===(a=e.player)||void 0===a||null===(a=a.markers)||void 0===a||a.add(o.marker);else null==e||null===(u=e.player)||void 0===u||null===(u=u.markers)||void 0===u||u.removeAll()}}else null===(t=o.marker)||void 0===t||t.forEach(e=>{var t,n;if("video"===e.summaryType||"video"===(null===(t=this.currBlock)||void 0===t?void 0:t.children[0].definitions.blockType)){var r;const t=null===(r=this.$refs)||void 0===r||null===(r=r["CourseVideo"+(e.blockId||this.blockItemArr[0].blockId)][0])||void 0===r||null===(r=r.$refs)||void 0===r?void 0:r.videoPlayer;var i,a;if(o.flag)null==t||null===(i=t.player)||void 0===i||null===(i=i.markers)||void 0===i||i.add(e.markItemArr);else null==t||null===(a=t.player)||void 0===a||null===(a=a.markers)||void 0===a||a.removeAll()}else if("audio"===e.summaryType||"audio"===(null===(n=this.currBlock)||void 0===n?void 0:n.children[0].definitions.blockType)){var u;const t=null===(u=this.$refs)||void 0===u?void 0:u["CourseAudio"+(e.blockId||this.blockItemArr[0].blockId)][0],n={};o.flag&&e.markItemArr.forEach(e=>{n[e.time]=e.text}),t.setMarks(n)}})},async getAiConfig(){if(!this.$isInner){let e;try{await(0,J.getAiModelStatus)().then(async t=>{200===t.code&&t.data.aiChatIsVisibleToCurUser?t.data.aiAssignedCourseSuperTeacherSwitch?e={enable:!0}:await(0,J.getCourseInWhiteListStatus)(this.appId).then(t=>{e=null!=t&&t.data?{enable:!0}:{enable:!1}}):e={enable:!1}}).catch(e=>{var t;401===(null==e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.parent.postMessage("course401","*")})}catch(e){}try{await(0,J.getAiPageConfig)().then(t=>{200===t.code&&(this.aiConfig={...this.aiConfig,...e,...t.data,logo:t.data.logoUrl,title:t.data.logoSlogan})}).catch(e=>{var t;401===(null==e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.parent.postMessage("course401","*")})}catch(e){}}},async getFileIdForAi(e){let t="";if(this.$isInner){const{data:n}=await(0,ne.getAppBlock)(this.resourceId,e.blockId,this.status,this.$tools.isApplication(),this.inside);"video"===(null==e?void 0:e.definitions.blockType)?t=null==n?void 0:n.definitions.videoId:"audio"===(null==e?void 0:e.definitions.blockType)?t=null==n?void 0:n.definitions.audioId:"edm-document"===(null==e?void 0:e.definitions.blockType)&&(t=null==n?void 0:n.definitions.docId)}else"video"===(null==e?void 0:e.definitions.blockType)?t=null==e?void 0:e.definitions.videoId:"audio"===(null==e?void 0:e.definitions.blockType)?t=null==e?void 0:e.definitions.audioId:"edm-document"===(null==e?void 0:e.definitions.blockType)&&(t=null==e?void 0:e.definitions.docId);return t},async getAiSummaryFun(e,t){var n;const o=t.filter(e=>this.isAllowedBlock(e)).map(t=>({secondKeyId:e.blockId,firstKeyId:this.courseId,fileId:(null==t?void 0:t.definitions.videoId)||(null==t?void 0:t.definitions.audioId)||(null==t?void 0:t.definitions.docId),blockId:null==t?void 0:t.blockId,summaryType:null==t?void 0:t.blockType,resourceType:"course",topicModel:"multi_mode_with_timestamp"})),r=this.$isInner?{secondKeyId:(null==e?void 0:e.blockId)||this.currBlock.blockId,firstKeyId:this.courseId,fileId:await this.getFileIdForAi((null==e?void 0:e.children[0])||(null===(n=this.currBlock)||void 0===n?void 0:n.children[0])),resourceType:"course",topicModel:"multi_mode_with_timestamp"}:o,i=this.$isInner?J.getAiSummary:J.getMixAiSummary;try{await i(r).then(e=>{var t,n;200===e.code&&null!==(t=e.data)&&void 0!==t&&t.isConfirmed&&(this.$isInner&&null!==(n=e.data)&&void 0!==n&&n.lecturerConfirmedSummary||!this.$isInner)?this.hasSummaryData=!0:this.hasSummaryData=!1},e=>{this.hasSummaryData=!1})}catch{this.hasSummaryData=!1}},setAIConfig(e){const[t,n]=e.detail;this.aiConfig={...this.aiConfig,data:n}},updateHasSummaryData(e){const[t,n]=e.detail;this.hasSummaryData=n},addNoteCallback(e){const[t,n]=e.detail;if(200===n.code){const e=window.location.pathname.split("/")[2],t=this.$createElement,n=t("span",null,[this.$t("aiSummary.noteTips"),t("a",{attrs:{href:`${location.origin}/center/privateCenter.htm?schoolId=${e}&type=personalCenter_MyNotes&sxz-lang=${this.sxzLang}`,target:"_blank"},on:{click:()=>this.$ana.upLog({eventType:"click",eventCode:"270304"})}},this.$t("aiSummary.view"))]);this.$message.success({content:n,duration:3})}else 901100002===n.code||901100003===n.code?(0,re.feedbackToast)():this.$message.error(n.message)},onClose(){this.isShowSummary=!1},init(){this.catalogFilter||(this.catalogFilterList=[{label:this.$t("teacherManage.type"),value:""}]),this.getOutineData()},treeFind(e,t){e.forEach(e=>{t(e),e.children&&this.treeFind(e.children,t)})},refresh(){location.reload()},go(){var e;this.changeBlock((null===(e=this.precourse)||void 0===e?void 0:e.children[0])||this.precourse)},changeDomHeight(){const e=document.body.clientHeight-32-64-85,t=document.querySelector(".menu-inner");t.style.height=e+"px";const n=null==t?void 0:t.getBoundingClientRect().height,o=document.querySelector("#innerContent"),r=document.querySelector(".preContent");if(this.showPreTips?this.hasAuth&&o?o.style.maxHeight=n-50-60+"px":r&&(r.style.maxHeight=n-50+"px"):o&&(o.style.maxHeight=n-50+"px"),this.isShowComment){const e=document.querySelector(".courseComment-inner"),t=e.getBoundingClientRect().top,n=document.body.clientHeight-t;e.style.height=n-20+"px";document.querySelector(".comment-body").style.height=n-162+"px"}},changeBlockFromMenu(){this.outerScrollToTop(),this.changeBlock(...arguments)},async changeBlock(e,t){var n;this.$isInner||this.changeTalentBlock(e),e instanceof Q.default&&(this.nodeInfo=e,e=e.data),this.isInnerMOOC&&this.$nextTick(()=>{this.changeDomHeight()}),this.unitName=e.definitions.displayName,this.courseMap={},this.treeFind(this.courseOutline.children,e=>{this.courseMap[e.blockId]=e});const o=this.$isInner&&"sequential"!==e.blockType?this.courseMap[e.parentBlockId]:this.courseMap[this.currStudyBlockId];if(this.havePreCourse=null==o?void 0:o.prereqLock,this.showPreTips=null==o?void 0:o.isRelatedPrereq,this.$isInner&&null!=o&&o.isRelatedPrereq){const e={};this.isInnerMOOC&&(e.roleCode=this.userRole,e.roleType=this.userRoleType);const{data:t=!0}=await(0,J.getPrePass)(this.resourceId,o.blockId,e);this.havePreCourse=!t}if(this.havePreCourse){const e=o.relatedPrereqBlockId,t=this.courseMap[e];this.displayName=t.definitions.displayName,this.precourse=t}this.treeFind(this.courseOutline.children,e=>{var t;"video"===e.blockType&&null!=e&&null!==(t=e.definitions)&&void 0!==t&&t.videoId&&(this.courseMap[e.definitions.videoId]=e)});const r=null===(n=e)||void 0===n||null===(n=n.children)||void 0===n?void 0:n.findIndex(e=>"discussion"===e.blockType);if(-1!==r){var i;try{const e=await(0,ne.getRoleListAll)(this.appId);if(e&&200===e.code){const t=e.data;this.ilearningCourseAdmin=!!t.find(e=>[0,1].includes(Number(e.code)))}else this.ilearningCourseAdmin=!1}catch(e){this.ilearningCourseAdmin=!1}try{const e=!0,t=await(0,ne.getCourseManageInfo)(this.appId,e);200===(null==t?void 0:t.code)?this.courseManagerList=(null==t?void 0:t.data)||[]:this.courseManagerList=[]}catch(e){this.courseManagerList=[]}const t=null===(i=e)||void 0===i||null===(i=i.children[r])||void 0===i?void 0:i.blockId,n=await(0,ne.getAppBlock)(this.resourceId,t,this.status,this.$tools.isApplication(),this.inside);200===n.code&&await this.getCourseCategories(n.data)}if(this.currBlock=e,this.isInner&&!this.firstRender){var a;const e=null===(a=this.currBlock)||void 0===a?void 0:a.children[0];e&&"video"===e.blockType&&(this.autoPlayId=e.blockId)}this.firstRender=!1;const u=e.children;this.aiServiceEnable&&!this.$isInner&&this.changeCovergeParams(u,e),this.currStudyBlockId=e.blockId,this.blockItemArr=e.children;const{origin:s,pathname:c,search:l}=window.location;(0,$.getUrl)("currentNoteTime")&&sessionStorage.setItem("currentNoteTime",(0,$.getUrl)("currentNoteTime"));const d=s+c+(0,$.deleteQueryString)(l,"currentNoteTime")+(e.blockId?"#"+e.blockId:window.location.hash||"");if(window.history.replaceState(null,null,d),this.$refs.ulRef&&!this.$tools.getQueryString("componentId",location)&&this.$isInner&&(this.$refs.ulRef.scrollTop=0),this.handleResourceRelate(e),this.isInner){var f,m,p,h,g,v;const n={};this.treeFind(this.courseOutline.children,e=>{n[e.blockId]=e});let o=null!==(f=e)&&void 0!==f&&null!==(f=f.definitions)&&void 0!==f&&f.displayName?(null===(m=e)||void 0===m||null===(m=m.definitions)||void 0===m?void 0:m.displayName)+" | ":"";if(o+=null!==(p=n[null===(h=e)||void 0===h?void 0:h.parentBlockId])&&void 0!==p&&null!==(p=p.definitions)&&void 0!==p&&p.displayName?(null===(g=n[null===(v=e)||void 0===v?void 0:v.parentBlockId])||void 0===g||null===(g=g.definitions)||void 0===g?void 0:g.displayName)+" | ":"",o+="Huawei iLearning",document.title=o,document.documentElement.scrollTop=0,"published"===this.status&&"published"===this.innerCourseStatus)if(this.blockItemArr.length>1)this.limitSSOTimes=5;else{var b;const e=(null===(b=this.blockItemArr[0])||void 0===b?void 0:b.blockType)||"";this.limitSSOTimes="audio"===e||"video"===e?1:5}t&&t(),this.showStudyTip=!0,this.studyDuration=0,this.openEndDate="";const r=[this.blockItemArr[0].blockId];if(this.$tools.isApplication()){const{status:e}=this.$route.query;(0,J.postCourseAppBlockList)(this.resourceId,{blockIdLists:r,status:e}).then(t=>{var n,o;(null==t?void 0:t.code)===ae.ResponceCodeEnum.Success&&null!=t&&t.data?(this.studyDuration=(null===(n=t.data[0])||void 0===n?void 0:n.duration)||0,this.openEndDate=(null===(o=t.data[0])||void 0===o?void 0:o.openEndDate)||""):(0,ee.logReportApi)("curriculum_040012",{statusCode:e,subErrorInfo:null==t?void 0:t.code,data:{params:{resourceId:this.resourceId,blockIdLists:r,status:e},response:t||{}}})}).catch(e=>{(0,ee.logReportApi)("curriculum_040012",{error:e,data:{params:{appId:this.appId},error:e}}),this.$tools.getIsRateLimiting(e)&&this.$router.push(`/course/${this.$route.params.schoolId}/net-err`)})}}this.handleStuCurrentAppProgress()},isAllowedBlock:e=>"audio"===e.blockType||"video"===e.blockType||"edm-document"===e.blockType||"graphic"===e.blockType,async changeCovergeParams(e,t){var n;let o;try{o=JSON.parse(this.aiCovergeParams)}catch(e){}o&&(null===(n=o)||void 0===n||null===(n=n.params)||void 0===n?void 0:n.secondKeyId)===t.blockId||(this.getAiConfig(),this.$nextTick(async()=>{var n,o,r;(!this.$isInner&&(null===(n=e.filter(e=>this.isAllowedBlock(e)))||void 0===n?void 0:n.length)||this.$isInner&&"video"===(null===(o=this.targetBlockChildren[0])||void 0===o?void 0:o.blockType)&&this.targetBlockChildren[0].videoUrl)&&(null==t?void 0:t.summaryStatus)>1&&await this.getAiSummaryFun(t,e),setTimeout(()=>{this.summaryBtnTipsOn=!1},3e3);const i=window.location.pathname.split("/")[2],a=e.filter(e=>this.isAllowedBlock(e)).map(e=>({blockId:e.blockId,summaryType:e.blockType,displayName:e.definitions.displayName,fileId:(null==e?void 0:e.definitions.videoId)||(null==e?void 0:e.definitions.audioId)||(null==e?void 0:e.definitions.docId)}));this.aiCovergeParams=JSON.stringify({params:{appId:this.$route.query.appId,classId:this.$route.query.classId,fileId:await this.getFileIdForAi(e[0]),secondKeyId:t.blockId,applicationType:this.$route.query.courseType,status:this.$route.query.status,chapterName:null==t||null===(r=t.definitions)||void 0===r?void 0:r.displayName,courseName:this.coursewarePackageName,blockType:t.blockType,id:this.$route.query.id,resourceType:"course",summaryId:this.$isInner?this.videoMapBlockId+"_"+this.courseIdAI:"",children:a},firstKeyId:this.$route.query.courseId||this.courseId,schoolId:i,sxzLang:this.sxzLang,isAdmin:!1,isInner:this.$isInner,hasSummaryData:!!this.$isInner||this.hasSummaryData,hasSubTitleData:!0,covergeType:this.$isInner?"innerCovergePC":"covergePC"}),window.dispatchEvent(new CustomEvent("params-change",{detail:this.aiCovergeParams}))})),setTimeout(()=>{(0,$.jumpToThridParty)("learn-content-main-overflow")},250)},async getOutineData(e){let t,n={};this.isInnerMOOC&&(n.roleCode=e||this.userRole,n.roleType=this.userRoleType);const o="unpublished"===this.status||this.isTeacher;o?(n={...n,status:this.status,filterType:this.catalogFilter},t=(0,J.getAppOutline)(this.courseId,n)):(n={...n,status:this.status,filterType:this.catalogFilter,all:!1},t=this.$isInner?this.innerGetOutlineData(n):(0,J.getAppOutlineProgress)(this.resourceId,n));try{const{code:e,data:a={},...u}=await t.catch(e=>{const{response:{status:t="",data:r={}}={}}=e||{};(0,ee.logReportApi)(o?"curriculum_040007":"curriculum_040008",{error:e,data:{params:n,error:e}}),this.$tools.getIsRateLimiting(e)&&this.isApplicationLearnPage&&this.$router.push(`/course/${this.$route.params.schoolId}/net-err`)});var r;if(200===e){if(this.courseOutline=a,this.$isInner||(this.$set(this.talentReader,"isFromDigitCoursebook",a.isFromDigitCoursebook),a.bookId&&this.$set(this.talentReader.readerMsg,"bookId",a.bookId)),this.courseOutline.progress>=30&&(this.initProgress=!0),this.preCatalogFilter=this.catalogFilter,this.$bus.$emit("saveTotalProgress",a.progress),""===this.catalogFilter&&this.$bus.$emit("totalProgress",a.progress),null!=a&&null!==(r=a.children)&&void 0!==r&&r.length){this.allBlockList=[],this.handleOutline(a),this.associatedBlock(this.allBlockList);const e=a.stuRecordBlockId;let t=null;if(e&&(t=this.allBlockList.find(t=>t.blockId===e)),this.currStudyBlockId){const e={};this.treeFind(this.courseOutline.children,t=>{e[t.blockId]=t});const t=e[this.currStudyBlockId]||this.allUnitList[0],n=e=>1!==(null==e?void 0:e.level)&&(null==e?void 0:e.children.length)>0?n(e.children[0]):e;this.currBlock=n(t)}else this.currBlock=t||this.allBlockList[0];if(this.changeBlock(this.currBlock),this.outerUpdateProgress(a),this.isInner){if(!this.catalogFilter){var i;const e=null===(i=this.courseOutline)||void 0===i?void 0:i.supportFilterTypeList;if(e){const t=["course.Video","course.Exam","course.quiz"];return void["video","exam","quiz"].forEach((n,o)=>{e.find(e=>e.blockType===n)&&!this.catalogFilterList.find(e=>e.value===n)&&this.catalogFilterList.splice(o+1,0,{label:this.$t(t[o]),value:n})})}a.children.forEach(e=>{this.setCatalogFilter(e)})}}else this.popEvaluation(),this.inside&&this.checkOutlineIsChange()}}else this.catalogFilter=this.preCatalogFilter,this.$message.error(this.$t("homework.RequestField")),(0,ee.logReportApi)(o?"curriculum_040007":"curriculum_040008",{statusCode:ae.ResponceCodeEnum.Success,subErrorInfo:null==u?void 0:u.code,data:{params:n,response:{code:e,data:a,...u}}});this.curCatalogFilter=this.catalogFilter,this.isFilterStatus=!1}catch(e){(0,ee.logReportApi)("curriculum_020000",{error:e,resourceId:this.courseId,data:{params:n,error:e}})}},outerUpdateProgress(e){if(!this.$isInner){const{progress:n,recordProgress:o}=e||{};if(100===n&&100!==o){const[e]=this.blockItemArr;if(e){const n={blockId:e.blockId,blockType:e.blockType,duration:e.duration||1,endTime:e.duration||1,studyDuration:e.studyDuration||1,uuid:this.resourceId,resourceApplyId:this.resourceId};var t;if("exam"===e.blockType)n.examId=null===(t=e.definitions)||void 0===t?void 0:t.examId;(0,J.putAppProgress)(this.resourceId,n)}}}},handleRenderCourseware(e,t){return this.isInner&&["document","edm-document"].includes(t.blockType)?"CourseDocumentInner":this.isInner&&["step-builder"].includes(t.blockType)?"CourseThroughInner":"ref"===e?`${G.courseWareEnum[t.blockType]}${this.isInner?"Inner":""}${t.blockId}`:this.isInner?G.courseWareEnum[t.blockType]+"Inner":G.courseWareEnum[t.blockType]},getAllVideoDom(e){-1===this.videoPlayerList.findIndex(t=>t.id_===e.id_)&&this.videoPlayerList.push(e),this.videoPlayerList.length>1&&this.videoPlayerList.forEach(t=>{t.id_!==e.id_&&t.pause()}),this.audioPlayerList.length&&this.audioPlayerList.forEach(e=>{e.pause()})},getAllAudioDom(e){-1===this.audioPlayerList.findIndex(t=>t.id_===e.id_)&&this.audioPlayerList.push(e),this.audioPlayerList.length>1&&this.audioPlayerList.forEach(t=>{t.id_!==e.id_&&t.pause()}),this.videoPlayerList.length&&this.videoPlayerList.forEach(e=>{e.pause()})},handleOutline(e){var t;null==e||null===(t=e.children)||void 0===t||t.forEach(e=>{1===e.level?(this.allUnitList.push(e),this.allBlockList.push(e),this.blockCatalog.push(...e.children)):(this.allUnitList.push(e),this.handleOutline(e))})},associatedBlock(e){const t=function(e,t){if(e||t){const n=!e||new Date(e).getTime()<=Date.now(),o=!t||new Date(t).getTime()>=Date.now();return!n||!o}return!1};for(let n=0;n<e.length;n++)e[n].isLocked=t(e[n].openStartDate,e[n].openEndDate),Object.assign(e[n],{preCourseware:e[n-1]?e[n-1]:null,nextCourseware:e[n+1]?e[n+1]:null})},outerScrollToTop(){!this.$refs.ulRef||this.$tools.getQueryString("componentId",location)||this.$isInner||(this.$refs.ulRef.scrollTop=0)},switchCourseware(e){this.currBlock[e+"Courseware"]&&(this.currBlock=this.currBlock[e+"Courseware"],this.defaultSelected=this.currBlock.blockId,this.outerScrollToTop(),this.changeBlock(this.currBlock))},openMenuOrComment(){this.isCommentReady?(this.isShowSummary&&(this.isShowSummary=!1),this.isShowComment=!this.isShowComment):this.$message.error(this.$t("common.rateLimiting"))},setSummary(e,t){const{videoId:n,type:o}=e;this.currentAiActiveTab=o,this.videoMapBlockId=t,this.openSummary(),this.currentVideoId=n,window.hwa&&window.hwa("trackStructEvent",{uem_id:"P19F6D8129A250C_CB08F03FA96C279",worthState:!0,sub_page:"sxz-npm"})},setSubTitle(e,t){const{videoId:n,type:o}=e;this.currentAiActiveTab=o,this.videoMapBlockId=t,this.openSummary(),this.currentVideoId=n,window.hwa&&window.hwa("trackStructEvent",{uem_id:"P19F6D8129A250C_C6A1D18F7C6A50B",worthState:!0,sub_page:"sxz-npm"})},openSummary(){this.isShowComment&&(this.isShowComment=!1),this.isShowSummary=!this.isShowSummary,this.isShowSummary&&this.$isInner&&this.updateParams(this.currentVideoId),this.hasSummaryData&&!this.$isInner&&this.$ana.upLog({eventType:"click",eventCode:"270312"})},setStudyProcess(e){var t;const n={resourceApplyId:this.resourceId,courseResourceId:this.courseId,curriculumId:this.courseId,userId:this.isInner?this.$store.state.user.innerUserInfo.userId:null===(t=(0,q.getUserId)())||void 0===t?void 0:t.toString(),...e},o=new Blob([JSON.stringify(n)],{type:"application/json;charset=UTF-8"}),r=(this.isInner?"/sxz":"")+"/api/student/api/student/course/progress/application/addStuProgress";navigator.sendBeacon(r,o)},handleProgress(e,t,n,o){if(!this.isPreview&&(this.isInner?"published"===this.resourceInfo.status:["published","publishing"].includes(this.resourceInfo.status))){const r={init:{duration:0,endTime:0},empty:{duration:1,endTime:1},progress:{duration:o?Number(o):1,endTime:o?Number(o):1}},i={uuid:this.classId,resourceApplyId:this.resourceId,blockId:t,blockType:n,studyDuration:0,...r[e],roleCode:this.userRole,roleType:this.userRoleType},a=this.$tools.isApplication()?this.resourceId:this.classId;if(this.requestQueue.push({id:a,params:i,status:e}),this.requestQueue.length>1)return;this.putProgress({id:a,params:i,status:e})}},putProgress(e){const{id:t,params:n,status:o}=e;(0,J.putAppProgress)(t,n).then(e=>{const{data:t}=e;t&&["empty","progress"].includes(o)&&(this.courseProgressChange(null==t?void 0:t.totalProgress,null==t?void 0:t.parentProgressList),this.isInner||!this.isNeedOccupy||this.needOccupyFlag||this.OrderCourseEnroll(null==t?void 0:t.totalProgress,this.resourceId).then(e=>{this.needOccupyFlag=!0}))}).catch(e=>{switch(n.blockType){case"video":(0,ee.logReportApi)("curriculum_020001",{error:e,resourceApplyId:this.resourceId,...n,resourceId:this.resourceId});break;case"edm_document":(0,ee.logReportApi)("curriculum_020004",{error:e,resourceApplyId:this.resourceId,...n,resourceId:this.resourceId});break;case"audio":(0,ee.logReportApi)("curriculum_020002",{error:e,resourceApplyId:this.resourceId,...n,resourceId:this.resourceId});break;case"graphic":(0,ee.logReportApi)("curriculum_020003",{error:e,resourceApplyId:this.resourceId,...n,resourceId:this.resourceId})}}).finally(()=>{this.requestQueue.splice(0,1),this.requestQueue.length&&this.putProgress(this.requestQueue[0])})},handleScroll:i.default.debounce((function(e){this.$refs.graphicRef&&Array.isArray(this.$refs.graphicRef)&&this.$refs.graphicRef.forEach(t=>{t.graphicIsBottom(e.target)})}),100),saveCurrStudyBlock(){const e={blockId:this.currStudyBlockId,courseResourceId:this.courseId,resourceApplyId:this.resourceId},t=new Blob([JSON.stringify(e)],{type:"application/json;charset=UTF-8"}),n=(this.isInner?"/sxz":"")+"/api/student/api/student/course/progress/application/addStuCurrentProgress";navigator.sendBeacon(n,t)},getCommentSumNumber(e){this.totalNumm=e>99?"99+":e},async showSatisfactionCom(e){if(!this.$isInner||"micro"===this.resourceInfo.typeId)return;const t=await(0,ne.getUserAlreadyAnswer)(this.classId);this.firstEntry&&(this.firstEntry=!1),this.firstEntry||e>=30&&!this.initProgress&&this.hasSatisfactionCom&&"empty"!==this.hasSatisfactionCom&&!t.data&&(this.satisfactionVisible=!0,this.initProgress=!0)},courseProgressChange(e,t,n=!1){if(!(this.courseOutline.progress>e&&n)&&(this.showSatisfactionCom(e),0==this.numm?(window.name="",this.numm++):window.name="isRefresh",e&&(this.courseOutline.progress=e,this.$bus.$emit("saveTotalProgress",e),this.$bus.$emit("totalProgress",e),!this.isInner&&e>=80&&this.popEvaluation()),this.$tools.isApplication()))if(this.$isInner){if(Array.isArray(t)&&t.length>2){const e=t.slice(-2,-1),n=t.slice(0,-1),o=this.allUnitList.find(t=>t.blockId===e[0].blockId);this.updateAllProgress(o,n)}}else this.init()},updateAllProgress(e,t){const n={};t.forEach(e=>{n[e.blockId]=e});const o=function(e){if(["course","chapter","sequential","vertical"].includes(e.blockType)){let t=0;return e.children.forEach(e=>{const n=o(e);t+=n.sumProgress}),e.progress=Math.floor(t/e.courseWareSize),e.sumProgress=t,e}return n[e.blockId]&&(e.sumProgress=n[e.blockId].progress,e.progress=n[e.blockId].progress),e};o(e);let r=0;this.courseOutline.children.forEach(e=>{r+=e.sumProgress});const i=Math.floor(r/this.courseOutline.courseWareSize);this.courseOutline.progress=i},setCatalogFilter(e){if(["chapter","sequential","vertical"].includes(e.blockType))(null==e?void 0:e.children)&&e.children.forEach(e=>{this.setCatalogFilter(e)});else{const t=["course.Video","course.Exam","course.quiz"];["video","exam","quiz"].forEach((n,o)=>{e.blockType!==n||this.catalogFilterList.find(e=>e.value===n)||this.catalogFilterList.splice(o+1,0,{label:this.$t(t[o]),value:n})})}},closeStudyTip(){this.showStudyTip=!1},onFilterChange(e){e!==this.curCatalogFilter&&(this.allBlockList=[],this.allUnitList=[],this.curCatalogFilter=e,this.isFilterStatus=!0,this.$nextTick(()=>{this.showStudyTip=!1,this.init()}))},checkOutlineIsChange(){(0,te.checkOutlineIsChange)(this.courseId).then(e=>{e.data&&(this.$message.warning(this.$t("course.outlineIsChangeTip")),(0,te.confirmOutlineIsChange)(this.courseId))})},recordCurrBlockProgress(e,t=0){var n,o;0==t?this.params={resourceApplyId:this.resourceId,courseResourceId:this.courseId,curriculumId:this.courseId,blockId:e.blockId,userId:this.isInner?this.$store.state.user.innerUserInfo.userId:null===(n=(0,q.getUserId)())||void 0===n?void 0:n.toString(),chapterProgress:e.endTime||this.videoTime}:this.params={resourceApplyId:this.resourceId,courseResourceId:this.courseId,curriculumId:this.courseId,blockId:e.blockId,userId:null===(o=(0,q.getUserId)())||void 0===o?void 0:o.toString(),chapterProgress:e.chapterProgress};[0,1].includes(t)&&this.$tools.isApplication()&&this.resourceId&&(0,J.addStuAppProgress)(this.params)},popEvaluation(){this.$nextTick(()=>{this.resourceInfo.isEvaluation&&this.courseOutline.progress>=80&&!this.courseOutline.isPrompted&&(0,J.setPrompted)({id:this.resourceId}).then(e=>{var t,n;(null!==(t=e.message)&&void 0!==t&&t.includes("成功")||null!==(n=e.message)&&void 0!==n&&n.includes("success"))&&this.$refs.courseEvaluation&&(this.tipsOnceFlag=!0,this.$confirm({title:this.$t("course.courseEvaluationTips"),onOk:()=>{var e,t;null===(e=this.$refs.courseEvaluation)||void 0===e||null===(t=e.setDialogVisible)||void 0===t||t.call(e,!0)},okText:this.$t("examTest.confirm"),cancelText:this.$t("examTest.cancels"),prefixCls:"kltCourse-modal"}))})})},updateParams(e){var t;this.aiCovergeParams=JSON.stringify({params:{appId:this.$route.query.appId,classId:this.$route.query.classId,fileId:e,secondKeyId:this.currBlock.blockId,applicationType:this.$route.query.courseType,status:this.$route.query.status,chapterName:null===(t=this.currBlock)||void 0===t||null===(t=t.definitions)||void 0===t?void 0:t.displayName,courseName:this.coursewarePackageName,blockType:this.currBlock.blockType,id:this.$route.query.id,resourceType:"course",summaryId:this.$isInner?this.videoMapBlockId+"_"+this.courseIdAI:""},firstKeyId:this.$route.query.courseId||this.courseId,schoolId:window.location.pathname.split("/")[2],sxzLang:this.sxzLang,isAdmin:!1,isInner:this.$isInner,hasSummaryData:!!this.$isInner||this.hasSummaryData,hasSubTitleData:!0,covergeType:this.$isInner?"innerCovergePC":"covergePC",activeTab:this.currentAiActiveTab}),window.dispatchEvent(new CustomEvent("params-change",{detail:this.aiCovergeParams}))},handleNextPlay(e,t,n,o){this.ScrollFn(e);const r=this.$refs["CourseVideoInner"+t];r&&r[0].player&&(r[0].player.play(),this.$isInner&&o&&(r[0].customFullScreen=!0,r[0].player.isFullscreen=!0,r[0].player.isFullscreen_=!0,document.querySelector("#innerContent").style.opacity=1)),this.$isInner&&this.isShowSummary&&(this.currentVideoId=n,this.videoMapBlockId=t)},toggleBlock(e,t,n,o){let r=null;this.rootList.forEach(t=>{t.data.blockId!==e||(r=t)}),this.changeBlock(r,()=>{clearInterval(this.nextBlockTimer),this.ScrollFn(0),this.nextBlockTimer=setInterval(()=>{const e=this.$refs["CourseVideoInner"+t];e&&e[0].player&&(clearInterval(this.nextBlockTimer),e[0].player.play(),this.$isInner&&o&&(e[0].customFullScreen=!0,e[0].player.isFullscreen=!0,e[0].player.isFullscreen_=!0,document.querySelector("#innerContent").style.opacity=1)),this.$isInner&&this.isShowSummary&&(this.currentVideoId=n,this.videoMapBlockId=t)},200)})},handlerFullScreen(e){e?this.$refs.contentAreaRef.classList.add("fullscreen"):this.$refs.contentAreaRef.classList.remove("fullscreen")},ScrollFn(e){document.querySelector(".learn-content-main-overflow").scrollTo({top:e,behavior:"smooth"})},handleStuCurrentAppProgress(){var e;const t={courseResourceId:this.courseId,resourceApplyId:this.resourceId,blockId:this.currStudyBlockId,userId:null===(e=(0,q.getUserId)())||void 0===e?void 0:e.toString()};(0,J.addStuCurrentAppProgress)(t)},handleResourceRelate(e){"chapter"===e.blockType?this.$set(this.resourceRelate,0,e.blockId):"sequential"===e.blockType?(this.$set(this.resourceRelate,1,e.blockId),this.$set(this.resourceRelate,0,(0,$.getParentIdById)(this.courseOutline.children,this.resourceRelate[1]))):"vertical"===e.blockType&&(this.$set(this.resourceRelate,2,e.blockId),this.$set(this.resourceRelate,1,(0,$.getParentIdById)(this.courseOutline.children,this.resourceRelate[2])),this.$set(this.resourceRelate,0,(0,$.getParentIdById)(this.courseOutline.children,this.resourceRelate[1])))},async setScreenshotConfig(){var e,t,n;const o=await(0,Z.getScreenshotConfig)();200===o.code?this.screenshotConfig=o.data||{}:this.screenshotConfig={};let r=document.getElementsByTagName("data-security");if(!r[0]){var i;const e=document.createElement("data-security");document.body.appendChild(e),r=document.getElementsByTagName("data-security"),r&&(null===(i=r[0])||void 0===i||i.setAttribute("module-data",JSON.stringify(this.screenshotConfig)))}r&&(null===(e=r[0])||void 0===e||e.setAttribute("module-name","course"));const a=null===(t=this.screenshotConfig)||void 0===t||null===(t=t.moduleAntiScreenshotsPCVo)||void 0===t?void 0:t.pcSelectModule;let u=!1;var s;((a.includes("all")||a.includes("course"))&&(u=!0),u||r[0]&&null!==(n=this.resourceInfo)&&void 0!==n&&n.isOpenAntiScreenshot)&&(null===(s=window.sxz)||void 0===s||s.openScreenshot())},async getCourseCategories(e){var t,n;this.$store.commit("setCategories",null),this.$store.commit("setDiscussTitleList",null);const o={moduleId:null===(t=e.definitions)||void 0===t?void 0:t.moduleId,ownerId:null===(n=this.gid)||void 0===n?void 0:n.toString()},r=await(0,ne.getCategories)(o);if(200===r.code){var i;const e=(null==r||null===(i=r.data)||void 0===i?void 0:i.map(e=>(2===e.level&&this.$set(e,"location",`${e.parentId}-${e.id}`),e)))||[];this.$store.commit("setCategories",e);const t=[],n=await(0,ne.disucssionList)(this.courseId);200===n.code&&n.data&&n.data.forEach(e=>{t.push({parentLocation:e.moduleId,label:e.categoryName})}),this.$store.commit("setDiscussTitleList",t)}},setIsCommentReady(e){this.isCommentReady=Boolean(e)},handleChangeBlock({blockId:e,href:t}){var n;const o=null===(n=this.allBlockList)||void 0===n?void 0:n.find(t=>t.blockId===e);o&&o.blockId!==this.currBlock.blockId?(this.currBlock=o,this.defaultSelected=this.currBlock.blockId,this.changeBlock(this.currBlock)):window.location.href=t},async innerGetOutlineData(e){return new Promise((t,n)=>{Promise.allSettled([(0,J.getLastStudyRecord)(this.resourceId,this.courseId),(0,J.getCourseProgressList)(this.resourceId,this.courseId),(0,J.getOutlineOptimized)(this.resourceId,e)]).then(e=>{let n={},o=[],r=[],a=500;e.forEach((e,t)=>{"fulfilled"===e.status&&(0===t?n=e.value.data:1===t?o=e.value.data:2===t&&(r=e.value.data,a=e.value.code))});const u=this.innerInitProgressFormat(o),s=this.innerInitData((0,i.cloneDeep)(r),u)||{};t({data:{...s,...n},code:a})}).catch(e=>{n(e)})})},innerInitProgressFormat(e){const t={};return e.forEach(e=>{t[null==e?void 0:e.blockId]=(null==e?void 0:e.progress)||0}),t},innerInitData(e,t){var n;if(e.definitions={displayName:e.blockName,blockId:e.blockId,blockType:e.blockType},null!=e&&e.openStartDate&&(e.openStartDate=(0,a.default)(Number(e.openStartDate)).format("YYYY-MM-DD HH:mm")),null!=e&&e.openEndDate&&(e.openEndDate=(0,a.default)(Number(e.openEndDate)).format("YYYY-MM-DD HH:mm")),!["course","chapter","sequential","vertical"].includes(e.blockType)){let n=null;if(this.catalogFilter&&e.blockType===this.catalogFilter||""===this.catalogFilter){const o=t[e.blockId]||0;n={...e,sumProgress:o||0,courseWareSize:1,progress:o}}return n}if(null!=e&&e.children&&null!=e&&null!==(n=e.children)&&void 0!==n&&n.length){let n=0,o=0,r=0;const i=[];e.children.forEach(e=>{const n=this.innerInitData(e,t);n&&(o+=n.sumProgress,r+=n.courseWareSize,i.push(n))}),n=Math.floor(o/r);const a={...e,sumProgress:o,progress:n,courseWareSize:r,children:i};return i.length>0?a:null}return null}},beforeDestroy(){var e;this.$isInner||null!==(e=this.screenshotConfig)&&void 0!==e&&null!==(e=e.moduleAntiScreenshotsPCVo)&&void 0!==e&&e.pcSelectModule.includes("all")||window.sxz.closeScreenshot(),clearInterval(this.heartbeatTime),window.removeEventListener("pagehide",this.saveCurrStudyBlock),window.removeEventListener("visibilitychange",this.visibilitychangeStopDuration),window.removeEventListener("resize",this.changeMemuCommentHeight),window.removeEventListener("scroll",this.changeMemuCommentHeight),this.$bus.$off("videoCurrentTime")}}},"136d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e,t,o,r,i,a,u,s,c,l,d,f=this,m=f._self._c;return m("div",{staticClass:"course-sign-up"},[m("div",{staticClass:"course-sign-info"},[m("div",{staticClass:"course-info-img",attrs:{label:f.isVip?"existMember":"primary",lang:"zh_CN"!==f.$route.query["sxz-lang"]&&f.$route.query["sxz-lang"]?"en":"cn"}},[m("img",{attrs:{src:f.cardImageUrl,alt:""}})]),m("div",{staticClass:"course-info-content"},[m("div",{staticClass:"course-info-name ellipsis-text-two",attrs:{title:(null===(e=f.currentData)||void 0===e?void 0:e.title)||(null===(t=f.courseInfo)||void 0===t?void 0:t.title)}},[f._v(" "+f._s((null===(o=f.currentData)||void 0===o?void 0:o.title)||(null===(r=f.courseInfo)||void 0===r?void 0:r.title))+" ")]),m("div",{staticClass:"course-info-handle"},[f.showCollectButton?m("div",{staticClass:"handle-icon-opacity",class:f.isCollected?"course-collect-active":"course-collect",on:{click:f.collectCourseFn}}):f._e(),f.showRepo?m("a-dropdown",{attrs:{getPopupContainer:e=>e.parentNode||f.document.body,placement:"bottomRight",overlayClassName:"kltCourse-report-dropdown"}},[m("a-menu",{staticClass:"course-info-handle-dropdown",attrs:{slot:"overlay"},slot:"overlay"},[m("a-menu-item",{key:"1",on:{click:f.reporeHandle}},[m("img",{attrs:{src:n("03d9")}}),f._v(" "+f._s(f.$t("course.reports"))+" ")])],1),m("div",{staticClass:"handle-icon-opacity hover-more-url"})],1):f._e()],1),m("div",{staticClass:"course-study-data"},[m("div",{staticClass:"course-data-score"},[m("a-rate",{staticClass:"ant-rate-star-sa",attrs:{value:f.evaluationInfo.avgScore,allowHalf:"",disabled:""}}),m("span",{staticClass:"course-score-num course-score-num-sa"},[f._v(f._s(f.$t("course.courseScore",{num:f.evaluationInfo.avgScore})))])],1),m("div",{staticClass:"course-study-avatar"},[f._l(f.recentLearners,(function(e,t){return m("div",{key:t,staticClass:"course-study-avatar-imgs"},[m("img",{attrs:{onerror:f.courseStudyAvatar,src:e.headerImg||"",alt:"",height:"24",width:"24"}})])})),f.learnerCnt>5?m("img",{attrs:{alt:"",height:"24",src:n("32ae"),width:"24"}}):f._e(),m("span",{class:["course-study-num course-study-num-sa",{"course-study-num-zero":0===f.recentLearners.length}]},[f._v(" "+f._s(f.$t("course.recentlyStudying",{num:f.learnerCnt||0}))+" ")])],2)]),m("div",{staticClass:"course-info-config"},[m("div",{staticClass:"course-config-item course-config-item-sa"},[null!==(i=f.courseInfo)&&void 0!==i&&i.duration?m("span",{staticClass:"course-config-content"},[f._v(f._s(null===(a=f.courseInfo)||void 0===a?void 0:a.duration)+" "+f._s(f.$t(2===(null===(u=f.courseInfo)||void 0===u?void 0:u.timeUnit)?"course.hourUnit":"course.minutes")))]):m("span",{staticClass:"course-config-content"},[f._v(f._s(f.$t("course.None")))]),m("span",{staticClass:"course-config-title"},[f._v(f._s(f.$t("course.LearningDuration")))])]),m("div",{staticClass:"course-config-item course-config-item-sa"},[null!==(s=f.courseInfo)&&void 0!==s&&s.language&&f.courseLanguage?m("span",{staticClass:"course-config-content"},[f._v(f._s(f.courseLanguage[null===(c=f.courseInfo)||void 0===c?void 0:c.language]))]):f._e(),m("span",{staticClass:"course-config-title"},[f._v(f._s(f.$t("course.language")))])]),this.$tools.isApplication()?m("div",{staticClass:"course-config-item course-config-item-sa"},[m("span",{staticClass:"course-config-content"},[f._v(" "+f._s((null===(l=f.currentData)||void 0===l?void 0:l.curriculumStartDate)||"")+" ")]),m("span",{staticClass:"course-config-title"},[f._v(f._s(f.$t("course.openTime")))])]):f._e(),this.$tools.isApplication()?m("div",{staticClass:"course-config-item course-config-item-sa"},[m("span",{staticClass:"course-config-content"},[f._v(" "+f._s((null===(d=f.currentData)||void 0===d?void 0:d.curriculumEndDate)||"")+" ")]),m("span",{staticClass:"course-config-title"},[f._v(f._s(f.$t("course.closeTime")))])]):f._e(),f.showLearnableTime?m("div",{staticClass:"course-config-item course-config-item-sa"},[m("span",{staticClass:"course-config-content"},[f._v(f._s(f.isLearnAllDay?this.$t("course.learnableAllDay"):` ${f.studyStartTime} - ${f.studyEndTime}`))]),m("span",{staticClass:"course-config-title"},[f._v(f._s(this.$t("course.learnableTimePerDay")))])]):f._e()])]),f.statusShow&&!f.isShowClassSelect?m("signupButton",{attrs:{appId:f.appId,associationId:f.associationId,courseInfo:f.courseInfo,courseName:f.courseName,courseStatus:f.courseStatus,currentData:JSON.parse(JSON.stringify(f.currentData)),isNeedBuy:f.isNeedBuy,isTeacher:f.isTeacher,mapId:f.mapId,primaryId:f.primaryId,uuid:f.uuid,fetchLearningTimeInfo:f.fetchLearningTimeInfo,showLearnableTimeTip:f.showLearnableTimeTip},on:{updateCourseStatus:f.getCourseClassStatus}}):f._e()],1),f.isShowClassSelect?m("mutilSignupSelect",{attrs:{courseName:f.courseName,courseStatus:f.courseStatus,currentData:JSON.parse(JSON.stringify(f.currentData)),dealList:f.dealList,isNeedBuy:f.isNeedBuy,primaryId:f.primaryId,uuid:f.classId,fetchLearningTimeInfo:f.fetchLearningTimeInfo,showLearnableTimeTip:f.showLearnableTimeTip},on:{updateCourseStatus:f.getCourseClassStatus}}):f._e()],1)},t.staticRenderFns=[]},1418:function(e,t,n){"use strict";var o=n("7fae"),r=n("a15a"),i=n("deca"),a=n("2dc5"),u=n("861c"),s=n("7d6c"),c=n("c775"),l=n("6d8b"),d=n("7837"),f=n("0da8"),m=function(e){function t(t,n,o,r){var i=e.call(this)||this;return i.updateData(t,n,o,r),i}return Object(o.a)(t,e),t.prototype._createSymbol=function(e,t,n,o,i){this.removeAll();var a=Object(r.a)(e,-1,-1,2,2,null,i);a.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),a.drift=p,this._symbolType=e,this.add(a)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Object(s.r)(this.childAt(0))},t.prototype.downplay=function(){Object(s.C)(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e,t){var n=this.childAt(0);n.draggable=e,n.cursor=!t&&e?"move":n.cursor},t.prototype.updateData=function(e,n,o,r){this.silent=!1;var a=e.getItemVisual(n,"symbol")||"circle",u=e.hostModel,s=t.getSymbolSize(e,n),c=a!==this._symbolType,l=r&&r.disableAnimation;if(c){var d=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,e,n,s,d)}else{(m=this.childAt(0)).silent=!1;var f={scaleX:s[0]/2,scaleY:s[1]/2};l?m.attr(f):i.h(m,f,u,n),Object(i.g)(m)}if(this._updateCommon(e,n,s,o,r),c){var m=this.childAt(0);if(!l){f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:m.style.opacity}};m.scaleX=m.scaleY=0,m.style.opacity=0,i.c(m,f,u,n)}}l&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,n,o,i){var a,u,m,p,h,g,v,b,y,w=this.childAt(0),x=e.hostModel;if(o&&(a=o.emphasisItemStyle,u=o.blurItemStyle,m=o.selectItemStyle,p=o.focus,h=o.blurScope,v=o.labelStatesModels,b=o.hoverScale,y=o.cursorStyle,g=o.emphasisDisabled),!o||e.hasItemOption){var S=o&&o.itemModel?o.itemModel:e.getItemModel(t),A=S.getModel("emphasis");a=A.getModel("itemStyle").getItemStyle(),m=S.getModel(["select","itemStyle"]).getItemStyle(),u=S.getModel(["blur","itemStyle"]).getItemStyle(),p=A.get("focus"),h=A.get("blurScope"),g=A.get("disabled"),v=Object(d.e)(S),b=A.getShallow("scale"),y=S.getShallow("cursor")}var C=e.getItemVisual(t,"symbolRotate");w.attr("rotation",(C||0)*Math.PI/180||0);var k=Object(r.b)(e.getItemVisual(t,"symbolOffset"),n);k&&(w.x=k[0],w.y=k[1]),y&&w.attr("cursor",y);var _=e.getItemVisual(t,"style"),O=_.fill;if(w instanceof f.a){var I=w.style;w.useStyle(Object(l.extend)({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},_))}else w.__isEmptyBrush?w.useStyle(Object(l.extend)({},_)):w.useStyle(_),w.style.decal=null,w.setColor(O,i&&i.symbolInnerColor),w.style.strokeNoScale=!0;var T=e.getItemVisual(t,"liftZ"),E=this._z2;null!=T?null==E&&(this._z2=w.z2,w.z2+=T):null!=E&&(w.z2=E,this._z2=null);var D=i&&i.useNameLabel;Object(d.g)(w,v,{labelFetcher:x,labelDataIndex:t,defaultText:function(t){return D?e.getName(t):Object(c.b)(e,t)},inheritColor:O,defaultOpacity:_.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var R=w.ensureState("emphasis");R.style=a,w.ensureState("select").style=m,w.ensureState("blur").style=u;var M=null==b||!0===b?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;R.scaleX=this._sizeX*M,R.scaleY=this._sizeY*M,this.setSymbolScale(1),Object(s.J)(this,p,h,g)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var o=this.childAt(0),r=Object(u.a)(this).dataIndex,a=n&&n.animation;if(this.silent=o.silent=!0,n&&n.fadeLabel){var s=o.getTextContent();s&&i.e(s,{style:{opacity:0}},t,{dataIndex:r,removeOpt:a,cb:function(){o.removeTextContent()}})}else o.removeTextContent();i.e(o,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:r,cb:e,removeOpt:a})},t.getSymbolSize=function(e,t){return Object(r.c)(e.getItemVisual(t,"symbolSize"))},t}(a.a);function p(e,t){this.parent.drift(e,t)}t.a=m},"152b":function(e,t,n){},"17a1":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("b775"));t.default={submitNewExamTestSubjectAnswer:(e,t,n)=>(0,r.default)({url:`/api/student/v1/curriculum/v2-course/test/paper/${e}/${t}`,method:"post",data:n}),getNewExamTestSubjectDetail:(e,t,n)=>(0,r.default)({url:`/api/student/v1/curriculum/v2-course/test/paper/${e}/${t}`,params:n,method:"get"})}},"17e8":function(e,t,n){"use strict";n("8560")},1830:function(e,t,n){"use strict";var o=n("6d8b"),r=n("b682"),i=n("b1d4"),a=n("2f45"),u=n("e0d3"),s=n("1f39"),c=n("8b7f"),l=n("ec6f"),d=n("ee1a"),f=n("0f99"),m=n("07fd");t.a=function(e,t,n){n=n||{};var p,h=t.getSourceManager(),g=!1;e?(g=!0,p=Object(l.c)(e)):g=(p=h.getSource()).sourceFormat===m.f;var v=Object(c.a)(t),b=function(e,t){var n,r=e.get("coordinateSystem"),i=s.a.get(r);return t&&t.coordSysDims&&(n=o.map(t.coordSysDims,(function(e){var n={name:e},o=t.axisMap.get(e);if(o){var r=o.get("type");n.type=Object(a.a)(r)}return n}))),n||(n=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),n}(t,v),y=n.useEncodeDefaulter,w=o.isFunction(y)?y:y?o.curry(f.c,b,t):null,x={coordDimensions:b,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:w,canOmitUnusedDimensions:!g},S=Object(i.b)(p,x),A=function(e,t,n){var r,i;return n&&o.each(e,(function(e,o){var a=e.coordDim,u=n.categoryAxisMap.get(a);u&&(null==r&&(r=o),e.ordinalMeta=u.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(i=!0)})),i||null==r||(e[r].otherDims.itemName=0),r}(S.dimensions,n.createInvertedIndices,v),C=g?null:h.getSharedDataStore(S),k=Object(d.a)(t,{schema:S,store:C}),_=new r.a(S,t);_.setCalculationInfo(k);var O=null!=A&&function(e){if(e.sourceFormat===m.f){var t=function(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return!o.isArray(Object(u.h)(t))}}(p)?function(e,t,n,o){return o===A?n:this.defaultDimValueGetter(e,t,n,o)}:null;return _.hasItemOption=!1,_.initData(g?p:C,null,O),_}},1837:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/all_fill.ca721767.svg"},1867:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/PASS-1.b7739ed5.png"},1959:function(e,t,n){"use strict";n.r(t);var o=n("2336"),r=n("f82f");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("f059");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"bb64cbe0",null);t.default=u.exports},"19c21":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAAEVklEQVRYCe1YTYgcRRSu19Pds+5mVfCim4MBETcJEmd2fhY8BQWDHvyLoHjwpPgDIpho8A+jq2hUhGhA0IuXBIwSc4ug3gK7070Tgq7GkIMajF4UdDdZpnu6n1+tW0P1TPVP4ioJTMFQr9736r2vXlW/rh4hhm2YgWEGLu0M0FrQn/ueryqdDSYisibgkEoiPtMddX9pbqTf/63/CyLIzLbvd7dGxHcJlj8xYSRC4gwxHWaLPm9O2V8TUddol6E8L4IgRq35YDvH4jX4vD7D7yBE4pRliefrVfcgiPKggVlTmOD8PG/sxuHHIFk3uyqmJUE+285D01X6rsiMQgQ9r3N/JOhDbOe6Ik7zbJDBs0Lww816+UCerZVnMOd19kQsDqwVORkPuzDGLPa3/M5befEzMzjrB/tEzI/nOVE4MhNCjkGgrHR5PeZ80Ky7j6XZpWZwttV5pQg5IvEDWfSka7sbGjVnBMFGIK+3SvSIxNICKz0W8yh2aUaN+3tjBlfOnNzW3EZ7x8ecnZs3U2AyRXC75Qcz2M5nTbiuI0s82KyV9+s6KQ8QPHaMN3S64Td5Zw4l4+1Grbyz36FpvLIbQrxowno6oqWy7dxYqdCPPR2EAYJI90GseLtuNCATtZs1p4HzE0ns+HEeW+4EuwTRVgwvI8Ffrht1X0VmlySOTNKcH3oQpuQ4tZH4bLpeTsROnEFZ68D5nlQHq4DF/K4id+IEjy8HgQ/oBRC4Gb8qFvjM4rnwiMTkFNiyxdbrq9PTOxb3el5Q0Q0SBMOoewdWm9Dpxkoul91DSv5rKXgJr7pJNe71IPvnYtgjZVmlIyAqn/LMFjHdohskyGCh1+mgScaZ+G3LFllo/2kc061K7u+x2NuUrlajc9jsX9U4tSfepGMJgnhBJsa64f8mk1jWYyUIWUQnddAkYxFXy4dCYRh/peT+Hlv6hdL5Po/iNF6jxmm9Jei0jiUICjuW5yT3prEchL0H6crLnd3Ggkx09Ipx5zkVLI6jbdhyR43T+hLZn+pYgmDjpvIC2H2iG6TITyGYLbHJSVoccV1ZPmbwuB7Frw3Ce8ZHnW0SkzawpZjiHlmpMzWc70NTU3RKxwbqYLvN1wZR+C285txc6J3phrtDd5YmFynUWNTPqJ0V1M4/dD+JDEqgWqWfSrgK6UZmmZ+e84K9CwvsmvGVzJVQ+N8Anv0WEdRFpXygn5z0O5BBFazIqlcdnMRlYZ9tOYcrFXEaZzjGLkyEcXg7dmEHivYNymdaLy8bzZr7nglPJSiNW17wPu5OT5gmmnQgdwHXLbEbF9eXTf6kLpOgNJAXVmSh0KVA2p9Pw7l7E+R2Zc3JJSgny+tXLOgjPI29+pflNA9Dpgtf+QsRlAFn27yJuvhoElzLI5CF/ycfTSqgrGdeO7gvjlDzLrbPTkVS9rJIyw93PEB3M/GdF82Hu05Sl9VfHzFZ66V+Lf/60OMM5WEGhhm4FDPwNyr4qqeKo5FaAAAAAElFTkSuQmCC"},"1a42":function(e,t,n){"use strict";n("0e44")},"1a7b":function(e,t,n){"use strict";var o=n("2556");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"1aa99":function(e,t,n){"use strict";n.r(t);var o=n("040f"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"1aab":function(e,t,n){"use strict";n("ec11")},"1b04":function(e,t,n){"use strict";n("eeee")},"1b2b":function(e,t){e.exports=function(e,t,n,o){var r=n?n.call(o,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<i.length;s++){var c=i[s];if(!u(c))return!1;var l=e[c],d=t[c];if(!1===(r=n?n.call(o,l,d,c):void 0)||void 0===r&&l!==d)return!1}return!0}},"1b39":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/satisfaction_banner2.9fdbd437.png"},"1c48":function(e,t,n){"use strict";n.r(t);var o=n("37f3"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"1cf8":function(e,t,n){},"1dbc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("svg",this._g({class:this.svgClass,attrs:{"aria-hidden":"true"}},this.$listeners),[e("use",{attrs:{"xlink:href":this.iconName}})])},t.staticRenderFns=[]},"1e48":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;const o=n("a046"),r=n("20f8");class i extends o.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new r.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){const n=this.normalizeOptions(e,t),o=n.position-this.position;if(o>0)return await this.ignore(o),this.readBuffer(e,t);if(o<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===n.length)return 0;const i=await this.streamReader.read(e,n.offset,n.length);if(this.position+=i,(!t||!t.mayBeLess)&&i<n.length)throw new r.EndOfStreamError;return i}async peekBuffer(e,t){const n=this.normalizeOptions(e,t);let o=0;if(n.position){const t=n.position-this.position;if(t>0){const r=new Uint8Array(n.length+t);return o=await this.peekBuffer(r,{mayBeLess:n.mayBeLess}),e.set(r.subarray(t),n.offset),o-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{o=await this.streamReader.peek(e,n.offset,n.length)}catch(e){if(t&&t.mayBeLess&&e instanceof r.EndOfStreamError)return 0;throw e}if(!n.mayBeLess&&o<n.length)throw new r.EndOfStreamError}return o}async ignore(e){const t=Math.min(256e3,e),n=new Uint8Array(t);let o=0;for(;o<e;){const r=e-o,i=await this.readBuffer(n,{length:Math.min(t,r)});if(i<0)return i;o+=i}return o}}t.ReadStreamTokenizer=i},"1e78":function(e,t,n){"use strict";var o=n("1eb2");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"1eb2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("div")},t.staticRenderFns=[]},"1eea":function(e,t,n){},"1f09":function(e,t,n){"use strict";n.r(t);var o=n("8e8e"),r=n.n(o),i=n("6042"),a=n.n(i),u=n("41b2"),s=n.n(u),c=n("8827"),l=n.n(c),d=n("57ba"),f=n.n(d),m=n("158c"),p=n.n(m),h=n("9918"),g=n.n(h),v=n("ab5b"),b=n.n(v),y=n("d7bc"),w=n.n(y),x=n("8bc8"),S=n.n(x);function A(e){var t=[];return b.a.Children.forEach(e,(function(e){t.push(e)})),t}function C(e,t){var n=null;return e&&e.forEach((function(e){n||e&&e.key===t&&(n=e)})),n}function k(e,t,n){var o=null;return e&&e.forEach((function(e){if(e&&e.key===t&&e.props[n]){if(o)throw new Error("two child with same key for <rc-animate> children");o=e}})),o}var _=n("27d0"),O={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},I={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},T=function(e){function t(){return l()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g()(t,e),f()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){O.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){O.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){O.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,o=S.a.findDOMNode(this),r=this.props,i=r.transitionName,a="object"==typeof i;this.stop();var u=function(){n.stopper=null,t()};if((_.b||!r.animation[e])&&i&&r[I[e]]){var s=a?i[e]:i+"-"+e,c=s+"-active";a&&i[e+"Active"]&&(c=i[e+"Active"]),this.stopper=Object(_.a)(o,{name:s,active:c},u)}else this.stopper=r.animation[e](o,u)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(b.a.Component);T.propTypes={children:w.a.any,animation:w.a.any,transitionName:w.a.any};var E=T,D="rc_animate_"+Date.now();function R(e){var t=e.children;return b.a.isValidElement(t)&&!t.key?b.a.cloneElement(t,{key:D}):t}function M(){}var P=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return B.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:A(R(e))},n.childrenRefs={},n}return g()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter((function(e){return!!e.props[t]}))),n.forEach((function(t){t&&e.performAppear(t.key)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=A(R(e)),o=this.props;o.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(e){t.stop(e)}));var r,i,u,s,c=o.showProp,l=this.currentlyAnimatingKeys,d=o.exclusive?A(R(o)):this.state.children,f=[];c?(d.forEach((function(e){var t=e&&C(n,e.key),o=void 0;(o=t&&t.props[c]||!e.props[c]?t:b.a.cloneElement(t||e,a()({},c,!0)))&&f.push(o)})),n.forEach((function(e){e&&C(d,e.key)||f.push(e)}))):(r=n,i=[],u={},s=[],d.forEach((function(e){e&&C(r,e.key)?s.length&&(u[e.key]=s,s=[]):s.push(e)})),r.forEach((function(e){e&&Object.prototype.hasOwnProperty.call(u,e.key)&&(i=i.concat(u[e.key])),i.push(e)})),f=i=i.concat(s)),this.setState({children:f}),n.forEach((function(e){var n=e&&e.key;if(!e||!l[n]){var o=e&&C(d,n);if(c){var r=e.props[c];if(o)!k(d,n,c)&&r&&t.keysToEnter.push(n);else r&&t.keysToEnter.push(n)}else o||t.keysToEnter.push(n)}})),d.forEach((function(e){var o=e&&e.key;if(!e||!l[o]){var r=e&&C(n,o);if(c){var i=e.props[c];if(r)!k(n,o,c)&&i&&t.keysToLeave.push(o);else i&&t.keysToLeave.push(o)}else r||t.keysToLeave.push(o)}}))}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?k(e,t,n):C(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,o=null;n&&(o=n.map((function(n){if(null==n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return b.a.createElement(E,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)})));var r=t.component;if(r){var i=t;return"string"==typeof r&&(i=s()({className:t.className,style:t.style},t.componentProps)),b.a.createElement(r,i,o)}return o[0]||null}}]),t}(b.a.Component);P.isAnimate=!0,P.propTypes={className:w.a.string,style:w.a.object,component:w.a.any,componentProps:w.a.object,animation:w.a.object,transitionName:w.a.oneOfType([w.a.string,w.a.object]),transitionEnter:w.a.bool,transitionAppear:w.a.bool,exclusive:w.a.bool,transitionLeave:w.a.bool,onEnd:w.a.func,onEnter:w.a.func,onLeave:w.a.func,onAppear:w.a.func,showProp:w.a.string,children:w.a.node},P.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:M,onEnter:M,onLeave:M,onAppear:M};var B=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var o=e.props;if(delete e.currentlyAnimatingKeys[t],!o.exclusive||o===e.nextProps){var r=A(R(o));e.isValidChildByKey(r,t)?"appear"===n?O.allowAppearCallback(o)&&(o.onAppear(t),o.onEnd(t,!0)):O.allowEnterCallback(o)&&(o.onEnter(t),o.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var o,r,i,a,u=A(R(n));if(e.isValidChildByKey(u,t))e.performEnter(t);else{var s=function(){O.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};o=e.state.children,r=u,i=n.showProp,(a=o.length===r.length)&&o.forEach((function(e,t){var n=r[t];e&&n&&(e&&!n||!e&&n||e.key!==n.key||i&&e.props[i]!==n.props[i])&&(a=!1)})),a?s():e.setState({children:u},s)}}}},L=P;var F=n("4d26"),N=n.n(F),j=function(e){function t(){var e,n,o,r;l()(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=o=p()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.close=function(){o.clearCloseTimer(),o.props.onClose()},o.startCloseTimer=function(){o.props.duration&&(o.closeTimer=setTimeout((function(){o.close()}),1e3*o.props.duration))},o.clearCloseTimer=function(){o.closeTimer&&(clearTimeout(o.closeTimer),o.closeTimer=null)},r=n,p()(o,r)}return g()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls+"-notice",o=(e={},a()(e,""+n,1),a()(e,n+"-closable",t.closable),a()(e,t.className,!!t.className),e);return b.a.createElement("div",{className:N()(o),style:t.style},b.a.createElement("div",{className:n+"-content"},t.children),t.closable?b.a.createElement("a",{tabIndex:"0",onClick:this.close,className:n+"-close"},b.a.createElement("span",{className:n+"-close-x"})):null)}}]),t}(v.Component);j.propTypes={duration:w.a.number,onClose:w.a.func,children:w.a.any},j.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var z=j,U=0,V=Date.now();function H(){return"rcNotification_"+V+"_"+U++}var W=function(e){function t(){var e,n,o,r;l()(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=o=p()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={notices:[]},o.add=function(e){var t=e.key=e.key||H();o.setState((function(n){var o=n.notices;if(!o.filter((function(e){return e.key===t})).length)return{notices:o.concat(e)}}))},o.remove=function(e){o.setState((function(t){return{notices:t.notices.filter((function(t){return t.key!==e}))}}))},r=n,p()(o,r)}return g()(t,e),f()(t,[{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t}},{key:"render",value:function(){var e,t=this,n=this.props,o=this.state.notices.map((function(e){var o=function(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}(t.remove.bind(t,e.key),e.onClose);return b.a.createElement(z,s()({prefixCls:n.prefixCls},e,{onClose:o}),e.content)})),r=(e={},a()(e,n.prefixCls,1),a()(e,n.className,!!n.className),e);return b.a.createElement("div",{className:N()(r),style:n.style},b.a.createElement(L,{transitionName:this.getTransitionName()},o))}}]),t}(v.Component);W.propTypes={prefixCls:w.a.string,transitionName:w.a.string,animation:w.a.oneOfType([w.a.string,w.a.object]),style:w.a.object},W.defaultProps={prefixCls:"rmc-notification",animation:"fade",style:{top:65,left:"50%"}},W.newInstance=function(e,t){var n=e||{},o=n.getContainer,i=r()(n,["getContainer"]),a=void 0;o?a=o():(a=document.createElement("div"),document.body.appendChild(a));var u=!1;S.a.render(b.a.createElement(W,s()({},i,{ref:function(e){u||(u=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){S.a.unmountComponentAtNode(a),o||document.body.removeChild(a)}}))}})),a)};var G=W;t.default=G},2017:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABDCAYAAAAs/QNwAAAABHNCSVQICAgIfAhkiAAAA3tJREFUeJzdnMl56jAUhY/8pQxcyxN7SC+uIFCBe4HsEbVAHdFbxHKEreHKGrD8rxiCkI6me48UGArz2T9O+nMJ9k97yrXHQv87BnkHgB9AfHfty3sxsFQF2VANHhrKExcvfsuW56WiZBHgs3+cJNhXjrI9CAl5BgCqIEkFeGPDTZDESCLAyhpuQtimSbQAx/55Q/q5nYuZEIsFqKDXXYxCLBKg8sbriCb0ExtqPBjkPWgEHPoHZ2C3XBUqjLh2uz15BGys8VBbJFkAtpFhPzCG0yQBhnCW56tPWa7dbq8ekwTYyqIHAGwY+gqvANPsrXLEpWtP+gteAbbU+3LS+wDw4frAoX/wbLXBfDgC2dJmwOIjOAXItfIzyPN0KE5R4g914LHfaep9wCNAJmbz0ITWWwIY45BFYjDI89WSEvsECP6yXAyCCCBYDKfgVgEyzv/ocnUxhtzEum7Yhr4iOBlKQcqt9dK1p2u320vIPSZGKggG6lsEkGBfx/55SznKvrtWTIXw9T7gMEQKJj9WuyqGQ//glDLXIIBOsKsbi9MPOPZPWaISFoqIsWYBdLJME8AjwErtr6RivGUXiIQzsFuqXcTrCa5oGlih5BY2vCPAlLGtjSGukEsCLJIrXMMo0AhaI0hrQA2jQIMzsBt1NJDPBVa6IzihrA1BByM1iiAh967pELQNXrr2NCQb1dB40u/Fp8M1HYu7psLiQMiRg1dFkhsiMX5dKa7dztjWpHeEUju5KbFNg6SusO7krlkMHe8IoDorlHIagGc8+PAh9ENRBTUZSp6Pv2PdMK0DQX5ATNblopQYwQJYkqBs7kzuSNMkgDUOcCQTSQ0JnUvXnkonXlYBCD0RlHVR+SkcWBkFGMJcEjFmhImMDrCx3NmcSHAeELVGZDyPMG6Ds0AowZ0AzsD4sX8KIOwuf85FUP3Dxfx1jZzqq0roc1xPVXMHSDZf4EWAmlLcUGzJ0LgIDlsaL1Sf0gjbG6MAG7sJ+oLrmLwBtt/7Xk9wy71v2vp0mi33PiWsbrba+9TMtRkWCJG9RmUh3UUEtDigxkMPC8aQ18a4DWqHHiJHrUrweyOU3vjfzxioweaestStcjpCNQgRa9ORzgXWKITa4mI9yuCDkTeLIRjkPaUxG3UyVMDrFyqPz+FGA5mOxlSe7/h1CIX4q8ifYZH6VyJc/Adq1fUDH+HYQAAAAABJRU5ErkJggg=="},2027:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("0643"),n("4e3e");var r=o(n("fc20"));t.default=class{constructor(e){this.currentNode=null,this.blockId=null;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t]);this.notLearnable=["InvitationOnly","Ended","learningCountDown"].includes(this.courseStatus),this.nodesMap={},this.root=new r.default({data:this.data,store:this,isPlaneStyle:this.isPlaneStyle}),e.key?this._initDefaultSelectedNodes(e.key):this._initDefaultSelectedNodes()}setCurrentNode(e){if(this.isInner){if(e.isLeaf)if(1===e.parent.childNodes.length)this.currentNode=e.parent,this.currentNode.isCurrent=!0,this.blockId=e.data.blockId;else{const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0,this.blockId=e.data.blockId}}else{if(!e.isLeaf)return;const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0,this.blockId=e.data.blockId}}registerNode(e){if(!e||!e.data)return;const t=e.data.blockId;void 0!==t&&(this.nodesMap[t]=e)}_initDefaultSelectedNodes(e){const t=e?[e]:this.defaultSelectedKey||[],n=this.nodesMap,o=Object.keys(n);o.length>0&&o.forEach(e=>{n[e].isCurrent=!1}),t.forEach(e=>{const t=n[e];t&&(this.isInner&&1===t.parent.childNodes.length&&"sequential"===t.parent.data.blockType?t.parent.isCurrent=!0:t.isCurrent=!0,t.expand(),this.setCurrentNode(t))})}}},2034:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/excel_icon.226f85f7.png"},2126:function(e,t,n){"use strict";var o=n("2b01");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"213c":function(e,t,n){"use strict";n("c455")},"219d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"create",mounted(){this.init()},props:{compProp:{type:Object,default:()=>({forumId:"",forumType:"mooc",env:"PROD"})}},methods:{async init(){await this.checkAsync()||await this.loadResource(),window.ILEARNING_COMPS_FORUM.createForumPost({container:this.$refs.ilearningForum,props:this.compProp})}}}},"21c2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;const o=n("1e48"),r=n("377f");var i=n("20f8");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new o.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new r.BufferTokenizer(e,t)}},"21ea":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/ilearning_empty.edda5652.png"},2255:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/profileImage.c77ddee3.svg"},"227e3":function(e,t,n){},"22b1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"Loading"}},"22c37":function(e,t,n){"use strict";n("ea6a")},"22f4":function(e,t,n){"use strict";n("aa72")},"22fb":function(e,t,n){"use strict";n.r(t);var o=n("33bc"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},2325:function(e,t,n){"use strict";n("1cf8")},2336:function(e,t,n){"use strict";var o=n("23a42");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"235b":function(e,t,n){"use strict";var o=n("d985");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"237f":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("6d8b"),r=n("b682"),i=n("7368"),a=n("6a2f"),u=n("b1d4"),s=n("1f39"),c=n("1830"),l=n("e0d3");function d(e,t,n,d,f){for(var m=new i.a(d),p=0;p<e.length;p++)m.addNode(o.retrieve(e[p].id,e[p].name,p),p);var h=[],g=[],v=0;for(p=0;p<t.length;p++){var b=t[p],y=b.source,w=b.target;m.addEdge(y,w,v)&&(g.push(b),h.push(o.retrieve(Object(l.e)(b.id,null),y+" > "+w)),v++)}var x,S=n.get("coordinateSystem");if("cartesian2d"===S||"polar"===S)x=Object(c.a)(e,n);else{var A=s.a.get(S),C=A&&A.dimensions||[];o.indexOf(C,"value")<0&&C.concat(["value"]);var k=Object(u.b)(e,{coordDimensions:C,encodeDefine:n.getEncode()}).dimensions;(x=new r.a(k,n)).initData(e)}var _=new r.a(["value"],n);return _.initData(g,h),f&&f(x,_),Object(a.a)({mainData:x,struct:m,structAttr:"graph",datas:{node:x,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),m.update(),m}},"23a42":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return e.load?t("div",{ref:"textBox",staticClass:"text-box",style:{lineHeight:e.lineHeight+"px",opacity:""+(e.done?"1":"0")}},[t("div",{staticClass:"collapse-content-text-a"},[t("span",{staticClass:"titleColor"},[e._v(e._s(e.title)+"：")]),t("span",{staticClass:"content-class"},[e._v(e._s(e.contents))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isCollapse,expression:"isCollapse"}],staticClass:"flx-r"},[t("span",{staticClass:"close-btn",on:{click:function(t){return e.setCollapseStatus("close",e.$refs.textBox)}}},[e._v(" "+e._s(e.$t("homework.Less")))])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOver&&!e.isCollapse,expression:"isOver && !isCollapse"}],staticClass:"open-btn",on:{click:function(t){return e.setCollapseStatus("open",e.$refs.textBox)}}},[e._v(" "+e._s(e.$t("homework.More"))+" ")])]):e._e()},t.staticRenderFns=[]},"23a7":function(e,t,n){},"23fd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("transition",{on:{"before-enter":this.beforeEnter,enter:this.enter,"after-enter":this.afterEnter,"before-leave":this.beforeLeave,leave:this.leave,"after-leave":this.afterLeave}},[this._t("default")],2)},t.staticRenderFns=[]},"243b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("div",{attrs:{id:"dataReport"}},[this.sessionInfo?e("iframe",{staticClass:"data-iframe-class",attrs:{id:"data-iframe",src:this.iframeSrc,width:"100%",height:this.basicIframeHeight,frameborder:"0"}}):this._e()])},t.staticRenderFns=[]},2465:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAwCAYAAAGtaI5FAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAeKADAAQAAAABAAAAMAAAAABgYUZmAAAIBElEQVR4Ae3cBXPkOgwA4LTHzMw4c///xxwzMzP09fON8rxpkm7aprfdRjNpvAbZAku25XTm8+fPc8USYXaJ7VKzkcZ3794tcX3//j2lHz16VOZVEyONz507V7x9+zbV2bBhQzFPUvHx48fi6tWrxbNnz1K+dMBMleafP38WmzZtSg1UunLlStRd8F7QeEGNloxlNR6huaWT2qKN1dxgyKVLl4qNG/8Wv3z5svj69WuxZcuW4siRI2WTkZ5x9syZM8XRo0eLEJWaW7duTZzfu3dv2VBipDGZbt++PVXYsWNHWXHXrl3F5cuXU89l5nxiWQxbVuN8FF3TIyR3bbyc+o0d37x5s7h//3756MSUIe0cQiu8CTqmjzqEHeV5G+nGjmnF7OxsYYp5g1+/fiVBv3r1qvj06VPKy//8/v27rBv18/I8vf5kvP4oblSuXBH6SE9ex+ynOfjnz59EsOkTczLeOSfCh75//74wrcDjx4/zKiPpWuX68OFD6V/V/vLlS3Hq1Kni4cOHxcmTJwvGW1peDtevXy8Y+R8/fiTj0eZWF/gniHbv3l3MzMwknCiBIAwGY8LR79+/P+9zJJ27p5GC7Edtx8+fPy9HvXPnzkTdvn37ktViyTzbtm3L0PxNGlSweUFhJaOW1eowj+x1sAvFBoFa5vTOnTsFrx0wNzdXciny2t6NHbc1WomyyZtOK0FVG45/xuq2QfVZ9s9E3CdRbbgHgtu4Mw1ltQ6iiTB+2fPmzZvkmayv2exbt24l9yhtt8WmcyLee/bsST45PB3cbHrYf3490sr85g+4YR5Se2t7DsqaXt0HDx4kl2tXawx5ezjaoBPBCLBRQNTr168TXgMLt5w7MoVcskFjUA7y2sDaQj9PnjxJzs6aww7UAzjH8+fPJw9dtxBqw91pDpMg4gzYQ1Lv3r1LaYcPZ8+eHenLAsjgLBd4dkAq4y4TRpDN/+hKXLW9350kvHnz5hEciKVqdesfBFJjRFNBaudQAdOqEg9C1HHgEL9Pnz6dcFs9Rp4BHD9+PC19pPOjA78Xg8EPL8ahtV7eaQ6vdWKNf90RPMzhaVDbNhrWnUoPBLepwzSUDRKeBim20TBIuI07ymIRL5Zknwrsh58+fZrS/qgTT2T6bY+cg+3ft2/f8qzC2bbNRr6jclps4xFgY6Jv29Wu0EnCOjpw4EAa5MGDBwuPfStCDh06VB7cG4SdjxNjhF67di3tnG7fvp3SYmMg2qYf83/srTHBruzGjRspW3vbUDusYKp9t12Xc/kqEwNX07vT9lBHIrrVSKI8Uf3Dhw+nEwqdGbzfpJAHC7RtGqTgQ2z2I8gPl/bwvXjxopS8mLU8TIsDCHUXg04EQ2b/WyVYfnWvLI7gdoIN/71791QpoXpQUBa0JDBVu1zVW6o3FnUimJqac/n5VMSF8ziE3kjAvDNQ6p6Dox8b/XEBkVTcFLl48eK4zWrrdZrDJGs+OdPyMCbmtFiXsjyshFBzldoxQvk7r1c7qkqm4yN9rAR0knAYm7xjZ1YegAnHjh1LaQQC0tUuf0f9VCH70xYWI2XlngBGNP8d+W3vTgTnxgdSFrSaF52Zw66mIJZFzYG1DdWMUCuNgKt6flU944rppG9QvTeT91OXXtJ+ODqD0LyugnL55rCDvpjf/DULzZhVmZDjIE1qHGAaBaGRR7o0qissieCunUxS/f8nxCSNqsexDAT3yNyJQD1IeCLE0OMg1p2E151b6lF5JhL1utPoiZRCj4MaBNwjcycB9SDgSZBCj2MYBNwjcycB9SDgSZBCj2MYBNwjcycBda8Cdswo6CMsEbEReT51EaCqnsQ7xHZ22xQO1Lb6VJnosNunGBHSrJavt9+974PFoOI7YZdB3XsmbCFT7xMnTqRbuJRApFAwznl1NZJA6MKizqCdVTuP1l6EI48wEiDFoQhw5XgEAPMDe4f97n3H51B1wqdwztRzMAZjjPPwceoYk2BifAMW+ISaqzG3KFuJd/cT+zF7FeKtfpQmxu3JQZ28nu/KMB6EQuT1MYSQBBFdmCdsSiQELZ5XB6EclKILiA4RrkhvRIQEUeSzEBcuXEjpxerok5JTuqCJoFkxuESRFrsr32Xced3eBBydGLhZ2gXqZkTeHlMwSOTZLIVfG/lNQPiUowuEQuTRr0hHWbwjH34zMp+VLA3hgqjHshg75QwcqcIK/+lNwC5oCBUK9S0msJwmQjAbMSgPG+Z1+FllUR4fXuR1/kWa0okN5xBB8jxvNdO9CZhgw0chso5Qpg1DMIZ/bBNqzhQXWpg8iyltKNA4sBRrMg7eqINmwXz+1qdNZmkd3VF/Nd69CdiCou5GUxNRFkrVxRITxs/VgS92MJHJc8EAUwmc5bBoCl/p5gRfvRpAwBaRdg6TAr0J2CxrgxAA38gkjwtuX8ZtMMINnxamMV8l5zjDTdTdQqEcYe61MfPgNRspHYGxNhQu/LwyME4duLW1gDTOuJPI/waOlOjhT28Cro7VdR3CwTyLDgwDCO8CZkgoj8WJFbgVO5Af3wGGeyAQq2j9md11QNlyIDT/U4hJl6ZQ4QaMN7cK49SBmyUyBn1xL2Y7ZSTsXLnycaxEuvd9cD5It1+tJhFn64HhIYi8Xl2auWeS+er8g0oMk9eEx6zRZ5e7nHX9r9W8VRXwWmXSWh53r0eVa5kx0zL2QcDTIskGOgYBNzBmWrIHAU+LJBvoGATcwJhpyR4EPC2SbKDjP8oxmMhlCb4yAAAAAElFTkSuQmCC"},2556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"qiankunbox"}},[t("a-breadcrumb",{attrs:{separator:">"}},[t("a-breadcrumb-item",{staticStyle:{color:"#999999",cursor:"pointer"},nativeOn:{click:function(t){return e.jumpBreadcrumb("home")}}},[e._v(" "+e._s(e.$t("course.home"))+" ")]),t("a-breadcrumb-item",{staticStyle:{color:"#999999",cursor:"pointer"},nativeOn:{click:function(t){return e.jumpBreadcrumb("home")}}},[e._v(" "+e._s(e.$t("course.course"))+" ")]),t("a-breadcrumb-item",{staticStyle:{color:"#999999",cursor:"pointer"},attrs:{title:e.courseName},nativeOn:{click:function(t){return e.jumpBread()}}},[e._v(" "+e._s(e.ellipsisCourseName)+" ")]),t("a-breadcrumb-item",[t("a",{ref:"orderInfo",staticStyle:{color:"#2a2a2a",cursor:"pointer"}},[e._v(" "+e._s(e.$t("course.Orderdetail"))+" ")])])],1),t("div",{attrs:{id:"qiankunorder"}})],1)},t.staticRenderFns=[]},2565:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:["type","wrapClass","title","isFeature","isCore","certFlag"],data:()=>({isEllipsis:!1}),computed:{showTitle(){return this.title||""},diamondNum(){return this.isFeature?"both"===this.type?2:"blue"===this.type||"yellow"===this.type?1:0:0},MinusNum(){return 1===this.diamondNum?2:2===this.diamondNum?4:0}},watch:{showTitle:{handler(e){this.handlerSpan()},deep:!0,immediate:!0}},updated(){this.handlerSpan()},methods:{click(){this.$emit("click")},handlerSpan(){var e;const t=this.$refs.diamondText,n=null===(e=this.$refs.diamondImg)||void 0===e?void 0:e.outerHTML,o=null==t?void 0:t.innerText,r=null==t?void 0:t.clientHeight;if((null==t?void 0:t.scrollHeight)>r&&this.diamondNum>0){this.isEllipsis=!0;for(let e=o.length-1;e>=10;e--){t.innerText=this.$safeHtml(o.substring(0,e));const r=null==t?void 0:t.clientHeight;if((null==t?void 0:t.scrollHeight)<=r){const r=o.substring(0,e-this.MinusNum);let i=0;for(let e=1;e<=3;e++)r[r.length-e].charCodeAt()>255||i++;const a=e-this.MinusNum-i;t.innerText=this.$safeHtml(o.substring(0,a)),t.innerHTML=this.$safeHtml(` ${o.substring(0,a)}... ${n} `);break}}}}}}},"25a2":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return Oe})),n.d(t,"d",(function(){return ke})),n.d(t,"e",(function(){return Ae})),n.d(t,"f",(function(){return H})),n.d(t,"g",(function(){return ie})),n.d(t,"h",(function(){return _e})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return ze}));var o=Object.freeze({__proto__:null,get start(){return ze},get ensureJQuerySupport(){return pe},get setBootstrapMaxTime(){return Q},get setMountMaxTime(){return $},get setUnmountMaxTime(){return K},get setUnloadMaxTime(){return X},get registerApplication(){return _e},get unregisterApplication(){return Ie},get getMountedApps(){return Ae},get getAppStatus(){return ke},get unloadApplication(){return Te},get checkActivityFunctions(){return Oe},get getAppNames(){return Ce},get pathToActiveWhen(){return Re},get navigateToUrl(){return ie},get triggerAppChange(){return Le},get addErrorHandler(){return l},get removeErrorHandler(){return d},get mountRootParcel(){return H},get NOT_LOADED(){return p},get LOADING_SOURCE_CODE(){return h},get NOT_BOOTSTRAPPED(){return g},get BOOTSTRAPPING(){return v},get NOT_MOUNTED(){return b},get MOUNTING(){return y},get UPDATING(){return x},get LOAD_ERROR(){return C},get MOUNTED(){return w},get UNLOADING(){return A},get UNMOUNTING(){return S},get SKIP_BECAUSE_BROKEN(){return k}});function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).CustomEvent,u=function(){try{var e=new a("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?a:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},s=[];function c(e,t,n){var o=m(e,t,n);s.length?s.forEach((function(e){return e(o)})):setTimeout((function(){throw o}))}function l(e){if("function"!=typeof e)throw Error(f(28,!1));s.push(e)}function d(e){if("function"!=typeof e)throw Error(f(29,!1));var t=!1;return s=s.filter((function(n){var o=n===e;return t=t||o,!o})),t}function f(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return"single-spa minified message #".concat(e,": ").concat(t?t+" ":"","See https://single-spa.js.org/error/?code=").concat(e).concat(o.length?"&arg=".concat(o.join("&arg=")):"")}function m(e,t,n){var o,r="".concat(E(t)," '").concat(I(t),"' died in status ").concat(t.status,": ");if(e instanceof Error){try{e.message=r+e.message}catch(e){}o=e}else{console.warn(f(30,!1,t.status,I(t)));try{o=Error(r+JSON.stringify(e))}catch(t){o=e}}return o.appOrParcelName=I(t),t.status=n,o}var p="NOT_LOADED",h="LOADING_SOURCE_CODE",g="NOT_BOOTSTRAPPED",v="BOOTSTRAPPING",b="NOT_MOUNTED",y="MOUNTING",w="MOUNTED",x="UPDATING",S="UNMOUNTING",A="UNLOADING",C="LOAD_ERROR",k="SKIP_BECAUSE_BROKEN";function _(e){return e.status===w}function O(e){try{return e.activeWhen(window.location)}catch(t){return c(t,e,k),!1}}function I(e){return e.name}function T(e){return Boolean(e.unmountThisParcel)}function E(e){return T(e)?"parcel":"application"}function D(){for(var e=arguments.length-1;e>0;e--)for(var t in arguments[e])"__proto__"!==t&&(arguments[e-1][t]=arguments[e][t]);return arguments[0]}function R(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}function M(e){return e&&("function"==typeof e||(t=e,Array.isArray(t)&&!R(t,(function(e){return"function"!=typeof e}))));var t}function P(e,t){var n=e[t]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var o=E(e),r=I(e);return function(e){return n.reduce((function(n,i,a){return n.then((function(){var n=i(e);return B(n)?n:Promise.reject(f(15,!1,o,r,t,a))}))}),Promise.resolve())}}function B(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}function L(e,t){return Promise.resolve().then((function(){return e.status!==g?e:(e.status=v,e.bootstrap?J(e,"bootstrap").then(n).catch((function(n){if(t)throw m(n,e,k);return c(n,e,k),e})):Promise.resolve().then(n))}));function n(){return e.status=b,e}}function F(e,t){return Promise.resolve().then((function(){if(e.status!==w)return e;e.status=S;var n=Object.keys(e.parcels).map((function(t){return e.parcels[t].unmountThisParcel()}));return Promise.all(n).then(o,(function(n){return o().then((function(){var o=Error(n.message);if(t)throw m(o,e,k);c(o,e,k)}))})).then((function(){return e}));function o(){return J(e,"unmount").then((function(){e.status=b})).catch((function(n){if(t)throw m(n,e,k);c(n,e,k)}))}}))}var N=!1,j=!1;function z(e,t){return Promise.resolve().then((function(){return e.status!==b?e:(N||(window.dispatchEvent(new u("single-spa:before-first-mount")),N=!0),J(e,"mount").then((function(){return e.status=w,j||(window.dispatchEvent(new u("single-spa:first-mount")),j=!0),e})).catch((function(n){return e.status=w,F(e,!0).then(o,o);function o(){if(t)throw m(n,e,k);return c(n,e,k),e}})))}))}var U=0,V={parcels:{}};function H(){return W.apply(V,arguments)}function W(e,t){var n=this;if(!e||"object"!==r(e)&&"function"!=typeof e)throw Error(f(2,!1));if(e.name&&"string"!=typeof e.name)throw Error(f(3,!1,r(e.name)));if("object"!==r(t))throw Error(f(4,!1,name,r(t)));if(!t.domElement)throw Error(f(5,!1,name));var o,i=U++,a="function"==typeof e,u=a?e:function(){return Promise.resolve(e)},s={id:i,parcels:{},status:a?h:g,customProps:t,parentName:I(n),unmountThisParcel:function(){return v.then((function(){if(s.status!==w)throw Error(f(6,!1,name,s.status));return F(s,!0)})).then((function(e){return s.parentName&&delete n.parcels[s.id],e})).then((function(e){return l(e),e})).catch((function(e){throw s.status=k,d(e),e}))}};n.parcels[i]=s;var c=u();if(!c||"function"!=typeof c.then)throw Error(f(7,!1));var l,d,p=(c=c.then((function(e){if(!e)throw Error(f(8,!1));var t=e.name||"parcel-".concat(i);if(Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!M(e.bootstrap))throw Error(f(9,!1,t));if(!M(e.mount))throw Error(f(10,!1,t));if(!M(e.unmount))throw Error(f(11,!1,t));if(e.update&&!M(e.update))throw Error(f(12,!1,t));var n=P(e,"bootstrap"),r=P(e,"mount"),a=P(e,"unmount");s.status=g,s.name=t,s.bootstrap=n,s.mount=r,s.unmount=a,s.timeouts=Z(e.timeouts),e.update&&(s.update=P(e,"update"),o.update=function(e){return s.customProps=e,G(function(e){return Promise.resolve().then((function(){if(e.status!==w)throw Error(f(32,!1,I(e)));return e.status=x,J(e,"update").then((function(){return e.status=w,e})).catch((function(t){throw m(t,e,k)}))}))}(s))})}))).then((function(){return L(s,!0)})),v=p.then((function(){return z(s,!0)})),y=new Promise((function(e,t){l=e,d=t}));return o={mount:function(){return G(Promise.resolve().then((function(){if(s.status!==b)throw Error(f(13,!1,name,s.status));return n.parcels[i]=s,z(s)})))},unmount:function(){return G(s.unmountThisParcel())},getStatus:function(){return s.status},loadPromise:G(c),bootstrapPromise:G(p),mountPromise:G(v),unmountPromise:G(y)}}function G(e){return e.then((function(){return null}))}function q(e){var t=I(e),n="function"==typeof e.customProps?e.customProps(t,window.location):e.customProps;("object"!==r(n)||null===n||Array.isArray(n))&&(n={},console.warn(f(40,!1),t,n));var i=D({},n,{name:t,mountParcel:W.bind(e),singleSpa:o});return T(e)&&(i.unmountSelf=e.unmountThisParcel),i}var Y={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}};function Q(e,t,n){if("number"!=typeof e||e<=0)throw Error(f(16,!1));Y.bootstrap={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function $(e,t,n){if("number"!=typeof e||e<=0)throw Error(f(17,!1));Y.mount={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function K(e,t,n){if("number"!=typeof e||e<=0)throw Error(f(18,!1));Y.unmount={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function X(e,t,n){if("number"!=typeof e||e<=0)throw Error(f(19,!1));Y.unload={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function J(e,t){var n=e.timeouts[t],o=n.warningMillis,r=E(e);return new Promise((function(i,a){var u=!1,s=!1;e[t](q(e)).then((function(e){u=!0,i(e)})).catch((function(e){u=!0,a(e)})),setTimeout((function(){return l(1)}),o),setTimeout((function(){return l(!0)}),n.millis);var c=f(31,!1,t,r,I(e),n.millis);function l(e){if(!u)if(!0===e)s=!0,n.dieOnTimeout?a(Error(c)):console.error(c);else if(!s){var t=e,r=t*o;console.warn(c),r+o<n.millis&&setTimeout((function(){return l(t+1)}),o)}}}))}function Z(e){var t={};for(var n in Y)t[n]=D({},Y[n],e&&e[n]||{});return t}function ee(e){return Promise.resolve().then((function(){return e.loadPromise?e.loadPromise:e.status!==p&&e.status!==C?e:(e.status=h,e.loadPromise=Promise.resolve().then((function(){var o=e.loadApp(q(e));if(!B(o))throw n=!0,Error(f(33,!1,I(e)));return o.then((function(n){var o;e.loadErrorTime=null,"object"!==r(t=n)&&(o=34),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!M(t.bootstrap)&&(o=35),M(t.mount)||(o=36),M(t.unmount)||(o=37);var i=E(t);if(o){var a;try{a=JSON.stringify(t)}catch(e){}return console.error(f(o,!1,i,I(e),a),t),c(void 0,e,k),e}return t.devtools&&t.devtools.overlays&&(e.devtools.overlays=D({},e.devtools.overlays,t.devtools.overlays)),e.status=g,e.bootstrap=P(t,"bootstrap"),e.mount=P(t,"mount"),e.unmount=P(t,"unmount"),e.unload=P(t,"unload"),e.timeouts=Z(t.timeouts),delete e.loadPromise,e}))})).catch((function(t){var o;return delete e.loadPromise,n?o=k:(o=C,e.loadErrorTime=(new Date).getTime()),c(t,e,o),e})));var t,n}))}var te,ne="undefined"!=typeof window,oe={hashchange:[],popstate:[]},re=["hashchange","popstate"];function ie(e){var t;if("string"==typeof e)t=e;else if(this&&this.href)t=this.href;else{if(!(e&&e.currentTarget&&e.currentTarget.href&&e.preventDefault))throw Error(f(14,!1));t=e.currentTarget.href,e.preventDefault()}var n=fe(window.location.href),o=fe(t);0===t.indexOf("#")?window.location.hash=o.hash:n.host!==o.host&&o.host?window.location.href=t:o.pathname===n.pathname&&o.search===n.search?window.location.hash=o.hash:window.history.pushState(null,null,t)}function ae(e){var t=this;if(e){var n=e[0].type;re.indexOf(n)>=0&&oe[n].forEach((function(n){try{n.apply(t,e)}catch(e){setTimeout((function(){throw e}))}}))}}function ue(){Fe([],arguments)}function se(e,t){return function(){var n=window.location.href,o=e.apply(this,arguments),r=window.location.href;return te&&n===r||(Ue()?window.dispatchEvent(ce(window.history.state,t)):Fe([])),o}}function ce(e,t){var n;try{n=new PopStateEvent("popstate",{state:e})}catch(t){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,e)}return n.singleSpa=!0,n.singleSpaTrigger=t,n}if(ne){window.addEventListener("hashchange",ue),window.addEventListener("popstate",ue);var le=window.addEventListener,de=window.removeEventListener;window.addEventListener=function(e,t){if(!("function"==typeof t&&re.indexOf(e)>=0)||R(oe[e],(function(e){return e===t})))return le.apply(this,arguments);oe[e].push(t)},window.removeEventListener=function(e,t){if(!("function"==typeof t&&re.indexOf(e)>=0))return de.apply(this,arguments);oe[e]=oe[e].filter((function(e){return e!==t}))},window.history.pushState=se(window.history.pushState,"pushState"),window.history.replaceState=se(window.history.replaceState,"replaceState"),window.singleSpaNavigate?console.warn(f(41,!1)):window.singleSpaNavigate=ie}function fe(e){var t=document.createElement("a");return t.href=e,t}var me=!1;function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(e||window.$&&window.$.fn&&window.$.fn.jquery&&(e=window.$),e&&!me){var t=e.fn.on,n=e.fn.off;e.fn.on=function(e,n){return he.call(this,t,window.addEventListener,e,n,arguments)},e.fn.off=function(e,t){return he.call(this,n,window.removeEventListener,e,t,arguments)},me=!0}}function he(e,t,n,o,r){return"string"!=typeof n?e.apply(this,r):(n.split(/\s+/).forEach((function(e){re.indexOf(e)>=0&&(t(e,o),n=n.replace(e,""))})),""===n.trim()?this:e.apply(this,r))}var ge={};function ve(e){return Promise.resolve().then((function(){var t=ge[I(e)];if(!t)return e;if(e.status===p)return be(e,t),e;if(e.status===A)return t.promise.then((function(){return e}));if(e.status!==b&&e.status!==C)return e;var n=e.status===C?Promise.resolve():J(e,"unload");return e.status=A,n.then((function(){return be(e,t),e})).catch((function(n){return function(e,t,n){delete ge[I(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,c(n,e,k),t.reject(n)}(e,t,n),e}))}))}function be(e,t){delete ge[I(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,e.status=p,t.resolve()}function ye(e,t,n,o){ge[I(e)]={app:e,resolve:n,reject:o},Object.defineProperty(ge[I(e)],"promise",{get:t})}function we(e){return ge[e]}var xe=[];function Se(){var e=[],t=[],n=[],o=[],r=(new Date).getTime();return xe.forEach((function(i){var a=i.status!==k&&O(i);switch(i.status){case C:a&&r-i.loadErrorTime>=200&&n.push(i);break;case p:case h:a&&n.push(i);break;case g:case b:!a&&we(I(i))?e.push(i):a&&o.push(i);break;case w:a||t.push(i)}})),{appsToUnload:e,appsToUnmount:t,appsToLoad:n,appsToMount:o}}function Ae(){return xe.filter(_).map(I)}function Ce(){return xe.map(I)}function ke(e){var t=R(xe,(function(t){return I(t)===e}));return t?t.status:null}function _e(e,t,n,o){var i=function(e,t,n,o){var i,a={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"===r(e)?(function(e){if(Array.isArray(e)||null===e)throw Error(f(39,!1));var t=["name","app","activeWhen","customProps"],n=Object.keys(e).reduce((function(e,n){return t.indexOf(n)>=0?e:e.concat(n)}),[]);if(0!==n.length)throw Error(f(38,!1,t.join(", "),n.join(", ")));if("string"!=typeof e.name||0===e.name.length)throw Error(f(20,!1));if("object"!==r(e.app)&&"function"!=typeof e.app)throw Error(f(20,!1));var o=function(e){return"string"==typeof e||"function"==typeof e};if(!(o(e.activeWhen)||Array.isArray(e.activeWhen)&&e.activeWhen.every(o)))throw Error(f(24,!1));if(!De(e.customProps))throw Error(f(22,!1))}(e),a.name=e.name,a.loadApp=e.app,a.activeWhen=e.activeWhen,a.customProps=e.customProps):(function(e,t,n,o){if("string"!=typeof e||0===e.length)throw Error(f(20,!1));if(!t)throw Error(f(23,!1));if("function"!=typeof n)throw Error(f(24,!1));if(!De(o))throw Error(f(22,!1))}(e,t,n,o),a.name=e,a.loadApp=t,a.activeWhen=n,a.customProps=o),a.loadApp="function"!=typeof(i=a.loadApp)?function(){return Promise.resolve(i)}:i,a.customProps=function(e){return e||{}}(a.customProps),a.activeWhen=function(e){var t=Array.isArray(e)?e:[e];return t=t.map((function(e){return"function"==typeof e?e:Re(e)})),function(e){return t.some((function(t){return t(e)}))}}(a.activeWhen),a}(e,t,n,o);if(-1!==Ce().indexOf(i.name))throw Error(f(21,!1,i.name));xe.push(D({loadErrorTime:null,status:p,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},i)),ne&&(pe(),Fe())}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return xe.filter((function(t){return t.activeWhen(e)})).map(I)}function Ie(e){if(0===xe.filter((function(t){return I(t)===e})).length)throw Error(f(25,!1,e));return Te(e).then((function(){var t=xe.map(I).indexOf(e);xe.splice(t,1)}))}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof e)throw Error(f(26,!1));var n=R(xe,(function(t){return I(t)===e}));if(!n)throw Error(f(27,!1,e));var o,r=we(I(n));if(t&&t.waitForUnmount){if(r)return r.promise;var i=new Promise((function(e,t){ye(n,(function(){return i}),e,t)}));return i}return r?(o=r.promise,Ee(n,r.resolve,r.reject)):o=new Promise((function(e,t){ye(n,(function(){return o}),e,t),Ee(n,e,t)})),o}function Ee(e,t,n){F(e).then(ve).then((function(){t(),setTimeout((function(){Fe()}))})).catch(n)}function De(e){return!e||"function"==typeof e||"object"===r(e)&&null!==e&&!Array.isArray(e)}function Re(e,t){var n=function(e,t){var n=0,o=!1,r="^";"/"!==e[0]&&(e="/"+e);for(var i=0;i<e.length;i++){var a=e[i];(!o&&":"===a||o&&"/"===a)&&u(i)}return u(e.length),new RegExp(r,"i");function u(i){var a=e.slice(n,i).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(r+=o?"[^/]+/?":a,i===e.length)if(o)t&&(r+="$");else{var u=t?"":".*";r="/"===r.charAt(r.length-1)?"".concat(r).concat(u,"$"):"".concat(r,"(/").concat(u,")?(#.*)?$")}o=!o,n=i}}(e,t);return function(e){var t=e.origin;t||(t="".concat(e.protocol,"//").concat(e.host));var o=e.href.replace(t,"").replace(e.search,"").split("?")[0];return n.test(o)}}var Me=!1,Pe=[],Be=ne&&window.location.href;function Le(){return Fe()}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(Me)return new Promise((function(e,n){Pe.push({resolve:e,reject:n,eventArguments:t})}));var n,o=Se(),r=o.appsToUnload,a=o.appsToUnmount,s=o.appsToLoad,c=o.appsToMount,l=!1,d=Be,f=Be=window.location.href;return Ue()?(Me=!0,n=r.concat(s,a,c),g()):(n=s,h());function m(){l=!0}function h(){return Promise.resolve().then((function(){var e=s.map(ee);return Promise.all(e).then(y).then((function(){return[]})).catch((function(e){throw y(),e}))}))}function g(){return Promise.resolve().then((function(){if(window.dispatchEvent(new u(0===n.length?"single-spa:before-no-app-change":"single-spa:before-app-change",x(!0))),window.dispatchEvent(new u("single-spa:before-routing-event",x(!0,{cancelNavigation:m}))),l)return window.dispatchEvent(new u("single-spa:before-mount-routing-event",x(!0))),v(),void ie(d);var t=r.map(ve),o=a.map(F).map((function(e){return e.then(ve)})).concat(t),i=Promise.all(o);i.then((function(){window.dispatchEvent(new u("single-spa:before-mount-routing-event",x(!0)))}));var f=s.map((function(e){return ee(e).then((function(e){return Ne(e,i)}))})),p=c.filter((function(e){return s.indexOf(e)<0})).map((function(e){return Ne(e,i)}));return i.catch((function(e){throw y(),e})).then((function(){return y(),Promise.all(f.concat(p)).catch((function(t){throw e.forEach((function(e){return e.reject(t)})),t})).then(v)}))}))}function v(){var t=Ae();e.forEach((function(e){return e.resolve(t)}));try{var o=0===n.length?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new u(o,x())),window.dispatchEvent(new u("single-spa:routing-event",x()))}catch(e){setTimeout((function(){throw e}))}if(Me=!1,Pe.length>0){var r=Pe;Pe=[],Fe(r)}return t}function y(){e.forEach((function(e){ae(e.eventArguments)})),ae(t)}function x(){var e,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=arguments.length>1?arguments[1]:void 0,m={},h=(i(e={},w,[]),i(e,b,[]),i(e,p,[]),i(e,k,[]),e);o?(s.concat(c).forEach((function(e,t){v(e,w)})),r.forEach((function(e){v(e,p)})),a.forEach((function(e){v(e,b)}))):n.forEach((function(e){v(e)}));var g={detail:{newAppStatuses:m,appsByNewStatus:h,totalAppChanges:n.length,originalEvent:null==t?void 0:t[0],oldUrl:d,newUrl:f,navigationIsCanceled:l}};return u&&D(g.detail,u),g;function v(e,t){var n=I(e);t=t||ke(n),m[n]=t,(h[t]=h[t]||[]).push(n)}}}function Ne(e,t){return O(e)?L(e).then((function(e){return t.then((function(){return O(e)?z(e):e}))})):t.then((function(){return e}))}var je=!1;function ze(e){var t;je=!0,e&&e.urlRerouteOnly&&(t=e.urlRerouteOnly,te=t),ne&&Fe()}function Ue(){return je}ne&&setTimeout((function(){je||console.warn(f(1,!1))}),5e3);var Ve={getRawAppData:function(){return[].concat(xe)},reroute:Fe,NOT_LOADED:p,toLoadPromise:ee,toBootstrapPromise:L,unregisterApplication:Ie};ne&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=Ve)}).call(this,n("c8ba"))},2613:function(e,t,n){"use strict";e.exports=n("2aa91")},2796:function(e,t,n){"use strict";var o=n("5aa3");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"27aa":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAylJREFUaEPtWUty00AQfT2lrAk3CCcgnAB7R8WicE4Q5wJIOgHJCSRxgSQnwBR2il3MCeKcAHMDZ02YpmZkfaxP9LFUkJS0c3nmTb/u161WD+GJP/TE7UdP4F9HsFYE2B3vQzxYYB6D6BCMBQgLSMMnZ7quQ4b90QmYJgAfALQCeAneO6+LU5kAu0eHIHEDwn7GUMYaTKfkfJuWkQhw6EI7IP1oHDkk53pZhhP+X4mA9jz9vgXRQQnwGVmz86I17L4fg/gi1wnhJk3i4Q0531dVSFQj8Hlkg8ndAN5ByonyErvvDiAM5fXX0WGMKdg4TUuBvZELIjs2in9B0oSc2SKLw1dkzSftEfBHU4A+aEBJx2mpsG96AKyYBK/AfByQVNF7+ALCIGHQD0hjnCS5IfFTr2FekT1/1SIBcwHgbUDAeJmXaOweTUDkgehFYATWIHhg2CnJnJM1O8szjn2TI21bs0rqqLSI/dElQCcanNihj3Pl8WwOqgQV4nJLUpG2+R4sJkWJrpNbiNtQpmTNskmec2YugU04lWSCisMYRBIIPVuYqbwfaJ2vgvKon09gvgRFv3PYs4pgUCSYlyCKK5qUX4sqU4ZANtmqKDFnjcRQJai2JyGNhmjKiQuwcZyW7xYB9kyVbOPGhyQ3tk0gjAzvDZMkIgI6CYW4aMV4newtRyA2bKsIxAS8kXpRVUqcSiS7IpAqsTGBNnTatYRC/EQpT0ZgHdXwSi4uWdRVBLQ843dRMgLxy+p/JsB8T/Y8aiifTxLrKuWayX5lxzgYy7DcdYWrDKzUSuzIpNPtz5OAbo850eM38SFLJ+xf2DNvmkAk95A9G+Zh5DdzfqJ9bnpyy2WUCtrrnkBhgPoIbLuml1DtXO4l1EtoM0aprZ3Nhl5CvYR6CbU6F+pfZLWLUV+FdqpCiWl0bddvNqhZpqAzMKvv7Nxxeg3ou6JpdcF02hxAYOevqBoGPr5UylNyrtXYPvMUfhNv3Qm0ZkkjoELvl04lMldHjc7fZRNfQe7Zj129lk4l9GUHxABClN1Q7mJpKmN5jT9/plVuKksJtGdVN0g9gW78Wh31L90G+UCt1/obAAAAAElFTkSuQmCC"},"27bf":function(e,t,n){"use strict";e.exports=l;var o=n("c9b8").codes,r=o.ERR_METHOD_NOT_IMPLEMENTED,i=o.ERR_MULTIPLE_CALLBACK,a=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=o.ERR_TRANSFORM_WITH_LENGTH_0,s=n("b19a");function c(e,t){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(null===o)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),o(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new u;if(e._transformState.transforming)throw new a;return e.push(null)}n("3fb5")(l,s),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new r("_transform()"))},l.prototype._write=function(e,t,n){var o=this._transformState;if(o.writecb=n,o.writechunk=e,o.writeencoding=t,!o.transforming){var r=this._readableState;(o.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){s.prototype._destroy.call(this,e,(function(e){t(e)}))}},2857:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAkCAYAAAEGFNHBAAAAAXNSR0IArs4c6QAABSVJREFUWAm9V11sVEUUPjP3bu/+WNpdS1ugWprSIAExsWjpC6APRtQQjQEfShQ0gQg1gsRoYkz6aEi2VFpLqtaaxhbFEBMeTPQBMPFBTZuoWH9KwFBb7UNlEXbb3fszx3Nv9273Z7a7S6s32Z2Z73znnLkzZ86ZC5B8Ws+gz+1ntv4u84lMRDoKWx9D2BrOkO08eVlzgDWnrDcyJLmDsEhIQAtdkLmd9R8YD2tlxviPe/2TNrbpvWhNVSBgOfKVveZ+l5jTqp3G9hwwB+gU4/A2bsrBs4HdZ1DZPDgdyMZhfT+WbxjQtyKiM+mdn6PWMow1KWJ9n96eGmR3gj3mJ9lY+pgnLNaYDmT3iQDrssH0MadFrUgH5P3wwtpnE1J7QTtOG8RuAWcvwlE25BIXCC5C7QOnZ+/SdRCWx2dCLOZIuBZAkYixQCAAURUiY3uYbgtSBu4ewiCPGrsUhjevHNA+c7Ty/O0YQO+cBhWhSrjhUKpPGcdqe41wHv6isFp1IrYqbrBHmzTlselFqXKh+g96n+ICGkcPMkNOKQalFaa4faQYajaHOwDjLSbyL6ALd2UTCo1Tu+AQw4JWFStob4bhFaWtkLItzzSQrnHCegsEvJaCjilSrhR0legElv0WB09gBkRdHeif7mHzWSBJyFFu7vvTb/iCNT7VOxujCLSjzm6pA/Y5nkXQL7WxiK2fodz0vrHNowACxyiL3rg8drg6mnQC9jHfOgTlMQ4+IFuaGL2eUm58V99HBF0D88IvBwN/uUqydvPgrWqRYMxRXtNn7kaBDSv8av+vz7G/ZQoyzNlz04Rt9AYTpSg6xipPms/e2WN+JLNcCOMWgxdMBG8hokzOLcGCFrCfZcJCmGoKCCmWmC1ElMlVAyEITGmVCQthKu39hI74eCGiTM5BYftIoEA3NsgIi2EcjrBvHYKBVxYjymTzicHHQxS8DMJiQkbKh6ViG8L4EIA4D4wheKgovcR+z6fk4gvKNtKLQZgT110hGfqKMswIHuWv0jFIlX5Xnqnsol3YAhZ+SIr3OBDne9NLkUuTK7vSrLZ5BD3eH2a8cV+VlojFFEdMSWK+bFGySFZ9O3loQlhetTwRvw/io1vkqX5R58196Il5Ew2qyVfQOxtMoI4MDShD3e+1dBUCVDbB8mqUMemJJ4DHKWyUeFS184Uzm2QWsyeoqkbiyWuVNzs6mMOXOt84EK01hLeV6jdyYZqogE7rP1nHyq5e3M/IfvGPfRO6GonckeBl84c/uVIbKgIzGc7XUoHGhNFGQRdAyrWKwiPlRvTLS4cqnZxbvEs5c8cFVOemwK8mZvDr56uiKeereubqLUU9RBtpMg46Y9bpqQPecbmZ5UEd5yvfwXUCrDcpmHWqcHEVlY6p9uLT+e1OxTnhhrBep/0NCoSQANH/fzi2J6z6u/UtOsK9HMEAhiPRw2Xf3+6blKqnClO5n45RSDBhKJz/UaqBpfBVg2GECRbijOtolZ7Wl+KcW6ryHV2AgoagH7KnN9L9aCkGS9Hl0M6u0bk+Tudao4CrHZsUvaUYWAo3dc6hU1ykmrbdMVbCPXV5nNtW7M9ggGccg4xFqcS3wsvsJ2f8H/wtvLlrvJvKoI7fODd1G7MnwVkbXRfOuZTlanOdu5btSRh4jraiyYVoJlTEcBAYPwt1cB6SX3oL8tJ6+Z2n2+nEB8np8VRMpMvS+3kuDemU9H5xztM13H4P1lOhXUufF6vpc2I1tdNwhD6oJNcdVyW7/RdugOe9a26Z6wAAAABJRU5ErkJggg=="},"28f6":function(e,t,n){"use strict";var o=n("62d7");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},2934:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.updateCookie=t.getSubSchoolInfo=t.getSelectSchoolByDomain=t.getScreenshotConfig=t.getOpenschoolDetails=t.getMemberIsValid=t.getLogo=t.getEdmTokens=t.getEdmToken=void 0;var r=o(n("b775")),i=o(n("852e"));t.getMemberIsValid=e=>(0,r.default)({url:"/api/ischool/v1/members/get-member-is-valid/",method:"get",params:e});t.getSelectSchoolByDomain=e=>(0,r.default)({url:"/api/school/schools/selectDomainById",method:"get",params:e});t.getEdmToken=(e,t)=>(0,r.default)({url:`/api/document/v1/documents/edm-token?provider=EDMX&serverType=preview&userId=${e}&docId=${t}`,method:"get"});t.getEdmTokens=e=>(0,r.default)({url:"/api/student/api/student/api-direct/files/edm/edmToken",method:"get",params:e});t.updateCookie=async()=>{const e=await(0,r.default)({url:"/api/document/v1/documents/edm-session-id",method:"get"});let t=!1;const{code:n,data:o}=e;return 200===n&&o&&(t=!0,i.default.set("edm-sessionId",o)),t};t.getLogo=e=>(0,r.default)({url:"/api/portal/api/v1/portal/school-logo",method:"get",params:{schoolId:e}});t.getSubSchoolInfo=e=>(0,r.default)({url:"/api/school/schools/open/schoolDetails",method:"get"});t.getScreenshotConfig=()=>(0,r.default)({url:"/api/ischool/v1/open/schools/school-data-security",method:"get"});t.getOpenschoolDetails=e=>(0,r.default)({url:"/api/school/schools/open/schoolDetails",method:"get",params:e})},"29f6":function(e,t,n){"use strict";n.r(t);var o=n("fd31"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"2a83":function(e,t,n){"use strict";n.r(t);var o=n("f710"),r=n("a5c4");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("0431");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"2c5a2b67",null);t.default=u.exports},"2aa91":function(e,t,n){"use strict";
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o,r,i,a;if("object"==typeof performance&&"function"==typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,d=null,f=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(f,0),e}};o=function(e){null!==l?setTimeout(o,0,e):(l=e,setTimeout(f,0))},r=function(e,t){d=setTimeout(e,t)},i=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,b=-1,y=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,S=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+y;try{v(!0,e)?S.postMessage(null):(g=!1,v=null)}catch(e){throw S.postMessage(null),e}}else g=!1},o=function(e){v=e,g||(g=!0,S.postMessage(null))},r=function(e,n){b=m((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function A(e,t){var n=e.length;e.push(t);e:for(;;){var o=n-1>>>1,r=e[o];if(!(void 0!==r&&0<_(r,t)))break e;e[o]=t,e[n]=r,n=o}}function C(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length;o<r;){var i=2*(o+1)-1,a=e[i],u=i+1,s=e[u];if(void 0!==a&&0>_(a,n))void 0!==s&&0>_(s,a)?(e[o]=s,e[u]=n,o=u):(e[o]=a,e[i]=n,o=i);else{if(!(void 0!==s&&0>_(s,n)))break e;e[o]=s,e[u]=n,o=u}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],I=[],T=1,E=null,D=3,R=!1,M=!1,P=!1;function B(e){for(var t=C(I);null!==t;){if(null===t.callback)k(I);else{if(!(t.startTime<=e))break;k(I),t.sortIndex=t.expirationTime,A(O,t)}t=C(I)}}function L(e){if(P=!1,B(e),!M)if(null!==C(O))M=!0,o(F);else{var t=C(I);null!==t&&r(L,t.startTime-e)}}function F(e,n){M=!1,P&&(P=!1,i()),R=!0;var o=D;try{for(B(n),E=C(O);null!==E&&(!(E.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=E.callback;if("function"==typeof a){E.callback=null,D=E.priorityLevel;var u=a(E.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?E.callback=u:E===C(O)&&k(O),B(n)}else k(O);E=C(O)}if(null!==E)var s=!0;else{var c=C(I);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{E=null,D=o,R=!1}}var N=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||R||(M=!0,o(F))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return C(O)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var u=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?u+a:u:a=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>u?(e.sortIndex=a,A(I,e),null===C(O)&&e===C(I)&&(P?i():P=!0,r(L,a-u))):(e.sortIndex=s,A(O,e),M||R||(M=!0,o(F))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},"2ab6":function(e,t,n){"use strict";var o=n("54c0");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"2b01":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("div",[e("div",{staticClass:"content-title"},[this._v(this._s(this.blockName))]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],ref:"htmlWrap",staticClass:"content-style-html",domProps:{innerHTML:this._s(this.$safeHtml(this.richTextData))},on:{click:this.handleClickHtml}})])},t.staticRenderFns=[]},"2b1c":function(e,t,n){},"2b5f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABHNCSVQICAgIfAhkiAAAAMpJREFUKJGNUksWgjAQSwroCeRxnHInWUPXcCfrbXjcQH0aF1hBLEp2nU4mmQ+xwK0trHivxxetBAcA+2po5nn8JtAuiwVIcKEAAeDS5g2Jeo3woSRTZlXvDQDESJQpo6qvNsylzZvIt8+q3q9o2ltbWLPFXkzVbO1tiRSQX5vk7ji8p37tDqcpjzaN16O9drnGolNsZtanVOLER1RxzYnEM79t/MfuOHDcoxK3lRRO0ABAVvU+BH5QPGXKj5ObIxzEtCZ5KnHLg3gC35RUoLwX0Z8AAAAASUVORK5CYII="},"2c00":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var o=n("6d8b"),r=n("7d4b"),i=n("deca"),a=n("e0d3"),u=Object(a.o)(),s=["percent","easing","shape","style","extra"];function c(e){e.stopAnimation("keyframe"),e.attr(u(e))}function l(e,t,n){if(n.isAnimationEnabled()&&t)if(Object(o.isArray)(t))Object(o.each)(t,(function(t){l(e,t,n)}));else{var a=t.keyframes,c=t.duration;if(n&&null==c){var d=Object(i.a)("enter",n,0);c=d&&d.duration}if(a&&c){var f=u(e);Object(o.each)(r.a,(function(n){if(!n||e[n]){var r;a.sort((function(e,t){return e.percent-t.percent})),Object(o.each)(a,(function(i){var a=e.animators,u=n?i[n]:i;if(u){var l=Object(o.keys)(u);if(n||(l=Object(o.filter)(l,(function(e){return Object(o.indexOf)(s,e)<0}))),l.length){r||((r=e.animate(n,t.loop,!0)).scope="keyframe");for(var d=0;d<a.length;d++)a[d]!==r&&a[d].targetName===r.targetName&&a[d].stopTracks(l);n&&(f[n]=f[n]||{});var m=n?f[n]:f;Object(o.each)(l,(function(t){m[t]=((n?e[n]:e)||{})[t]})),r.whenWithKeys(c*i.percent,u,l,i.easing)}}})),r&&r.delay(t.delay||0).duration(c).start(t.easing)}}))}}}},"2c4e":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/avatar.f0493b03.svg"},"2cda":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVgAAADMCAYAAAA27LuhAAANm0lEQVR4nO3dXW4rx7WG4a+qu9kKdmB4EkEyBJ/7M6gzgiCjyQCC3CdDCJBJRE7sza7fc1FdTVKiJP6V2FTeB7AtWxLVF9ufFldVrTLPz8+S9DtJf5L0v5J+EADgEj9L+quk/5P0T/P8/Px7SX+X9ONdHwsAvo5/SfrJSvqjCFcAuKUfJf3RPJceAW0BALit/1gRrgDQwm/tvZ8AAL4qAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaCR/t4P8NIPP/yglJKmaVIIQTnnez8SAFxkdQGbUtIvv/xCsAJ4eKtrEUzTRLgC+BJWF7AhhHs/AgDcxOoCluoVwFexuoAFgK+CgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARvp7PwBwTM5ZKSXFlGRk1HWdrDX3fizgLFSwWKWUkpz38j4opSgp3/uRgLNRwWJ1YoyanJNzTpJkzEbDnZ8JuAQBi9XIOSvEKOecJueUYpK1Vsrlc8CjIWCxCimlJVyd94oxLZ/LygQsHhIBi7vLOcuHoGlyCiEopnTwuZQyHVg8JAIWdxVTkvd+Cdf0olLNOSvnRAWLh0TA4m5SyvLOa3JO3vs3q9SUskTA4gERsLiLlFLZKTA5+RDeDNc8f21KBCweD/tgcVP1gMB7UkpyrrQF3gvXg9ekTYAHRMDipkrPNC8fv1Qr1+00KZwQrstrJnYS4PHQIsBNvAy/Y2EYY5TzXm5e0DonLlNOijHJGCNjODKLx0AFi5swxsy90nRQwe5/HEKQc/6ktsC+0octuwmAR0LA4ib2g3X/3+tf3ntNzp9due6/XoiRzQR4KLQIcLUY45v90XJIoA5u8WUB7IK3+LvqOEnqrnxi4HMQsLjKy8p1X50tEEOUc/7D3QXv/pycFWPZrtWRr3gQtAhwkbod671wTSkphKDJ+93x10sXqObXS+ntahlYGwIWZ9vvrX5UvXofFGMsJ7GuXP0vr5muqoSBz0TA4iy1F3rK15Vh2ek2x1znXQoxBoUYr3894BMQsDjZflvg4+o1KcZ402ozSwoxKkVOdeExELA4mTGmDMDW2wOwc86KMZbJWCnttmTd6HBAikkxxVdTt4A1ImBxM/WEVa1es6Rbn7nKkmKIiiFQxWL1CFicpPQ/P37Ln3NWql/XKABjTvKB3QRYPwIWH9rvu76n3j6Q9r/WmJu1B5bniWX7F4tdWDsCFu/6aEFrX91h0HobVZZKHzYyJxbrRsDiTR8dJjj29eGdY7O3lGJSiEEpUcVivQhYHHVO5VqldF4gXyNLCiEq0IvFihGweKVWrqe+1a+7B86teK8VY3x30Axwbwx7weLcivXV96sucEnGth+KneaWREpp2Z/75rO9U5HXId4M8satEbBYfHTdy8ffr2Zbs97+mbuq+VhA7obORMUY5qp3V2Vba9X3nfp+UN936hjVhRsiYCGpBJG19qpdAMbUv31eyNaFta7r1XUlYOt+3RKkaQnVEEI5Ybb3S8BI6vtefR/mgO3nwO2paHE1AhaSDvuoF7+GjKwxyka7SrZxSNXqtO+CpE4xJnnv5gWw8PoamxffnyX5OXiNMeq6TpvNoM1m1DD0VLS4CgELSbv2QO1FnlPF1vDa72V+1sJTvevr15TUWTPPQSiLX+fMK8jza6U5lEOIenoatdls1Pf8b4LL8CcHknQQrDVozw1Ja0sF+Jk7CcqFiOXtf67tjSur5piSonMHv3SoZHEJAhYHXvYdzwnKGkQhhFs/1ts/U7sjuvnGJ8i890vAjuNIyOJsBCwOHL7FNzImn7Uf1to7bncy5qbra+UwQ9A0OVnbyVrLwhfOwkEDHGXm3QBlRf60zfx1Xqy1ewNeGrcK8pGPbv36zjk5N5Wrb4AzELA4qiweeW23v2raTkopfVi9GWNkVPaW2v2vbRmy88GG3UPc/keknOV92F2BA5yIFgFeyTnLe6/v37dy0yRrJc1FqbXduwtgpYrtZG28+mTYOc/b+qfEGOW9U993nPrCyQhYHKjhuv3+XdN2O+8jlaStlKXxaZS1xxd7divuVp21inVHQtPnnRfiGgd5nC9xHIaorusIWJyEFgEWdU/p9vt3TdO0vB3OuUyucm47twve70V21qrru8NgbRaAWZ91csx7r5Rue5EjvjYqWEiar4QJQb9+/y43zQs6L9qoZTTgVpK0mbctHWsX7Ba7bPM2QT0gcK1yyvf10JeXQ2JCiLJd4PABTsKfEuwq1+2uLVA+oVchG2PUNG2Vc9L49KSuO/5HqLNWQ98vt8w2evBdZXzFDYudter7fjkaWwK27KKoz19nGdRfRMApCFhIqn3Meczg/rvuGlx7u65ijHJuklQr2X6pVitjjLq+k02xWS/22urYGqO+77XZDAfTtF5WsPXobG0PfDQaEagIWMjMQaNxlLFWzrnlWuwavEs6mhqyqfRpc9Y4Pr2aPmWMUd91il2nGOa5ALccAPNyvuuZL2kkbTabZd7AW4cIarujnuL6zGPAeHwELCRpqdy6vlff92VbknMKocxQPRqyKUnOlbAbRw3D5qCSXUK27+Xnt9e3qmKvGT27H67jOJ5Ukdbw5bgszkHAYlEXprquU4xRfd/JOy/v/TJjNee8axnMlWzOu8EoNWTr4lfXdRqGeSj20tvN11WxczV86e7XYRj0m988LZUr0AoBi1dqy8Baq6EfFGKYTzJ5hTls90vRlLKcd0u/crPZ7TDYVbFlytZBq+BCdbjLJa/TWTvPe91QjaI5AhZvstZK1sp25UqVzWaQ92F3M8BeVZtTnT5VKtVhM6rvy6p8qWIH5ZTl5t7uxf3Y+WhszufvRa2tgfoLAGiNgMWH6hjCcn/VoJSigg9zZevLItZcnYaQFONWMUaN45PyMJTv6zrlYShfc8Xq/6XhKpWrYcZx1GYzXPT9wLkIWJxsfyN+1/XapKQ4JsUY5sCdbxKIUSF4pZw0xM18K0DZBpXyoJzLtqez5Vwq5FoBn1H99l2np6dyDQzHXPFZCFicrQaU6bq5fdBrGNIy2jCGqJii8ryw5Z1XSnm5UDDnjSSnENPprYK573rJMVVrjDabDUOz8ekIWFxtv4UgDdImKy0b9Eu/djtN6rqgoR/UWavc90rJn3ZvVr2xIO/tQjj12aQlXLkpFp+NgMXNLOFljDqVRbJ6CWHZhRAV+t00qrpF6t1xg3vhesni2DAM82GCgXDFpyNg0USWFGKU817O++WtvXOx7LftumUodz4Wmnu7BXYnys5bGBv6XuO4Yb8r7oaARRMpRm232+U2hIPPzTsOzLyZtsxWMctEq1dVq3R2uNZFraenJ/quuBsCFjeXc5ZzXtN2UnhrktbeSayyIaBcmZD3XuPacK19V+Be+NOHm6rhut1uz7q++1ZzY/cr12Fgvyvui4DFTZV5sZOcc23uGXhjocpof0FrQ7hiFQhY3ExKSd57OedK3/UTVu3rLbbDMGgc2euKdSFgcTMhBE2T27UG9t/yXxK2H7QMjOrx1zJfYBh6dgtgVQhY3EQ9VOCcO95LPWf/6jvBWivWvi+nwoZhmD/mEAHWh4DF1cpV30HO+cPWwFtB+14Qvrh2pv5zGX04B2s/DBr6niu0sWoELK6WUpJzRxa2XhwcOPrxEXXw924AuJ2P4nbzP3e31gJrRsDiauVW2nK54anqUdn96rT8N/MiYLslZN+6NwtYKwIWV6thaY15c3jLLkD3w3M3JKYGqbWHgVu/F3hEBCyuZq3VOI4yRtpup6WSrav85VaDXbAas6tGa6BSneIrImBxNWPMcktASnnZSVDmxPZzyPbL23+qU/y3MM/Pz1zyDgANsAwLAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQyOoC1hhz70cA8IDWmB2rC9i+7+/9CAAe0BqzY3UBO47jKn8TAVgvY4zGcbz3Y7yyuoC11urbt28ahoGgBfAuY4yGYdC3b99k7eriTOb5+Tnf+yEA4CtaX+QDwBdBwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRiJf1874cAgC/oP1bSX+/9FADwBf3FPD8//0HS3yT9eO+nAYAv4l+S/sdK+oeknyT9WdK/7/pIAPDY/q2SpT9J+sf/AxwS7zxRUj6dAAAAAElFTkSuQmCC"},"2d1d":function(e,t,n){"use strict";var o=n("ae07");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"2db1":function(e,t,n){"use strict";n("227e3")},"2f2a":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/ka-upload-control-view.acb188cc.svg"},"2f6b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAitJREFUSA2tVc9LAkEUdt0NxOggpZlQVKJCQp069OMPKIo8daxDRuFfVJ26FAXRNbx2jTqHv1IkwqIOkgfB1e17iyPj7A9HaeH5Zr73ve/Nm51ZPZ4hnnw+f082RIpHkSWXSqW4rus54mualohGo3mZXK8MiTjtdjvNuPyYYU5eqoBhGBrskInQmDA2d/NSBbA9uxAJc0LhYrG4w80dh1IFOp1Ob3uYEjo4ZmM3P/AlV6vVSLPZrEJQ5YUURWn7fL45PB88Lo4HdgDxtChOIoRRTBQU50qhUNgDeRWBKd6A0XwSNgZze3R08wPCN29d7EnBxalBbNpNYdQYinzSFqW6lUfVccqjjlLmS8YxjOHyZNHJohN7GBwrf1NVdQu3vWC+ZHPg9a5B5HkYITsuxF/wKVknTYr3HdNarTZer9fvgG/bJUtg2UAgsB8KhRqM21eAQGyThpN1AX/ESDIeK7+MxWIn8DrPtxSgIMRVFGnA+3iy0xiiTYhPiOLEN9+BmIjvzLKsOOUSFwdlRdShuW0BJGzakd0wfK827OL/VgDitouyLeBExh5/kdmt1KlrS4FyuTwPgYgoAuFrv9+/RIbYlRjHfKZSqSyIuOVfCf+7fa1C+B2rO43H4w9c8kEul7tB7ByxWYa3Wi3KLbM5eUsHrFUkGyQASyYSCV7czCcMlyrZ5RgEslyT0P2xdIAEuoWv8Bmc7UeeLI6DweAvsAzuzC38GQr0bjDj/gHh8uNgQKupTwAAAABJRU5ErkJggg=="},"30d7":function(e,t,n){"use strict";n("0eab")},"313e":function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return r.cb})),n.d(t,"dependencies",(function(){return r.l})),n.d(t,"PRIORITY",(function(){return r.g})),n.d(t,"init",(function(){return r.B})),n.d(t,"connect",(function(){return r.j})),n.d(t,"disconnect",(function(){return r.n})),n.d(t,"disConnect",(function(){return r.m})),n.d(t,"dispose",(function(){return r.o})),n.d(t,"getInstanceByDom",(function(){return r.w})),n.d(t,"getInstanceById",(function(){return r.x})),n.d(t,"registerTheme",(function(){return r.R})),n.d(t,"registerPreprocessor",(function(){return r.P})),n.d(t,"registerProcessor",(function(){return r.Q})),n.d(t,"registerPostInit",(function(){return r.N})),n.d(t,"registerPostUpdate",(function(){return r.O})),n.d(t,"registerUpdateLifecycle",(function(){return r.T})),n.d(t,"registerAction",(function(){return r.H})),n.d(t,"registerCoordinateSystem",(function(){return r.I})),n.d(t,"getCoordinateSystemDimensions",(function(){return r.v})),n.d(t,"registerLocale",(function(){return r.L})),n.d(t,"registerLayout",(function(){return r.J})),n.d(t,"registerVisual",(function(){return r.U})),n.d(t,"registerLoading",(function(){return r.K})),n.d(t,"setCanvasCreator",(function(){return r.V})),n.d(t,"registerMap",(function(){return r.M})),n.d(t,"getMap",(function(){return r.y})),n.d(t,"registerTransform",(function(){return r.S})),n.d(t,"dataTool",(function(){return r.k})),n.d(t,"zrender",(function(){return r.eb})),n.d(t,"matrix",(function(){return r.D})),n.d(t,"vector",(function(){return r.bb})),n.d(t,"zrUtil",(function(){return r.db})),n.d(t,"color",(function(){return r.i})),n.d(t,"throttle",(function(){return r.X})),n.d(t,"helper",(function(){return r.A})),n.d(t,"use",(function(){return r.Z})),n.d(t,"setPlatformAPI",(function(){return r.W})),n.d(t,"parseGeoJSON",(function(){return r.F})),n.d(t,"parseGeoJson",(function(){return r.G})),n.d(t,"number",(function(){return r.E})),n.d(t,"time",(function(){return r.Y})),n.d(t,"graphic",(function(){return r.z})),n.d(t,"format",(function(){return r.u})),n.d(t,"util",(function(){return r.ab})),n.d(t,"env",(function(){return r.p})),n.d(t,"List",(function(){return r.e})),n.d(t,"Model",(function(){return r.f})),n.d(t,"Axis",(function(){return r.a})),n.d(t,"ComponentModel",(function(){return r.c})),n.d(t,"ComponentView",(function(){return r.d})),n.d(t,"SeriesModel",(function(){return r.h})),n.d(t,"ChartView",(function(){return r.b})),n.d(t,"innerDrawElementOnCanvas",(function(){return r.C})),n.d(t,"extendComponentModel",(function(){return r.r})),n.d(t,"extendComponentView",(function(){return r.s})),n.d(t,"extendSeriesModel",(function(){return r.t})),n.d(t,"extendChartView",(function(){return r.q}));var o=n("22b4"),r=n("aa74"),i=n("f95e"),a=n("97ac"),u=n("3620"),s=n("6d8b"),c=n("9d57"),l=n("fdde"),d=n("7fae"),f=n("4f85"),m=n("1830"),p=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.getInitialData=function(e,t){return Object(m.a)(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,n){var o=this.coordinateSystem;if(o&&o.clampData){var r=o.clampData(e),i=o.dataToPoint(r);if(n)Object(s.each)(o.getAxes(),(function(e,n){if("category"===e.type&&null!=t){var o=e.getTicksCoords(),a=e.getTickModel().get("alignWithLabel"),u=r[n],s="x1"===t[n]||"y1"===t[n];if(s&&!a&&(u+=1),o.length<2)return;if(2===o.length)return void(i[n]=e.toGlobalCoord(e.getExtent()[s?1:0]));for(var c=void 0,l=void 0,d=1,f=0;f<o.length;f++){var m=o[f].coord,p=f===o.length-1?o[f-1].tickValue+d:o[f].tickValue;if(p===u){l=m;break}if(p<u)c=m;else if(null!=c&&p>u){l=(m+c)/2;break}1===f&&(d=p-o[0].tickValue)}null==l&&(c?c&&(l=o[o.length-1].coord):l=o[0].coord),i[n]=e.toGlobalCoord(l)}}));else{var a=this.getData(),u=a.getLayout("offset"),c=a.getLayout("size"),l=o.getBaseAxis().isHorizontal()?0:1;i[l]+=u+c/2}return i}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(f.b);f.b.registerClass(p);var h=p,g=n("8918"),v=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.getInitialData=function(){return Object(m.a)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Object(g.d)(h.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(h),b=n("cbe5"),y=n("2dc5"),w=n("2306"),x=n("deca"),S=n("c7a2"),A=n("4aa2"),C=n("861c"),k=n("7d6c"),_=n("7837"),O=n("88b3"),I=n("b0af"),T=n("c2be"),E=n("e887"),D=n("5426"),R=n("c775"),M=n("cd07"),P=n("e4b8"),B=Math.max,L=Math.min;var F=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return Object(d.a)(t,e),t.prototype.render=function(e,t,n,o){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var r=e.get("coordinateSystem");("cartesian2d"===r||"polar"===r)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){Object(w.traverseElements)(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,o){var r,i=this.group,a=e.getData(),u=this._data,s=e.coordinateSystem,c=s.getBaseAxis();"cartesian2d"===s.type?r=c.isHorizontal():"polar"===s.type&&(r="angle"===c.dim);var l=e.isAnimationEnabled()?e:null,d=function(e,t){var n=e.get("realtimeSort",!0),o=t.getBaseAxis();0;if(n&&"category"===o.type&&"cartesian2d"===t.type)return{baseAxis:o,otherAxis:t.getOtherAxis(o)}}(e,s);d&&this._enableRealtimeSort(d,a,n);var f=e.get("clip",!0)||d,m=function(e,t){var n=e.getArea&&e.getArea();if(Object(D.a)(e,"cartesian2d")){var o=e.getBaseAxis();if("category"!==o.type||!o.onBand){var r=t.getLayout("bandWidth");o.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(s,a);i.removeClipPath();var p=e.get("roundCap",!0),h=e.get("showBackground",!0),g=e.getModel("backgroundStyle"),v=g.get("borderRadius")||0,b=[],w=this._backgroundEls,C=o&&o.isInitSort,k=o&&"changeAxisOrder"===o.type;function O(e){var t=G[s.type](a,e),n=function(e,t,n){return new("polar"===e.type?A.a:S.a)({shape:J(t,n,e),silent:!0,z2:0})}(s,r,t);return n.useStyle(g.getItemStyle()),"cartesian2d"===s.type?n.setShape("r",v):n.setShape("cornerRadius",v),b[e]=n,n}a.diff(u).add((function(t){var n=a.getItemModel(t),o=G[s.type](a,t,n);if(h&&O(t),a.hasValue(t)&&W[s.type](o)){var u=!1;f&&(u=N[s.type](m,o));var g=j[s.type](e,a,t,o,r,l,c.model,!1,p);d&&(g.forceLabelAnimation=!0),Y(g,a,t,n,o,e,r,"polar"===s.type),C?g.attr({shape:o}):d?z(d,l,g,o,t,r,!1,!1):Object(x.c)(g,{shape:o},e,t),a.setItemGraphicEl(t,g),i.add(g),g.ignore=u}})).update((function(t,n){var o=a.getItemModel(t),y=G[s.type](a,t,o);if(h){var S=void 0;0===w.length?S=O(n):((S=w[n]).useStyle(g.getItemStyle()),"cartesian2d"===s.type?S.setShape("r",v):S.setShape("cornerRadius",v),b[t]=S);var A=G[s.type](a,t),I=J(r,A,s);Object(x.h)(S,{shape:I},l,t)}var T=u.getItemGraphicEl(n);if(a.hasValue(t)&&W[s.type](y)){var E=!1;if(f&&(E=N[s.type](m,y))&&i.remove(T),T?Object(x.g)(T):T=j[s.type](e,a,t,y,r,l,c.model,!!T,p),d&&(T.forceLabelAnimation=!0),k){var D=T.getTextContent();if(D){var R=Object(_.f)(D);null!=R.prevValue&&(R.prevValue=R.value)}}else Y(T,a,t,o,y,e,r,"polar"===s.type);C?T.attr({shape:y}):d?z(d,l,T,y,t,r,!0,k):Object(x.h)(T,{shape:y},e,t,null),a.setItemGraphicEl(t,T),T.ignore=E,i.add(T)}else i.remove(T)})).remove((function(t){var n=u.getItemGraphicEl(t);n&&Object(x.f)(n,e,t)})).execute();var I=this._backgroundGroup||(this._backgroundGroup=new y.a);I.removeAll();for(var T=0;T<b.length;++T)I.add(b[T]);i.add(I),this._backgroundEls=b,this._data=a},t.prototype._renderLarge=function(e,t,n){this._clear(),K(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),K(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&Object(I.a)(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var o=this;if(t.count()){var r=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var i=function(e){var n=t.getItemGraphicEl(e),o=n&&n.shape;return o&&Math.abs(r.isHorizontal()?o.height:o.width)||0};this._onRendered=function(){o._updateSortWithinSameData(t,i,r,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var o=[];return e.each(e.mapDimension(t.dim),(function(e,t){var r=n(t);r=null==r?NaN:r,o.push({dataIndex:t,mappedValue:r,ordinalNumber:e})})),o.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:Object(s.map)(o,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var o=n.scale,r=e.mapDimension(n.dim),i=Number.MAX_VALUE,a=0,u=o.getOrdinalMeta().categories.length;a<u;++a){var s=e.rawIndexOf(r,o.getRawOrdinalNumber(a)),c=s<0?Number.MIN_VALUE:t(e.indexOfRawIndex(s));if(c>i)return!0;i=c}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,o=n.getExtent(),r=Math.max(0,o[0]),i=Math.min(o[1],n.getOrdinalMeta().categories.length-1);r<=i;++r)if(e.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,o){if(this._isOrderChangedWithinSameData(e,t,n)){var r=this._dataSort(e,n,t);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},t.prototype._dispatchInitSort=function(e,t,n){var o=t.baseAxis,r=this._dataSort(e,o,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:r})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){Object(x.f)(t,e,Object(C.a)(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(E.a),N={cartesian2d:function(e,t){var n=t.width<0?-1:1,o=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height);var r=e.x+e.width,i=e.y+e.height,a=B(t.x,e.x),u=L(t.x+t.width,r),s=B(t.y,e.y),c=L(t.y+t.height,i),l=u<a,d=c<s;return t.x=l&&a>r?u:a,t.y=d&&s>i?c:s,t.width=l?0:u-a,t.height=d?0:c-s,n<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height),l||d},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var o=t.r;t.r=t.r0,t.r0=o}var r=L(t.r,e.r),i=B(t.r0,e.r0);t.r=r,t.r0=i;var a=r-i<0;if(n<0){o=t.r;t.r=t.r0,t.r0=o}return a}},j={cartesian2d:function(e,t,n,o,r,i,a,u,c){var l=new S.a({shape:Object(s.extend)({},o),z2:1});(l.__dataIndex=n,l.name="item",i)&&(l.shape[r?"height":"width"]=0);return l},polar:function(e,t,n,o,r,i,a,u,s){var c=!r&&s?T.a:A.a,l=new c({shape:o,z2:1});l.name="item";var d=q(r);if(l.calculateTextPosition=Object(M.a)(d,{isRoundCap:c===T.a}),i){var f=r?"r":"endAngle",m={};l.shape[f]=r?o.r0:o.startAngle,m[f]=o[f],(u?x.h:x.c)(l,{shape:m},i)}return l}};function z(e,t,n,o,r,i,a,u){var s,c;i?(c={x:o.x,width:o.width},s={y:o.y,height:o.height}):(c={y:o.y,height:o.height},s={x:o.x,width:o.width}),u||(a?x.h:x.c)(n,{shape:s},t,r,null);var l=t?e.baseAxis.model:null;(a?x.h:x.c)(n,{shape:c},l,r)}function U(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var V=["x","y","width","height"],H=["cx","cy","r","startAngle","endAngle"],W={cartesian2d:function(e){return!U(e,V)},polar:function(e){return!U(e,H)}},G={cartesian2d:function(e,t,n){var o=e.getItemLayout(t),r=n?function(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var o=e.get(["itemStyle","borderWidth"])||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(o,r,i)}(n,o):0,i=o.width>0?1:-1,a=o.height>0?1:-1;return{x:o.x+i*r/2,y:o.y+a*r/2,width:o.width-i*r,height:o.height-a*r}},polar:function(e,t,n){var o=e.getItemLayout(t);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function q(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function Y(e,t,n,o,r,i,a,u){var c=t.getItemVisual(n,"style");if(u){if(!i.get("roundCap")){var l=e.shape,d=Object(P.a)(o.getModel("itemStyle"),l,!0);Object(s.extend)(l,d),e.setShape(l)}}else{var f=o.get(["itemStyle","borderRadius"])||0;e.setShape("r",f)}e.useStyle(c);var m=o.getShallow("cursor");m&&e.attr("cursor",m);var p=u?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",h=Object(_.e)(o);Object(_.g)(e,h,{labelFetcher:i,labelDataIndex:n,defaultText:Object(R.b)(i.getData(),n),inheritColor:c.fill,defaultOpacity:c.opacity,defaultOutsidePosition:p});var g=e.getTextContent();if(u&&g){var v=o.get(["label","position"]);e.textConfig.inside="middle"===v||null,Object(M.b)(e,"outside"===v?p:v,q(a),o.get(["label","rotate"]))}Object(_.h)(g,h,i.getRawValue(n),(function(e){return Object(R.a)(t,e)}));var b=o.getModel(["emphasis"]);Object(k.J)(e,b.get("focus"),b.get("blurScope"),b.get("disabled")),Object(k.I)(e,o),function(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(r)&&(e.style.fill="none",e.style.stroke="none",Object(s.each)(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}var Q=function(){},$=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return Object(d.a)(t,e),t.prototype.getDefaultShape=function(){return new Q},t.prototype.buildPath=function(e,t){for(var n=t.points,o=this.baseDimIdx,r=1-this.baseDimIdx,i=[],a=[],u=this.barWidth,s=0;s<n.length;s+=3)a[o]=u,a[r]=n[s+2],i[o]=n[s+o],i[r]=n[s+r],e.rect(i[0],i[1],a[0],a[1])},t}(b.b);function K(e,t,n,o){var r=e.getData(),i=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),u=r.getLayout("size"),s=e.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var l=new $({shape:{points:c},incremental:!!o,silent:!0,z2:0});l.baseDimIdx=i,l.largeDataIndices=a,l.barWidth=u,l.useStyle(s.getItemStyle()),t.add(l),n&&n.push(l)}var d=new $({shape:{points:r.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=i,d.largeDataIndices=a,d.barWidth=u,t.add(d),d.useStyle(r.getVisual("style")),Object(C.a)(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",X),d.on("mousemove",X)),n&&n.push(d)}var X=Object(O.c)((function(e){var t=function(e,t,n){for(var o=e.baseDimIdx,r=1-o,i=e.shape.points,a=e.largeDataIndices,u=[],s=[],c=e.barWidth,l=0,d=i.length/3;l<d;l++){var f=3*l;if(s[o]=c,s[r]=i[f+2],u[o]=i[f+o],u[r]=i[f+r],s[r]<0&&(u[r]+=s[r],s[r]=-s[r]),t>=u[0]&&t<=u[0]+s[0]&&n>=u[1]&&n<=u[1]+s[1])return a[l]}return-1}(this,e.offsetX,e.offsetY);Object(C.a)(this).dataIndex=t>=0?t:null}),30,!1);function J(e,t,n){if(Object(D.a)(n,"cartesian2d")){var o=t,r=n.getArea();return{x:e?o.x:r.x,y:e?r.y:o.y,width:e?o.width:r.width,height:e?r.height:o.height}}var i=t;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:e?r.r0:i.r0,r:e?r.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:2*Math.PI}}var Z=F;var ee=n("49bb"),te=n("acf6"),ne=n("e8e6"),oe=n("b37bf"),re=n("54ca7"),ie=n("128d");function ae(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),o=e.getGraph().data,r=n.mapArray(n.getName);o.filterSelf((function(e){var n=o.getItemModel(e).getShallow("category");if(null!=n){Object(s.isNumber)(n)&&(n=r[n]);for(var i=0;i<t.length;i++)if(!t[i].isSelected(n))return!1}return!0}))}))}function ue(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),o=e.getData(),r={};n.each((function(o){var i=n.getName(o);r["ec-"+i]=o;var a=n.getItemModel(o),u=a.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(i,t)),n.setItemVisual(o,"style",u);for(var s=["symbol","symbolSize","symbolKeepAspect"],c=0;c<s.length;c++){var l=a.getShallow(s[c],!0);null!=l&&n.setItemVisual(o,s[c],l)}})),n.count()&&o.each((function(e){var t=o.getItemModel(e).getShallow("category");if(null!=t){Object(s.isString)(t)&&(t=r["ec-"+t]);var i=n.getItemVisual(t,"style"),a=o.ensureUniqueItemVisual(e,"style");Object(s.extend)(a,i);for(var u=["symbol","symbolSize","symbolKeepAspect"],c=0;c<u.length;c++)o.setItemVisual(e,u[c],n.getItemVisual(t,u[c]))}}))}))}function se(e){return e instanceof Array||(e=[e,e]),e}function ce(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),o=se(e.get("edgeSymbol")),r=se(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",o&&o[0]),n.setVisual("toSymbol",o&&o[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var o=n.getItemModel(e),r=t.getEdgeByIndex(e),i=se(o.getShallow("symbol",!0)),a=se(o.getShallow("symbolSize",!0)),u=o.getModel("lineStyle").getLineStyle(),c=n.ensureUniqueItemVisual(e,"style");switch(Object(s.extend)(c,u),c.stroke){case"source":var l=r.node1.getVisual("style");c.stroke=l&&l.fill;break;case"target":l=r.node2.getVisual("style");c.stroke=l&&l.fill}i[0]&&r.setVisual("fromSymbol",i[0]),i[1]&&r.setVisual("toSymbol",i[1]),a[0]&&r.setVisual("fromSymbolSize",a[0]),a[1]&&r.setVisual("toSymbolSize",a[1])}))}))}var le=n("401b"),de=function(e){return e.get("autoCurveness")||null},fe=function(e,t){var n=de(e),o=20,r=[];if(s.isNumber(n))o=n;else if(s.isArray(n))return void(e.__curvenessList=n);t>o&&(o=t);var i=o%2?o+2:o+3;r=[];for(var a=0;a<i;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=r},me=function(e,t,n){var o=[e.id,e.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[n.uid,o,r].join("--\x3e")},pe=function(e){var t=e.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},he=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function ge(e,t,n,o){var r=de(t),i=s.isArray(r);if(!r)return null;var a=function(e,t){var n=me(e.node1,e.node2,t);return t.__edgeMap[n]}(e,t);if(!a)return null;for(var u=-1,c=0;c<a.length;c++)if(a[c]===n){u=c;break}var l=function(e,t){return he(me(e.node1,e.node2,t),t)+he(me(e.node2,e.node1,t),t)}(e,t);fe(t,l),e.lineStyle=e.lineStyle||{};var d=me(e.node1,e.node2,t),f=t.__curvenessList,m=i||l%2?0:1;if(a.isForward)return f[m+u];var p=pe(d),h=he(p,t),g=f[u+h+m];return o?i?r&&0===r[0]?(h+m)%2?g:-g:((h%2?0:1)+m)%2?g:-g:(h+m)%2?g:-g:f[u+h+m]}function ve(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),be(n,e)}}function be(e,t){e.eachEdge((function(e,n){var o=s.retrieve3(e.getModel().get(["lineStyle","curveness"]),-ge(e,t,n,!0),0),r=le.clone(e.node1.getLayout()),i=le.clone(e.node2.getLayout()),a=[r,i];+o&&a.push([(r[0]+i[0])/2-(r[1]-i[1])*o,(r[1]+i[1])/2-(i[0]-r[0])*o]),e.setLayout(a)}))}function ye(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var o=e.getData(),r=[];Object(s.each)(n.dimensions,(function(e){r=r.concat(o.mapDimensionsAll(e))}));for(var i=0;i<o.count();i++){for(var a=[],u=!1,c=0;c<r.length;c++){var l=o.get(r[c],i);isNaN(l)||(u=!0),a.push(l)}u?o.setItemLayout(i,n.dataToPoint(a)):o.setItemLayout(i,[NaN,NaN])}be(o.graph,e)}else t&&"none"!==t||ve(e)}))}function we(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,o=t.scaleX;return((t.getZoom()-1)*n+1)/o}function xe(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Se=Math.PI,Ae=[];function Ce(e,t,n,o){var r=e.coordinateSystem;if(!r||"view"===r.type){var i=r.getBoundingRect(),a=e.getData(),u=a.graph,c=i.width/2+i.x,l=i.height/2+i.y,d=Math.min(i.width,i.height)/2,f=a.count();if(a.setLayout({cx:c,cy:l}),f){if(n){var m=r.pointToData(o),p=m[0],h=m[1],g=[p-c,h-l];le.normalize(g,g),le.scale(g,g,d),n.setLayout([c+g[0],l+g[1]],!0),_e(n,e.get(["circular","rotateLabel"]),c,l)}ke[t](e,u,a,d,c,l,f),u.eachEdge((function(t,n){var o,r=s.retrieve3(t.getModel().get(["lineStyle","curveness"]),ge(t,e,n),0),i=le.clone(t.node1.getLayout()),a=le.clone(t.node2.getLayout()),u=(i[0]+a[0])/2,d=(i[1]+a[1])/2;+r&&(o=[c*(r*=3)+u*(1-r),l*r+d*(1-r)]),t.setLayout([i,a,o])}))}}}var ke={value:function(e,t,n,o,r,i,a){var u=0,s=n.getSum("value"),c=2*Math.PI/(s||a);t.eachNode((function(e){var t=e.getValue("value"),n=c*(s?t:1)/2;u+=n,e.setLayout([o*Math.cos(u)+r,o*Math.sin(u)+i]),u+=n}))},symbolSize:function(e,t,n,o,r,i,a){var u=0;Ae.length=a;var s=we(e);t.eachNode((function(e){var t=xe(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=s;var n=Math.asin(t/2/o);isNaN(n)&&(n=Se/2),Ae[e.dataIndex]=n,u+=2*n}));var c=(2*Se-u)/a/2,l=0;t.eachNode((function(e){var t=c+Ae[e.dataIndex];l+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([o*Math.cos(l)+r,o*Math.sin(l)+i]),l+=t}))}};function _e(e,t,n,o){var r=e.getGraphicEl();if(r){var i=e.getModel().get(["label","rotate"])||0,a=r.getSymbolPath();if(t){var u=e.getLayout(),c=Math.atan2(u[1]-o,u[0]-n);c<0&&(c=2*Math.PI+c);var l=u[0]<n;l&&(c-=Math.PI);var d=l?"left":"right";a.setTextConfig({rotation:-c,position:d,origin:"center"});var f=a.ensureState("emphasis");s.extend(f.textConfig||(f.textConfig={}),{position:d})}else a.setTextConfig({rotation:i*=Math.PI/180})}}function Oe(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&Ce(e,"symbolSize")}))}var Ie=le.scaleAndAdd;var Te=n("3842");function Ee(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},o=e.getGraph(),r=o.data,i=o.edgeData,a=e.getModel("force"),u=a.get("initLayout");e.preservedPoints?r.each((function(e){var t=r.getId(e);r.setItemLayout(e,n[t]||[NaN,NaN])})):u&&"none"!==u?"circular"===u&&Ce(e,"value"):ve(e);var c=r.getDataExtent("value"),l=i.getDataExtent("value"),d=a.get("repulsion"),f=a.get("edgeLength"),m=s.isArray(d)?d:[d,d],p=s.isArray(f)?f:[f,f];p=[p[1],p[0]];var h=r.mapArray("value",(function(e,t){var n=r.getItemLayout(t),o=Object(Te.m)(e,c,m);return isNaN(o)&&(o=(m[0]+m[1])/2),{w:o,rep:o,fixed:r.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),g=i.mapArray("value",(function(t,n){var r=o.getEdgeByIndex(n),i=Object(Te.m)(t,l,p);isNaN(i)&&(i=(p[0]+p[1])/2);var a=r.getModel(),u=s.retrieve3(r.getModel().get(["lineStyle","curveness"]),-ge(r,e,n,!0),0);return{n1:h[r.node1.dataIndex],n2:h[r.node2.dataIndex],d:i,curveness:u,ignoreForceLayout:a.get("ignoreForceLayout")}})),v=t.getBoundingRect(),b=function(e,t,n){for(var o=e,r=t,i=n.rect,a=i.width,u=i.height,s=[i.x+a/2,i.y+u/2],c=null==n.gravity?.1:n.gravity,l=0;l<o.length;l++){var d=o[l];d.p||(d.p=le.create(a*(Math.random()-.5)+s[0],u*(Math.random()-.5)+s[1])),d.pp=le.clone(d.p),d.edges=null}var f,m,p=null==n.friction?.6:n.friction,h=p;return{warmUp:function(){h=.8*p},setFixed:function(e){o[e].fixed=!0},setUnfixed:function(e){o[e].fixed=!1},beforeStep:function(e){f=e},afterStep:function(e){m=e},step:function(e){f&&f(o,r);for(var t=[],n=o.length,i=0;i<r.length;i++){var a=r[i];if(!a.ignoreForceLayout){var u=a.n1,l=a.n2;le.sub(t,l.p,u.p);var d=le.len(t)-a.d,p=l.w/(u.w+l.w);isNaN(p)&&(p=0),le.normalize(t,t),!u.fixed&&Ie(u.p,u.p,t,p*d*h),!l.fixed&&Ie(l.p,l.p,t,-(1-p)*d*h)}}for(i=0;i<n;i++){(y=o[i]).fixed||(le.sub(t,s,y.p),Ie(y.p,y.p,t,c*h))}for(i=0;i<n;i++){u=o[i];for(var g=i+1;g<n;g++){l=o[g];le.sub(t,l.p,u.p),0===(d=le.len(t))&&(le.set(t,Math.random()-.5,Math.random()-.5),d=1);var v=(u.rep+l.rep)/d/d;!u.fixed&&Ie(u.pp,u.pp,t,v),!l.fixed&&Ie(l.pp,l.pp,t,-v)}}var b=[];for(i=0;i<n;i++){var y;(y=o[i]).fixed||(le.sub(b,y.p,y.pp),Ie(y.p,y.p,b,h),le.copy(y.pp,y.p))}var w=(h*=.992)<.01;m&&m(o,r,w),e&&e(w)}}}(h,g,{rect:v,gravity:a.get("gravity"),friction:a.get("friction")});b.beforeStep((function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].fixed&&le.copy(e[n].p,o.getNodeByIndex(n).getLayout())})),b.afterStep((function(e,t,i){for(var a=0,u=e.length;a<u;a++)e[a].fixed||o.getNodeByIndex(a).setLayout(e[a].p),n[r.getId(a)]=e[a].p;for(a=0,u=t.length;a<u;a++){var s=t[a],c=o.getEdgeByIndex(a),l=s.n1.p,d=s.n2.p,f=c.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],le.copy(f[0],l),le.copy(f[1],d),+s.curveness&&(f[2]=[(l[0]+d[0])/2-(l[1]-d[1])*s.curveness,(l[1]+d[1])/2-(d[0]-l[0])*s.curveness]),c.setLayout(f)}})),e.forceLayout=b,e.preservedPoints=n,b.step()}else e.forceLayout=null}))}var De=n("6cc5"),Re=n("f934"),Me=n("e263");function Pe(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var o=e.get("coordinateSystem");if(!o||"view"===o){var r=e.getData(),i=r.mapArray((function(e){var t=r.getItemModel(e);return[+t.get("x"),+t.get("y")]})),a=[],u=[];Me.d(i,a,u),u[0]-a[0]==0&&(u[0]+=1,a[0]-=1),u[1]-a[1]==0&&(u[1]+=1,a[1]-=1);var c=(u[0]-a[0])/(u[1]-a[1]),l=function(e,t,n){var o=Object(s.extend)(e.getBoxLayoutParams(),{aspect:n});return Object(Re.g)(o,{width:t.getWidth(),height:t.getHeight()})}(e,t,c);isNaN(c)&&(a=[l.x,l.y],u=[l.x+l.width,l.y+l.height]);var d=u[0]-a[0],f=u[1]-a[1],m=l.width,p=l.height,h=e.coordinateSystem=new De.a;h.zoomLimit=e.get("scaleLimit"),h.setBoundingRect(a[0],a[1],d,f),h.setViewRect(l.x,l.y,m,p),h.setCenter(e.get("center"),t),h.setZoom(e.get("zoom")),n.push(h)}})),n}var Be=n("f706"),Le=n("73ca"),Fe=n("4a01"),Ne=n("01ef"),je=n("c526"),ze=n("4a3f"),Ue=[],Ve=[],He=[],We=ze.h,Ge=le.distSquare,qe=Math.abs;function Ye(e,t,n){for(var o,r=e[0],i=e[1],a=e[2],u=1/0,s=n*n,c=.1,l=.1;l<=.9;l+=.1){Ue[0]=We(r[0],i[0],a[0],l),Ue[1]=We(r[1],i[1],a[1],l),(m=qe(Ge(Ue,t)-s))<u&&(u=m,o=l)}for(var d=0;d<32;d++){var f=o+c;Ve[0]=We(r[0],i[0],a[0],o),Ve[1]=We(r[1],i[1],a[1],o),He[0]=We(r[0],i[0],a[0],f),He[1]=We(r[1],i[1],a[1],f);var m=Ge(Ve,t)-s;if(qe(m)<.01)break;var p=Ge(He,t)-s;c/=2,m<0?p>=0?o+=c:o-=c:p>=0?o-=c:o+=c}return o}function Qe(e,t){var n=[],o=ze.n,r=[[],[],[]],i=[[],[]],a=[];t/=2,e.eachEdge((function(e,u){var s=e.getLayout(),c=e.getVisual("fromSymbol"),l=e.getVisual("toSymbol");s.__original||(s.__original=[le.clone(s[0]),le.clone(s[1])],s[2]&&s.__original.push(le.clone(s[2])));var d=s.__original;if(null!=s[2]){if(le.copy(r[0],d[0]),le.copy(r[1],d[2]),le.copy(r[2],d[1]),c&&"none"!==c){var f=xe(e.node1),m=Ye(r,d[0],f*t);o(r[0][0],r[1][0],r[2][0],m,n),r[0][0]=n[3],r[1][0]=n[4],o(r[0][1],r[1][1],r[2][1],m,n),r[0][1]=n[3],r[1][1]=n[4]}if(l&&"none"!==l){f=xe(e.node2),m=Ye(r,d[1],f*t);o(r[0][0],r[1][0],r[2][0],m,n),r[1][0]=n[1],r[2][0]=n[2],o(r[0][1],r[1][1],r[2][1],m,n),r[1][1]=n[1],r[2][1]=n[2]}le.copy(s[0],r[0]),le.copy(s[1],r[2]),le.copy(s[2],r[1])}else{if(le.copy(i[0],d[0]),le.copy(i[1],d[1]),le.sub(a,i[1],i[0]),le.normalize(a,a),c&&"none"!==c){f=xe(e.node1);le.scaleAndAdd(i[0],i[0],a,f*t)}if(l&&"none"!==l){f=xe(e.node2);le.scaleAndAdd(i[1],i[1],a,-f*t)}le.copy(s[0],i[0]),le.copy(s[1],i[1])}}))}function $e(e){return"view"===e.type}var Ke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.init=function(e,t){var n=new Be.a,o=new Le.a,r=this.group;this._controller=new Fe.a(t.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(o.group),this._symbolDraw=n,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,t,n){var o=this,r=e.coordinateSystem;this._model=e;var i=this._symbolDraw,a=this._lineDraw,u=this.group;if($e(r)){var s={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?u.attr(s):x.h(u,s,e)}Qe(e.getGraph(),we(e));var c=e.getData();i.updateData(c);var l=e.getEdgeData();a.updateData(l),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,f=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,f);var m=e.get("layout");c.graph.eachNode((function(t){var n=t.dataIndex,r=t.getGraphicEl(),i=t.getModel();if(r){r.off("drag").off("dragend");var a=i.get("draggable");a&&r.on("drag",(function(i){switch(m){case"force":d.warmUp(),!o._layouting&&o._startForceLayoutIteration(d,f),d.setFixed(n),c.setItemLayout(n,[r.x,r.y]);break;case"circular":c.setItemLayout(n,[r.x,r.y]),t.setLayout({fixed:!0},!0),Ce(e,"symbolSize",t,[i.offsetX,i.offsetY]),o.updateLayout(e);break;case"none":default:c.setItemLayout(n,[r.x,r.y]),be(e.getGraph(),e),o.updateLayout(e)}})).on("dragend",(function(){d&&d.setUnfixed(n)})),r.setDraggable(a,!!i.get("cursor")),"adjacency"===i.get(["emphasis","focus"])&&(Object(C.a)(r).focus=t.getAdjacentDataIndices())}})),c.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&(Object(C.a)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var p="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),h=c.getLayout("cx"),g=c.getLayout("cy");c.graph.eachNode((function(e){_e(e,p,h,g)})),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function o(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(o,16):o())}))}()},t.prototype._updateController=function(e,t,n){var o=this,r=this._controller,i=this._controllerHost,a=this.group;r.setPointerChecker((function(t,o,r){var i=a.getBoundingRect();return i.applyTransform(a.transform),i.contain(o,r)&&!Object(je.a)(t,n,e)})),$e(e.coordinateSystem)?(r.enable(e.get("roam")),i.zoomLimit=e.get("scaleLimit"),i.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(t){Ne.a(i,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Ne.b(i,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),o._updateNodeAndLinkScale(),Qe(e.getGraph(),we(e)),o._lineDraw.updateLayout(),n.updateLabelLayout()}))):r.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=we(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){Qe(e.getGraph(),we(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(E.a),Xe=n("b682"),Je=n("e0d3"),Ze=n("4319"),et=n("237f"),tt=n("c4a3"),nt=n("217c"),ot=n("f6d8"),rt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return Object(d.a)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function o(){return n._categoriesData}this.legendVisualProvider=new tt.a(o,o),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Object(Je.f)(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n,o=e.edges||e.links||[],r=e.data||e.nodes||[],i=this;if(r&&o){de(n=this)&&(n.__curvenessList=[],n.__edgeMap={},fe(n));var a=Object(et.a)(r,o,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=i._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=Ze.a.prototype.getModel;function o(e,t){var o=n.call(this,e,t);return o.resolveParentPath=r,o}function r(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=r,e.getModel=o,e}))}));return s.each(a.edges,(function(e){!function(e,t,n,o){if(de(n)){var r=me(e,t,n),i=n.__edgeMap,a=i[pe(r)];i[r]&&!a?i[r].isForward=!0:a&&i[r]&&(a.isForward=!0,i[r].isForward=!1),i[r]=i[r]||[],i[r].push(o)}}(e.node1,e.node2,this,e.dataIndex)}),this),a.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var o=this.getData(),r=this.getDataParams(e,n),i=o.graph.getEdgeByIndex(e),a=o.getName(i.node1.dataIndex),u=o.getName(i.node2.dataIndex),s=[];return null!=a&&s.push(a),null!=u&&s.push(u),Object(nt.c)("nameValue",{name:s.join(" > "),value:r.value,noValue:null==r.value})}return Object(ot.a)({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=s.map(this.option.categories||[],(function(e){return null!=e.value?e:s.extend({value:0},e)})),t=new Xe.a(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(f.b),it=n("d81e"),at={type:"graphRoam",event:"graphRoam",update:"none"};var ut=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},st=function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return Object(d.a)(t,e),t.prototype.getDefaultShape=function(){return new ut},t.prototype.buildPath=function(e,t){var n=Math.cos,o=Math.sin,r=t.r,i=t.width,a=t.angle,u=t.x-n(a)*i*(i>=r/3?1:2),s=t.y-o(a)*i*(i>=r/3?1:2);a=t.angle-Math.PI/2,e.moveTo(u,s),e.lineTo(t.x+n(a)*i,t.y+o(a)*i),e.lineTo(t.x+n(t.angle)*r,t.y+o(t.angle)*r),e.lineTo(t.x-n(a)*i,t.y-o(a)*i),e.lineTo(u,s)},t}(b.b),ct=n("cb11"),lt=n("76a5"),dt=n("a15a"),ft=n("0da8"),mt=n("20c8");function pt(e,t){var n=null==e?"":e+"";return t&&(Object(s.isString)(t)?n=t.replace("{value}",n):Object(s.isFunction)(t)&&(n=t(e))),n}var ht=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var o=e.get(["axisLine","lineStyle","color"]),r=function(e,t){var n=e.get("center"),o=t.getWidth(),r=t.getHeight(),i=Math.min(o,r);return{cx:Object(Te.q)(n[0],t.getWidth()),cy:Object(Te.q)(n[1],t.getHeight()),r:Object(Te.q)(e.get("radius"),i/2)}}(e,n);this._renderMain(e,t,n,o,r),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,o,r){var i=this.group,a=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,c=-e.get("endAngle")/180*Math.PI,l=e.getModel("axisLine"),d=l.get("roundCap")?T.a:A.a,f=l.get("show"),m=l.getModel("lineStyle"),p=m.get("width"),h=[u,c];Object(mt.b)(h,!a);for(var g=(c=h[1])-(u=h[0]),v=u,b=[],y=0;f&&y<o.length;y++){var w=new d({shape:{startAngle:v,endAngle:c=u+g*Math.min(Math.max(o[y][0],0),1),cx:r.cx,cy:r.cy,clockwise:a,r0:r.r-p,r:r.r},silent:!0});w.setStyle({fill:o[y][1]}),w.setStyle(m.getLineStyle(["color","width"])),b.push(w),v=c}b.reverse(),Object(s.each)(b,(function(e){return i.add(e)}));var x=function(e){if(e<=0)return o[0][1];var t;for(t=0;t<o.length;t++)if(o[t][0]>=e&&(0===t?0:o[t-1][0])<e)return o[t][1];return o[t-1][1]};this._renderTicks(e,t,n,x,r,u,c,a,p),this._renderTitleAndDetail(e,t,n,x,r),this._renderAnchor(e,r),this._renderPointer(e,t,n,x,r,u,c,a,p)},t.prototype._renderTicks=function(e,t,n,o,r,i,a,u,c){for(var l,d,f=this.group,m=r.cx,p=r.cy,h=r.r,g=+e.get("min"),v=+e.get("max"),b=e.getModel("splitLine"),y=e.getModel("axisTick"),w=e.getModel("axisLabel"),x=e.get("splitNumber"),S=y.get("splitNumber"),A=Object(Te.q)(b.get("length"),h),C=Object(Te.q)(y.get("length"),h),k=i,O=(a-i)/x,I=O/S,T=b.getModel("lineStyle").getLineStyle(),E=y.getModel("lineStyle").getLineStyle(),D=b.get("distance"),R=0;R<=x;R++){if(l=Math.cos(k),d=Math.sin(k),b.get("show")){var M=D?D+c:c,P=new ct.a({shape:{x1:l*(h-M)+m,y1:d*(h-M)+p,x2:l*(h-A-M)+m,y2:d*(h-A-M)+p},style:T,silent:!0});"auto"===T.stroke&&P.setStyle({stroke:o(R/x)}),f.add(P)}if(w.get("show")){M=w.get("distance")+D;var B=pt(Object(Te.w)(R/x*(v-g)+g),w.get("formatter")),L=o(R/x),F=l*(h-A-M)+m,N=d*(h-A-M)+p,j=w.get("rotate"),z=0;"radial"===j?(z=-k+2*Math.PI)>Math.PI/2&&(z+=Math.PI):"tangential"===j?z=-k-Math.PI/2:Object(s.isNumber)(j)&&(z=j*Math.PI/180),0===z?f.add(new lt.a({style:Object(_.c)(w,{text:B,x:F,y:N,verticalAlign:d<-.8?"top":d>.8?"bottom":"middle",align:l<-.4?"left":l>.4?"right":"center"},{inheritColor:L}),silent:!0})):f.add(new lt.a({style:Object(_.c)(w,{text:B,x:F,y:N,verticalAlign:"middle",align:"center"},{inheritColor:L}),silent:!0,originX:F,originY:N,rotation:z}))}if(y.get("show")&&R!==x){M=(M=y.get("distance"))?M+c:c;for(var U=0;U<=S;U++){l=Math.cos(k),d=Math.sin(k);var V=new ct.a({shape:{x1:l*(h-M)+m,y1:d*(h-M)+p,x2:l*(h-C-M)+m,y2:d*(h-C-M)+p},silent:!0,style:E});"auto"===E.stroke&&V.setStyle({stroke:o((R+U/S)/x)}),f.add(V),k+=I}k-=I}else k+=O}},t.prototype._renderPointer=function(e,t,n,o,r,i,a,u,c){var l=this.group,d=this._data,f=this._progressEls,m=[],p=e.get(["pointer","show"]),h=e.getModel("progress"),g=h.get("show"),v=e.getData(),b=v.mapDimension("value"),y=+e.get("min"),w=+e.get("max"),S=[y,w],_=[i,a];function O(t,n){var o,i=v.getItemModel(t).getModel("pointer"),a=Object(Te.q)(i.get("width"),r.r),u=Object(Te.q)(i.get("length"),r.r),s=e.get(["pointer","icon"]),c=i.get("offsetCenter"),l=Object(Te.q)(c[0],r.r),d=Object(Te.q)(c[1],r.r),f=i.get("keepAspect");return(o=s?Object(dt.a)(s,l-a/2,d-u,a,u,null,f):new st({shape:{angle:-Math.PI/2,width:a,r:u,x:l,y:d}})).rotation=-(n+Math.PI/2),o.x=r.cx,o.y=r.cy,o}function I(e,t){var n=h.get("roundCap")?T.a:A.a,o=h.get("overlap"),a=o?h.get("width"):c/v.count(),s=o?r.r-a:r.r-(e+1)*a,l=o?r.r:r.r-e*a,d=new n({shape:{startAngle:i,endAngle:t,cx:r.cx,cy:r.cy,clockwise:u,r0:s,r:l}});return o&&(d.z2=w-v.get(b,e)%w),d}(g||p)&&(v.diff(d).add((function(t){var n=v.get(b,t);if(p){var o=O(t,i);x.c(o,{rotation:-((isNaN(+n)?_[0]:Object(Te.m)(n,S,_,!0))+Math.PI/2)},e),l.add(o),v.setItemGraphicEl(t,o)}if(g){var r=I(t,i),a=h.get("clip");x.c(r,{shape:{endAngle:Object(Te.m)(n,S,_,a)}},e),l.add(r),Object(C.b)(e.seriesIndex,v.dataType,t,r),m[t]=r}})).update((function(t,n){var o=v.get(b,t);if(p){var r=d.getItemGraphicEl(n),a=r?r.rotation:i,u=O(t,a);u.rotation=a,x.h(u,{rotation:-((isNaN(+o)?_[0]:Object(Te.m)(o,S,_,!0))+Math.PI/2)},e),l.add(u),v.setItemGraphicEl(t,u)}if(g){var s=f[n],c=I(t,s?s.shape.endAngle:i),y=h.get("clip");x.h(c,{shape:{endAngle:Object(Te.m)(o,S,_,y)}},e),l.add(c),Object(C.b)(e.seriesIndex,v.dataType,t,c),m[t]=c}})).execute(),v.each((function(e){var t=v.getItemModel(e),n=t.getModel("emphasis"),r=n.get("focus"),i=n.get("blurScope"),a=n.get("disabled");if(p){var u=v.getItemGraphicEl(e),c=v.getItemVisual(e,"style"),l=c.fill;if(u instanceof ft.a){var d=u.style;u.useStyle(Object(s.extend)({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},c))}else u.useStyle(c),"pointer"!==u.type&&u.setColor(l);u.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===u.style.fill&&u.setStyle("fill",o(Object(Te.m)(v.get(b,e),S,[0,1],!0))),u.z2EmphasisLift=0,Object(k.I)(u,t),Object(k.J)(u,r,i,a)}if(g){var f=m[e];f.useStyle(v.getItemVisual(e,"style")),f.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),f.z2EmphasisLift=0,Object(k.I)(f,t),Object(k.J)(f,r,i,a)}})),this._progressEls=m)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");if(n.get("show")){var o=n.get("size"),r=n.get("icon"),i=n.get("offsetCenter"),a=n.get("keepAspect"),u=Object(dt.a)(r,t.cx-o/2+Object(Te.q)(i[0],t.r),t.cy-o/2+Object(Te.q)(i[1],t.r),o,o,null,a);u.z2=n.get("showAbove")?1:0,u.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(e,t,n,o,r){var i=this,a=e.getData(),u=a.mapDimension("value"),s=+e.get("min"),c=+e.get("max"),l=new y.a,d=[],f=[],m=e.isAnimationEnabled(),p=e.get(["pointer","showAbove"]);a.diff(this._data).add((function(e){d[e]=new lt.a({silent:!0}),f[e]=new lt.a({silent:!0})})).update((function(e,t){d[e]=i._titleEls[t],f[e]=i._detailEls[t]})).execute(),a.each((function(t){var n=a.getItemModel(t),i=a.get(u,t),h=new y.a,g=o(Object(Te.m)(i,[s,c],[0,1],!0)),v=n.getModel("title");if(v.get("show")){var b=v.get("offsetCenter"),w=r.cx+Object(Te.q)(b[0],r.r),x=r.cy+Object(Te.q)(b[1],r.r);(E=d[t]).attr({z2:p?0:2,style:Object(_.c)(v,{x:w,y:x,text:a.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:g})}),h.add(E)}var S=n.getModel("detail");if(S.get("show")){var A=S.get("offsetCenter"),C=r.cx+Object(Te.q)(A[0],r.r),k=r.cy+Object(Te.q)(A[1],r.r),O=Object(Te.q)(S.get("width"),r.r),I=Object(Te.q)(S.get("height"),r.r),T=e.get(["progress","show"])?a.getItemVisual(t,"style").fill:g,E=f[t],D=S.get("formatter");E.attr({z2:p?0:2,style:Object(_.c)(S,{x:C,y:k,text:pt(i,D),width:isNaN(O)?null:O,height:isNaN(I)?null:I,align:"center",verticalAlign:"middle"},{inheritColor:T})}),Object(_.h)(E,{normal:S},i,(function(e){return pt(e,D)})),m&&Object(_.a)(E,t,a,e,{getFormattedLabel:function(e,t,n,o,r,a){return pt(a?a.interpolatedValue:i,D)}}),h.add(E)}l.add(h)})),this.group.add(l),this._titleEls=d,this._detailEls=f},t.type="gauge",t}(E.a),gt=n("3f23"),vt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return Object(d.a)(t,e),t.prototype.getInitialData=function(e,t){return Object(gt.a)(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(f.b);var bt=n("d498"),yt=n("dce8"),wt=n("87b1"),xt=n("89b6"),St=["itemStyle","opacity"],At=function(e){function t(t,n){var o=e.call(this)||this,r=o,i=new bt.a,a=new lt.a;return r.setTextContent(a),o.setTextGuideLine(i),o.updateData(t,n,!0),o}return Object(d.a)(t,e),t.prototype.updateData=function(e,t,n){var o=e.hostModel,r=e.getItemModel(t),i=e.getItemLayout(t),a=r.getModel("emphasis"),u=r.get(St);u=null==u?1:u,n||Object(x.g)(this),this.useStyle(e.getItemVisual(t,"style")),this.style.lineJoin="round",n?(this.setShape({points:i.points}),this.style.opacity=0,x.c(this,{style:{opacity:u}},o,t)):x.h(this,{style:{opacity:u},shape:{points:i.points}},o,t),Object(k.I)(this,r),this._updateLabel(e,t),Object(k.J)(this,a.get("focus"),a.get("blurScope"),a.get("disabled"))},t.prototype._updateLabel=function(e,t){var n=this.getTextGuideLine(),o=this.getTextContent(),r=e.hostModel,i=e.getItemModel(t),a=e.getItemLayout(t).label,u=e.getItemVisual(t,"style"),s=u.fill;Object(_.g)(o,Object(_.e)(i),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:u.opacity,defaultText:e.getName(t)},{normal:{align:a.textAlign,verticalAlign:a.verticalAlign}}),this.setTextConfig({local:!0,inside:!!a.inside,insideStroke:s,outsideFill:s});var c=a.linePoints;n.setShape({points:c}),this.textGuideLineConfig={anchor:c?new yt.a(c[0][0],c[0][1]):null},x.h(o,{style:{x:a.x,y:a.y}},r,t),o.attr({rotation:a.rotation,originX:a.x,originY:a.y,z2:10}),Object(xt.d)(this,Object(xt.a)(i),{stroke:s})},t}(wt.a),Ct=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return Object(d.a)(t,e),t.prototype.render=function(e,t,n){var o=e.getData(),r=this._data,i=this.group;o.diff(r).add((function(e){var t=new At(o,e);o.setItemGraphicEl(e,t),i.add(t)})).update((function(e,t){var n=r.getItemGraphicEl(t);n.updateData(o,e),i.add(n),o.setItemGraphicEl(e,n)})).remove((function(t){var n=r.getItemGraphicEl(t);x.f(n,e,t)})).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(E.a),kt=n("0f99"),_t=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new tt.a(s.bind(this.getData,this),s.bind(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return Object(gt.a)(this,{coordDimensions:["value"],encodeDefaulter:s.curry(kt.d,this)})},t.prototype._defaultLabelLine=function(e){Object(Je.f)(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),o=e.prototype.getDataParams.call(this,t),r=n.mapDimension("value"),i=n.getSum(r);return o.percent=i?+(n.get(r,t)/i*100).toFixed(2):0,o.$vars.push("percent"),o},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(f.b);function Ot(e,t){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),o=n.mapDimension("value"),r=e.get("sort"),i=function(e,t){return Re.g(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),a=e.get("orient"),u=i.width,c=i.height,l=function(e,t){for(var n=e.mapDimension("value"),o=e.mapArray(n,(function(e){return e})),r=[],i="ascending"===t,a=0,u=e.count();a<u;a++)r[a]=a;return Object(s.isFunction)(t)?r.sort(t):"none"!==t&&r.sort((function(e,t){return i?o[e]-o[t]:o[t]-o[e]})),r}(n,r),d=i.x,f=i.y,m="horizontal"===a?[Object(Te.q)(e.get("minSize"),c),Object(Te.q)(e.get("maxSize"),c)]:[Object(Te.q)(e.get("minSize"),u),Object(Te.q)(e.get("maxSize"),u)],p=n.getDataExtent(o),h=e.get("min"),g=e.get("max");null==h&&(h=Math.min(p[0],0)),null==g&&(g=p[1]);var v=e.get("funnelAlign"),b=e.get("gap"),y=(("horizontal"===a?u:c)-b*(n.count()-1))/n.count(),w=function(e,t){if("horizontal"===a){var r=n.get(o,e)||0,i=Object(Te.m)(r,[h,g],m,!0),s=void 0;switch(v){case"top":s=f;break;case"center":s=f+(c-i)/2;break;case"bottom":s=f+(c-i)}return[[t,s],[t,s+i]]}var l,p=n.get(o,e)||0,b=Object(Te.m)(p,[h,g],m,!0);switch(v){case"left":l=d;break;case"center":l=d+(u-b)/2;break;case"right":l=d+u-b}return[[l,t],[l+b,t]]};"ascending"===r&&(y=-y,b=-b,"horizontal"===a?d+=u:f+=c,l=l.reverse());for(var x=0;x<l.length;x++){var S=l[x],A=l[x+1],C=n.getItemModel(S);if("horizontal"===a){var k=C.get(["itemStyle","width"]);null==k?k=y:(k=Object(Te.q)(k,u),"ascending"===r&&(k=-k));var _=w(S,d),O=w(A,d+k);d+=k+b,n.setItemLayout(S,{points:_.concat(O.slice().reverse())})}else{var I=C.get(["itemStyle","height"]);null==I?I=y:(I=Object(Te.q)(I,c),"ascending"===r&&(I=-I));_=w(S,f),O=w(A,f+I);f+=I+b,n.setItemLayout(S,{points:_.concat(O.slice().reverse())})}}!function(e){var t=e.hostModel.get("orient");e.each((function(n){var o,r,i,a,u=e.getItemModel(n),s=u.getModel("label").get("position"),c=u.getModel("labelLine"),l=e.getItemLayout(n),d=l.points,f="inner"===s||"inside"===s||"center"===s||"insideLeft"===s||"insideRight"===s;if(f)"insideLeft"===s?(r=(d[0][0]+d[3][0])/2+5,i=(d[0][1]+d[3][1])/2,o="left"):"insideRight"===s?(r=(d[1][0]+d[2][0])/2-5,i=(d[1][1]+d[2][1])/2,o="right"):(r=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,i=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,o="center"),a=[[r,i],[r,i]];else{var m=void 0,p=void 0,h=void 0,g=void 0,v=c.get("length");0,"left"===s?(m=(d[3][0]+d[0][0])/2,p=(d[3][1]+d[0][1])/2,r=(h=m-v)-5,o="right"):"right"===s?(m=(d[1][0]+d[2][0])/2,p=(d[1][1]+d[2][1])/2,r=(h=m+v)+5,o="left"):"top"===s?(m=(d[3][0]+d[0][0])/2,i=(g=(p=(d[3][1]+d[0][1])/2)-v)-5,o="center"):"bottom"===s?(m=(d[1][0]+d[2][0])/2,i=(g=(p=(d[1][1]+d[2][1])/2)+v)+5,o="center"):"rightTop"===s?(m="horizontal"===t?d[3][0]:d[1][0],p="horizontal"===t?d[3][1]:d[1][1],"horizontal"===t?(i=(g=p-v)-5,o="center"):(r=(h=m+v)+5,o="top")):"rightBottom"===s?(m=d[2][0],p=d[2][1],"horizontal"===t?(i=(g=p+v)+5,o="center"):(r=(h=m+v)+5,o="bottom")):"leftTop"===s?(m=d[0][0],p="horizontal"===t?d[0][1]:d[1][1],"horizontal"===t?(i=(g=p-v)-5,o="center"):(r=(h=m-v)-5,o="right")):"leftBottom"===s?(m="horizontal"===t?d[1][0]:d[3][0],p="horizontal"===t?d[1][1]:d[2][1],"horizontal"===t?(i=(g=p+v)+5,o="center"):(r=(h=m-v)-5,o="right")):(m=(d[1][0]+d[2][0])/2,p=(d[1][1]+d[2][1])/2,"horizontal"===t?(i=(g=p+v)+5,o="center"):(r=(h=m+v)+5,o="left")),"horizontal"===t?r=h=m:i=g=p,a=[[m,p],[h,g]]}l.label={linePoints:a,x:r,y:i,verticalAlign:"middle",textAlign:o,inside:f}}))}(n)}))}var It=n("d3f4");var Tt=n("7b72"),Et=n("10e8e"),Dt=n("2f45"),Rt=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,o,r=t.getComponent("xAxis",this.get("xAxisIndex")),i=t.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),u=i.get("type");"category"===a?(e.layout="horizontal",n=r.getOrdinalMeta(),o=!0):"category"===u?(e.layout="vertical",n=i.getOrdinalMeta(),o=!0):e.layout=e.layout||"horizontal";var c=["x","y"],l="horizontal"===e.layout?0:1,d=this._baseAxisDim=c[l],f=c[1-l],m=[r,i],p=m[l].get("type"),h=m[1-l].get("type"),g=e.data;if(g&&o){var v=[];s.each(g,(function(e,t){var n;s.isArray(e)?(n=e.slice(),e.unshift(t)):s.isArray(e.value)?((n=s.extend({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,v.push(n)})),e.data=v}var b=this.defaultValueDimensions,y=[{name:d,type:Object(Dt.a)(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:Object(Dt.a)(h),dimsDef:b.slice()}];return Object(gt.a)(this,{coordDimensions:y,dimensionsCount:b.length+1,encodeDefaulter:s.curry(kt.c,y,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),Mt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return Object(d.a)(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(f.b);Object(s.mixin)(Mt,Rt,!0);var Pt=Mt,Bt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.render=function(e,t,n){var o=e.getData(),r=this.group,i=this._data;this._data||r.removeAll();var a="horizontal"===e.get("layout")?1:0;o.diff(i).add((function(e){if(o.hasValue(e)){var t=Nt(o.getItemLayout(e),o,e,a,!0);o.setItemGraphicEl(e,t),r.add(t)}})).update((function(e,t){var n=i.getItemGraphicEl(t);if(o.hasValue(e)){var u=o.getItemLayout(e);n?(Object(x.g)(n),jt(u,n,o,e)):n=Nt(u,o,e,a),r.add(n),o.setItemGraphicEl(e,n)}else r.remove(n)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=o},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(E.a),Lt=function(){},Ft=function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return Object(d.a)(t,e),t.prototype.getDefaultShape=function(){return new Lt},t.prototype.buildPath=function(e,t){var n=t.points,o=0;for(e.moveTo(n[o][0],n[o][1]),o++;o<4;o++)e.lineTo(n[o][0],n[o][1]);for(e.closePath();o<n.length;o++)e.moveTo(n[o][0],n[o][1]),o++,e.lineTo(n[o][0],n[o][1])},t}(b.b);function Nt(e,t,n,o,r){var i=e.ends,a=new Ft({shape:{points:r?zt(i,o,e):i}});return jt(e,a,t,n,r),a}function jt(e,t,n,o,r){var i=n.hostModel;(0,w[r?"initProps":"updateProps"])(t,{shape:{points:e.ends}},i,o),t.useStyle(n.getItemVisual(o,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=n.getItemModel(o),u=a.getModel("emphasis");Object(k.I)(t,a),Object(k.J)(t,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function zt(e,t,n){return s.map(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}var Ut=Bt,Vt=s.each;function Ht(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var o=e.getBaseAxis(),r=s.indexOf(n,o);r<0&&(r=n.length,n[r]=o,t[r]={axis:o,seriesModels:[]}),t[r].seriesModels.push(e)})),t}(e);Vt(t,(function(e){var t=e.seriesModels;t.length&&(!function(e){var t,n=e.axis,o=e.seriesModels,r=o.length,i=e.boxWidthList=[],a=e.boxOffsetList=[],u=[];if("category"===n.type)t=n.getBandWidth();else{var c=0;Vt(o,(function(e){c=Math.max(c,e.getData().count())}));var l=n.getExtent();t=Math.abs(l[1]-l[0])/c}Vt(o,(function(e){var n=e.get("boxWidth");s.isArray(n)||(n=[n,n]),u.push([Object(Te.q)(n[0],t)||0,Object(Te.q)(n[1],t)||0])}));var d=.8*t-2,f=d/r*.3,m=(d-f*(r-1))/r,p=m/2-d/2;Vt(o,(function(e,t){a.push(p),p+=f+m,i.push(Math.min(Math.max(m,u[t][0]),u[t][1]))}))}(e),Vt(t,(function(t,n){!function(e,t,n){var o=e.coordinateSystem,r=e.getData(),i=n/2,a="horizontal"===e.get("layout")?0:1,u=1-a,s=["x","y"],c=r.mapDimension(s[a]),l=r.mapDimensionsAll(s[u]);if(null==c||l.length<5)return;for(var d=0;d<r.count();d++){var f=r.get(c,d),m=y(f,l[2],d),p=y(f,l[0],d),h=y(f,l[1],d),g=y(f,l[3],d),v=y(f,l[4],d),b=[];w(b,h,!1),w(b,g,!0),b.push(p,h,v,g),x(b,p),x(b,v),x(b,m),r.setItemLayout(d,{initBaseline:m[u],ends:b})}function y(e,n,i){var s,c=r.get(n,i),l=[];return l[a]=e,l[u]=c,isNaN(e)||isNaN(c)?s=[NaN,NaN]:(s=o.dataToPoint(l))[a]+=t,s}function w(e,t,n){var o=t.slice(),r=t.slice();o[a]+=i,r[a]-=i,n?e.push(o,r):e.push(r,o)}function x(e,t){var n=t.slice(),o=t.slice();n[a]-=i,o[a]+=i,e.push(n,o)}}(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}var Wt=n("edae"),Gt=n("07fd"),qt={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Gt.c){0,Object(Wt.c)("")}var n=function(e,t){for(var n=[],o=[],r=(t=t||{}).boundIQR,i="none"===r||0===r,a=0;a<e.length;a++){var u=Object(Te.c)(e[a].slice()),c=Object(Te.r)(u,.25),l=Object(Te.r)(u,.5),d=Object(Te.r)(u,.75),f=u[0],m=u[u.length-1],p=(null==r?1.5:r)*(d-c),h=i?f:Math.max(f,c-p),g=i?m:Math.min(m,d+p),v=t.itemNameFormatter,b=Object(s.isFunction)(v)?v({value:a}):Object(s.isString)(v)?v.replace("{value}",a+""):a+"";n.push([b,h,c,l,d,g]);for(var y=0;y<u.length;y++){var w=u[y];if(w<h||w>g){var x=[b,w];o.push(x)}}}return{boxData:n,outliers:o}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};var Yt=["color","borderColor"],Qt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){w.traverseElements(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,o=this.group,r=t.getLayout("isSimpleBox"),i=e.get("clip",!0),a=e.coordinateSystem,u=a.getArea&&a.getArea();this._data||o.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var a=t.getItemLayout(n);if(i&&Jt(u,a))return;var s=Xt(a,n,!0);x.c(s,{shape:{points:a.ends}},e,n),Zt(s,t,n,r),o.add(s),t.setItemGraphicEl(n,s)}})).update((function(a,s){var c=n.getItemGraphicEl(s);if(t.hasValue(a)){var l=t.getItemLayout(a);i&&Jt(u,l)?o.remove(c):(c?(x.h(c,{shape:{points:l.ends}},e,a),Object(x.g)(c)):c=Xt(l,a),Zt(c,t,a,r),o.add(c),t.setItemGraphicEl(a,c))}else o.remove(c)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&o.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),on(e,this.group);var t=e.get("clip",!0)?Object(I.a)(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,o=t.getData(),r=o.getLayout("isSimpleBox");null!=(n=e.next());){var i=Xt(o.getItemLayout(n),n);Zt(i,o,n,r),i.incremental=!0,this.group.add(i),this._progressiveEls.push(i)}},t.prototype._incrementalRenderLarge=function(e,t){on(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(E.a),$t=function(){},Kt=function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return Object(d.a)(t,e),t.prototype.getDefaultShape=function(){return new $t},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(b.b);function Xt(e,t,n){var o=e.ends;return new Kt({shape:{points:n?en(o,e):o},z2:100})}function Jt(e,t){for(var n=!0,o=0;o<t.ends.length;o++)if(e.contain(t.ends[o][0],t.ends[o][1])){n=!1;break}return n}function Zt(e,t,n,o){var r=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=o,Object(k.I)(e,r)}function en(e,t){return s.map(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var tn=function(){},nn=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return Object(d.a)(t,e),t.prototype.getDefaultShape=function(){return new tn},t.prototype.buildPath=function(e,t){for(var n=t.points,o=0;o<n.length;)if(this.__sign===n[o++]){var r=n[o++];e.moveTo(r,n[o++]),e.lineTo(r,n[o++])}else o+=3},t}(b.b);function on(e,t,n,o){var r=e.getData(),i=r.getLayout("largePoints"),a=new nn({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});t.add(a);var u=new nn({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});t.add(u);var s=new nn({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});t.add(s),rn(1,a,e,r),rn(-1,u,e,r),rn(0,s,e,r),o&&(a.incremental=!0,u.incremental=!0),n&&n.push(a,u)}function rn(e,t,n,o){var r=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]);0===e&&(r=n.get(["itemStyle","borderColorDoji"]));var i=n.getModel("itemStyle").getItemStyle(Yt);t.useStyle(i),t.style.fill=null,t.style.stroke=r}var an=Qt,un=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return Object(d.a)(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var o=t.getItemLayout(e);return o&&n.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(f.b);Object(s.mixin)(un,Rt,!0);var sn=un;function cn(e){e&&s.isArray(e.series)&&s.each(e.series,(function(e){s.isObject(e)&&"k"===e.type&&(e.type="candlestick")}))}var ln=n("cccd"),dn=["itemStyle","borderColor"],fn=["itemStyle","borderColor0"],mn=["itemStyle","borderColorDoji"],pn=["itemStyle","color"],hn=["itemStyle","color0"],gn={seriesType:"candlestick",plan:Object(ln.a)(),performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?pn:hn)}function o(e,t){return t.get(0===e?mn:e>0?dn:fn)}if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var r;null!=(r=e.next());){var i=t.getItemModel(r),a=t.getItemLayout(r).sign,u=i.getItemStyle();u.fill=n(a,i),u.stroke=o(a,i)||u.fill;var c=t.ensureUniqueItemVisual(r,"style");Object(s.extend)(c,u)}}}}},vn=n("f658");function bn(e,t,n,o,r,i){return n>o?-1:n<o?1:i?0:t>0?e.get(r,t-1)<=o?1:-1:1}var yn={seriesType:"candlestick",plan:Object(ln.a)(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),o=function(e,t){var n,o=e.getBaseAxis(),r="category"===o.type?o.getBandWidth():(n=o.getExtent(),Math.abs(n[1]-n[0])/t.count()),i=Object(Te.q)(Object(s.retrieve2)(e.get("barMaxWidth"),r),r),a=Object(Te.q)(Object(s.retrieve2)(e.get("barMinWidth"),1),r),u=e.get("barWidth");return null!=u?Object(Te.q)(u,r):Math.max(Math.min(r/2,i),a)}(e,n),r=["x","y"],i=n.getDimensionIndex(n.mapDimension(r[0])),a=Object(s.map)(n.mapDimensionsAll(r[1]),n.getDimensionIndex,n),u=a[0],c=a[1],l=a[2],d=a[3];if(n.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),!(i<0||a.length<4))return{progress:e.pipelineContext.large?function(n,o){var r,a,s=Object(vn.a)(4*n.count),f=0,m=[],p=[],h=o.getStore(),g=!!e.get(["itemStyle","borderColorDoji"]);for(;null!=(a=n.next());){var v=h.get(i,a),b=h.get(u,a),y=h.get(c,a),w=h.get(l,a),x=h.get(d,a);isNaN(v)||isNaN(w)||isNaN(x)?(s[f++]=NaN,f+=3):(s[f++]=bn(h,a,b,y,c,g),m[0]=v,m[1]=w,r=t.dataToPoint(m,null,p),s[f++]=r?r[0]:NaN,s[f++]=r?r[1]:NaN,m[1]=x,r=t.dataToPoint(m,null,p),s[f++]=r?r[1]:NaN)}o.setLayout("largePoints",s)}:function(e,n){var r,a=n.getStore();for(;null!=(r=e.next());){var s=a.get(i,r),f=a.get(u,r),m=a.get(c,r),p=a.get(l,r),h=a.get(d,r),g=Math.min(f,m),v=Math.max(f,m),b=k(g,s),y=k(v,s),x=k(p,s),S=k(h,s),A=[];_(A,y,0),_(A,b,1),A.push(I(S),I(y),I(x),I(b));var C=!!n.getItemModel(r).get(["itemStyle","borderColorDoji"]);n.setItemLayout(r,{sign:bn(a,r,f,m,c,C),initBaseline:f>m?y[1]:b[1],ends:A,brushRect:O(p,h,s)})}function k(e,n){var o=[];return o[0]=n,o[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(o)}function _(e,t,n){var r=t.slice(),i=t.slice();r[0]=Object(w.subPixelOptimize)(r[0]+o/2,1,!1),i[0]=Object(w.subPixelOptimize)(i[0]-o/2,1,!0),n?e.push(r,i):e.push(i,r)}function O(e,t,n){var r=k(e,n),i=k(t,n);return r[0]-=o/2,i[0]-=o/2,{x:r[0],y:r[1],width:o,height:i[1]-r[1]}}function I(e){return e[0]=Object(w.subPixelOptimize)(e[0],1),e}}}}};var wn=n("1418");function xn(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}var Sn=function(e){function t(t,n){var o=e.call(this)||this,r=new wn.a(t,n),i=new y.a;return o.add(r),o.add(i),o.updateData(t,n),o}return Object(d.a)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,o=e.rippleNumber,r=this.childAt(1),i=0;i<o;i++){var a=Object(dt.a)(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-i/o*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),r.add(a)}xn(r,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],r=0;r<o.length;r++){var i=o[r];if(t[i]!==e[i])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}xn(n,e)},t.prototype.highlight=function(){Object(k.r)(this)},t.prototype.downplay=function(){Object(k.C)(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var n=this,o=e.hostModel;this.childAt(0).updateData(e,t);var r=this.childAt(1),i=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),u=Object(dt.c)(e.getItemVisual(t,"symbolSize")),s=e.getItemVisual(t,"style"),c=s&&s.fill,l=i.getModel("emphasis");r.setScale(u),r.traverse((function(e){e.setStyle("fill",c)}));var d=Object(dt.b)(e.getItemVisual(t,"symbolOffset"),u);d&&(r.x=d[0],r.y=d[1]);var f=e.getItemVisual(t,"symbolRotate");r.rotation=(f||0)*Math.PI/180||0;var m={};m.showEffectOn=o.get("showEffectOn"),m.rippleScale=i.get(["rippleEffect","scale"]),m.brushType=i.get(["rippleEffect","brushType"]),m.period=1e3*i.get(["rippleEffect","period"]),m.effectOffset=t/e.count(),m.z=o.getShallow("z")||0,m.zlevel=o.getShallow("zlevel")||0,m.symbolType=a,m.color=c,m.rippleEffectColor=i.get(["rippleEffect","color"]),m.rippleNumber=i.get(["rippleEffect","number"]),"render"===m.showEffectOn?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==m.showEffectOn&&n.startEffectAnimation(m):"normal"===e&&"render"!==m.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=m,Object(k.J)(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(y.a),An=n("1687"),Cn=n("87c3"),kn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.init=function(){this._symbolDraw=new Be.a(Sn)},t.prototype.render=function(e,t,n){var o=e.getData(),r=this._symbolDraw;r.updateData(o,{clipShape:this._getClipShape(e)}),this.group.add(r.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var o=e.getData();this.group.dirty();var r=Object(Cn.a)("").reset(e,t,n);r.progress&&r.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=An.clone(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(E.a),_n=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return Object(d.a)(t,e),t.prototype.getInitialData=function(e,t){return Object(m.a)(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(f.b);var On=n("14bf"),In=n("726e"),Tn=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=In.d.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,o,r,i){var a=this._getBrush(),u=this._getGradient(r,"inRange"),s=this._getGradient(r,"outOfRange"),c=this.pointSize+this.blurSize,l=this.canvas,d=l.getContext("2d"),f=e.length;l.width=t,l.height=n;for(var m=0;m<f;++m){var p=e[m],h=p[0],g=p[1],v=o(p[2]);d.globalAlpha=v,d.drawImage(a,h-c,g-c)}if(!l.width||!l.height)return l;for(var b=d.getImageData(0,0,l.width,l.height),y=b.data,w=0,x=y.length,S=this.minOpacity,A=this.maxOpacity-S;w<x;){v=y[w+3]/256;var C=4*Math.floor(255*v);if(v>0){var k=i(v)?u:s;v>0&&(v=v*A+S),y[w++]=k[C],y[w++]=k[C+1],y[w++]=k[C+2],y[w++]=k[C+3]*v*256}else w+=4}return d.putImageData(b,0,0),l},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=In.d.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var o=e.getContext("2d");return o.clearRect(0,0,n,n),o.shadowOffsetX=n,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-t,t,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,o=n[t]||(n[t]=new Uint8ClampedArray(1024)),r=[0,0,0,0],i=0,a=0;a<256;a++)e[t](a/255,!0,r),o[i++]=r[0],o[i++]=r[1],o[i++]=r[2],o[i++]=r[3];return o},e}();function En(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Dn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.render=function(e,t,n){var o;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(o=t)}))})),this._progressiveEls=null,this.group.removeAll();var r=e.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):En(r)&&this._renderOnGeo(r,e,o,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,o){var r=t.coordinateSystem;r&&(En(r)?this.render(t,n,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,o,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){w.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,o,r){var i,a,u,s,c=e.coordinateSystem,l=Object(D.a)(c,"cartesian2d");if(l){var d=c.getAxis("x"),f=c.getAxis("y");0,i=d.getBandWidth()+.5,a=f.getBandWidth()+.5,u=d.scale.getExtent(),s=f.scale.getExtent()}for(var m=this.group,p=e.getData(),h=e.getModel(["emphasis","itemStyle"]).getItemStyle(),g=e.getModel(["blur","itemStyle"]).getItemStyle(),v=e.getModel(["select","itemStyle"]).getItemStyle(),b=e.get(["itemStyle","borderRadius"]),y=Object(_.e)(e),w=e.getModel("emphasis"),x=w.get("focus"),A=w.get("blurScope"),C=w.get("disabled"),O=l?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],I=n;I<o;I++){var T=void 0,E=p.getItemVisual(I,"style");if(l){var R=p.get(O[0],I),M=p.get(O[1],I);if(isNaN(p.get(O[2],I))||isNaN(R)||isNaN(M)||R<u[0]||R>u[1]||M<s[0]||M>s[1])continue;var P=c.dataToPoint([R,M]);T=new S.a({shape:{x:P[0]-i/2,y:P[1]-a/2,width:i,height:a},style:E})}else{if(isNaN(p.get(O[1],I)))continue;T=new S.a({z2:1,shape:c.dataToRect([p.get(O[0],I)]).contentShape,style:E})}if(p.hasItemOption){var B=p.getItemModel(I),L=B.getModel("emphasis");h=L.getModel("itemStyle").getItemStyle(),g=B.getModel(["blur","itemStyle"]).getItemStyle(),v=B.getModel(["select","itemStyle"]).getItemStyle(),b=B.get(["itemStyle","borderRadius"]),x=L.get("focus"),A=L.get("blurScope"),C=L.get("disabled"),y=Object(_.e)(B)}T.shape.r=b;var F=e.getRawValue(I),N="-";F&&null!=F[2]&&(N=F[2]+""),Object(_.g)(T,y,{labelFetcher:e,labelDataIndex:I,defaultOpacity:E.opacity,defaultText:N}),T.ensureState("emphasis").style=h,T.ensureState("blur").style=g,T.ensureState("select").style=v,Object(k.J)(T,x,A,C),T.incremental=r,r&&(T.states.emphasis.hoverLayer=!0),m.add(T),p.setItemGraphicEl(I,T),this._progressiveEls&&this._progressiveEls.push(T)}},t.prototype._renderOnGeo=function(e,t,n,o){var r=n.targetVisuals.inRange,i=n.targetVisuals.outOfRange,a=t.getData(),u=this._hmLayer||this._hmLayer||new Tn;u.blurSize=t.get("blurSize"),u.pointSize=t.get("pointSize"),u.minOpacity=t.get("minOpacity"),u.maxOpacity=t.get("maxOpacity");var c=e.getViewRect().clone(),l=e.getRoamTransform();c.applyTransform(l);var d=Math.max(c.x,0),f=Math.max(c.y,0),m=Math.min(c.width+c.x,o.getWidth()),p=Math.min(c.height+c.y,o.getHeight()),h=m-d,g=p-f,v=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],b=a.mapArray(v,(function(t,n,o){var r=e.dataToPoint([t,n]);return r[0]-=d,r[1]-=f,r.push(o),r})),y=n.getExtent(),w="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(y,n.option.range):function(e,t,n){var o=e[1]-e[0],r=(t=s.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/o,(t.interval[1]-e[0])/o]}}))).length,i=0;return function(e){var o;for(o=i;o<r;o++){if((a=t[o].interval)[0]<=e&&e<=a[1]){i=o;break}}if(o===r)for(o=i-1;o>=0;o--){var a;if((a=t[o].interval)[0]<=e&&e<=a[1]){i=o;break}}return o>=0&&o<r&&n[o]}}(y,n.getPieceList(),n.option.selected);u.update(b,h,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:i.color.getColorMapper()},w);var x=new ft.a({style:{width:h,height:g,x:d,y:f,image:u.canvas},silent:!0});this.group.add(x)},t.type="heatmap",t}(E.a),Rn=n("1f39"),Mn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.getInitialData=function(e,t){return Object(m.a)(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Rn.a.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(f.b);var Pn=n("d9fc"),Bn=["itemStyle","borderWidth"],Ln=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Fn=new Pn.a;function Nn(e,t,n,o){var r=e.getItemLayout(t),i=n.get("symbolRepeat"),a=n.get("symbolClip"),u=n.get("symbolPosition")||"start",c=(n.get("symbolRotate")||0)*Math.PI/180||0,l=n.get("symbolPatternSize")||2,d=n.isAnimationEnabled(),f={dataIndex:t,layout:r,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:i,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:c,animationModel:d?n:null,hoverScale:d&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(e,t,n,o,r){var i,a=o.valueDim,u=e.get("symbolBoundingData"),c=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),l=c.toGlobalCoord(c.dataToCoord(0)),d=1-+(n[a.wh]<=0);if(s.isArray(u)){var f=[jn(c,u[0])-l,jn(c,u[1])-l];f[1]<f[0]&&f.reverse(),i=f[d]}else i=null!=u?jn(c,u)-l:t?o.coordSysExtent[a.index][d]-l:n[a.wh];r.boundingLength=i,t&&(r.repeatCutLength=n[a.wh]);r.pxSign=i>0?1:-1}(n,i,r,o,f),function(e,t,n,o,r,i,a,u,c,l){var d,f=c.valueDim,m=c.categoryDim,p=Math.abs(n[m.wh]),h=e.getItemVisual(t,"symbolSize");d=s.isArray(h)?h.slice():null==h?["100%","100%"]:[h,h];d[m.index]=Object(Te.q)(d[m.index],p),d[f.index]=Object(Te.q)(d[f.index],o?p:Math.abs(i)),l.symbolSize=d,(l.symbolScale=[d[0]/u,d[1]/u])[f.index]*=(c.isHorizontal?-1:1)*a}(e,t,r,i,0,f.boundingLength,f.pxSign,l,o,f),function(e,t,n,o,r){var i=e.get(Bn)||0;i&&(Fn.attr({scaleX:t[0],scaleY:t[1],rotation:n}),Fn.updateTransform(),i/=Fn.getLineScale(),i*=t[o.valueDim.index]);r.valueLineWidth=i||0}(n,f.symbolScale,c,o,f);var m=f.symbolSize,p=Object(dt.b)(n.get("symbolOffset"),m);return function(e,t,n,o,r,i,a,u,c,l,d,f){var m=d.categoryDim,p=d.valueDim,h=f.pxSign,g=Math.max(t[p.index]+u,0),v=g;if(o){var b=Math.abs(c),y=s.retrieve(e.get("symbolMargin"),"15%")+"",w=!1;y.lastIndexOf("!")===y.length-1&&(w=!0,y=y.slice(0,y.length-1));var x=Object(Te.q)(y,t[p.index]),S=Math.max(g+2*x,0),A=w?0:2*x,C=Object(Te.k)(o),k=C?o:eo((b+A)/S);x=(b-k*g)/2/(w?k:Math.max(k-1,1)),S=g+2*x,A=w?0:2*x,C||"fixed"===o||(k=l?eo((Math.abs(l)+A)/S):0),v=k*S-A,f.repeatTimes=k,f.symbolMargin=x}var _=h*(v/2),O=f.pathPosition=[];O[m.index]=n[m.wh]/2,O[p.index]="start"===a?_:"end"===a?c-_:c/2,i&&(O[0]+=i[0],O[1]+=i[1]);var I=f.bundlePosition=[];I[m.index]=n[m.xy],I[p.index]=n[p.xy];var T=f.barRectShape=s.extend({},n);T[p.wh]=h*Math.max(Math.abs(n[p.wh]),Math.abs(O[p.index]+_)),T[m.wh]=n[m.wh];var E=f.clipShape={};E[m.xy]=-n[m.xy],E[m.wh]=d.ecSize[m.wh],E[p.xy]=0,E[p.wh]=n[p.wh]}(n,m,r,i,0,p,u,f.valueLineWidth,f.boundingLength,f.repeatCutLength,o,f),f}function jn(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function zn(e){var t=e.symbolPatternSize,n=Object(dt.a)(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Un(e,t,n,o){var r=e.__pictorialBundle,i=n.symbolSize,a=n.valueLineWidth,u=n.pathPosition,s=t.valueDim,c=n.repeatTimes||0,l=0,d=i[t.valueDim.index]+a+2*n.symbolMargin;for(Xn(e,(function(e){e.__pictorialAnimationIndex=l,e.__pictorialRepeatTimes=c,l<c?Jn(e,null,p(l),n,o):Jn(e,null,{scaleX:0,scaleY:0},n,o,(function(){r.remove(e)})),l++}));l<c;l++){var f=zn(n);f.__pictorialAnimationIndex=l,f.__pictorialRepeatTimes=c,r.add(f);var m=p(l);Jn(f,{x:m.x,y:m.y,scaleX:0,scaleY:0},{scaleX:m.scaleX,scaleY:m.scaleY,rotation:m.rotation},n,o)}function p(e){var t=u.slice(),o=n.pxSign,r=e;return("start"===n.symbolRepeatDirection?o>0:o<0)&&(r=c-1-e),t[s.index]=d*(r-c/2+.5)+u[s.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function Vn(e,t,n,o){var r=e.__pictorialBundle,i=e.__pictorialMainPath;i?Jn(i,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,o):(i=e.__pictorialMainPath=zn(n),r.add(i),Jn(i,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,o))}function Hn(e,t,n){var o=s.extend({},t.barRectShape),r=e.__pictorialBarRect;r?Jn(r,null,{shape:o},t,n):((r=e.__pictorialBarRect=new S.a({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(r))}function Wn(e,t,n,o){if(n.symbolClip){var r=e.__pictorialClipPath,i=s.extend({},n.clipShape),a=t.valueDim,u=n.animationModel,c=n.dataIndex;if(r)x.h(r,{shape:i},u,c);else{i[a.wh]=0,r=new S.a({shape:i}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r;var l={};l[a.wh]=n.clipShape[a.wh],w[o?"updateProps":"initProps"](r,{shape:l},u,c)}}}function Gn(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=qn,n.isAnimationEnabled=Yn,n}function qn(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function Yn(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Qn(e,t,n,o){var r=new y.a,i=new y.a;return r.add(i),r.__pictorialBundle=i,i.x=n.bundlePosition[0],i.y=n.bundlePosition[1],n.symbolRepeat?Un(r,t,n):Vn(r,0,n),Hn(r,n,o),Wn(r,t,n,o),r.__pictorialShapeStr=Kn(e,n),r.__pictorialSymbolMeta=n,r}function $n(e,t,n,o){var r=o.__pictorialBarRect;r&&r.removeTextContent();var i=[];Xn(o,(function(e){i.push(e)})),o.__pictorialMainPath&&i.push(o.__pictorialMainPath),o.__pictorialClipPath&&(n=null),s.each(i,(function(e){x.e(e,{scaleX:0,scaleY:0},n,t,(function(){o.parent&&o.parent.remove(o)}))})),e.setItemGraphicEl(t,null)}function Kn(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Xn(e,t,n){s.each(e.__pictorialBundle.children(),(function(o){o!==e.__pictorialBarRect&&t.call(n,o)}))}function Jn(e,t,n,o,r,i){t&&e.attr(t),o.symbolClip&&!r?n&&e.attr(n):n&&w[r?"updateProps":"initProps"](e,n,o.animationModel,o.dataIndex,i)}function Zn(e,t,n){var o=n.dataIndex,r=n.itemModel,i=r.getModel("emphasis"),a=i.getModel("itemStyle").getItemStyle(),u=r.getModel(["blur","itemStyle"]).getItemStyle(),c=r.getModel(["select","itemStyle"]).getItemStyle(),l=r.getShallow("cursor"),d=i.get("focus"),f=i.get("blurScope"),m=i.get("scale");Xn(e,(function(e){if(e instanceof ft.a){var t=e.style;e.useStyle(s.extend({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var o=e.ensureState("emphasis");o.style=a,m&&(o.scaleX=1.1*e.scaleX,o.scaleY=1.1*e.scaleY),e.ensureState("blur").style=u,e.ensureState("select").style=c,l&&(e.cursor=l),e.z2=n.z2}));var p=t.valueDim.posDesc[+(n.boundingLength>0)],h=e.__pictorialBarRect;h.ignoreClip=!0,Object(_.g)(h,Object(_.e)(r),{labelFetcher:t.seriesModel,labelDataIndex:o,defaultText:Object(R.b)(t.seriesModel.getData(),o),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),Object(k.J)(e,d,f,i.get("disabled"))}function eo(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var to=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.render=function(e,t,n){var o=this.group,r=e.getData(),i=this._data,a=e.coordinateSystem,u=a.getBaseAxis().isHorizontal(),s=a.master.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[s.x,s.x+s.width],[s.y,s.y+s.height]],isHorizontal:u,valueDim:Ln[+u],categoryDim:Ln[1-+u]};r.diff(i).add((function(e){if(r.hasValue(e)){var t=Gn(r,e),n=Nn(r,e,t,c),i=Qn(r,c,n);r.setItemGraphicEl(e,i),o.add(i),Zn(i,c,n)}})).update((function(e,t){var n=i.getItemGraphicEl(t);if(r.hasValue(e)){var a=Gn(r,e),u=Nn(r,e,a,c),s=Kn(r,u);n&&s!==n.__pictorialShapeStr&&(o.remove(n),r.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var o=n.animationModel,r=n.dataIndex,i=e.__pictorialBundle;x.h(i,{x:n.bundlePosition[0],y:n.bundlePosition[1]},o,r),n.symbolRepeat?Un(e,t,n,!0):Vn(e,t,n,!0);Hn(e,n,!0),Wn(e,t,n,!0)}(n,c,u):n=Qn(r,c,u,!0),r.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=u,o.add(n),Zn(n,c,u)}else o.remove(n)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&$n(i,e,t.__pictorialSymbolMeta.animationModel,t)})).execute();var l=e.get("clip",!0)?Object(I.a)(e.coordinateSystem,!1,e):null;return l?o.setClipPath(l):o.removeClipPath(),this._data=r,this.group},t.prototype.remove=function(e,t){var n=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl((function(t){$n(o,Object(C.a)(t).dataIndex,e,t)})):n.removeAll()},t.type="pictorialBar",t}(E.a),no=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return Object(d.a)(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Object(g.d)(h.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(h);var oo=n("c835"),ro=n("8acb"),io={color:"fill",borderColor:"stroke"},ao={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},uo=Object(Je.o)(),so=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return Object(m.a)(null,this)},t.prototype.getDataParams=function(t,n,o){var r=e.prototype.getDataParams.call(this,t,n);return o&&(r.info=uo(o).info),r},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(f.b),co=n("80f0"),lo=n("aa3ef"),fo=n("00d8"),mo=n("307b"),po=n("eaeb"),ho=n("471e"),go=n("19eb"),vo=n("6d72"),bo=n("b3c1"),yo=n("7d4b"),wo=n("2c00"),xo=["normal","emphasis","blur","select"],So={normal:["itemStyle"],emphasis:["emphasis","itemStyle"],blur:["blur","itemStyle"],select:["select","itemStyle"]},Ao={normal:["label"],emphasis:["emphasis","label"],blur:["blur","label"],select:["select","label"]},Co=["x","y"],ko={normal:{},emphasis:{},blur:{},select:{}},_o={cartesian2d:lo.a,geo:fo.a,single:mo.a,polar:po.a,calendar:ho.a};function Oo(e){return e instanceof b.b}function Io(e){return e instanceof go.c}var To=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(d.a)(t,e),t.prototype.render=function(e,t,n,o){this._progressiveEls=null;var r=this._data,i=e.getData(),a=this.group,u=Po(e,i,t,n);r||a.removeAll(),i.diff(r).add((function(t){Lo(n,null,t,u(t,o),e,a,i)})).remove((function(t){var n=r.getItemGraphicEl(t);n&&Object(yo.b)(n,uo(n).option,e)})).update((function(t,s){var c=r.getItemGraphicEl(s);Lo(n,c,t,u(t,o),e,a,i)})).execute();var s=e.get("clip",!0)?Object(I.a)(e.coordinateSystem,!1,e):null;s?a.setClipPath(s):a.removeClipPath(),this._data=i},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,o,r){var i=t.getData(),a=Po(t,i,n,o),u=this._progressiveEls=[];function s(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var c=e.start;c<e.end;c++){var l=Lo(null,null,c,a(c,r),t,this.group,i);l&&(l.traverse(s),u.push(l))}},t.prototype.eachRendered=function(e){w.traverseElements(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,o){var r=t.element;if(null==r||n.name===r)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1},t.type="custom",t}(E.a);function Eo(e){var t,n=e.type;if("path"===n){var o=e.shape,r=null!=o.width&&null!=o.height?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,i=qo(o);t=w.makePath(i,null,r,o.layout||"center"),uo(t).customPathData=i}else if("image"===n)t=new ft.a({}),uo(t).customImagePath=e.style.image;else if("text"===n)t=new lt.a({});else if("group"===n)t=new y.a;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=w.getShapeClass(n);if(!a){0,Object(Wt.c)("")}t=new a}return uo(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Do(e,t,n,o,r,i,a){Object(wo.b)(t);var u=r&&r.normal.cfg;u&&t.setTextConfig(u),o&&null==o.transition&&(o.transition=Co);var c=o&&o.style;if(c){if("text"===t.type){var l=c;Object(s.hasOwn)(l,"textFill")&&(l.fill=l.textFill),Object(s.hasOwn)(l,"textStroke")&&(l.stroke=l.textStroke)}var d=void 0,f=Oo(t)?c.decal:null;e&&f&&(f.dirty=!0,d=Object(bo.a)(f,e)),c.__decalPattern=d}Io(t)&&(c&&(d=c.__decalPattern)&&(c.decal=d));Object(yo.c)(t,o,i,{dataIndex:n,isInit:a,clearStyle:!0}),Object(wo.a)(t,o.keyframeAnimation,i)}function Ro(e,t,n,o,r){var i=t.isGroup?null:t,a=r&&r[e].cfg;if(i){var u=i.ensureState(e);if(!1===o){var s=i.getState(e);s&&(s.style=null)}else u.style=o||null;a&&(u.textConfig=a),Object(k.G)(i)}}function Mo(e,t,n){var o="normal"===n,r=o?t:zo(t,n),i=r?r.z2:null;null!=i&&((o?e:e.ensureState(n)).z2=i||0)}function Po(e,t,n,o){var r=e.get("renderItem"),i=e.coordinateSystem,a={};i&&(a=i.prepareCustoms?i.prepareCustoms(i):_o[i.type](i));for(var u,l,d=Object(s.defaults)({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:function(e,n){return null==n&&(n=u),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function(n,o){0;null==o&&(o=u);var r=t.getItemVisual(o,"style"),i=r&&r.fill,a=r&&r.opacity,c=w(o,"normal").getItemStyle();null!=i&&(c.fill=i),null!=a&&(c.opacity=a);var l={inheritColor:Object(s.isString)(i)?i:"#000"},d=x(o,"normal"),f=_.c(d,null,l,!1,!0);f.text=d.getShallow("show")?Object(s.retrieve2)(e.getFormattedLabel(o,"normal"),Object(R.b)(t,o)):null;var m=_.b(d,l,!1);return A(n,c),c=Object(vo.b)(c,f,m),n&&S(c,n),c.legacy=!0,c},ordinalRawValue:function(e,n){null==n&&(n=u),e=e||0;var o=t.getDimensionInfo(e);if(!o){var r=t.getDimensionIndex(e);return r>=0?t.getStore().get(r,n):void 0}var i=t.get(o.name,n),a=o&&o.ordinalMeta;return a?a.categories[i]:i},styleEmphasis:function(n,o){0;null==o&&(o=u);var r=w(o,"emphasis").getItemStyle(),i=x(o,"emphasis"),a=_.c(i,null,null,!0,!0);a.text=i.getShallow("show")?Object(s.retrieve3)(e.getFormattedLabel(o,"emphasis"),e.getFormattedLabel(o,"normal"),Object(R.b)(t,o)):null;var c=_.b(i,null,!0);return A(n,r),r=Object(vo.b)(r,a,c),n&&S(r,n),r.legacy=!0,r},visual:function(e,n){if(null==n&&(n=u),Object(s.hasOwn)(io,e)){var o=t.getItemVisual(n,"style");return o?o[io[e]]:null}if(Object(s.hasOwn)(ao,e))return t.getItemVisual(n,e)},barLayout:function(e){if("cartesian2d"===i.type){var t=i.getBaseAxis();return Object(c.b)(Object(s.defaults)({axis:t},e))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return _.d(e,n)}},a.api||{}),f={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:Bo(e.getData())},m={},p={},h={},g={},v=0;v<xo.length;v++){var b=xo[v];h[b]=e.getModel(So[b]),g[b]=e.getModel(Ao[b])}function y(e){return e===u?l||(l=t.getItemModel(e)):t.getItemModel(e)}function w(e,n){return t.hasItemOption?e===u?m[n]||(m[n]=y(e).getModel(So[n])):y(e).getModel(So[n]):h[n]}function x(e,n){return t.hasItemOption?e===u?p[n]||(p[n]=y(e).getModel(Ao[n])):y(e).getModel(Ao[n]):g[n]}return function(e,n){return u=e,l=null,m={},p={},r&&r(Object(s.defaults)({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},f),d)};function S(e,t){for(var n in t)Object(s.hasOwn)(t,n)&&(e[n]=t[n])}function A(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function Bo(e){var t={};return Object(s.each)(e.dimensions,(function(n){var o=e.getDimensionInfo(n);if(!o.isExtraCoord){var r=o.coordDim;(t[r]=t[r]||[])[o.coordDimIndex]=e.getDimensionIndex(n)}})),t}function Lo(e,t,n,o,r,i,a){if(o){var u=Fo(e,t,n,o,r,i);return u&&a.setItemGraphicEl(n,u),u&&Object(k.J)(u,o.focus,o.blurScope,o.emphasisDisabled),u}i.remove(t)}function Fo(e,t,n,o,r,i){var a=-1,u=t;t&&No(t,o,r)&&(a=Object(s.indexOf)(i.childrenRef(),t),t=null);var c,l,d=!t,f=t;f?f.clearStates():(f=Eo(o),u&&(c=u,(l=f).copyTransform(c),Io(l)&&Io(c)&&(l.setStyle(c.style),l.z=c.z,l.z2=c.z2,l.zlevel=c.zlevel,l.invisible=c.invisible,l.ignore=c.ignore,Oo(l)&&Oo(c)&&l.setShape(c.shape)))),!1===o.morph?f.disableMorphing=!0:f.disableMorphing&&(f.disableMorphing=!1),ko.normal.cfg=ko.normal.conOpt=ko.emphasis.cfg=ko.emphasis.conOpt=ko.blur.cfg=ko.blur.conOpt=ko.select.cfg=ko.select.conOpt=null,ko.isLegacy=!1,function(e,t,n,o,r,i){if(e.isGroup)return;jo(n,null,i),jo(n,"emphasis",i);var a=i.normal.conOpt,u=i.emphasis.conOpt,s=i.blur.conOpt,c=i.select.conOpt;if(null!=a||null!=u||null!=c||null!=s){var l=e.getTextContent();if(!1===a)l&&e.removeTextContent();else{a=i.normal.conOpt=a||{type:"text"},l?l.clearStates():(l=Eo(a),e.setTextContent(l)),Do(null,l,t,a,null,o,r);for(var d=a&&a.style,f=0;f<xo.length;f++){var m=xo[f];if("normal"!==m){var p=i[m].conOpt;Ro(m,l,0,Uo(a,p,m),null)}}d?l.dirty():l.markRedraw()}}}(f,n,o,r,d,ko),function(e,t,n,o,r){var i=n.clipPath;if(!1===i)e&&e.getClipPath()&&e.removeClipPath();else if(i){var a=e.getClipPath();a&&No(a,i,o)&&(a=null),a||(a=Eo(i),e.setClipPath(a)),Do(null,a,t,i,null,o,r)}}(f,n,o,r,d),Do(e,f,n,o,ko,r,d),Object(s.hasOwn)(o,"info")&&(uo(f).info=o.info);for(var m=0;m<xo.length;m++){var p=xo[m];if("normal"!==p){var h=zo(o,p);Ro(p,f,0,Uo(o,h,p),ko)}}return function(e,t,n){if(!e.isGroup){var o=e,r=n.currentZ,i=n.currentZLevel;o.z=r,o.zlevel=i;var a=t.z2;null!=a&&(o.z2=a||0);for(var u=0;u<xo.length;u++)Mo(o,t,xo[u])}}(f,o,r),"group"===o.type&&function(e,t,n,o,r){var i=o.children,a=i?i.length:0,u=o.$mergeChildren,s="byName"===u||o.diffChildrenByName,c=!1===u;if(!a&&!s&&!c)return;if(s)return l={api:e,oldChildren:t.children()||[],newChildren:i||[],dataIndex:n,seriesModel:r,group:t},void new co.a(l.oldChildren,l.newChildren,Ho,Ho,l).add(Wo).update(Wo).remove(Go).execute();var l;c&&t.removeAll();for(var d=0;d<a;d++){var f=i[d],m=t.childAt(d);f?(null==f.ignore&&(f.ignore=!1),Fo(e,m,n,f,r,t)):m.ignore=!0}for(var p=t.childCount()-1;p>=d;p--){var h=t.childAt(p);Vo(t,h,r)}}(e,f,n,o,r),a>=0?i.replaceAt(f,a):i.add(f),f}function No(e,t,n){var o,r=uo(e),i=t.type,a=t.shape,u=t.style;return n.isUniversalTransitionEnabled()||null!=i&&i!==r.customGraphicType||"path"===i&&((o=a)&&(Object(s.hasOwn)(o,"pathData")||Object(s.hasOwn)(o,"d")))&&qo(a)!==r.customPathData||"image"===i&&Object(s.hasOwn)(u,"image")&&u.image!==r.customImagePath}function jo(e,t,n){var o=t?zo(e,t):e,r=t?Uo(e,o,"emphasis"):e.style,i=e.type,a=o?o.textConfig:null,u=e.textContent,s=u?t?zo(u,t):u:null;if(r&&(n.isLegacy||Object(vo.c)(r,i,!!a,!!s))){n.isLegacy=!0;var c=Object(vo.a)(r,i,!t);!a&&c.textConfig&&(a=c.textConfig),!s&&c.textContent&&(s=c.textContent)}if(!t&&s){var l=s;!l.type&&(l.type="text")}var d=t?n[t]:n.normal;d.cfg=a,d.conOpt=s}function zo(e,t){return t?e?e[t]:null:e}function Uo(e,t,n){var o=t&&t.style;return null==o&&"emphasis"===n&&e&&(o=e.styleEmphasis),o}function Vo(e,t,n){t&&Object(yo.b)(t,uo(e).option,n)}function Ho(e,t){var n=e&&e.name;return null!=n?n:"e\0\0"+t}function Wo(e,t){var n=this.context,o=null!=e?n.newChildren[e]:null,r=null!=t?n.oldChildren[t]:null;Fo(n.api,r,n.dataIndex,o,n.seriesModel,n.group)}function Go(e){var t=this.context,n=t.oldChildren[e];n&&Object(yo.b)(n,uo(n).option,t.seriesModel)}function qo(e){return e&&(e.pathData||e.d)}var Yo=n("4b2a"),Qo=n("bb6f"),$o=n("b25d"),Ko=n("5334"),Xo=n("4bd9"),Jo=n("b899"),Zo=n("5a72"),er=n("3094"),tr=n("2da7"),nr=n("af5c"),or=n("b22b"),rr=n("9394"),ir=n("541a"),ar=n("a0c6"),ur=n("9502"),sr=n("4231"),cr=n("ff32"),lr=n("104d"),dr=n("e1ff"),fr=n("ac12"),mr=n("abd2"),pr=n("7c0d"),hr=n("c436"),gr=n("47e7"),vr=n("e600"),br=n("5e81"),yr=n("0e50"),wr=n("342d");function xr(e){return Object(s.isArray)(e[0])}function Sr(e,t){for(var n=[],o=e.length,r=0;r<o;r++)n.push({one:e[r],many:[]});for(r=0;r<t.length;r++){var i=t[r].length,a=void 0;for(a=0;a<i;a++)n[a%o].many.push(t[r][a])}var u=0;for(r=o-1;r>=0;r--)if(!n[r].many.length){var s=n[u].many;if(s.length<=1){if(!u)return n;u=0}i=s.length;var c=Math.ceil(i/2);n[r].many=s.slice(c,i),n[u].many=s.slice(0,c),u++}return n}var Ar={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),o=0;o<e.count;o++){var r=Object(wr.a)(e.path);r.setStyle("opacity",n),t.push(r)}return t},split:null};function Cr(e,t,n,o,r,i){if(e.length&&t.length){var a=Object(x.a)("update",o,r);if(a&&a.duration>0){var u,c,l=o.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},a);xr(e)&&(u=e,c=t),xr(t)&&(u=t,c=e);for(var f=u?u===e:e.length>t.length,m=u?Sr(c,u):Sr(f?t:e,[f?e:t]),p=0,h=0;h<m.length;h++)p+=m[h].many.length;var g=0;for(h=0;h<m.length;h++)v(m[h],f,g,p),g+=m[h].many.length}}function v(e,t,o,r,a){var u=e.many,c=e.one;if(1!==u.length||a)for(var f=Object(s.defaults)({dividePath:Ar[n],individualDelay:l&&function(e,t,n,i){return l(e+o,r)}},d),m=t?Object(yr.a)(u,c,f):Object(yr.d)(c,u,f),p=m.fromIndividuals,h=m.toIndividuals,g=p.length,b=0;b<g;b++){x=l?Object(s.defaults)({delay:l(b,g)},d):d;i(p[b],h[b],t?u[b]:e.one,t?e.one:u[b],x)}else{var y=t?u[0]:c,w=t?c:u[0];if(Object(yr.b)(y))v({many:[y],one:w},!0,o,r,!0);else{var x=l?Object(s.defaults)({delay:l(o,r)},d):d;Object(yr.c)(y,w,x),i(y,w,y,w,x)}}}}function kr(e){if(!e)return[];if(Object(s.isArray)(e)){for(var t=[],n=0;n<e.length;n++)t.push(kr(e[n]));return t}var o=[];return e.traverse((function(e){e instanceof b.b&&!e.disableMorphing&&!e.invisible&&!e.ignore&&o.push(e)})),o}var _r=Object(Je.o)();function Or(e,t,n,o){var r=function(e,t){for(var n=e.dimensions,o=0;o<n.length;o++){var r=e.getDimensionInfo(n[o]);if(r&&0===r.otherDims[t])return n[o]}}(e,o?"itemChildGroupId":"itemGroupId");if(r)return function(e,t,n){var o=e.getDimensionInfo(n),r=o&&o.ordinalMeta;if(o){var i=e.get(o.name,t);return r&&r.categories[i]||i+""}}(e,t,r);var i=e.getRawDataItem(t),a=o?"childGroupId":"groupId";return i&&i[a]?i[a]+"":o?void 0:n||e.getId(t)}function Ir(e){var t=[];return Object(s.each)(e,(function(e){var n=e.data,o=e.dataGroupId;if(!(n.count()>1e4))for(var r=n.getIndices(),i=0;i<r.length;i++)t.push({data:n,groupId:Or(n,i,o,!1),childGroupId:Or(n,i,o,!0),divide:e.divide,dataIndex:i})})),t}function Tr(e,t,n){e.traverse((function(e){e instanceof b.b&&Object(x.c)(e,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})}))}function Er(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function Dr(e){e.stopAnimation(),e.isGroup&&e.traverse((function(e){e.stopAnimation()}))}function Rr(e,t,n){var o=Ir(e),r=Ir(t);function i(e,t,n,o,r){(n||e)&&t.animateFrom({style:n&&n!==e?Object(s.extend)(Object(s.extend)({},n.style),e.style):e.style},r)}var a=!1,u=0,c=Object(s.createHashMap)(),l=Object(s.createHashMap)();o.forEach((function(e){e.groupId&&c.set(e.groupId,!0),e.childGroupId&&l.set(e.childGroupId,!0)}));for(var d=0;d<r.length;d++){var f=r[d].groupId;if(l.get(f)){u=1;break}var m=r[d].childGroupId;if(m&&c.get(m)){u=2;break}}function p(e,t){return function(n){var o=n.data,r=n.dataIndex;return t?o.getId(r):e?1===u?n.childGroupId:n.groupId:2===u?n.childGroupId:n.groupId}}var h=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var o=0;o<n;o++){var r=e[o],i=t[o];if(r.data.getId(r.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}(o,r),g={};if(!h)for(d=0;d<r.length;d++){var v=r[d],y=v.data.getItemGraphicEl(v.dataIndex);y&&(g[y.id]=!0)}function w(e,t){var n=o[t],u=r[e],s=u.data.hostModel,c=n.data.getItemGraphicEl(n.dataIndex),l=u.data.getItemGraphicEl(u.dataIndex);c!==l?c&&g[c.id]||l&&(Dr(l),c?(Dr(c),Er(c),a=!0,Cr(kr(c),kr(l),u.divide,s,e,i)):Tr(l,s,e)):l&&function(e,t,n){var o=Object(x.a)("update",n,t);o&&e.traverse((function(e){if(e instanceof go.c){var t=Object(x.b)(e);t&&e.animateFrom({style:t},o)}}))}(l,u.dataIndex,s)}new co.a(o,r,p(!0,h),p(!1,h),null,"multiple").update(w).updateManyToOne((function(e,t){var n=r[e],u=n.data,c=u.hostModel,l=u.getItemGraphicEl(n.dataIndex),d=Object(s.filter)(Object(s.map)(t,(function(e){return o[e].data.getItemGraphicEl(o[e].dataIndex)})),(function(e){return e&&e!==l&&!g[e.id]}));l&&(Dr(l),d.length?(Object(s.each)(d,(function(e){Dr(e),Er(e)})),a=!0,Cr(kr(d),kr(l),n.divide,c,e,i)):Tr(l,c,n.dataIndex))})).updateOneToMany((function(e,t){var n=o[t],u=n.data.getItemGraphicEl(n.dataIndex);if(!u||!g[u.id]){var c=Object(s.filter)(Object(s.map)(e,(function(e){return r[e].data.getItemGraphicEl(r[e].dataIndex)})),(function(e){return e&&e!==u})),l=r[e[0]].data.hostModel;c.length&&(Object(s.each)(c,(function(e){return Dr(e)})),u?(Dr(u),Er(u),a=!0,Cr(kr(u),kr(c),n.divide,l,e[0],i)):Object(s.each)(c,(function(t){return Tr(t,l,e[0])})))}})).updateManyToMany((function(e,t){new co.a(t,e,(function(e){return o[e].data.getId(o[e].dataIndex)}),(function(e){return r[e].data.getId(r[e].dataIndex)})).update((function(n,o){w(e[n],t[o])})).execute()})).execute(),a&&Object(s.each)(t,(function(e){var t=e.data.hostModel,o=t&&n.getViewOfSeriesModel(t),r=Object(x.a)("update",t,0);o&&t.isAnimationEnabled()&&r&&r.duration>0&&o.group.traverse((function(e){e instanceof b.b&&!e.animators.length&&e.animateFrom({style:{opacity:0}},r)}))}))}function Mr(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function Pr(e){return Object(s.isArray)(e)?e.sort().join(","):e}function Br(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function Lr(e,t){for(var n=0;n<e.length;n++){if(null!=t.seriesIndex&&t.seriesIndex===e[n].seriesIndex||null!=t.seriesId&&t.seriesId===e[n].id)return n}}var Fr=n("ee29");Object(o.a)([i.a]),Object(o.a)([a.a]),Object(o.a)([u.a,function(e){e.registerChartView(Z),e.registerSeriesModel(v),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,s.curry(c.c,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Object(c.a)("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Object(l.a)("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))},ee.a,te.a,ne.a,oe.a,re.a,ie.a,function(e){e.registerChartView(Ke),e.registerSeriesModel(rt),e.registerProcessor(ae),e.registerVisual(ue),e.registerVisual(ce),e.registerLayout(ye),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,Oe),e.registerLayout(Ee),e.registerCoordinateSystem("graphView",{dimensions:De.a.dimensions,create:Pe}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},s.noop),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},s.noop),e.registerAction(at,(function(e,t,n){t.eachComponent({mainType:"series",query:e},(function(t){var o=t.coordinateSystem,r=Object(it.a)(o,e,void 0,n);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)}))}))},function(e){e.registerChartView(ht),e.registerSeriesModel(vt)},function(e){e.registerChartView(Ct),e.registerSeriesModel(_t),e.registerLayout(Ot),e.registerProcessor(Object(It.a)("funnel"))},Tt.a,Et.a,function(e){e.registerSeriesModel(Pt),e.registerChartView(Ut),e.registerLayout(Ht),e.registerTransform(qt)},function(e){e.registerChartView(an),e.registerSeriesModel(sn),e.registerPreprocessor(cn),e.registerVisual(gn),e.registerLayout(yn)},function(e){e.registerChartView(kn),e.registerSeriesModel(_n),e.registerLayout(Object(Cn.a)("effectScatter"))},On.a,function(e){e.registerChartView(Dn),e.registerSeriesModel(Mn)},function(e){e.registerChartView(to),e.registerSeriesModel(no),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Object(s.curry)(c.c,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Object(c.a)("pictorialBar"))},oo.a,ro.a,function(e){e.registerChartView(To),e.registerSeriesModel(so)}]),Object(o.a)(Yo.a),Object(o.a)(Qo.a),Object(o.a)($o.a),Object(o.a)(Ko.a),Object(o.a)(Xo.a),Object(o.a)(Jo.a),Object(o.a)(Zo.a),Object(o.a)(er.a),Object(o.a)(tr.a),Object(o.a)(nr.a),Object(o.a)(or.a),Object(o.a)(rr.a),Object(o.a)(ir.a),Object(o.a)(ar.a),Object(o.a)(ur.a),Object(o.a)(sr.a),Object(o.a)(cr.a),Object(o.a)(lr.a),Object(o.a)(dr.a),Object(o.a)(fr.a),Object(o.a)(mr.a),Object(o.a)(pr.a),Object(o.a)(hr.a),Object(o.a)(gr.a),Object(o.a)(vr.a),Object(o.a)(br.a),Object(o.a)((function(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){Object(s.each)(Object(Je.r)(n.seriesTransition),(function(e){Object(s.each)(Object(Je.r)(e.to),(function(e){for(var t=n.updatedSeries,o=0;o<t.length;o++)(null!=e.seriesIndex&&e.seriesIndex===t[o].seriesIndex||null!=e.seriesId&&e.seriesId===t[o].id)&&(t[o][f.a]=!0)}))}))})),e.registerUpdateLifecycle("series:transition",(function(e,t,n){var o=_r(t);if(o.oldSeries&&n.updatedSeries&&n.optionChanged){var r=n.seriesTransition;if(r)Object(s.each)(Object(Je.r)(r),(function(e){!function(e,t,n,o){var r=[],i=[];Object(s.each)(Object(Je.r)(e.from),(function(e){var n=Lr(t.oldSeries,e);n>=0&&r.push({dataGroupId:t.oldDataGroupIds[n],data:t.oldData[n],divide:Br(t.oldData[n]),groupIdDim:e.dimension})})),Object(s.each)(Object(Je.r)(e.to),(function(e){var o=Lr(n.updatedSeries,e);if(o>=0){var r=n.updatedSeries[o].getData();i.push({dataGroupId:t.oldDataGroupIds[o],data:r,divide:Br(r),groupIdDim:e.dimension})}})),r.length>0&&i.length>0&&Rr(r,i,o)}(e,o,n,t)}));else{var i=function(e,t){var n=Object(s.createHashMap)(),o=Object(s.createHashMap)(),r=Object(s.createHashMap)();return Object(s.each)(e.oldSeries,(function(t,n){var i=e.oldDataGroupIds[n],a=e.oldData[n],u=Mr(t),c=Pr(u);o.set(c,{dataGroupId:i,data:a}),Object(s.isArray)(u)&&Object(s.each)(u,(function(e){r.set(e,{key:c,dataGroupId:i,data:a})}))})),Object(s.each)(t.updatedSeries,(function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.get("dataGroupId"),i=e.getData(),a=Mr(e),u=Pr(a),c=o.get(u);if(c)n.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Br(c.data),data:c.data}],newSeries:[{dataGroupId:t,divide:Br(i),data:i}]});else if(Object(s.isArray)(a)){0;var l=[];Object(s.each)(a,(function(e){var t=o.get(e);t.data&&l.push({dataGroupId:t.dataGroupId,divide:Br(t.data),data:t.data})})),l.length&&n.set(u,{oldSeries:l,newSeries:[{dataGroupId:t,data:i,divide:Br(i)}]})}else{var d=r.get(a);if(d){var f=n.get(d.key);f||(f={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:Br(d.data)}],newSeries:[]},n.set(d.key,f)),f.newSeries.push({dataGroupId:t,data:i,divide:Br(i)})}}}})),n}(o,n);Object(s.each)(i.keys(),(function(e){var n=i.get(e);Rr(n.oldSeries,n.newSeries,t)}))}Object(s.each)(n.updatedSeries,(function(e){e[f.a]&&(e[f.a]=!1)}))}for(var a=e.getSeries(),u=o.oldSeries=[],c=o.oldDataGroupIds=[],l=o.oldData=[],d=0;d<a.length;d++){var m=a[d].getData();m.count()<1e4&&(u.push(a[d]),c.push(a[d].get("dataGroupId")),l.push(m))}}))})),Object(o.a)(Fr.a)},3238:function(e,t,n){"use strict";n.r(t);var o=n("48d3"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},3253:function(e,t,n){},3297:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/audio-background.307c0770.png"},"32a2":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/no_data.07fb2701.png"},"32ae":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/more.36397395.svg"},"33bc":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("6394"),i=o(n("dc23")),a=o(n("1732")),u=n("ca00");t.default={props:{title:{type:String,default:""},courseWareInfo:{type:Object,default:()=>({})},userName:String,iLearningXUserName:String,profileUrl:String,language:{type:String,default:"cn"},featureType:{type:String,default:""},isFeature:{type:Boolean,default:!1},certFlag:{type:Boolean,default:!1},isCore:Boolean,unReadMessage:Number},components:{LiteHeader:r.LiteHeader,Diamond:i.default,SwitchLanguage:a.default},data:()=>({allowJump:!0}),created(){this.$bus.$on("allowClickChange",e=>{this.allowJump=!!e})},beforeDestroy(){this.$bus.$off("allowClickChange")},computed:{isInnerMOOC(){return this.$isInner&&"micro"!==this.courseWareInfo.typeId},isClassShare(){return"shareClass"===this.$route.query.type},isCourseLearn(){return["newApplicationLearn","applicationMaterial","newProgressAndGrades","applicationAnnounceMent","caseStudy","discussion","applicationLearn","progressAndGrades"].includes(this.$route.name)}},methods:{switchLang(e){const t="en"===e?"en":"cn",n="en"===e?"en_US":"zh_CN";t!==this.language&&(0,r.doSwitchLang)({lang:t,iLearningXUserName:this.iLearningXUserName.toLowerCase(),callback:()=>{window.localStorage.setItem("sxz-lang",t),window.history.replaceState(null,null,(0,u.replaceParamVal)(window.location.href,"sxz-lang",n)),window.location.reload()}})},handlerLogoClick(){window.location.href=window.location.origin+"/edx/next/"},toViewPage(){if(this.allowJump&&this.isInnerMOOC&&["newApplicationLearn","applicationLearn","applicationMaterial","newProgressAndGrades","progressAndGrades"].includes(this.$route.name)){var e,t,n;const o=(null===(e=this.$route.params)||void 0===e?void 0:e.code)||(null===(t=this.courseWareInfo)||void 0===t?void 0:t.code),{...r}=this.$route.query,i=r.classCode||(null===(n=this.courseWareInfo)||void 0===n?void 0:n.associationCode);if(delete r.classCode,o){const e=this.isInnerMOOC?"100000":this.schoolId;this.$router.replace({path:`/course/${e}/application-view/${o}/${i}`,query:r})}else this.$router.replace({name:"application",query:r})}}}}},"33f3":function(e,t,n){"use strict";var o=n("00ce"),r=n("3bbf"),i=n("2714"),a=n("f213"),u=n("0d25"),s=o("%WeakMap%",!0),c=r("WeakMap.prototype.get",!0),l=r("WeakMap.prototype.set",!0),d=r("WeakMap.prototype.has",!0),f=r("WeakMap.prototype.delete",!0);e.exports=s?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new u("Side channel does not contain "+i(e))},delete:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return f(e,n)}else if(a&&t)return t.delete(n);return!1},get:function(n){return s&&n&&("object"==typeof n||"function"==typeof n)&&e?c(e,n):t&&t.get(n)},has:function(n){return s&&n&&("object"==typeof n||"function"==typeof n)&&e?d(e,n):!!t&&t.has(n)},set:function(n,o){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),l(e,n,o)):a&&(t||(t=a()),t.set(n,o))}};return n}:a},3527:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAABcRJREFUeJztnU1vG0Ucxp9xTF5cYomXViQ2J9uob1IQJw6kTS6J+ykQMRdQeqk4oZQm36FCKmoEn6A3BPRipzeQkBsubdWkLSpJL0ioDgmNmmQ4zK49u1lvPLOzO/syP2my66x3Z/b/zP+ZsZPdBQwGg8GQVUiYB19u05lDghtcZTNh1icKBVofvY2LT3ewee0C+VhHG0IR4Pp92oxbsPsxfRqg1vof/+DXry5GK4RSAb5p02XK9fgkMH2aLan1Y/s/rH9WIx9GVb8yAa63aRMJ6fU802d6wbcX23tYX/ggGhECC7DUpjMEaKpojA4+OQNH8O3l9h7WGxGIkFNwjCYFa3QSy7HgWxsmxjC1+ojeVxAfXwIJsMRsJ/E4gs+9niiEL4K0AEttuowEer6bfsGnlJX3xjB1O0QRpAWgFDfsRia5AE7vt86td55gInz3MBwRpASwen8qsMcBr0zobrPGhDBEkBKA0mTN9X3he7srI3hhACbCLcUiCAvw9e90WffMRWUBt3RAndvtMjGGqVsP1ImgYhqaaLysxx18t2oTBXUiCAtACS6rqDguPP23t35sMLZ+HMsaWwQFdiQ7BqSm2OfTOzluwWWCF5MKxgRxAWjy5/48f+46X3sFnMISzGNbUBEyPwYMEeDZbv/A83h9cUYAlAqYuvOE3pSpX3wMSGF5vgc86cAZcb/oE+6ltXLqDTQGCN8xMp8BNtv7wOYO9wsuyATOdTcEwAHF6J1n4lmQF93Bd1RKOC9eAS9fA4Uc8M4o8/13R9kp8z2+K4ZLjRe7+BTAokidwgKkOP4AgN1D4O994NFL9tqeDdnBJmDr3SVx/O5N0fqMBXkwlgeKoz3r8Qn4se2iGAH6kM8BbxWA4SFX4MEF2jUwS9UjukPaLcjNqRFg/wDYf42u/xNw617CCCA+CGeQkTwL8P5BL+CAtx2JYmZBAzI8xD60vTrwH5BFMRYkQC4HFIZZJthT06AZYAZhCUbybJAOOgMCzBggTT4HHIJ9WOtakrGgaMnlwL6ytvzIDMKakLUfwIwB2kmtBX1xFqiMs/W728DdLb3t6UcqM4APPgDMTQJzJX3t8SN1AlTGncG3mZuMvi2DkDoL8mtfHNuerVlQDNueCAuqFIEvzwLzJbbux2bHe8D99mE4bQtK7C2oagUfYMGfA3DtN/99ft4CNnbYWLC5A2x0Qm+mNLHPADv4J/3OzUYH+GUr3sEHYi5Av0BXi8yO0oC4BUXkQfUyC3Q/5kusd8e9h59ELDOgXh6sh6chC2InwKDBB1iG1MvB36OTWM2CZLx9vgQ87mNF9TJQt45XGQduPgjeRtXEKgMWz8nv5x4v+OADbLvs8cMkNgIEDQ4fbHfwbeIogvh/R4dwkUS95D/jGYRqkR2nMu4dfP59i+fCOQ+ZGaL2DLhSVjdI1svseCdRLQJXz6upMyhaBVAZfJtBMykuImi7QKMeQvBFqRaBxfNqL/YQRUsG1IqDWUUU1DRngsxFeoFLHFKfpyuChhSI3IKuvC/eyCioFYGrFzJgQXGxHi9qAafCMkQuwE9/RV3jYDzu6Glb5N8F/ficFQND+wexrJOt/4qIIbH6OjqLGAvSjBFAM8aCNGMGYc0YC9KMsSDNmAzQjBFAM8aCNGNmQZoxFqQZY0GaMRmgGZm/CbdCaEcqkImN1N1SorpII3GYm/bphQBrovvIWNCK6D6Z4Uh8F6kbrXx+z5iQF7cvid+4RtaCWpL7pRcq5wzStxoyWeBEpvcDQe4ZR7FCkaKnKQWABBgXAz3Ms3GPNpGyJ2oIQ9BavURm5XcPSGMt21a0ejnIHeMUfA4gR5hVeYFDkgo5gnTP78Yv6AFsGi3apCQbdkQoWqsz8rbDo+yTsNWgFe3dMuwCrKgKPqD4mfI2C2t0OVXPm2S0vlcYeJtQBLBZaLKnrnJP35sJsz6FtOwVSrHywyxp9X+rwWAwGAxy/A8adSE+b9i/kQAAAABJRU5ErkJggg=="},"352a":function(e,t,n){"use strict";n.r(t);var o=n("736f"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"35a9":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/course_bg.b3c7834c.png"},"35c1f":function(e,t,n){"use strict";var o=n("d9f1");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},3617:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/rec-img.acfcf4b8.png"},"36ad":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/examSettingTime.f2681c9d.svg"},"377f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;const o=n("20f8"),r=n("a046");class i extends r.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const n=await this.peekBuffer(e,t);return this.position+=n,n}async peekBuffer(e,t){const n=this.normalizeOptions(e,t),r=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&r<n.length)throw new o.EndOfStreamError;return e.set(this.uint8Array.subarray(n.position,n.position+r),n.offset),r}async close(){}}t.BufferTokenizer=i},3798:function(e,t,n){"use strict";n.r(t);var o=n("9aeb"),r=n("a0df");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("9149");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"de62e002",null);t.default=u.exports},"37f3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("4ee2");t.default={name:"list",props:{checkAsync:{type:Function,default:()=>{}},loadResource:{type:Function,default:()=>{}},compProp:{type:Object,default:()=>({forumId:"",forumType:"mooc",env:"PROD"})}},mounted(){this.init()},methods:{async init(){await this.checkAsync()||await this.loadResource();try{window.ILEARNING_COMPS_FORUM.createForum({container:this.$refs.ilearningForum,props:this.compProp})}catch(e){(0,o.logReportApi)("curriculum_050002",{data:{error:e},error:e,level:"error"})}}}}},"383b":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/video_rejected.ed47b5b0.png"},"384a":function(e,t,n){"use strict";n.r(t);var o=n("5b2b"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"38e8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("div",{ref:"learnContent",staticClass:"learn-content"},[e("div",{staticClass:"learn-content-left",style:{"--top":this.top+"px"}},[e("CourseMenu",{ref:"courseMenu",on:{changeBlock:this.handleBlockChange}})],1),e("div",{staticClass:"learn-content-right"},[e("CourseRichText",{ref:"courseRichText",on:{changeBlock:this.handleBlockChangeById}})],1)])},t.staticRenderFns=[]},"39e3":function(e,t,n){"use strict";n("b7d5")},"39f0":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.updateSwitchScreenTimes=t.startExam=t.saveUserAnswerFetch=t.saveUserAnswer=t.getexamResultsList=t.getExamResult=t.getExamInfo=t.getAnswerDetails=void 0;var r=o(n("b775"));t.getExamInfo=(e,t)=>(0,r.default)({method:"get",url:"/api/iexam/api/iexam/userexam/v1/exams/"+e,withCredentials:!0,params:{sessionId:t||""}});t.startExam=(e,t)=>t?(0,r.default)({data:{examResultId:t},method:"get",url:"/api/iexam/api/iexam/useranswer/v1/examResults/answerDetails/"+t,withCredentials:!0}):(0,r.default)({data:e,method:"post",url:"/api/iexam/api/iexam/userexam/v1/examResults/startExam",withCredentials:!0});t.saveUserAnswer=(e,t=!1)=>t?(0,r.default)({data:e,method:"post",url:"/api/iexam/api/iexam/useranswer/v1/switchScreenTimesCommit",withCredentials:!0}):(0,r.default)({data:{...e,paperFormType:0},method:"post",url:"/api/iexam/api/iexam/useranswer/v1/answer",withCredentials:!0});t.saveUserAnswerFetch=e=>window.fetch("/api/iexam/api/iexam/useranswer/v1/answer",{method:"POST",keepalive:!0,mode:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,paperFormType:0}),credentials:"include"});t.getExamResult=e=>(0,r.default)({method:"get",url:"/api/iexam/api/iexam/useranswer/v1/result/"+e,withCredentials:!0});t.getexamResultsList=e=>(0,r.default)({method:"get",url:"/api/iexam/api/iexam/userexam/v1/examResults/1/30?examId="+e,withCredentials:!0});t.updateSwitchScreenTimes=(e,t)=>(0,r.default)({method:"get",url:`/api/iexam/api/iexam/useranswer/v1/examResults/updateSwitchScreenTimes/${e}/${t}`,withCredentials:!0});t.getAnswerDetails=e=>(0,r.default)({method:"get",url:"/api/iexam/api/iexam/useranswer/v1/examResults/answerDetails/"+e,withCredentials:!0})},"3a5e":function(e,t,n){"use strict";n.r(t);var o=n("ef7c"),r=n("8c61");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("0c4b");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,null,null);t.default=u.exports},"3ae1":function(e,t,n){(function(e){!function(){"use strict";var t=function(e){return function(t){return function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},n=function(e){return function(t){return typeof t===e}},o=function(e){return function(t){return e===t}},r=t("string"),i=t("object"),a=t("array"),u=o(null),s=n("boolean"),c=o(void 0),l=function(e){return null==e},d=function(e){return!l(e)},f=n("function"),m=n("number"),p=function(e,t){if(a(e)){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},h=function(){},g=function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e(t.apply(null,n))}},v=function(e){return function(){return e}},b=function(e){return e},y=function(e,t){return e===t};function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=t.concat(n);return e.apply(null,r)}}var x=function(e){return function(t){return!e(t)}},S=function(e){return function(){throw new Error(e)}},A=v(!1),C=v(!0),k=tinymce.util.Tools.resolve("tinymce.ThemeManager"),_=function(){return(_=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function O(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function I(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var T,E,D=function(){return R},R={fold:function(e,t){return e()},isSome:A,isNone:C,getOr:E=b,getOrThunk:T=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(void 0),or:E,orThunk:T,map:D,each:h,bind:D,exists:A,forall:C,filter:function(){return D()},toArray:function(){return[]},toString:v("none()")},M=function(e){var t=v(e),n=function(){return r},o=function(t){return t(e)},r={fold:function(t,n){return n(e)},isSome:C,isNone:A,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return M(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?r:R},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r},P={some:M,none:D,from:function(e){return null==e?R:M(e)}},B=Array.prototype.slice,L=Array.prototype.indexOf,F=Array.prototype.push,N=function(e,t){return L.call(e,t)},j=function(e,t){return N(e,t)>-1},z=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},U=function(e,t){for(var n=[],o=0;o<e;o++)n.push(t(o));return n},V=function(e,t){for(var n=[],o=0;o<e.length;o+=t){var r=B.call(e,o,o+t);n.push(r)}return n},H=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var i=e[r];o[r]=t(i,r)}return o},W=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},G=function(e,t){for(var n=[],o=[],r=0,i=e.length;r<i;r++){var a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}},q=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];t(i,o)&&n.push(i)}return n},Y=function(e,t,n){return function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}}(e,(function(e,o){n=t(n,e,o)})),n},Q=function(e,t,n){return W(e,(function(e,o){n=t(n,e,o)})),n},$=function(e,t){return function(e,t,n){for(var o=0,r=e.length;o<r;o++){var i=e[o];if(t(i,o))return P.some(i);if(n(i,o))break}return P.none()}(e,t,A)},K=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return P.some(n)}return P.none()},X=function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);F.apply(t,e[n])}return t},J=function(e,t){return X(H(e,t))},Z=function(e,t){for(var n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},ee=function(e){var t=B.call(e,0);return t.reverse(),t},te=function(e,t){return q(e,(function(e){return!j(t,e)}))},ne=function(e,t){for(var n={},o=0,r=e.length;o<r;o++){var i=e[o];n[String(i)]=t(i,o)}return n},oe=function(e){return[e]},re=function(e,t){var n=B.call(e,0);return n.sort(t),n},ie=function(e,t){return t>=0&&t<e.length?P.some(e[t]):P.none()},ae=function(e){return ie(e,0)},ue=function(e){return ie(e,e.length-1)},se=f(Array.from)?Array.from:function(e){return B.call(e)},ce=function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n],n);if(o.isSome())return o}return P.none()},le=Object.keys,de=Object.hasOwnProperty,fe=function(e,t){for(var n=le(e),o=0,r=n.length;o<r;o++){var i=n[o];t(e[i],i)}},me=function(e,t){return pe(e,(function(e,n){return{k:n,v:t(e,n)}}))},pe=function(e,t){var n={};return fe(e,(function(e,o){var r=t(e,o);n[r.k]=r.v})),n},he=function(e,t){var n={};return function(e,t,n,o){fe(e,(function(e,r){(t(e,r)?n:o)(e,r)}))}(e,t,function(e){return function(t,n){e[n]=t}}(n),h),n},ge=function(e,t){var n=[];return fe(e,(function(e,o){n.push(t(e,o))})),n},ve=function(e,t){for(var n=le(e),o=0,r=n.length;o<r;o++){var i=n[o],a=e[i];if(t(a,i,e))return P.some(a)}return P.none()},be=function(e){return ge(e,b)},ye=function(e,t){return we(e,t)?P.from(e[t]):P.none()},we=function(e,t){return de.call(e,t)},xe=function(e,t){return we(e,t)&&void 0!==e[t]&&null!==e[t]},Se=function(e,t,n){return void 0===n&&(n=y),e.exists((function(e){return n(e,t)}))},Ae=function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<e.length;o++)e[o].each(n);return t},Ce=function(e,t,n){return e.isSome()&&t.isSome()?P.some(n(e.getOrDie(),t.getOrDie())):P.none()},ke=function(e,t){return e?P.some(t):P.none()},_e=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Oe=function(e,t){return-1!==e.indexOf(t)},Ie=function(e,t){return _e(e,t,0)},Te=function(e,t){return _e(e,t,e.length-t.length)},Ee=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),De=function(e){return e.length>0},Re=function(e){return void 0!==e.style&&f(e.style.getPropertyValue)},Me=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Pe={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Me(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Me(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Me(n)},fromDom:Me,fromPoint:function(e,t,n){return P.from(e.dom.elementFromPoint(t,n)).map(Me)}};"undefined"!=typeof window?window:Function("return this;")();var Be,Le=function(e){return e.dom.nodeName.toLowerCase()},Fe=function(e){return function(t){return function(e){return e.dom.nodeType}(t)===e}},Ne=Fe(1),je=Fe(3),ze=Fe(9),Ue=Fe(11),Ve=function(e){var t,n=!1;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return n||(n=!0,t=e.apply(null,o)),t}},He=function(){return We(0,0)},We=function(e,t){return{major:e,minor:t}},Ge={nu:We,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?He():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o.test(t))return o}}(e,t);if(!n)return{major:0,minor:0};var o=function(e){return Number(t.replace(n,"$"+e))};return We(o(1),o(2))}(e,n)},unknown:He},qe=function(e,t){var n=String(t).toLowerCase();return $(e,(function(e){return e.search(n)}))},Ye=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qe=function(e){return function(t){return Oe(t,e)}},$e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Oe(e,"edge/")&&Oe(e,"chrome")&&Oe(e,"safari")&&Oe(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ye],search:function(e){return Oe(e,"chrome")&&!Oe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Oe(e,"msie")||Oe(e,"trident")}},{name:"Opera",versionRegexes:[Ye,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qe("firefox")},{name:"Safari",versionRegexes:[Ye,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Oe(e,"safari")||Oe(e,"mobile/"))&&Oe(e,"applewebkit")}}],Ke=[{name:"Windows",search:Qe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Oe(e,"iphone")||Oe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Qe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qe("linux"),versionRegexes:[]},{name:"Solaris",search:Qe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Xe={browsers:v($e),oses:v(Ke)},Je=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:o("Edge"),isChrome:o("Chrome"),isIE:o("IE"),isOpera:o("Opera"),isFirefox:o("Firefox"),isSafari:o("Safari")}},Ze={unknown:function(){return Je({current:void 0,version:Ge.unknown()})},nu:Je,edge:v("Edge"),chrome:v("Chrome"),ie:v("IE"),opera:v("Opera"),firefox:v("Firefox"),safari:v("Safari")},et=function(e){var t=e.current,n=e.version,o=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:o("Windows"),isiOS:o("iOS"),isAndroid:o("Android"),isOSX:o("OSX"),isLinux:o("Linux"),isSolaris:o("Solaris"),isFreeBSD:o("FreeBSD"),isChromeOS:o("ChromeOS")}},tt={unknown:function(){return et({current:void 0,version:Ge.unknown()})},nu:et,windows:v("Windows"),ios:v("iOS"),android:v("Android"),linux:v("Linux"),osx:v("OSX"),solaris:v("Solaris"),freebsd:v("FreeBSD"),chromeos:v("ChromeOS")},nt=function(e,t,n){var o=Xe.browsers(),r=Xe.oses(),i=t.bind((function(e){return function(e,t){return ce(t.brands,(function(t){var n=t.brand.toLowerCase();return $(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:Ge.nu(parseInt(t.version,10),0)}}))}))}(o,e)})).orThunk((function(){return function(e,t){return qe(e,t).map((function(e){var n=Ge.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(o,e)})).fold(Ze.unknown,Ze.nu),a=function(e,t){return qe(e,t).map((function(e){var n=Ge.detect(e.versionRegexes,t);return{current:e.name,version:n}}))}(r,e).fold(tt.unknown,tt.nu),u=function(e,t,n,o){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),u=a||o("(pointer:coarse)"),s=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!s&&!l;return{isiPad:v(r),isiPhone:v(i),isTablet:v(s),isPhone:v(c),isTouch:v(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(l),isDesktop:v(d)}}(a,i,e,n);return{browser:i,os:a,deviceType:u}},ot=function(e){return window.matchMedia(e).matches},rt=Ve((function(){return nt(navigator.userAgent,P.from(navigator.userAgentData),ot)})),it=function(){return rt()},at=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var o=n;if(void 0!==o.matches)return o.matches(t);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(t);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ut=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},st=function(e,t){return e.dom===t.dom},ct=function(e,t){return function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}(e.dom,t.dom)},lt=function(e,t){return it().browser.isIE()?ct(e,t):function(e,t){var n=e.dom,o=t.dom;return n!==o&&n.contains(o)}(e,t)},dt=function(e){return Pe.fromDom(e.dom.ownerDocument)},ft=function(e){return ze(e)?e:dt(e)},mt=function(e){return Pe.fromDom(ft(e).dom.documentElement)},pt=function(e){return Pe.fromDom(ft(e).dom.defaultView)},ht=function(e){return P.from(e.dom.parentNode).map(Pe.fromDom)},gt=function(e){return P.from(e.dom.offsetParent).map(Pe.fromDom)},vt=function(e){return H(e.dom.childNodes,Pe.fromDom)},bt=function(e,t){var n=e.dom.childNodes;return P.from(n[t]).map(Pe.fromDom)},yt=function(e,t){return{element:e,offset:t}},wt=function(e,t){var n=vt(e);return n.length>0&&t<n.length?yt(n[t],0):yt(e,t)},xt=function(e){return Ue(e)&&d(e.dom.host)},St=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),At=v(St),Ct=St?function(e){return Pe.fromDom(e.dom.getRootNode())}:ft,kt=function(e){return xt(e)?e:Pe.fromDom(ft(e).dom.body)},_t=function(e){var t=Ct(e);return xt(t)?P.some(t):P.none()},Ot=function(e){return Pe.fromDom(e.dom.host)},It=function(e){return d(e.dom.shadowRoot)},Tt=function(e){var t=je(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,o,r=t.ownerDocument;return _t(Pe.fromDom(t)).fold((function(){return r.body.contains(t)}),(n=Tt,o=Ot,function(e){return n(o(e))}))},Et=function(){return Dt(Pe.fromDom(document))},Dt=function(e){var t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Pe.fromDom(t)},Rt=function(e,t,n){if(!(r(n)||s(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Mt=function(e,t,n){Rt(e.dom,t,n)},Pt=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Bt=function(e,t){return P.from(Pt(e,t))},Lt=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Ft=function(e,t){e.dom.removeAttribute(t)},Nt=function(e,t,n){if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Re(e)&&e.style.setProperty(t,n)},jt=function(e,t){Re(e)&&e.style.removeProperty(t)},zt=function(e,t,n){var o=e.dom;Nt(o,t,n)},Ut=function(e,t){var n=e.dom;fe(t,(function(e,t){Nt(n,t,e)}))},Vt=function(e,t){var n=e.dom;fe(t,(function(e,t){e.fold((function(){jt(n,t)}),(function(e){Nt(n,t,e)}))}))},Ht=function(e,t){var n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Tt(e)?o:Wt(n,t)},Wt=function(e,t){return Re(e)?e.style.getPropertyValue(t):""},Gt=function(e,t){var n=e.dom,o=Wt(n,t);return P.from(o).filter((function(e){return e.length>0}))},qt=function(e){var t={},n=e.dom;if(Re(n))for(var o=0;o<n.style.length;o++){var r=n.style.item(o);t[r]=n.style[r]}return t},Yt=function(e,t,n){var o=Pe.fromTag(e);return zt(o,t,n),Gt(o,t).isSome()},Qt=function(e,t){var n=e.dom;jt(n,t),Se(Bt(e,"style").map(Ee),"")&&Ft(e,"style")},$t=function(e){return e.dom.offsetWidth},Kt=function(e,t){var n=function(n){var o=t(n);if(o<=0||null===o){var r=Ht(n,e);return parseFloat(r)||0}return o},o=function(e,t){return Q(t,(function(t,n){var o=Ht(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0)};return{set:function(t,n){if(!m(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var o=t.dom;Re(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:function(e,t,n){var r=o(e,n);return t>r?t-r:0}}},Xt=Kt("height",(function(e){var t=e.dom;return Tt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Jt=function(e){return Xt.get(e)},Zt=function(e){return Xt.getOuter(e)},en=function(e,t){return{left:e,top:t,translate:function(n,o){return en(e+n,t+o)}}},tn=en,nn=function(e,t){return void 0!==e?e:void 0!==t?t:0},on=function(e){var t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return tn(n.offsetLeft,n.offsetTop);var i=nn(null==o?void 0:o.pageYOffset,r.scrollTop),a=nn(null==o?void 0:o.pageXOffset,r.scrollLeft),u=nn(r.clientTop,n.clientTop),s=nn(r.clientLeft,n.clientLeft);return rn(e).translate(a-s,i-u)},rn=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?tn(n.offsetLeft,n.offsetTop):Tt(e)?function(e){var t=e.getBoundingClientRect();return tn(t.left,t.top)}(t):tn(0,0)},an=Kt("width",(function(e){return e.dom.offsetWidth})),un=function(e){return an.get(e)},sn=function(e){return an.getOuter(e)},cn=function(e){var t=Pe.fromDom(function(e){if(At()&&d(e.target)){var t=Pe.fromDom(e.target);if(Ne(t)&&It(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ae(n)}}return P.from(e.target)}(e).getOr(e.target)),n=function(){return e.stopPropagation()},o=function(){return e.preventDefault()},r=g(o,n);return function(e,t,n,o,r,i,a){return{target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}}(t,e.clientX,e.clientY,n,o,r,e)},ln=function(e,t,n,o,r){var i=function(e,t){return function(n){e(n)&&t(cn(n))}}(n,o);return e.dom.addEventListener(t,i,r),{unbind:w(dn,e,t,i,r)}},dn=function(e,t,n,o){e.dom.removeEventListener(t,n,o)},fn=function(e,t){ht(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},mn=function(e,t){(function(e){return P.from(e.dom.nextSibling).map(Pe.fromDom)})(e).fold((function(){ht(e).each((function(e){hn(e,t)}))}),(function(e){fn(e,t)}))},pn=function(e,t){(function(e){return bt(e,0)})(e).fold((function(){hn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},hn=function(e,t){e.dom.appendChild(t.dom)},gn=function(e,t){W(t,(function(t){hn(e,t)}))},vn=function(e){e.dom.textContent="",W(vt(e),(function(e){bn(e)}))},bn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},yn=function(e){var t,n=vt(e);n.length>0&&(t=e,W(n,(function(e){fn(t,e)}))),bn(e)},wn=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return tn(n,o)},xn=function(e,t,n){var o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Sn=function(e,t,n,o){return{x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}},An=function(e){var t=void 0===e?window:e,n=t.document,o=wn(Pe.fromDom(n));return function(e){var t=void 0===e?window:e;return it().browser.isFirefox()?P.none():P.from(t.visualViewport)}(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Sn(o.left,o.top,n,r)}),(function(e){return Sn(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)}))},Cn=function(e,t){return e.view(t).fold(v([]),(function(t){var n=e.owner(t),o=Cn(e,n);return[t].concat(o)}))},kn=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?P.none():P.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Pe.fromDom)},owner:function(e){return dt(e)}}),_n=function(e){var t=Pe.fromDom(document),n=wn(t);return function(e,t){var n=t.owner(e),o=Cn(t,n);return P.some(o)}(e,kn).fold(w(on,e),(function(t){var o=rn(e),r=Y(t,(function(e,t){var n=rn(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return tn(r.left+o.left+n.left,r.top+o.top+n.top)}))},On=function(e,t,n,o){return{x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}},In=function(e){var t=on(e),n=sn(e),o=Zt(e);return On(t.left,t.top,n,o)},Tn=function(e){var t=_n(e),n=sn(e),o=Zt(e);return On(t.left,t.top,n,o)},En=function(){return An(window)},Dn=function(e){return{isValue:C,isError:A,getOr:v(e),getOrThunk:v(e),getOrDie:v(e),or:function(t){return Dn(e)},orThunk:function(t){return Dn(e)},fold:function(t,n){return n(e)},map:function(t){return Dn(t(e))},mapError:function(t){return Dn(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return P.some(e)}}},Rn=function(e){return{isValue:A,isError:C,getOr:b,getOrThunk:function(e){return e()},getOrDie:function(){return S(String(e))()},or:b,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Rn(e)},mapError:function(t){return Rn(t(e))},each:h,bind:function(t){return Rn(e)},exists:A,forall:C,toOptional:P.none}},Mn={value:Dn,error:Rn,fromOption:function(e,t){return e.fold((function(){return Rn(t)}),Dn)}};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(Be||(Be={}));var Pn=function(e,t,n){return e.stype===Be.Error?t(e.serror):n(e.svalue)},Bn=function(e){return{stype:Be.Value,svalue:e}},Ln=function(e){return{stype:Be.Error,serror:e}},Fn=function(e){return e.fold(Ln,Bn)},Nn=function(e){return Pn(e,Mn.error,Mn.value)},jn=Bn,zn=function(e){var t=[],n=[];return W(e,(function(e){Pn(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},Un=Ln,Vn=function(e,t){return e.stype===Be.Value?t(e.svalue):e},Hn=function(e,t){return e.stype===Be.Error?t(e.serror):e},Wn=function(e,t){return e.stype===Be.Value?{stype:Be.Value,svalue:t(e.svalue)}:e},Gn=function(e,t){return e.stype===Be.Error?{stype:Be.Error,serror:t(e.serror)}:e},qn=Pn,Yn=function(e,t,n,o){return{tag:"field",key:e,newKey:t,presence:n,prop:o}},Qn=function(e,t,n){switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},$n=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var o={},r=0;r<t.length;r++){var i=t[r];for(var a in i)we(i,a)&&(o[a]=e(o[a],i[a]))}return o}},Kn=$n((function(e,t){return i(e)&&i(t)?Kn(e,t):t})),Xn=$n((function(e,t){return t})),Jn=function(e){return{tag:"defaultedThunk",process:e}},Zn=function(e){return Jn(v(e))},eo=function(e){return{tag:"mergeWithThunk",process:e}},to=function(e){return g(Un,X)(e)},no=function(e){var t=zn(e);return t.errors.length>0?to(t.errors):jn(t.values)},oo=function(e){return i(e)&&le(e).length>100?" removed due to size":JSON.stringify(e,null,2)},ro=function(e,t){return Un([{path:e,getErrorInfo:t}])},io=function(e){return{extract:function(t,n){return Hn(e(n),(function(e){return function(e,t){return ro(e,v(t))}(t,e)}))},toString:v("val")}},ao=io(jn),uo=function(e,t,n,o){return ye(t,n).fold((function(){return function(e,t,n){return ro(e,(function(){return'Could not find valid *required* value for "'+t+'" in '+oo(n)}))}(e,n,t)}),o)},so=function(e,t,n,o){return o(ye(e,t).getOrThunk((function(){return n(e)})))},co=function(e,t,n,o,r){var i=function(e){return r.extract(t.concat([o]),e)},a=function(e){return e.fold((function(){return jn(P.none())}),(function(e){var n=r.extract(t.concat([o]),e);return Wn(n,P.some)}))};switch(e.tag){case"required":return uo(t,n,o,i);case"defaultedThunk":return so(n,o,e.process,i);case"option":return function(e,t,n){return n(ye(e,t))}(n,o,a);case"defaultedOptionThunk":return function(e,t,n,o){return o(ye(e,t).map((function(t){return!0===t?n(e):t})))}(n,o,e.process,a);case"mergeWithThunk":return so(n,o,v({}),(function(t){var o=Kn(e.process(n),t);return i(o)}))}},lo=function(e){return{extract:function(t,n){return e().extract(t,n)},toString:function(){return e().toString()}}},fo=function(e){return le(he(e,d))},mo=function(e){var t=po(e),n=Y(e,(function(e,t){return Qn(t,(function(t){var n;return Kn(e,((n={})[t]=!0,n))}),v(e))}),{});return{extract:function(e,o){var r=s(o)?[]:fo(o),i=q(r,(function(e){return!xe(n,e)}));return 0===i.length?t.extract(e,o):function(e,t){return ro(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))}(e,i)},toString:t.toString}},po=function(e){return{extract:function(t,n){return function(e,t,n){for(var o={},r=[],i=0,a=n;i<a.length;i++){var u=a[i];Qn(u,(function(n,i,a,u){var s=co(a,e,t,n,u);qn(s,(function(e){r.push.apply(r,e)}),(function(e){o[i]=e}))}),(function(e,n){o[e]=n(t)}))}return r.length>0?Un(r):jn(o)}(t,n,e)},toString:function(){return"obj{\n"+H(e,(function(e){return Qn(e,(function(e,t,n,o){return e+" -> "+o.toString()}),(function(e,t){return"state("+e+")"}))})).join("\n")+"}"}}},ho=function(e){return{extract:function(t,n){var o=H(n,(function(n,o){return e.extract(t.concat(["["+o+"]"]),n)}));return no(o)},toString:function(){return"array("+e.toString()+")"}}},go=function(e){return{extract:function(t,n){for(var o=[],r=0,i=e;r<i.length;r++){var a=i[r].extract(t,n);if(a.stype===Be.Value)return a;o.push(a)}return no(o)},toString:function(){return"oneOf("+H(e,(function(e){return e.toString()})).join(", ")+")"}}},vo=function(e,t){return{extract:function(n,o){var r=le(o),i=function(t,n){return ho(io(e)).extract(t,n)}(n,r);return Vn(i,(function(e){var r=H(e,(function(e){return Yn(e,e,{tag:"required",process:{}},t)}));return po(r).extract(n,o)}))},toString:function(){return"setOf("+t.toString()+")"}}},bo=g(ho,po),yo=v(ao),wo=function(e,t){return io((function(n){var o=typeof n;return e(n)?jn(n):Un("Expected type: "+t+" but got: "+o)}))},xo=wo(m,"number"),So=wo(r,"string"),Ao=wo(s,"boolean"),Co=wo(f,"function"),ko=function(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return ko(e[t])}));default:return!1}},_o=io((function(e){return ko(e)?jn(e):Un("Expected value to be acceptable for sending via postMessage")})),Oo=function(e,t,n,o){return ye(n,o).fold((function(){return function(e,t,n){return ro(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+oo(t)}))}(e,n,o)}),(function(n){return n.extract(e.concat(["branch: "+o]),t)}))},Io=function(e,t){return{extract:function(n,o){return ye(o,e).fold((function(){return function(e,t){return ro(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))}(n,e)}),(function(e){return Oo(n,o,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+le(t)}}},To=function(e){return io((function(t){return e(t).fold(Un,jn)}))},Eo=function(e,t){return vo((function(t){return Fn(e(t))}),t)},Do=function(e,t,n){return Nn(function(e,t,n){var o=t.extract([e],n);return Gn(o,(function(e){return{input:n,errors:e}}))}(e,t,n))},Ro=function(e){return e.fold((function(e){throw new Error(Po(e))}),b)},Mo=function(e,t,n){return Ro(Do(e,t,n))},Po=function(e){return"Errors: \n"+(t=e.errors,n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:v("... (only showing first ten failures)")}]):t,H(n,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))).join("\n")+"\n\nInput object: "+oo(e.input);var t,n},Bo=function(e,t){return Io(e,me(t,po))},Lo=Yn,Fo=function(e,t){return{tag:"custom",newKey:e,instantiator:t}},No=function(e){return To((function(t){return j(e,t)?Mn.value(t):Mn.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))},jo=function(e){return Lo(e,e,{tag:"required",process:{}},yo())},zo=function(e,t){return Lo(e,e,{tag:"required",process:{}},t)},Uo=function(e){return zo(e,xo)},Vo=function(e){return zo(e,So)},Ho=function(e,t){return Lo(e,e,{tag:"required",process:{}},No(t))},Wo=function(e){return zo(e,Co)},Go=function(e,t){return Lo(e,e,{tag:"required",process:{}},po(t))},qo=function(e,t){return Lo(e,e,{tag:"required",process:{}},bo(t))},Yo=function(e,t){return Lo(e,e,{tag:"required",process:{}},ho(t))},Qo=function(e){return Lo(e,e,{tag:"option",process:{}},yo())},$o=function(e,t){return Lo(e,e,{tag:"option",process:{}},t)},Ko=function(e){return $o(e,xo)},Xo=function(e){return $o(e,So)},Jo=function(e){return $o(e,Co)},Zo=function(e,t){return $o(e,ho(t))},er=function(e,t){return $o(e,po(t))},tr=function(e,t){return Lo(e,e,Zn(t),yo())},nr=function(e,t,n){return Lo(e,e,Zn(t),n)},or=function(e,t){return nr(e,t,xo)},rr=function(e,t){return nr(e,t,So)},ir=function(e,t,n){return nr(e,t,No(n))},ar=function(e,t){return nr(e,t,Ao)},ur=function(e,t){return nr(e,t,Co)},sr=function(e,t,n){return nr(e,t,ho(n))},cr=function(e,t,n){return nr(e,t,po(n))},lr=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},dr=function(e){if(!a(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return W(e,(function(o,r){var i=le(o);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],s=o[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!a(s))throw new Error("case arguments must be an array");t.push(u),n[u]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=n.length;if(i!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+i);var a=function(e){var o=le(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!Z(t,(function(e){return j(o,e)})))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,n)};return{fold:function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);var i=t[r];return i.apply(null,n)},match:a,log:function(e){console.log(e,{constructors:t,constructor:u,params:n})}}}})),n};dr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var fr,mr=function(e,t){return function(e,t){var n={};return fe(e,(function(e,o){j(t,o)||(n[o]=e)})),n}(e,t)},pr=function(e,t){return function(e,t){var n;return(n={})[e]=t,n}(e,t)},hr=function(e){return function(e){var t={};return W(e,(function(e){t[e.key]=e.value})),t}(e)},gr=function(e,t){var n,o=function(e){var t=[],n=[];return W(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}(e);return o.errors.length>0?(n=o.errors,Mn.error(X(n))):function(e,t){return 0===e.length?Mn.value(t):Mn.value(Kn(t,Xn.apply(void 0,e)))}(o.values,t)},vr=function(e){return f(e)?e:A},br=function(e,t,n){for(var o=e.dom,r=vr(n);o.parentNode;){o=o.parentNode;var i=Pe.fromDom(o),a=t(i);if(a.isSome())return a;if(r(i))break}return P.none()},yr=function(e,t,n){var o=t(e),r=vr(n);return o.orThunk((function(){return r(e)?P.none():br(e,t,r)}))},wr=function(e,t){return st(e.element,t.event.target)},xr={can:C,abort:A,run:h},Sr=function(e){if(!xe(e,"can")&&!xe(e,"abort")&&!xe(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return _(_({},xr),e)},Ar=function(e){return{can:function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return Q(e,(function(e,o){return e&&t(o).apply(void 0,n)}),!0)}}(e,(function(e){return e.can})),abort:function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return Q(e,(function(e,o){return e||t(o).apply(void 0,n)}),!1)}}(e,(function(e){return e.abort})),run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];W(e,(function(e){e.run.apply(void 0,t)}))}}},Cr=v,kr=Cr("touchstart"),_r=Cr("touchmove"),Or=Cr("touchend"),Ir=Cr("touchcancel"),Tr=Cr("mousedown"),Er=Cr("mousemove"),Dr=Cr("mouseout"),Rr=Cr("mouseup"),Mr=Cr("mouseover"),Pr=Cr("focusin"),Br=Cr("focusout"),Lr=Cr("keydown"),Fr=Cr("keyup"),Nr=Cr("input"),jr=Cr("change"),zr=Cr("click"),Ur=Cr("transitioncancel"),Vr=Cr("transitionend"),Hr=Cr("transitionstart"),Wr=Cr("selectstart"),Gr=function(e){return v("alloy."+e)},qr={tap:Gr("tap")},Yr=Gr("focus"),Qr=Gr("blur.post"),$r=Gr("paste.post"),Kr=Gr("receive"),Xr=Gr("execute"),Jr=Gr("focus.item"),Zr=qr.tap,ei=Gr("longpress"),ti=Gr("sandbox.close"),ni=Gr("typeahead.cancel"),oi=Gr("system.init"),ri=Gr("system.touchmove"),ii=Gr("system.touchend"),ai=Gr("system.scroll"),ui=Gr("system.resize"),si=Gr("system.attached"),ci=Gr("system.detached"),li=Gr("system.dismissRequested"),di=Gr("system.repositionRequested"),fi=Gr("focusmanager.shifted"),mi=Gr("slotcontainer.visibility"),pi=Gr("change.tab"),hi=Gr("dismiss.tab"),gi=Gr("highlight"),vi=Gr("dehighlight"),bi=function(e,t){Si(e,e.element,t,{})},yi=function(e,t,n){Si(e,e.element,t,n)},wi=function(e){bi(e,Xr())},xi=function(e,t,n){Si(e,t,n,{})},Si=function(e,t,n,o){var r=_({target:t},o);e.getSystem().triggerEvent(n,t,r)},Ai=function(e,t,n,o){e.getSystem().triggerEvent(n,t,o.event)},Ci=function(e){return hr(e)},ki=function(e,t){return{key:e,value:Sr({abort:t})}},_i=function(e){return{key:e,value:Sr({run:function(e,t){t.event.prevent()}})}},Oi=function(e,t){return{key:e,value:Sr({run:t})}},Ii=function(e,t,n){return{key:e,value:Sr({run:function(e,o){t.apply(void 0,[e,o].concat(n))}})}},Ti=function(e){return function(t){return{key:e,value:Sr({run:function(e,n){wr(e,n)&&t(e,n)}})}}},Ei=function(e,t,n){return function(e,t){return Oi(e,(function(n,o){n.getSystem().getByUid(t).each((function(t){Ai(t,t.element,e,o)}))}))}(e,t.partUids[n])},Di=function(e,t){return Oi(e,(function(e,n){var o=n.event,r=e.getSystem().getByDom(o.target).getOrThunk((function(){return yr(o.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),A).getOr(e)}));t(e,r,n)}))},Ri=function(e){return Oi(e,(function(e,t){t.cut()}))},Mi=function(e){return Oi(e,(function(e,t){t.stop()}))},Pi=function(e,t){return Ti(e)(t)},Bi=Ti(si()),Li=Ti(ci()),Fi=Ti(oi()),Ni=function(e){return function(t){return Oi(e,t)}}(Xr()),ji=function(e){return e.dom.innerHTML},zi=function(e,t){var n,o,r=dt(e).dom,i=Pe.fromDom(r.createDocumentFragment()),a=(n=t,(o=(r||document).createElement("div")).innerHTML=n,vt(Pe.fromDom(o)));gn(i,a),vn(e),hn(e,i)},Ui=function(e){return function(e,t){return Pe.fromDom(e.dom.cloneNode(t))}(e,!1)},Vi=function(e){return xt(e)?"#shadow-root":function(e){var t=Pe.fromTag("div"),n=Pe.fromDom(e.dom.cloneNode(!0));return hn(t,n),ji(t)}(Ui(e))},Hi=function(e){return Vi(e)},Wi=Ci([function(e,t){return{key:e,value:Sr({can:t})}}(Yr(),(function(e,t){var n=t.event,o=n.originator,r=n.target;return!function(e,t,n){return st(t,e.element)&&!st(t,n)}(e,o,r)||(console.warn(Yr()+" did not get interpreted by the desired target. \nOriginator: "+Hi(o)+"\nTarget: "+Hi(r)+"\nCheck the "+Yr()+" event handlers"),!1)}))]),Gi=Object.freeze({__proto__:null,events:Wi}),qi=0,Yi=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++qi+String(t)},Qi=v("alloy-id-"),$i=v("data-alloy-id"),Ki=Qi(),Xi=$i(),Ji=function(e,t){Object.defineProperty(e.dom,Xi,{value:t,writable:!0})},Zi=function(e){var t=Ne(e)?e.dom[Xi]:null;return P.from(t)},ea=function(e){return Yi(e)},ta=b,na=function(e){var t=function(t){return"The component must be in a context to execute: "+t+(e?"\n"+Hi(e().element)+" is not in context.":"")},n=function(e){return function(){throw new Error(t(e))}},o=function(e){return function(){console.warn(t(e))}};return{debugInfo:v("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:A}},oa=na(),ra=function(e){return H(e,(function(e){return Te(e,"/*")?e.substring(0,e.length-"/*".length):e}))},ia=function(e,t){var n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ra(i)}},e},aa=Yi("alloy-premade"),ua=function(e){return pr(aa,e)},sa=function(e){return function(e,t){var n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ra(i.slice(1))}},e}((function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return e.apply(void 0,I([t.getApis(),t],n,!1))}),e)},ca={init:function(){return la({readState:v("No State required")})}},la=function(e){return e},da=function(e,t){var n={};return fe(e,(function(e,o){fe(e,(function(e,r){var i=ye(n,r).getOr([]);n[r]=i.concat([t(o,e)])}))})),n},fa=function(e){return{classes:c(e.classes)?[]:e.classes,attributes:c(e.attributes)?{}:e.attributes,styles:c(e.styles)?{}:e.styles}},ma=function(e){return e.cHandler},pa=function(e,t){return{name:e,handler:t}},ha=function(e,t,n){var o=_(_({},n),function(e,t){var n={};return W(e,(function(e){n[e.name()]=e.handlers(t)})),n}(t,e));return da(o,pa)},ga=function(e){var t=function(e){return f(e)?{can:C,abort:A,run:e}:e}(e);return function(e,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];var i=[e,n].concat(o);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},va=function(e,t,n){var o=t[n];return o?function(e,t,n,o){try{var r=re(n,(function(n,r){var i=n[t],a=r[t],u=o.indexOf(i),s=o.indexOf(a);if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(o,null,2));return u<s?-1:s<u?1:0}));return Mn.value(r)}catch(e){return Mn.error([e])}}("Event: "+n,"name",e,o).map((function(e){var t=H(e,(function(e){return e.handler}));return Ar(t)})):function(e,t){return Mn.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(H(t,(function(e){return e.name})),null,2)])}(n,e)},ba=function(e,t){var n=ge(e,(function(e,n){return(1===e.length?Mn.value(e[0].handler):va(e,t,n)).map((function(o){var r=ga(o),i=e.length>1?q(t[n],(function(t){return z(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return pr(n,function(e,t){return{handler:e,purpose:t}}(r,i))}))}));return gr(n,{})},ya="alloy.base.behaviour",wa=po([Lo("dom","dom",{tag:"required",process:{}},po([jo("tag"),tr("styles",{}),tr("classes",[]),tr("attributes",{}),Qo("value"),Qo("innerHtml")])),jo("components"),jo("uid"),tr("events",{}),tr("apis",{}),Lo("eventOrder","eventOrder",function(e){return eo(v(e))}((fr={},fr[Xr()]=["disabling",ya,"toggling","typeaheadevents"],fr[Yr()]=[ya,"focusing","keying"],fr[oi()]=[ya,"disabling","toggling","representing"],fr[Nr()]=[ya,"representing","streaming","invalidating"],fr[ci()]=[ya,"representing","item-events","tooltipping"],fr[Tr()]=["focusing",ya,"item-type-events"],fr[kr()]=["focusing",ya,"item-type-events"],fr[Mr()]=["item-type-events","tooltipping"],fr[Kr()]=["receiving","reflecting","tooltipping"],fr)),yo()),Qo("domModification")]),xa=function(e){return e.events},Sa=function(e,t){var n=Pt(e,t);return void 0===n||""===n?[]:n.split(" ")},Aa=function(e){return void 0!==e.dom.classList},Ca=function(e,t){return function(e,t,n){var o=Sa(e,t).concat([n]);return Mt(e,t,o.join(" ")),!0}(e,"class",t)},ka=function(e,t){return function(e,t,n){var o=q(Sa(e,t),(function(e){return e!==n}));return o.length>0?Mt(e,t,o.join(" ")):Ft(e,t),!1}(e,"class",t)},_a=function(e,t){Aa(e)?e.dom.classList.add(t):Ca(e,t)},Oa=function(e){0===(Aa(e)?e.dom.classList:function(e){return Sa(e,"class")}(e)).length&&Ft(e,"class")},Ia=function(e,t){Aa(e)?e.dom.classList.remove(t):ka(e,t);Oa(e)},Ta=function(e,t){return Aa(e)&&e.dom.classList.contains(t)},Ea=function(e,t){W(t,(function(t){_a(e,t)}))},Da=function(e,t){W(t,(function(t){Ia(e,t)}))},Ra=function(e){return e.dom.value},Ma=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Pa=function(e){var t=Pe.fromTag(e.tag);!function(e,t){var n=e.dom;fe(t,(function(e,t){Rt(n,t,e)}))}(t,e.attributes),Ea(t,e.classes),Ut(t,e.styles),e.innerHtml.each((function(e){return zi(t,e)}));var n=e.domChildren;return gn(t,n),e.value.each((function(e){Ma(t,e)})),e.uid,Ji(t,e.uid),t},Ba=function(e,t){return function(e,t){var n=H(t,(function(e){return er(e.name(),[jo("config"),tr("state",ca)])})),o=Do("component.behaviours",po(n),e.behaviours).fold((function(t){throw new Error(Po(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),b);return{list:t,data:me(o,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return v(t)}))}}(e,t)},La=function(e){var t=function(e){var t=ye(e,"behaviours").getOr({});return J(le(t),(function(e){var n=t[e];return d(n)?[n.me]:[]}))}(e);return Ba(e,t)},Fa=function(e,t,n){var o,r,i,a=_(_({},(o=e).dom),{uid:o.uid,domChildren:H(o.components,(function(e){return e.element}))}),u=function(e){return e.domModification.fold((function(){return fa({})}),fa)}(e),s={"alloy.base.modification":u},c=t.length>0?function(e,t,n,o){var r=_({},t);W(n,(function(t){r[t.name()]=t.exhibit(e,o)}));var i=da(r,(function(e,t){return{name:e,modification:t}})),a=function(e){return Y(e,(function(e,t){return _(_({},t.modification),e)}),{})},u=Y(i.classes,(function(e,t){return t.modification.concat(e)}),[]),s=a(i.attributes),c=a(i.styles);return fa({classes:u,attributes:s,styles:c})}(n,s,t,a):u;return i=c,_(_({},r=a),{attributes:_(_({},r.attributes),i.attributes),styles:_(_({},r.styles),i.styles),classes:r.classes.concat(i.classes)})},Na=function(e,t,n){var o={"alloy.base.behaviour":xa(e)};return function(e,t,n,o){var r=ha(e,n,o);return ba(r,t)}(n,e.eventOrder,t,o).getOrDie()},ja=function(e){var t=function(){return d},n=lr(oa),o=Ro(function(e){return Do("custom.definition",wa,e)}(e)),r=La(e),i=function(e){return e.list}(r),a=function(e){return e.data}(r),u=Fa(o,i,a),s=Pa(u),c=Na(o,i,a),l=lr(o.components),d={uid:e.uid,getSystem:n.get,config:function(t){var n=a;return(f(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:function(e){return f(a[e.name()])},spec:e,readState:function(e){return a[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},getApis:function(){return o.apis},connect:function(e){n.set(e)},disconnect:function(){n.set(na(t))},element:s,syncComponents:function(){var e=vt(s),t=J(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),oe)}));l.set(t)},components:l.get,events:c};return d},za=function(e){var t=ta(e),n=t.events,o=O(t,["events"]),r=function(e){var t=ye(e,"components").getOr([]);return H(t,Wa)}(o),i=_(_({},o),{events:_(_({},Gi),n),components:r});return Mn.value(ja(i))},Ua=function(e){var t=Pe.fromText(e);return Va({element:t})},Va=function(e){var t=Mo("external.component",mo([jo("element"),Qo("uid")]),e),n=lr(na()),o=t.uid.getOrThunk((function(){return ea("external")}));Ji(t.element,o);var r={uid:o,getSystem:n.get,config:P.none,hasConfigured:A,connect:function(e){n.set(e)},disconnect:function(){n.set(na((function(){return r})))},getApis:function(){return{}},element:t.element,spec:e,readState:v("No state"),syncComponents:h,components:v([]),events:{}};return ua(r)},Ha=ea,Wa=function(e){return function(e){return ye(e,aa)}(e).getOrThunk((function(){var t=function(e){return we(e,"uid")}(e)?e:_({uid:Ha("")},e);return za(t).getOrDie()}))},Ga=ua;function qa(e,t,n,o,r){return e(n,o)?P.some(n):f(r)&&r(n)?P.none():t(n,o,r)}var Ya,Qa=function(e,t,n){for(var o=e.dom,r=f(n)?n:A;o.parentNode;){o=o.parentNode;var i=Pe.fromDom(o);if(t(i))return P.some(i);if(r(i))break}return P.none()},$a=function(e,t,n){return qa((function(e,t){return t(e)}),Qa,e,t,n)},Ka=function(e,t,n){return $a(e,t,n).isSome()},Xa=function(e,t,n){return Qa(e,(function(e){return at(e,t)}),n)},Ja=function(e,t){return function(e,t){return $(e.dom.childNodes,(function(e){return t(Pe.fromDom(e))})).map(Pe.fromDom)}(e,(function(e){return at(e,t)}))},Za=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return ut(n)?P.none():P.from(n.querySelector(e)).map(Pe.fromDom)}(t,e)},eu=function(e,t,n){return qa((function(e,t){return at(e,t)}),Xa,e,t,n)},tu=function(){var e=Yi("aria-owns");return{id:e,link:function(t){Mt(t,"aria-owns",e)},unlink:function(e){Ft(e,"aria-owns")}}},nu=function(e,t){return function(e){return $a(e,(function(e){if(!Ne(e))return!1;var t=Pt(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1})).bind((function(e){var t=Pt(e,"id"),n=Ct(e);return Za(n,'[aria-owns="'+t+'"]')}))}(t).exists((function(t){return ou(e,t)}))},ou=function(e,t){return Ka(t,(function(t){return st(t,e.element)}),A)||nu(e,t)};!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(Ya||(Ya={}));var ru=lr({}),iu=function(e,t,n){switch(ye(ru.get(),e).orThunk((function(){var t=le(ru.get());return ce(t,(function(t){return e.indexOf(t)>-1?P.some(ru.get()[t]):P.none()}))})).getOr(Ya.NORMAL)){case Ya.NORMAL:return n(su());case Ya.LOGGING:var o=function(e,t){var n=[],o=(new Date).getTime();return{logEventCut:function(e,t,o){n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:function(e,t,o){n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:function(e,t,o){n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:function(e,t){n.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,o){n.push({outcome:"response",purpose:o,target:t})},write:function(){var r=(new Date).getTime();j(["mousemove","mouseover","mouseout",oi()],e)||console.log(e,{event:e,time:r-o,target:t.dom,sequence:H(n,(function(e){return j(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Hi(e.target)+")":e.outcome}))})}}}(e,t),r=n(o);return o.write(),r;case Ya.STOP:return!0}},au=["alloy/data/Fields","alloy/debugging/Debugging"],uu=function(e,t,n){return iu(e,t,n)},su=v({logEventCut:h,logEventStopped:h,logNoParent:h,logEventNoHandlers:h,logEventResponse:h,write:h}),cu=v([jo("menu"),jo("selectedMenu")]),lu=v([jo("item"),jo("selectedItem")]);v(po(lu().concat(cu())));var du=v(po(lu())),fu=Go("initSize",[jo("numColumns"),jo("numRows")]),mu=function(){return Go("markers",[jo("backgroundMenu")].concat(cu()).concat(lu()))},pu=function(e){return Go("markers",H(e,jo))},hu=function(e,t,n){return function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return $(t,(function(e){return e.indexOf("alloy")>0&&!z(au,(function(t){return e.indexOf(t)>-1}))})).getOr("unknown")}}(),Lo(t,t,n,To((function(e){return Mn.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))},gu=function(e){return hu(0,e,Zn(h))},vu=function(e){return hu(0,e,Zn(P.none))},bu=function(e){return hu(0,e,{tag:"required",process:{}})},yu=function(e){return hu(0,e,{tag:"required",process:{}})},wu=function(e,t){return Fo(e,v(t))},xu=function(e){return Fo(e,b)},Su=v(fu),Au=function(e,t,n,o,r,i,a,u){return void 0===u&&(u=!1),{x:e,y:t,bubble:n,direction:o,placement:r,restriction:i,label:a+"-"+r,alwaysFit:u}},Cu=dr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ku=Cu.southeast,_u=Cu.southwest,Ou=Cu.northeast,Iu=Cu.northwest,Tu=Cu.south,Eu=Cu.north,Du=Cu.east,Ru=Cu.west,Mu=function(e,t,n,o){var r=e+t;return r>o?n:r<n?o:r},Pu=function(e,t,n){return Math.min(Math.max(e,t),n)},Bu=function(e,t){return ne(["left","right","top","bottom"],(function(n){return ye(t,n).map((function(t){return function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}}(e,t)}))}))},Lu=function(e){return e.x},Fu=function(e,t){return e.x+e.width/2-t.width/2},Nu=function(e,t){return e.x+e.width-t.width},ju=function(e,t){return e.y-t.height},zu=function(e){return e.y+e.height},Uu=function(e,t){return e.y+e.height/2-t.height/2},Vu=function(e,t,n){return Au(Lu(e),zu(e),n.southeast(),ku(),"southeast",Bu(e,{left:1,top:3}),"layout")},Hu=function(e,t,n){return Au(Nu(e,t),zu(e),n.southwest(),_u(),"southwest",Bu(e,{right:0,top:3}),"layout")},Wu=function(e,t,n){return Au(Lu(e),ju(e,t),n.northeast(),Ou(),"northeast",Bu(e,{left:1,bottom:2}),"layout")},Gu=function(e,t,n){return Au(Nu(e,t),ju(e,t),n.northwest(),Iu(),"northwest",Bu(e,{right:0,bottom:2}),"layout")},qu=function(e,t,n){return Au(Fu(e,t),ju(e,t),n.north(),Eu(),"north",Bu(e,{bottom:2}),"layout")},Yu=function(e,t,n){return Au(Fu(e,t),zu(e),n.south(),Tu(),"south",Bu(e,{top:3}),"layout")},Qu=function(e,t,n){return Au(function(e){return e.x+e.width}(e),Uu(e,t),n.east(),Du(),"east",Bu(e,{left:0}),"layout")},$u=function(e,t,n){return Au(function(e,t){return e.x-t.width}(e,t),Uu(e,t),n.west(),Ru(),"west",Bu(e,{right:1}),"layout")},Ku=function(){return[Vu,Hu,Wu,Gu,Yu,qu,Qu,$u]},Xu=function(){return[Hu,Vu,Gu,Wu,Yu,qu,Qu,$u]},Ju=function(){return[Wu,Gu,Vu,Hu,qu,Yu]},Zu=function(){return[Gu,Wu,Hu,Vu,qu,Yu]},es=function(){return[Vu,Hu,Wu,Gu,Yu,qu]},ts=function(){return[Hu,Vu,Gu,Wu,Yu,qu]},ns=Object.freeze({__proto__:null,events:function(e){return Ci([Oi(Kr(),(function(t,n){var o=e.channels,r=le(o),i=n,a=function(e,t){return t.universal?e:q(e,(function(e){return j(t.channels,e)}))}(r,i);W(a,(function(e){var n=o[e],r=n.schema,a=Mo("channel["+e+"] data\nReceiver: "+Hi(t.element),r,i.data);n.onReceive(t,a)}))}))])}}),os=[zo("channels",Eo(Mn.value,mo([bu("onReceive"),tr("schema",yo())])))],rs=function(e,t,n){return Fi((function(o,r){n(o,e,t)}))},is=function(e,t,n){return function(e,t,n){var o=n.toString(),r=o.indexOf(")")+1,i=o.indexOf("("),a=o.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ra(a.slice(0,1).concat(a.slice(3)))}},e}((function(o){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=[o].concat(r);return o.config({name:v(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))}),n,t)},as=function(e){return{key:e,value:void 0}},us=function(e,t,n,o,r,i,a){var u=function(e){return xe(e,n)?e[n]():P.none()},s=me(r,(function(e,t){return is(n,e,t)})),c=me(i,(function(e,t){return ia(e,t)})),l=_(_(_({},c),s),{revoke:w(as,n),config:function(t){var o=Mo(n+"-config",e,t);return{key:n,value:{config:o,me:l,configAsRaw:Ve((function(){return Mo(n+"-config",e,t)})),initialConfig:t,state:a}}},schema:v(t),exhibit:function(e,t){return Ce(u(e),ye(o,"exhibit"),(function(e,n){return n(t,e.config,e.state)})).getOrThunk((function(){return fa({})}))},name:v(n),handlers:function(e){return u(e).map((function(e){return ye(o,"events").getOr((function(){return{}}))(e.config,e.state)})).getOr({})}});return l},ss=function(e){return hr(e)},cs=mo([jo("fields"),jo("name"),tr("active",{}),tr("apis",{}),tr("state",ca),tr("extra",{})]),ls=function(e){var t=Mo("Creating behaviour: "+e.name,cs,e);return function(e,t,n,o,r,i){var a,u,s=mo(e),c=er(t,[(a="config",u=e,$o(a,mo(u)))]);return us(s,c,t,n,o,r,i)}(t.fields,t.name,t.active,t.apis,t.extra,t.state)},ds=mo([jo("branchKey"),jo("branches"),jo("name"),tr("active",{}),tr("apis",{}),tr("state",ca),tr("extra",{})]),fs=function(e){var t=Mo("Creating behaviour: "+e.name,ds,e);return function(e,t,n,o,r,i){var a=e,u=er(t,[$o("config",e)]);return us(a,u,t,n,o,r,i)}(Bo(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},ms=v(void 0),ps=ls({fields:os,name:"receiving",active:ns}),hs=Object.freeze({__proto__:null,exhibit:function(e,t){return fa({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}}),gs=function(){return Pe.fromDom(document)},vs=function(e){return e.dom.focus()},bs=function(e){var t=Ct(e).dom;return e.dom===t.activeElement},ys=function(e){return void 0===e&&(e=gs()),P.from(e.dom.activeElement).map(Pe.fromDom)},ws=function(e){return ys(Ct(e)).filter((function(t){return e.dom.contains(t.dom)}))},xs=function(e,t){var n=Ct(t),o=ys(n).bind((function(e){var n,o,r=function(t){return st(e,t)};return r(t)?P.some(t):(n=r,(o=function(e){for(var t=0;t<e.childNodes.length;t++){var r=Pe.fromDom(e.childNodes[t]);if(n(r))return P.some(r);var i=o(e.childNodes[t]);if(i.isSome())return i}return P.none()})(t.dom))})),r=e(t);return o.each((function(e){ys(n).filter((function(t){return st(t,e)})).fold((function(){vs(e)}),h)})),r},Ss=function(e,t,n,o,r){var i=function(e){return e+"px"};return{position:e,left:t.map(i),top:n.map(i),right:o.map(i),bottom:r.map(i)}},As=function(e,t){Vt(e,function(e){return _(_({},e),{position:P.some(e.position)})}(t))},Cs=dr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),ks=function(e,t,n,o,r,i){var a=t.rect,u=a.x-n,s=a.y-o,c=r-(u+a.width),l=i-(s+a.height),d=P.some(u),f=P.some(s),m=P.some(c),p=P.some(l),h=P.none();return function(e,t,n,o,r,i,a,u,s){return e.fold(t,n,o,r,i,a,u,s)}(t.direction,(function(){return Ss(e,d,f,h,h)}),(function(){return Ss(e,h,f,m,h)}),(function(){return Ss(e,d,h,h,p)}),(function(){return Ss(e,h,h,m,p)}),(function(){return Ss(e,d,f,h,h)}),(function(){return Ss(e,d,h,h,p)}),(function(){return Ss(e,d,f,h,h)}),(function(){return Ss(e,h,f,m,h)}))},_s=function(e,t){return e.fold((function(){var e=t.rect;return Ss("absolute",P.some(e.x),P.some(e.y),P.none(),P.none())}),(function(e,n,o,r){return ks("absolute",t,e,n,o,r)}),(function(e,n,o,r){return ks("fixed",t,e,n,o,r)}))},Os=function(e,t){var n=w(_n,t),o=e.fold(n,n,(function(){var e=wn();return _n(t).translate(-e.left,-e.top)})),r=sn(t),i=Zt(t);return On(o.left,o.top,r,i)},Is=function(e,t){return t.fold((function(){return e.fold(En,En,On)}),(function(t){return e.fold(t,t,(function(){var n=t(),o=Ts(e,n.x,n.y);return On(o.left,o.top,n.width,n.height)}))}))},Ts=function(e,t,n){var o=tn(t,n);return e.fold(v(o),v(o),(function(){var e=wn();return o.translate(-e.left,-e.top)}))};Cs.none;var Es,Ds=Cs.relative,Rs=Cs.fixed,Ms=function(e,t){return function(e,t){return{anchorBox:e,origin:t}}(e,t)},Ps=function(e){return Bt(e,"data-alloy-placement")},Bs=dr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ls=function(e,t,n,o){var r=e.bubble,i=r.offset,a=function(e,t,n){var o=function(o,r){return t[o].map((function(t){var i="top"===o||"bottom"===o,a=i?n.top:n.left,u=("left"===o||"top"===o?Math.max:Math.min)(t,r)+a;return i?Pu(u,e.y,e.bottom):Pu(u,e.x,e.right)})).getOr(r)},r=o("left",e.x),i=o("top",e.y),a=o("right",e.right),u=o("bottom",e.bottom);return On(r,i,a-r,u-i)}(o,e.restriction,i),u=e.x+i.left,s=e.y+i.top,c=On(u,s,t,n),l=function(e,t){var n=t.x,o=t.y,r=t.right,i=t.bottom,a=e.x,u=e.y,s=e.right,c=e.bottom,l=e.width,d=e.height;return{originInBounds:a>=n&&a<=r&&(u>=o&&u<=i),sizeInBounds:s<=r&&s>=n&&(c<=i&&c>=o),visibleW:Math.min(l,a>=n?r-a:s-n),visibleH:Math.min(d,u>=o?i-u:c-o)}}(c,a),d=l.originInBounds,f=l.sizeInBounds,m=l.visibleW,p=l.visibleH,h=d&&f,g=h?c:function(e,t){var n=t.x,o=t.y,r=t.right,i=t.bottom,a=e.x,u=e.y,s=e.width,c=e.height,l=Math.max(n,r-s),d=Math.max(o,i-c),f=Pu(a,n,l),m=Pu(u,o,d),p=Math.min(f+s,r)-f,h=Math.min(m+c,i)-m;return On(f,m,p,h)}(c,a),b=g.width>0&&g.height>0,y=function(e,t,n){var o=v(t.bottom-n.y),r=v(n.bottom-t.y),i=function(e,t,n,o){return e.fold(t,t,o,o,t,o,n,n)}(e,r,r,o),a=v(t.right-n.x),u=v(n.right-t.x);return{maxWidth:function(e,t,n,o){return e.fold(t,o,t,o,n,n,t,o)}(e,u,u,a),maxHeight:i}}(e.direction,g,o),w=y.maxWidth,x={rect:g,maxHeight:y.maxHeight,maxWidth:w,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:s};return h||e.alwaysFit?Bs.fit(x):Bs.nofit(x,m,p,b)},Fs=function(e){var t=lr(P.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(P.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(P.some(e))}}},Ns=function(){return Fs((function(e){return e.unbind()}))},js=function(){var e=Fs(h);return _(_({},e),{on:function(t){return e.get().each(t)}})},zs=C,Us=function(e,t,n){return function(e,t,n,o){return ln(e,t,n,o,!1)}(e,t,zs,n)},Vs=function(e,t,n){return function(e,t,n,o){return ln(e,t,n,o,!0)}(e,t,zs,n)},Hs=cn,Ws=["top","bottom","right","left"],Gs="data-alloy-transition-timer",qs=function(e,t){return function(e,t){return Z(t,(function(t){return Ta(e,t)}))}(e,t.classes)},Ys=function(e,t){var n=function(e){return parseFloat(e).toFixed(3)};return ve(t,(function(t,o){var r,i,a,u=e[o].map(n),s=t.map(n);return void 0===a&&(a=y),!Ce(r=u,i=s,a).getOr(r.isNone()&&i.isNone())})).isSome()},Qs=function(e,t){var n,o=Ns(),i=Ns(),a=function(t){var n,o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return st(t.target,e)&&!De(o)&&j(Ws,t.raw.propertyName)},u=function(r){if(l(r)||a(r)){o.clear(),i.clear();var u=null==r?void 0:r.raw.type;(l(u)||u===Vr())&&(clearTimeout(n),Ft(e,Gs),Da(e,t.classes))}},s=function(){o.set(Us(e,Vr(),u)),i.set(Us(e,Ur(),u))};if("ontransitionstart"in e.dom)var c=Us(e,Hr(),(function(e){a(e)&&(c.unbind(),s())}));else s();var d=function(e){var t=function(t){var n=Ht(e,t),o=r(n)?n.split(/\s*,\s*/):[];return q(o,De)},n=function(e){if(r(e)&&/^[\d.]+/.test(e)){var t=parseFloat(e);return Te(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),i=t("transition-duration");return Q(i,(function(e,t,r){var i=n(o[r])+n(t);return Math.max(e,i)}),0)}(e);requestAnimationFrame((function(){n=setTimeout(u,d+17),Mt(e,Gs,n)}))},$s=function(e,t,n,o,r,i){var a=function(e,t,n){return n.exists((function(n){var o=e.mode;return"all"===o||n[o]!==t[o]}))}(o,r,i);if(a||qs(e,o)){zt(e,"position",n.position);var u=Os(t,e),s=_s(t,_(_({},r),{rect:u})),c=ne(Ws,(function(e){return s[e]}));Ys(n,c)&&(Vt(e,c),a&&function(e,t){Ea(e,t.classes),Bt(e,Gs).each((function(t){clearTimeout(parseInt(t,10)),Ft(e,Gs)})),Qs(e,t)}(e,o),$t(e))}else Da(e,o.classes)},Ks=function(e,t,n,o){Qt(t,"max-height"),Qt(t,"max-width");var r,i={width:sn(r=t),height:Zt(r)};return function(e,t,n,o,r,i){var a=o.width,u=o.height,s=function(t,s,c,l,d){var f=t(n,o,r,e,i),m=Ls(f,a,u,i);return m.fold(v(m),(function(e,t,n,o){return(d===o?n>l||t>c:!d&&o)?m:Bs.nofit(s,c,l,d)}))};return Q(t,(function(e,t){var n=w(s,t);return e.fold(v(e),n)}),Bs.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:ku(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(b,b)}(t,o.preference,e,i,n,o.bounds)},Xs=function(e,t){!function(e,t){Mt(e,"data-alloy-placement",t)}(e,t.placement)},Js=function(e,t){!function(e,t){var n=Xt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);zt(e,"max-height",n+"px")}(e,Math.floor(t))},Zs=v((function(e,t){Js(e,t),Ut(e,{"overflow-x":"hidden","overflow-y":"auto"})})),ec=v((function(e,t){Js(e,t)})),tc=function(e,t,n){return void 0===e[t]?n:e[t]},nc=function(e,t,n,o){var r=Ks(e,t,n,o);return function(e,t,n){var o=_s(n.origin,t);n.transition.each((function(r){$s(e,n.origin,o,r,t,n.lastPlacement)})),As(e,o)}(t,r,o),Xs(t,r),function(e,t){var n=t.classes;Da(e,n.off),Ea(e,n.on)}(t,r),function(e,t,n){(0,n.maxHeightFunction)(e,t.maxHeight)}(t,r,o),function(e,t,n){(0,n.maxWidthFunction)(e,t.maxWidth)}(t,r,o),{layout:r.layout,placement:r.placement}},oc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],rc=function(e,t,n,o){void 0===o&&(o=1);var r=e*o,i=t*o,a=function(e){return ye(n,e).getOr([])},u=function(e,t,n){var o=te(oc,n);return{offset:tn(e,t),classesOn:J(n,a),classesOff:J(o,a)}};return{southeast:function(){return u(-e,t,["top","alignLeft"])},southwest:function(){return u(e,t,["top","alignRight"])},south:function(){return u(-e/2,t,["top","alignCentre"])},northeast:function(){return u(-e,-t,["bottom","alignLeft"])},northwest:function(){return u(e,-t,["bottom","alignRight"])},north:function(){return u(-e/2,-t,["bottom","alignCentre"])},east:function(){return u(e,-t/2,["valignCentre","left"])},west:function(){return u(-e,-t/2,["valignCentre","right"])},insetNortheast:function(){return u(r,i,["top","alignLeft","inset"])},insetNorthwest:function(){return u(-r,i,["top","alignRight","inset"])},insetNorth:function(){return u(-r/2,i,["top","alignCentre","inset"])},insetSoutheast:function(){return u(r,-i,["bottom","alignLeft","inset"])},insetSouthwest:function(){return u(-r,-i,["bottom","alignRight","inset"])},insetSouth:function(){return u(-r/2,-i,["bottom","alignCentre","inset"])},insetEast:function(){return u(-r,-i/2,["valignCentre","right","inset"])},insetWest:function(){return u(r,-i/2,["valignCentre","left","inset"])}}},ic=function(){return rc(0,0,{})},ac=b,uc=function(e,t){return function(n){return"rtl"===sc(n)?t:e}},sc=function(e){return"rtl"===Ht(e,"direction")?"rtl":"ltr"};!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(Es||(Es={}));var cc="data-alloy-vertical-dir",lc=function(e){return Ka(e,(function(e){return Ne(e)&&Pt(e,"data-alloy-vertical-dir")===Es.BottomToTop}))},dc=function(){return er("layouts",[jo("onLtr"),jo("onRtl"),Qo("onBottomLtr"),Qo("onBottomRtl")])},fc=function(e,t,n,o,r,i,a){var u=a.map(lc).getOr(!1),s=t.layouts.map((function(t){return t.onLtr(e)})),c=t.layouts.map((function(t){return t.onRtl(e)})),l=u?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(s).getOr(r):s.getOr(n),d=u?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(c).getOr(i):c.getOr(o);return uc(l,d)(e)},mc=[jo("hotspot"),Qo("bubble"),tr("overrides",{}),dc(),wu("placement",(function(e,t,n){var o=t.hotspot,r=Os(n,o.element),i=fc(e.element,t,es(),ts(),Ju(),Zu(),P.some(t.hotspot.element));return P.some(ac({anchorBox:r,bubble:t.bubble.getOr(ic()),overrides:t.overrides,layouts:i,placer:P.none()}))}))],pc=[jo("x"),jo("y"),tr("height",0),tr("width",0),tr("bubble",ic()),tr("overrides",{}),dc(),wu("placement",(function(e,t,n){var o=Ts(n,t.x,t.y),r=On(o.left,o.top,t.width,t.height),i=fc(e.element,t,Ku(),Xu(),Ku(),Xu(),P.none());return P.some(ac({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:P.none()}))}))],hc=dr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),gc=function(e){return e.fold(b,(function(e,t,n){return e.translate(-t,-n)}))},vc=function(e){return e.fold(b,b)},bc=function(e){return Q(e,(function(e,t){return e.translate(t.left,t.top)}),tn(0,0))},yc=function(e){var t=H(e,vc);return bc(t)},wc=hc.screen,xc=hc.absolute,Sc=function(e,t,n){var o=dt(e.element),r=wn(o),i=function(e,t,n){var o=pt(n.root).dom;return P.from(o.frameElement).map(Pe.fromDom).filter((function(t){var n=dt(t),o=dt(e.element);return st(n,o)})).map(on)}(e,0,n).getOr(r);return xc(i,r.left,r.top)},Ac=function(e,t,n,o){var r=wc(tn(e,t));return P.some(function(e,t,n){return{point:e,width:t,height:n}}(r,n,o))},Cc=function(e,t,n,o,r){return e.map((function(e){var i,a,u,s=[t,e.point],c=(i=function(){return yc(s)},a=function(){return yc(s)},u=function(){return function(e){var t=H(e,gc);return bc(t)}(s)},o.fold(i,a,u)),l=function(e,t,n,o){return{x:e,y:t,width:n,height:o}}(c.left,c.top,e.width,e.height),d=n.showAbove?Ju():es(),f=n.showAbove?Zu():ts(),m=fc(r,n,d,f,d,f,P.none());return ac({anchorBox:l,bubble:n.bubble.getOr(ic()),overrides:n.overrides,layouts:m,placer:P.none()})}))},kc=[jo("node"),jo("root"),Qo("bubble"),dc(),tr("overrides",{}),tr("showAbove",!1),wu("placement",(function(e,t,n){var o=Sc(e,0,t);return t.node.filter(Tt).bind((function(r){var i=r.dom.getBoundingClientRect(),a=Ac(i.left,i.top,i.width,i.height),u=t.node.getOr(e.element);return Cc(a,o,t,n,u)}))}))],_c=function(e,t,n,o){return{start:e,soffset:t,finish:n,foffset:o}},Oc=dr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ic=(Oc.before,Oc.on,Oc.after,function(e){return e.fold(b,b,b)}),Tc=dr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ec={domRange:Tc.domRange,relative:Tc.relative,exact:Tc.exact,exactFromRange:function(e){return Tc.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return Pe.fromDom(e.startContainer)},relative:function(e,t){return Ic(e)},exact:function(e,t,n,o){return e}})}(e);return pt(t)},range:_c},Dc=function(e,t,n){var o,r=e.document.createRange();return o=r,t.fold((function(e){o.setStartBefore(e.dom)}),(function(e,t){o.setStart(e.dom,t)}),(function(e){o.setStartAfter(e.dom)})),function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}(r,n),r},Rc=function(e,t,n,o,r){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},Mc=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},Pc=dr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Bc=function(e,t,n){return t(Pe.fromDom(n.startContainer),n.startOffset,Pe.fromDom(n.endContainer),n.endOffset)},Lc=function(e,t){return function(e,t){var n=t.ltr();return n.collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Pc.rtl(Pe.fromDom(e.endContainer),e.endOffset,Pe.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Bc(0,Pc.ltr,n)})):Bc(0,Pc.ltr,n)}(0,function(e,t){return t.match({domRange:function(e){return{ltr:v(e),rtl:P.none}},relative:function(t,n){return{ltr:Ve((function(){return Dc(e,t,n)})),rtl:Ve((function(){return P.some(Dc(e,n,t))}))}},exact:function(t,n,o,r){return{ltr:Ve((function(){return Rc(e,t,n,o,r)})),rtl:Ve((function(){return P.some(Rc(e,o,r,t,n))}))}}})}(e,t))},Fc=function(e,t){return Lc(e,t).match({ltr:function(t,n,o,r){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},rtl:function(t,n,o,r){var i=e.document.createRange();return i.setStart(o.dom,r),i.setEnd(t.dom,n),i}})};Pc.ltr,Pc.rtl;var Nc,jc=function(e,t){var n=function(t){return e(t)?P.from(t.dom.nodeValue):P.none()};return{get:function(o){if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:function(n,o){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}}(je,"text"),zc=function(e){return jc.getOption(e)},Uc=["img","br"],Vc=function(e){return zc(e).filter((function(e){return 0!==e.trim().length||e.indexOf(" ")>-1})).isSome()||j(Uc,Le(e))},Hc=function(e,t){var n=function(e){for(var o=vt(e),r=o.length-1;r>=0;r--){var i=o[r];if(t(i))return P.some(i);var a=n(i);if(a.isSome())return a}return P.none()};return n(e)},Wc=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return ut(n)?[]:H(n.querySelectorAll(e),Pe.fromDom)}(t,e)},Gc=function(e,t,n,o){var r=function(e,t,n,o){var r=dt(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r}(e,t,n,o),i=st(e,n)&&t===o;return r.collapsed&&!i},qc=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return P.some(_c(Pe.fromDom(t.startContainer),t.startOffset,Pe.fromDom(n.endContainer),n.endOffset))}return P.none()},Yc=function(e){if(null===e.anchorNode||null===e.focusNode)return qc(e);var t=Pe.fromDom(e.anchorNode),n=Pe.fromDom(e.focusNode);return Gc(t,e.anchorOffset,n,e.focusOffset)?P.some(_c(t,e.anchorOffset,n,e.focusOffset)):qc(e)},Qc=function(e){return function(e){return P.from(e.getSelection())}(e).filter((function(e){return e.rangeCount>0})).bind(Yc)},$c=function(e,t){return function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?P.some(n).map(Mc):P.none()}(Fc(e,t))},Kc=function(e,t){return function(e){var t=e.getBoundingClientRect();return t.width>0||t.height>0?P.some(t).map(Mc):P.none()}(Fc(e,t))},Xc=function(e,t){return{element:e,offset:t}},Jc=function(e,t){var n=vt(e);if(0===n.length)return Xc(e,t);if(t<n.length)return Xc(n[t],0);var o=n[n.length-1],r=je(o)?function(e){return jc.get(e)}(o).length:vt(o).length;return Xc(o,r)},Zc=function(e,t){return je(e)?Xc(e,t):Jc(e,t)},el=function(e,t){return t.getSelection.getOrThunk((function(){return function(){return Qc(e)}}))().map((function(e){var t=Zc(e.start,e.soffset),n=Zc(e.finish,e.foffset);return Ec.range(t.element,t.offset,n.element,n.offset)}))},tl=[Qo("getSelection"),jo("root"),Qo("bubble"),dc(),tr("overrides",{}),tr("showAbove",!1),wu("placement",(function(e,t,n){var o=pt(t.root).dom,r=Sc(e,0,t),i=el(o,t).bind((function(e){return Kc(o,Ec.exactFromRange(e)).orThunk((function(){var t=Pe.fromText("\ufeff");fn(e.start,t);var n=$c(o,Ec.exact(t,0,t,1));return bn(t),n})).bind((function(e){return Ac(e.left,e.top,e.width,e.height)}))})),a=el(o,t).bind((function(e){return Ne(e.start)?P.some(e.start):function(e){return ht(e)}(e.start)})).getOr(e.element);return Cc(i,r,t,n,a)}))],nl=function(e){return e.x+e.width},ol=function(e,t){return e.x-t.width},rl=function(e,t){return e.y-t.height+e.height},il=function(e){return e.y},al=function(e,t,n){return Au(nl(e),il(e),n.southeast(),ku(),"southeast",Bu(e,{left:0,top:2}),"link-layout")},ul=function(e,t,n){return Au(ol(e,t),il(e),n.southwest(),_u(),"southwest",Bu(e,{right:1,top:2}),"link-layout")},sl=function(e,t,n){return Au(nl(e),rl(e,t),n.northeast(),Ou(),"northeast",Bu(e,{left:0,bottom:3}),"link-layout")},cl=function(e,t,n){return Au(ol(e,t),rl(e,t),n.northwest(),Iu(),"northwest",Bu(e,{right:1,bottom:3}),"link-layout")},ll=function(){return[al,ul,sl,cl]},dl=function(){return[ul,al,cl,sl]},fl=[jo("item"),dc(),tr("overrides",{}),wu("placement",(function(e,t,n){var o=Os(n,t.item.element),r=fc(e.element,t,ll(),dl(),ll(),dl(),P.none());return P.some(ac({anchorBox:o,bubble:ic(),overrides:t.overrides,layouts:r,placer:P.none()}))}))],ml=Bo("type",{selection:tl,node:kc,hotspot:mc,submenu:fl,makeshift:pc}),pl=[Yo("classes",So),ir("mode","all",["all","layout","placement"])],hl=[tr("useFixed",A),Qo("getBounds")],gl=[zo("anchor",ml),er("transition",pl)],vl=function(e,t,n,o,r,i,a){return function(e,t,n,o,r,i,a,u){var s=tc(a,"maxHeightFunction",Zs()),c=tc(a,"maxWidthFunction",h),l=e.anchorBox,d=e.origin,f={bounds:Is(d,i),origin:d,preference:o,maxHeightFunction:s,maxWidthFunction:c,lastPlacement:r,transition:u};return nc(l,t,n,f)}(Ms(n.anchorBox,t),r.element,n.bubble,n.layouts,i,o,n.overrides,a)},bl=function(e,t,n,o,r,i){var a=i.map(In);return yl(e,t,n,o,r,a)},yl=function(e,t,n,o,r,i){var a=Mo("placement.info",po(gl),r),u=a.anchor,s=o.element,c=n.get(o.uid);xs((function(){zt(s,"position","fixed");var r=Gt(s,"visibility");zt(s,"visibility","hidden");var l,d=t.useFixed()?(l=document.documentElement,Rs(0,0,l.clientWidth,l.clientHeight)):function(e){var t=on(e.element),n=e.element.dom.getBoundingClientRect();return Ds(t.left,t.top,n.width,n.height)}(e),f=u.placement,m=i.map(v).or(t.getBounds);f(e,u,d).each((function(t){var r=t.placer.getOr(vl)(e,d,t,m,o,c,a.transition);n.set(o.uid,r)})),r.fold((function(){Qt(s,"visibility")}),(function(e){zt(s,"visibility",e)})),Gt(s,"left").isNone()&&Gt(s,"top").isNone()&&Gt(s,"right").isNone()&&Gt(s,"bottom").isNone()&&Se(Gt(s,"position"),"fixed")&&Qt(s,"position")}),s)},wl=Object.freeze({__proto__:null,position:function(e,t,n,o,r){bl(e,t,n,o,r,P.none())},positionWithin:bl,positionWithinBounds:yl,getMode:function(e,t,n){return t.useFixed()?"fixed":"absolute"},reset:function(e,t,n,o){var r=o.element;W(["position","left","right","top","bottom"],(function(e){return Qt(r,e)})),function(e){Ft(e,"data-alloy-placement")}(r),n.clear(o.uid)}}),xl=Object.freeze({__proto__:null,init:function(){var e={};return la({readState:function(){return e},clear:function(t){d(t)?delete e[t]:e={}},set:function(t,n){e[t]=n},get:function(t){return ye(e,t)}})}}),Sl=ls({fields:hl,name:"positioning",active:hs,apis:wl,state:xl}),Al=function(e){bi(e,ci());var t=e.components();W(t,Al)},Cl=function(e){var t=e.components();W(t,Cl),bi(e,si())},kl=function(e,t){hn(e.element,t.element)},_l=function(e,t){var n=e.components();!function(e){W(e.components(),(function(e){return bn(e.element)})),vn(e.element),e.syncComponents()}(e);var o=te(n,t);W(o,(function(t){Al(t),e.getSystem().removeFromWorld(t)})),W(t,(function(t){t.getSystem().isConnected()?kl(e,t):(e.getSystem().addToWorld(t),kl(e,t),Tt(e.element)&&Cl(t)),e.syncComponents()}))},Ol=function(e,t){Il(e,t,hn)},Il=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),Tt(e.element)&&Cl(t),e.syncComponents()},Tl=function(e){Al(e),bn(e.element),e.getSystem().removeFromWorld(e)},El=function(e){var t=ht(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));Tl(e),t.each((function(e){e.syncComponents()}))},Dl=function(e){var t=e.components();W(t,Tl),vn(e.element),e.syncComponents()},Rl=function(e,t){Ml(e,t,hn)},Ml=function(e,t,n){n(e,t.element);var o=vt(t.element);W(o,(function(e){t.getByDom(e).each(Cl)}))},Pl=function(e){var t=vt(e.element);W(t,(function(t){e.getByDom(t).each(Al)})),bn(e.element)},Bl=function(e,t,n,o){n.get().each((function(t){Dl(e)}));var r=t.getAttachPoint(e);Ol(r,e);var i=e.getSystem().build(o);return Ol(e,i),n.set(i),i},Ll=function(e,t,n,o){var r=Bl(e,t,n,o);return t.onOpen(e,r),r},Fl=function(e,t,n){n.get().each((function(o){Dl(e),El(e),t.onClose(e,o),n.clear()}))},Nl=function(e,t,n){return n.isOpen()},jl=function(e,t,n){var o=t.getAttachPoint(e);zt(e.element,"position",Sl.getMode(o)),function(e,t,n,o){Gt(e.element,t).fold((function(){Ft(e.element,n)}),(function(t){Mt(e.element,n,t)})),zt(e.element,t,o)}(e,"visibility",t.cloakVisibilityAttr,"hidden")},zl=function(e,t,n){(function(e){return z(["top","left","right","bottom"],(function(t){return Gt(e,t).isSome()}))})(e.element)||Qt(e.element,"position"),function(e,t,n){Bt(e.element,n).fold((function(){return Qt(e.element,t)}),(function(n){return zt(e.element,t,n)}))}(e,"visibility",t.cloakVisibilityAttr)},Ul=Object.freeze({__proto__:null,cloak:jl,decloak:zl,open:Ll,openWhileCloaked:function(e,t,n,o,r){jl(e,t),Ll(e,t,n,o),r(),zl(e,t)},close:Fl,isOpen:Nl,isPartOf:function(e,t,n,o){return Nl(0,0,n)&&n.get().exists((function(n){return t.isPartOf(e,n,o)}))},getState:function(e,t,n){return n.get()},setContent:function(e,t,n,o){return n.get().map((function(){return Bl(e,t,n,o)}))}}),Vl=Object.freeze({__proto__:null,events:function(e,t){return Ci([Oi(ti(),(function(n,o){Fl(n,e,t)}))])}}),Hl=[gu("onOpen"),gu("onClose"),jo("isPartOf"),jo("getAttachPoint"),tr("cloakVisibilityAttr","data-precloak-visibility")],Wl=ls({fields:Hl,name:"sandboxing",active:Vl,apis:Ul,state:Object.freeze({__proto__:null,init:function(){var e=js(),t=v("not-implemented");return la({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})}),Gl=v("dismiss.popups"),ql=v("reposition.popups"),Yl=v("mouse.released"),Ql=mo([tr("isExtraPart",A),er("fireEventInstead",[tr("event",li())])]),$l=function(e){var t,n=Mo("Dismissal",Ql,e);return(t={})[Gl()]={schema:mo([jo("target")]),onReceive:function(e,t){Wl.isOpen(e)&&(Wl.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold((function(){return Wl.close(e)}),(function(t){return bi(e,t.event)})))}},t},Kl=mo([er("fireEventInstead",[tr("event",di())]),Wo("doReposition")]),Xl=function(e){var t,n=Mo("Reposition",Kl,e);return(t={})[ql()]={onReceive:function(e){Wl.isOpen(e)&&n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return bi(e,t.event)}))}},t},Jl=function(e,t,n){t.store.manager.onLoad(e,t,n)},Zl=function(e,t,n){t.store.manager.onUnload(e,t,n)},ed=Object.freeze({__proto__:null,onLoad:Jl,onUnload:Zl,setValue:function(e,t,n,o){t.store.manager.setValue(e,t,n,o)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),td=Object.freeze({__proto__:null,events:function(e,t){var n=e.resetOnDom?[Bi((function(n,o){Jl(n,e,t)})),Li((function(n,o){Zl(n,e,t)}))]:[rs(e,t,Jl)];return Ci(n)}}),nd=function(){var e=lr(null);return la({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})},od=function(){var e=lr({}),t=lr({});return la({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return ye(e.get(),n).orThunk((function(){return ye(t.get(),n)}))},update:function(n){var o=e.get(),r=t.get(),i={},a={};W(n,(function(e){i[e.value]=e,ye(e,"meta").each((function(t){ye(t,"text").each((function(t){a[t]=e}))}))})),e.set(_(_({},o),i)),t.set(_(_({},r),a))},clear:function(){e.set({}),t.set({})}})},rd=Object.freeze({__proto__:null,memory:nd,dataset:od,manual:function(){return la({readState:h})},init:function(e){return e.store.manager.state(e)}}),id=function(e,t,n,o){var r=t.store;n.update([o]),r.setValue(e,o),t.onSetValue(e,o)},ad=[Qo("initialValue"),jo("getFallbackEntry"),jo("getDataKey"),jo("setValue"),wu("manager",{setValue:id,getValue:function(e,t,n){var o=t.store,r=o.getDataKey(e);return n.lookup(r).getOrThunk((function(){return o.getFallbackEntry(r)}))},onLoad:function(e,t,n){t.store.initialValue.each((function(o){id(e,t,n,o)}))},onUnload:function(e,t,n){n.clear()},state:od})],ud=[jo("getValue"),tr("setValue",h),Qo("initialValue"),wu("manager",{setValue:function(e,t,n,o){t.store.setValue(e,o),t.onSetValue(e,o)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},onUnload:h,state:ca.init})],sd=[Qo("initialValue"),wu("manager",{setValue:function(e,t,n,o){n.set(o),t.onSetValue(e,o)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},onUnload:function(e,t,n){n.clear()},state:nd})],cd=[nr("store",{mode:"memory"},Bo("mode",{memory:sd,manual:ud,dataset:ad})),gu("onSetValue"),tr("resetOnDom",!1)],ld=ls({fields:cd,name:"representing",active:td,apis:ed,extra:{setValueFrom:function(e,t){var n=ld.getValue(t);ld.setValue(e,n)}},state:rd}),dd=function(e,t){return cr(e,{},H(t,(function(t){return n=t.name(),o="Cannot configure "+t.name()+" for "+e,Lo(n,n,{tag:"option",process:{}},io((function(e){return Un("The field: "+n+" is forbidden. "+o)})));var n,o})).concat([Fo("dump",b)]))},fd=function(e){return e.dump},md=function(e,t){return _(_({},ss(t)),e.dump)},pd=dd,hd=md,gd=dr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),vd=function(e){return we(e,"uiType")},bd=function(e,t,n,o){return vd(n)&&"placeholder"===n.uiType?function(e,t,n,o){return e.exists((function(e){return e!==n.owner}))?gd.single(!0,v(n)):ye(o,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+le(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))}(e,0,n,o):gd.single(!1,v(n))},yd=function(e,t,n,o){return bd(e,0,n,o).fold((function(r,i){var a=vd(n)?i(t,n.config,n.validated):i(t),u=ye(a,"components").getOr([]),s=J(u,(function(n){return yd(e,t,n,o)}));return[_(_({},a),{components:s})]}),(function(e,o){if(vd(n)){var r=o(t,n.config,n.validated);return n.validated.preprocess.getOr(b)(r)}return o(t)}))},wd=function(e,t,n,o){var r=me(o,(function(e,t){return o=e,r=!1,{name:v(n=t),required:function(){return o.fold((function(e,t){return e}),(function(e,t){return e}))},used:function(){return r},replace:function(){if(r)throw new Error("Trying to use the same placeholder more than once: "+n);return r=!0,o}};var n,o,r})),i=function(e,t,n,o){return J(n,(function(n){return yd(e,t,n,o)}))}(e,t,n,r);return fe(r,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i},xd=gd.single,Sd=gd.multiple,Ad=v("placeholder"),Cd=dr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),kd=tr("factory",{sketch:b}),_d=tr("schema",[]),Od=jo("name"),Id=Lo("pname","pname",Jn((function(e){return"<alloy."+Yi(e.name)+">"})),yo()),Td=Fo("schema",(function(){return[Qo("preprocess")]})),Ed=tr("defaults",v({})),Dd=tr("overrides",v({})),Rd=po([kd,_d,Od,Id,Ed,Dd]),Md=po([kd,_d,Od,Ed,Dd]),Pd=po([kd,_d,Od,Id,Ed,Dd]),Bd=po([kd,Td,Od,jo("unit"),Id,Ed,Dd]),Ld=function(e){return e.fold(P.some,P.none,P.some,P.some)},Fd=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},Nd=function(e,t){return function(n){var o=Mo("Converting part type",t,n);return e(o)}},jd=Nd(Cd.required,Rd),zd=Nd(Cd.external,Md),Ud=Nd(Cd.optional,Pd),Vd=Nd(Cd.group,Bd),Hd=v("entirety"),Wd=Object.freeze({__proto__:null,required:jd,external:zd,optional:Ud,group:Vd,asNamedPart:Ld,name:Fd,asCommon:function(e){return e.fold(b,b,b,b)},original:Hd}),Gd=function(e,t,n,o){return Kn(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o))},qd=function(e,t){var n={};return W(t,(function(t){Ld(t).each((function(t){var o=Yd(e,t.pname);n[t.name]=function(n){var r=Mo("Part: "+t.name+" in "+e,po(t.schema),n);return _(_({},o),{config:n,validated:r})}}))})),n},Yd=function(e,t){return{uiType:Ad(),owner:e,name:t}},Qd=function(e,t,n){return{uiType:Ad(),owner:e,name:t,config:n,validated:{}}},$d=function(e){return J(e,(function(e){return e.fold(P.none,P.some,P.none,P.none).map((function(e){return Go(e.name,e.schema.concat([xu(Hd())]))})).toArray()}))},Kd=function(e){return H(e,Fd)},Xd=function(e,t,n){return function(e,t,n){var o={},r={};return W(n,(function(e){e.fold((function(e){o[e.pname]=xd(!0,(function(t,n,o){return e.factory.sketch(Gd(t,e,n,o))}))}),(function(e){var n=t.parts[e.name];r[e.name]=v(e.factory.sketch(Gd(t,e,n[Hd()]),n))}),(function(e){o[e.pname]=xd(!1,(function(t,n,o){return e.factory.sketch(Gd(t,e,n,o))}))}),(function(e){o[e.pname]=Sd(!0,(function(t,n,o){var r=t[e.name];return H(r,(function(n){return e.factory.sketch(Kn(e.defaults(t,n,o),n,e.overrides(t,n)))}))}))}))})),{internals:v(o),externals:v(r)}}(0,t,n)},Jd=function(e,t,n){return wd(P.some(e),t,t.components,n)},Zd=function(e,t,n){var o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},ef=function(e,t,n){return Zd(e,t,n).getOrDie("Could not find part: "+n)},tf=function(e,t,n){var o={},r=t.partUids,i=e.getSystem();return W(n,(function(e){o[e]=v(i.getByUid(r[e]))})),o},nf=function(e,t){var n=e.getSystem();return me(t.partUids,(function(e,t){return v(n.getByUid(e))}))},of=function(e){return le(e.partUids)},rf=function(e,t,n){var o={},r=t.partUids,i=e.getSystem();return W(n,(function(e){o[e]=v(i.getByUid(r[e]).getOrDie())})),o},af=function(e,t){var n=Kd(t);return hr(H(n,(function(t){return{key:t,value:e+"-"+t}})))},uf=function(e){return Lo("partUids","partUids",eo((function(t){return af(t.uid,e)})),yo())},sf=Object.freeze({__proto__:null,generate:qd,generateOne:Qd,schemas:$d,names:Kd,substitutes:Xd,components:Jd,defaultUids:af,defaultUidsSchema:uf,getAllParts:nf,getAllPartNames:of,getPart:Zd,getPartOrDie:ef,getParts:tf,getPartsOrDie:rf}),cf=function(e,t,n,o,r){var i=function(e,t){return(e.length>0?[Go("parts",e)]:[]).concat([jo("uid"),tr("dom",{}),tr("components",[]),xu("originalSpec"),tr("debug.sketcher",{})]).concat(t)}(o,r);return Mo(e+" [SpecSchema]",mo(i.concat(t)),n)},lf=function(e,t,n,o,r){var i=df(r),a=$d(n),u=uf(n),s=cf(e,t,i,a,[u]),c=Xd(0,s,n);return o(s,Jd(e,s,c.internals()),i,c.externals())},df=function(e){return function(e){return we(e,"uid")}(e)?e:_(_({},e),{uid:ea("uid")})},ff=mo([jo("name"),jo("factory"),jo("configFields"),tr("apis",{}),tr("extraApis",{})]),mf=mo([jo("name"),jo("factory"),jo("configFields"),jo("partFields"),tr("apis",{}),tr("extraApis",{})]),pf=function(e){var t=Mo("Sketcher for "+e.name,ff,e),n=me(t.apis,sa),o=me(t.extraApis,(function(e,t){return ia(e,t)}));return _(_({name:t.name,configFields:t.configFields,sketch:function(e){return function(e,t,n,o){var r=df(o);return n(cf(e,t,r,[],[]),r)}(t.name,t.configFields,t.factory,e)}},n),o)},hf=function(e){var t=Mo("Sketcher for "+e.name,mf,e),n=qd(t.name,t.partFields),o=me(t.apis,sa),r=me(t.extraApis,(function(e,t){return ia(e,t)}));return _(_({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:function(e){return lf(t.name,t.configFields,t.partFields,t.factory,e)},parts:n},o),r)},gf=function(e){return"input"===Le(e)&&"radio"!==Pt(e,"type")||"textarea"===Le(e)},vf=Object.freeze({__proto__:null,getCurrent:function(e,t,n){return t.find(e)}}),bf=[jo("find")],yf=ls({fields:bf,name:"composing",apis:vf}),wf=["input","button","textarea","select"],xf=function(e,t,n){(t.disabled()?Of:If)(e,t)},Sf=function(e,t){return!0===t.useNative&&j(wf,Le(e.element))},Af=function(e){Mt(e.element,"disabled","disabled")},Cf=function(e){Ft(e.element,"disabled")},kf=function(e){Mt(e.element,"aria-disabled","true")},_f=function(e){Mt(e.element,"aria-disabled","false")},Of=function(e,t,n){t.disableClass.each((function(t){_a(e.element,t)})),(Sf(e,t)?Af:kf)(e),t.onDisabled(e)},If=function(e,t,n){t.disableClass.each((function(t){Ia(e.element,t)})),(Sf(e,t)?Cf:_f)(e),t.onEnabled(e)},Tf=function(e,t){return Sf(e,t)?function(e){return Lt(e.element,"disabled")}(e):function(e){return"true"===Pt(e.element,"aria-disabled")}(e)},Ef=Object.freeze({__proto__:null,enable:If,disable:Of,isDisabled:Tf,onLoad:xf,set:function(e,t,n,o){(o?Of:If)(e,t)}}),Df=Object.freeze({__proto__:null,exhibit:function(e,t){return fa({classes:t.disabled()?t.disableClass.toArray():[]})},events:function(e,t){return Ci([ki(Xr(),(function(t,n){return Tf(t,e)})),rs(e,t,xf)])}}),Rf=[ur("disabled",A),tr("useNative",!0),Qo("disableClass"),gu("onDisabled"),gu("onEnabled")],Mf=ls({fields:Rf,name:"disabling",active:Df,apis:Ef}),Pf=function(e,t,n,o){var r=Wc(e.element,"."+t.highlightClass);W(r,(function(n){z(o,(function(e){return e.element===n}))||(Ia(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),bi(n,vi())})))}))},Bf=function(e,t,n,o){Pf(e,t,0,[o]),Lf(e,t,n,o)||(_a(o.element,t.highlightClass),t.onHighlight(e,o),bi(o,gi()))},Lf=function(e,t,n,o){return Ta(o.element,t.highlightClass)},Ff=function(e,t,n,o){var r=Wc(e.element,"."+t.itemClass);return P.from(r[o]).fold((function(){return Mn.error(new Error("No element found with index "+o))}),e.getSystem().getByDom)},Nf=function(e,t,n){return Za(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},jf=function(e,t,n){var o=Wc(e.element,"."+t.itemClass);return(o.length>0?P.some(o[o.length-1]):P.none()).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},zf=function(e,t,n,o){var r=Wc(e.element,"."+t.itemClass);return K(r,(function(e){return Ta(e,t.highlightClass)})).bind((function(t){var n=Mu(t,o,0,r.length-1);return e.getSystem().getByDom(r[n]).toOptional()}))},Uf=function(e,t,n){var o=Wc(e.element,"."+t.itemClass);return Ae(H(o,(function(t){return e.getSystem().getByDom(t).toOptional()})))},Vf=Object.freeze({__proto__:null,dehighlightAll:function(e,t,n){return Pf(e,t,0,[])},dehighlight:function(e,t,n,o){Lf(e,t,n,o)&&(Ia(o.element,t.highlightClass),t.onDehighlight(e,o),bi(o,vi()))},highlight:Bf,highlightFirst:function(e,t,n){Nf(e,t).each((function(o){Bf(e,t,n,o)}))},highlightLast:function(e,t,n){jf(e,t).each((function(o){Bf(e,t,n,o)}))},highlightAt:function(e,t,n,o){Ff(e,t,n,o).fold((function(e){throw e}),(function(o){Bf(e,t,n,o)}))},highlightBy:function(e,t,n,o){var r=Uf(e,t);$(r,o).each((function(o){Bf(e,t,n,o)}))},isHighlighted:Lf,getHighlighted:function(e,t,n){return Za(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},getFirst:Nf,getLast:jf,getPrevious:function(e,t,n){return zf(e,t,0,-1)},getNext:function(e,t,n){return zf(e,t,0,1)},getCandidates:Uf}),Hf=[jo("highlightClass"),jo("itemClass"),gu("onHighlight"),gu("onDehighlight")],Wf=ls({fields:Hf,name:"highlighting",apis:Vf}),Gf=[8],qf=[9],Yf=[13],Qf=[27],$f=[32],Kf=[37],Xf=[38],Jf=[39],Zf=[40],em=function(e,t,n){var o=ee(e.slice(0,t)),r=ee(e.slice(t+1));return $(o.concat(r),n)},tm=function(e,t,n){var o=ee(e.slice(0,t));return $(o,n)},nm=function(e,t,n){var o=e.slice(0,t),r=e.slice(t+1);return $(r.concat(o),n)},om=function(e,t,n){var o=e.slice(t+1);return $(o,n)},rm=function(e){return function(t){var n=t.raw;return j(e,n.which)}},im=function(e){return function(t){return Z(e,(function(e){return e(t)}))}},am=function(e){return!0===e.raw.shiftKey},um=function(e){return!0===e.raw.ctrlKey},sm=x(am),cm=function(e,t){return{matches:e,classification:t}},lm=function(e,t,n){t.exists((function(e){return n.exists((function(t){return st(t,e)}))}))||yi(e,fi(),{prevFocus:t,newFocus:n})},dm=function(){var e=function(e){return ws(e.element)};return{get:e,set:function(t,n){var o=e(t);t.getSystem().triggerFocus(n,t.element);var r=e(t);lm(t,o,r)}}},fm=function(){var e=function(e){return Wf.getHighlighted(e).map((function(e){return e.element}))};return{get:e,set:function(t,n){var o=e(t);t.getSystem().getByDom(n).fold(h,(function(e){Wf.highlight(t,e)}));var r=e(t);lm(t,o,r)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Nc||(Nc={}));var mm,pm=function(e,t,n,o,r){var i=function(e,t,n,o,r){var i,a,u=n(e,t,o,r);return(i=u,a=t.event,$(i,(function(e){return e.matches(a)})).map((function(e){return e.classification}))).bind((function(n){return n(e,t,o,r)}))},a={schema:function(){return e.concat([tr("focusManager",dm()),nr("focusInside","onFocus",To((function(e){return j(["onFocus","onEnterOrSpace","onApi"],e)?Mn.value(e):Mn.error("Invalid value for focusInside")}))),wu("handler",a),wu("state",t),wu("sendFocusIn",r)])},processKey:i,toEvents:function(e,t){var a=e.focusInside!==Nc.OnFocusMode?P.none():r(e).map((function(n){return Oi(Yr(),(function(o,r){n(o,e,t),r.stop()}))})),u=[Oi(Lr(),(function(o,a){i(o,a,n,e,t).fold((function(){!function(n,o){var i=rm($f.concat(Yf))(o.event);e.focusInside===Nc.OnEnterOrSpaceMode&&i&&wr(n,o)&&r(e).each((function(r){r(n,e,t),o.stop()}))}(o,a)}),(function(e){a.stop()}))})),Oi(Fr(),(function(n,r){i(n,r,o,e,t).each((function(e){r.stop()}))}))];return Ci(a.toArray().concat(u))}};return a},hm=function(e){var t=[Qo("onEscape"),Qo("onEnter"),tr("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),tr("firstTabstop",0),tr("useTabstopAt",C),Qo("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return eu(t,e)})).getOr(t);return Jt(n)>0},o=function(e,t,o){(function(e,t){var o=Wc(e.element,t.selector),r=q(o,(function(e){return n(t,e)}));return P.from(r[t.firstTabstop])})(e,t).each((function(n){t.focusManager.set(e,n)}))},r=function(e,t,o,r,i){return i(t,o,(function(e){return function(e,t){return n(e,t)&&e.useTabstopAt(t)}(r,e)})).fold((function(){return r.cyclic?P.some(!0):P.none()}),(function(t){return r.focusManager.set(e,t),P.some(!0)}))},i=function(e,t,n,o){var i=Wc(e.element,n.selector);return function(e,t){return t.focusManager.get(e).bind((function(e){return eu(e,t.selector)}))}(e,n).bind((function(t){return K(i,w(st,t)).bind((function(t){return r(e,i,t,n,o)}))}))},a=v([cm(im([am,rm(qf)]),(function(e,t,n){var o=n.cyclic?em:tm;return i(e,0,n,o)})),cm(rm(qf),(function(e,t,n){var o=n.cyclic?nm:om;return i(e,0,n,o)})),cm(rm(Qf),(function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))})),cm(im([sm,rm(Yf)]),(function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))}))]),u=v([]);return pm(t,ca.init,a,u,(function(){return P.some(o)}))},gm=hm(Fo("cyclic",A)),vm=hm(Fo("cyclic",C)),bm=function(e,t,n){return gf(n)&&rm($f)(t.event)?P.none():function(e,t,n){return xi(e,n,Xr()),P.some(!0)}(e,0,n)},ym=function(e,t){return P.some(!0)},wm=[tr("execute",bm),tr("useSpace",!1),tr("useEnter",!0),tr("useControlEnter",!1),tr("useDown",!1)],xm=function(e,t,n){return n.execute(e,t,e.element)},Sm=pm(wm,ca.init,(function(e,t,n,o){var r=n.useSpace&&!gf(e.element)?$f:[],i=n.useEnter?Yf:[],a=n.useDown?Zf:[],u=r.concat(i).concat(a);return[cm(rm(u),xm)].concat(n.useControlEnter?[cm(im([um,rm(Yf)]),xm)]:[])}),(function(e,t,n,o){return n.useSpace&&!gf(e.element)?[cm(rm($f),ym)]:[]}),(function(){return P.none()})),Am=function(){var e=js();return la({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(t,n){e.set({numRows:t,numColumns:n})},getNumRows:function(){return e.get().map((function(e){return e.numRows}))},getNumColumns:function(){return e.get().map((function(e){return e.numColumns}))}})},Cm=Object.freeze({__proto__:null,flatgrid:Am,init:function(e){return e.state(e)}}),km=function(e){return function(t,n,o,r){var i=e(t.element);return Tm(i,t,n,o,r)}},_m=function(e,t){var n=uc(e,t);return km(n)},Om=function(e,t){var n=uc(t,e);return km(n)},Im=function(e){return function(t,n,o,r){return Tm(e,t,n,o,r)}},Tm=function(e,t,n,o,r){return o.focusManager.get(t).bind((function(n){return e(t.element,n,o,r)})).map((function(e){return o.focusManager.set(t,e),!0}))},Em=Im,Dm=Im,Rm=Im,Mm=function(e){return!function(e){return e.offsetWidth<=0&&e.offsetHeight<=0}(e.dom)},Pm=function(e,t,n){var o=Wc(e,n);return function(e,t){return K(e,t).map((function(t){return{index:t,candidates:e}}))}(q(o,Mm),(function(e){return st(e,t)}))},Bm=function(e,t){return K(e,(function(e){return st(t,e)}))},Lm=function(e,t,n,o){return o(Math.floor(t/n),t%n).bind((function(t){var o=t.row*n+t.column;return o>=0&&o<e.length?P.some(e[o]):P.none()}))},Fm=function(e,t,n,o,r){return Lm(e,t,o,(function(t,i){var a=t===n-1?e.length-t*o:o,u=Mu(i,r,0,a-1);return P.some({row:t,column:u})}))},Nm=function(e,t,n,o,r){return Lm(e,t,o,(function(t,i){var a=Mu(t,r,0,n-1),u=a===n-1?e.length-a*o:o,s=Pu(i,0,u-1);return P.some({row:a,column:s})}))},jm=[jo("selector"),tr("execute",bm),vu("onEscape"),tr("captureTab",!1),Su()],zm=function(e,t,n){Za(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},Um=function(e){return function(t,n,o,r){return Pm(t,n,o.selector).bind((function(t){return e(t.candidates,t.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns))}))}},Vm=function(e,t,n){return n.captureTab?P.some(!0):P.none()},Hm=Um((function(e,t,n,o){return Fm(e,t,n,o,-1)})),Wm=Um((function(e,t,n,o){return Fm(e,t,n,o,1)})),Gm=Um((function(e,t,n,o){return Nm(e,t,n,o,-1)})),qm=Um((function(e,t,n,o){return Nm(e,t,n,o,1)})),Ym=v([cm(rm(Kf),_m(Hm,Wm)),cm(rm(Jf),Om(Hm,Wm)),cm(rm(Xf),Em(Gm)),cm(rm(Zf),Dm(qm)),cm(im([am,rm(qf)]),Vm),cm(im([sm,rm(qf)]),Vm),cm(rm(Qf),(function(e,t,n){return n.onEscape(e,t)})),cm(rm($f.concat(Yf)),(function(e,t,n,o){return function(e,t){return t.focusManager.get(e).bind((function(e){return eu(e,t.selector)}))}(e,n).bind((function(o){return n.execute(e,t,o)}))}))]),Qm=v([cm(rm($f),ym)]),$m=pm(jm,Am,Ym,Qm,(function(){return P.some(zm)})),Km=function(e,t,n,o){var r=function(e,t,n){var i,a=Mu(t,o,0,n.length-1);return a===e?P.none():(i=n[a],"button"===Le(i)&&"disabled"===Pt(i,"disabled")?r(e,a,n):P.from(n[a]))};return Pm(e,n,t).bind((function(e){var t=e.index,n=e.candidates;return r(t,t,n)}))},Xm=[jo("selector"),tr("getInitial",P.none),tr("execute",bm),vu("onEscape"),tr("executeOnMove",!1),tr("allowVertical",!0)],Jm=function(e,t,n){return function(e,t){return t.focusManager.get(e).bind((function(e){return eu(e,t.selector)}))}(e,n).bind((function(o){return n.execute(e,t,o)}))},Zm=function(e,t,n){t.getInitial(e).orThunk((function(){return Za(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))},ep=function(e,t,n){return Km(e,n.selector,t,-1)},tp=function(e,t,n){return Km(e,n.selector,t,1)},np=function(e){return function(t,n,o,r){return e(t,n,o,r).bind((function(){return o.executeOnMove?Jm(t,n,o):P.some(!0)}))}},op=function(e,t,n){return n.onEscape(e,t)},rp=v([cm(rm($f),ym)]),ip=pm(Xm,ca.init,(function(e,t,n,o){var r=Kf.concat(n.allowVertical?Xf:[]),i=Jf.concat(n.allowVertical?Zf:[]);return[cm(rm(r),np(_m(ep,tp))),cm(rm(i),np(Om(ep,tp))),cm(rm(Yf),Jm),cm(rm($f),Jm),cm(rm(Qf),op)]}),rp,(function(){return P.some(Zm)})),ap=function(e,t,n){return P.from(e[t]).bind((function(e){return P.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))},up=function(e,t,n,o){var r=e[t].length,i=Mu(n,o,0,r-1);return ap(e,t,i)},sp=function(e,t,n,o){var r=Mu(n,o,0,e.length-1),i=e[r].length,a=Pu(t,0,i-1);return ap(e,r,a)},cp=function(e,t,n,o){var r=e[t].length,i=Pu(n+o,0,r-1);return ap(e,t,i)},lp=function(e,t,n,o){var r=Pu(n+o,0,e.length-1),i=e[r].length,a=Pu(t,0,i-1);return ap(e,r,a)},dp=[Go("selectors",[jo("row"),jo("cell")]),tr("cycles",!0),tr("previousSelector",P.none),tr("execute",bm)],fp=function(e,t,n){t.previousSelector(e).orThunk((function(){var n=t.selectors;return Za(e.element,n.cell)})).each((function(n){t.focusManager.set(e,n)}))},mp=function(e,t){return function(n,o,r){var i=r.cycles?e:t;return eu(o,r.selectors.row).bind((function(e){var t=Wc(e,r.selectors.cell);return Bm(t,o).bind((function(t){var o=Wc(n,r.selectors.row);return Bm(o,e).bind((function(e){var n=function(e,t){return H(e,(function(e){return Wc(e,t.selectors.cell)}))}(o,r);return i(n,e,t).map((function(e){return e.cell}))}))}))}))}},pp=mp((function(e,t,n){return up(e,t,n,-1)}),(function(e,t,n){return cp(e,t,n,-1)})),hp=mp((function(e,t,n){return up(e,t,n,1)}),(function(e,t,n){return cp(e,t,n,1)})),gp=mp((function(e,t,n){return sp(e,n,t,-1)}),(function(e,t,n){return lp(e,n,t,-1)})),vp=mp((function(e,t,n){return sp(e,n,t,1)}),(function(e,t,n){return lp(e,n,t,1)})),bp=v([cm(rm(Kf),_m(pp,hp)),cm(rm(Jf),Om(pp,hp)),cm(rm(Xf),Em(gp)),cm(rm(Zf),Dm(vp)),cm(rm($f.concat(Yf)),(function(e,t,n){return ws(e.element).bind((function(o){return n.execute(e,t,o)}))}))]),yp=v([cm(rm($f),ym)]),wp=pm(dp,ca.init,bp,yp,(function(){return P.some(fp)})),xp=[jo("selector"),tr("execute",bm),tr("moveOnTab",!1)],Sp=function(e,t,n){return n.focusManager.get(e).bind((function(o){return n.execute(e,t,o)}))},Ap=function(e,t,n){Za(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},Cp=function(e,t,n){return Km(e,n.selector,t,-1)},kp=function(e,t,n){return Km(e,n.selector,t,1)},_p=v([cm(rm(Xf),Rm(Cp)),cm(rm(Zf),Rm(kp)),cm(im([am,rm(qf)]),(function(e,t,n,o){return n.moveOnTab?Rm(Cp)(e,t,n,o):P.none()})),cm(im([sm,rm(qf)]),(function(e,t,n,o){return n.moveOnTab?Rm(kp)(e,t,n,o):P.none()})),cm(rm(Yf),Sp),cm(rm($f),Sp)]),Op=v([cm(rm($f),ym)]),Ip=pm(xp,ca.init,_p,Op,(function(){return P.some(Ap)})),Tp=[vu("onSpace"),vu("onEnter"),vu("onShiftEnter"),vu("onLeft"),vu("onRight"),vu("onTab"),vu("onShiftTab"),vu("onUp"),vu("onDown"),vu("onEscape"),tr("stopSpaceKeyup",!1),Qo("focusIn")],Ep=pm(Tp,ca.init,(function(e,t,n){return[cm(rm($f),n.onSpace),cm(im([sm,rm(Yf)]),n.onEnter),cm(im([am,rm(Yf)]),n.onShiftEnter),cm(im([am,rm(qf)]),n.onShiftTab),cm(im([sm,rm(qf)]),n.onTab),cm(rm(Xf),n.onUp),cm(rm(Zf),n.onDown),cm(rm(Kf),n.onLeft),cm(rm(Jf),n.onRight),cm(rm($f),n.onSpace),cm(rm(Qf),n.onEscape)]}),(function(e,t,n){return n.stopSpaceKeyup?[cm(rm($f),ym)]:[]}),(function(e){return e.focusIn})),Dp=gm.schema(),Rp=vm.schema(),Mp=ip.schema(),Pp=$m.schema(),Bp=wp.schema(),Lp=Sm.schema(),Fp=Ip.schema(),Np=Ep.schema(),jp=fs({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Dp,cyclic:Rp,flow:Mp,flatgrid:Pp,matrix:Bp,execution:Lp,menu:Fp,special:Np}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(o){o(e,t,n)}))},setGridSize:function(e,t,n,o,r){!function(e){return xe(e,"setGridSize")}(n)?console.error("Layout does not support setGridSize"):n.setGridSize(o,r)}},state:Cm}),zp=function(e,t,n,o){var r=e.getSystem().build(o);Il(e,r,n)},Up=function(e,t,n,o){var r=Vp(e);$(r,(function(e){return st(o.element,e.element)})).each(El)},Vp=function(e,t){return e.components()},Hp=function(e,t,n,o,r){var i=Vp(e);return P.from(i[o]).map((function(t){return Up(e,0,0,t),r.each((function(t){zp(e,0,(function(e,t){!function(e,t,n){bt(e,n).fold((function(){hn(e,t)}),(function(e){fn(e,t)}))}(e,t,o)}),t)})),t}))},Wp=ls({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(e,t,n,o){zp(e,0,hn,o)},prepend:function(e,t,n,o){zp(e,0,pn,o)},remove:Up,replaceAt:Hp,replaceBy:function(e,t,n,o,r){var i=Vp(e);return K(i,o).bind((function(t){return Hp(e,0,0,t,r)}))},set:function(e,t,n,o){xs((function(){var t=H(o,e.getSystem().build);_l(e,t)}),e.element)},contents:Vp})}),Gp=function(e,t){return{key:e,value:{config:{},me:function(e,t){var n=Ci(t);return ls({fields:[jo("enabled")],name:e,active:{events:v(n)}})}(e,t),configAsRaw:v({}),initialConfig:{},state:ca}}},qp=function(e,t){t.ignore||(vs(e.element),t.onFocus(e))},Yp=Object.freeze({__proto__:null,focus:qp,blur:function(e,t){t.ignore||function(e){e.dom.blur()}(e.element)},isFocused:function(e){return bs(e.element)}}),Qp=Object.freeze({__proto__:null,exhibit:function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return fa(n)},events:function(e){return Ci([Oi(Yr(),(function(t,n){qp(t,e),n.stop()}))].concat(e.stopMousedown?[Oi(Tr(),(function(e,t){t.event.prevent()}))]:[]))}}),$p=[gu("onFocus"),tr("stopMousedown",!1),tr("ignore",!1)],Kp=ls({fields:$p,name:"focusing",active:Qp,apis:Yp}),Xp=function(e,t,n){var o=t.aria;o.update(e,o,n.get())},Jp=function(e,t,n){t.toggleClass.each((function(t){n.get()?_a(e.element,t):Ia(e.element,t)}))},Zp=function(e,t,n){nh(e,t,n,!n.get())},eh=function(e,t,n){n.set(!0),Jp(e,t,n),Xp(e,t,n)},th=function(e,t,n){n.set(!1),Jp(e,t,n),Xp(e,t,n)},nh=function(e,t,n,o){(o?eh:th)(e,t,n)},oh=function(e,t,n){nh(e,t,n,t.selected)},rh=Object.freeze({__proto__:null,onLoad:oh,toggle:Zp,isOn:function(e,t,n){return n.get()},on:eh,off:th,set:nh}),ih=Object.freeze({__proto__:null,exhibit:function(){return fa({})},events:function(e,t){var n,o,r,i=(n=e,o=t,r=Zp,Ni((function(e){r(e,n,o)}))),a=rs(e,t,oh);return Ci(X([e.toggleOnExecute?[i]:[],[a]]))}}),ah=function(e,t,n){Mt(e.element,"aria-expanded",n)},uh=[tr("selected",!1),Qo("toggleClass"),tr("toggleOnExecute",!0),nr("aria",{mode:"none"},Bo("mode",{pressed:[tr("syncWithExpanded",!1),wu("update",(function(e,t,n){Mt(e.element,"aria-pressed",n),t.syncWithExpanded&&ah(e,t,n)}))],checked:[wu("update",(function(e,t,n){Mt(e.element,"aria-checked",n)}))],expanded:[wu("update",ah)],selected:[wu("update",(function(e,t,n){Mt(e.element,"aria-selected",n)}))],none:[wu("update",h)]}))],sh=ls({fields:uh,name:"toggling",active:ih,apis:rh,state:(mm=!1,{init:function(){var e=lr(mm);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(mm)},readState:function(){return e.get()}}}})}),ch=function(){var e=function(e,t){t.stop(),wi(e)};return[Oi(zr(),e),Oi(Zr(),e),Ri(kr()),Ri(Tr())]},lh=function(e){return Ci(X([e.map((function(e){return Ni((function(t,n){e(t),n.stop()}))})).toArray(),ch()]))},dh=function(e){(ws(e.element).isNone()||Kp.isFocused(e))&&(Kp.isFocused(e)||Kp.focus(e),yi(e,"alloy.item-hover",{item:e}))},fh=function(e){yi(e,"alloy.item-focus",{item:e})},mh=v("alloy.item-hover"),ph=v("alloy.item-focus"),hh=[jo("data"),jo("components"),jo("dom"),tr("hasSubmenu",!1),Qo("toggling"),pd("itemBehaviours",[sh,Kp,jp,ld]),tr("ignoreFocus",!1),tr("domModification",{}),wu("builder",(function(e){return{dom:e.dom,domModification:_(_({},e.domModification),{attributes:_(_(_({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:hd(e.itemBehaviours,[e.toggling.fold(sh.revoke,(function(e){return sh.config(_({aria:{mode:"checked"}},e))})),Kp.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){fh(e)}}),jp.config({mode:"execution"}),ld.config({store:{mode:"memory",initialValue:e.data}}),Gp("item-type-events",I(I([],ch(),!0),[Oi(Mr(),dh),Oi(Jr(),Kp.focus)],!1))]),components:e.components,eventOrder:e.eventOrder}})),tr("eventOrder",{})],gh=[jo("dom"),jo("components"),wu("builder",(function(e){return{dom:e.dom,components:e.components,events:Ci([Mi(Jr())])}}))],vh=v("item-widget"),bh=v([jd({name:"widget",overrides:function(e){return{behaviours:ss([ld.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:h}})])}}})]),yh=[jo("uid"),jo("data"),jo("components"),jo("dom"),tr("autofocus",!1),tr("ignoreFocus",!1),pd("widgetBehaviours",[ld,Kp,jp]),tr("domModification",{}),uf(bh()),wu("builder",(function(e){var t=Xd(vh(),e,bh()),n=Jd(vh(),e,t.internals()),o=function(t){return Zd(t,e,"widget").map((function(e){return jp.focusIn(e),e}))},r=function(t,n){return gf(n.event.target)?P.none():e.autofocus?(n.setSource(t.element),P.none()):P.none()};return{dom:e.dom,components:n,domModification:e.domModification,events:Ci([Ni((function(e,t){o(e).each((function(e){t.stop()}))})),Oi(Mr(),dh),Oi(Jr(),(function(t,n){e.autofocus?o(t):Kp.focus(t)}))]),behaviours:hd(e.widgetBehaviours,[ld.config({store:{mode:"memory",initialValue:e.data}}),Kp.config({ignore:e.ignoreFocus,onFocus:function(e){fh(e)}}),jp.config({mode:"special",focusIn:e.autofocus?function(e){o(e)}:ms(),onLeft:r,onRight:r,onEscape:function(t,n){return Kp.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),P.none()):P.none():(Kp.focus(t),P.some(!0))}})])}}))],wh=Bo("type",{widget:yh,item:hh,separator:gh}),xh=v([Vd({factory:{sketch:function(e){var t=Mo("menu.spec item",wh,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return we(t,"uid")?t:_(_({},t),{uid:ea("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),Sh=v([jo("value"),jo("items"),jo("dom"),jo("components"),tr("eventOrder",{}),dd("menuBehaviours",[Wf,ld,yf,jp]),nr("movement",{mode:"menu",moveOnTab:!0},Bo("mode",{grid:[Su(),wu("config",(function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}))],matrix:[wu("config",(function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}})),jo("rowSelector")],menu:[tr("moveOnTab",!0),wu("config",(function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}))]})),zo("markers",du()),tr("fakeFocus",!1),tr("focusManager",dm()),gu("onHighlight")]),Ah=v("alloy.menu-focus"),Ch=hf({name:"Menu",configFields:Sh(),partFields:xh(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:md(e.menuBehaviours,[Wf.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),ld.config({store:{mode:"memory",initialValue:e.value}}),yf.config({find:P.some}),jp.config(e.movement.config(e,e.movement))]),events:Ci([Oi(ph(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){Wf.highlight(e,n),t.stop(),yi(e,Ah(),{menu:e,item:n})}))})),Oi(mh(),(function(e,t){var n=t.event.item;Wf.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),kh=function(e,t,n,o){return ye(n,o).bind((function(o){return ye(e,o).bind((function(o){var r=kh(e,t,n,o);return P.some([o].concat(r))}))})).getOr([])},_h=function(e,t){var n={};fe(e,(function(e,t){W(e,(function(e){n[e]=t}))}));var o=t,r=pe(t,(function(e,t){return{k:e,v:t}})),i=me(r,(function(e,t){return[t].concat(kh(n,o,r,t))}));return me(n,(function(e){return ye(i,e).getOr([e])}))},Oh=function(e){return"prepared"===e.type?P.some(e.menu):P.none()},Ih={init:function(){var e=lr({}),t=lr({}),n=lr({}),o=js(),r=lr({}),i=function(t,n,o){return a(t).bind((function(r){return function(t){return ve(e.get(),(function(e,n){return e===t}))}(t).bind((function(e){return n(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:o}}))}))}))},a=function(e){return u(e).bind(Oh)},u=function(e){return ye(t.get(),e)},s=function(t){return ye(e.get(),t)};return{setMenuBuilt:function(e,n){var o;t.set(_(_({},t.get()),((o={})[e]={type:"prepared",menu:n},o)))},setContents:function(i,a,u,s){o.set(i),e.set(u),t.set(a),r.set(s);var c=_h(s,u);n.set(c)},expand:function(t){return ye(e.get(),t).map((function(e){var o=ye(n.get(),t).getOr([]);return[e].concat(o)}))},refresh:function(e){return ye(n.get(),e)},collapse:function(e){return ye(n.get(),e).bind((function(e){return e.length>1?P.some(e.slice(1)):P.none()}))},lookupMenu:u,lookupItem:s,otherMenus:function(e){var t=r.get();return te(le(t),e)},getPrimary:function(){return o.get().bind(a)},getMenus:function(){return t.get()},clear:function(){e.set({}),t.set({}),n.set({}),o.clear()},isClear:function(){return o.get().isNone()},getTriggeringPath:function(e,t){var r=q(s(e).toArray(),(function(e){return a(e).isSome()}));return ye(n.get(),e).bind((function(e){var n=ee(r.concat(e));return function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];if(!o.isSome())return P.none();t.push(o.getOrDie())}return P.some(t)}(J(n,(function(e,r){return i(e,t,n.slice(0,r+1)).fold((function(){return Se(o.get(),e)?[]:[P.none()]}),(function(e){return[P.some(e)]}))})))}))}}},extractPreparedMenu:Oh},Th=v("collapse-item"),Eh=pf({name:"TieredMenu",configFields:[yu("onExecute"),yu("onEscape"),bu("onOpenMenu"),bu("onOpenSubmenu"),gu("onRepositionMenu"),gu("onCollapseMenu"),tr("highlightImmediately",!0),Go("data",[jo("primary"),jo("menus"),jo("expansions")]),tr("fakeFocus",!1),gu("onHighlight"),gu("onHover"),mu(),jo("dom"),tr("navigateOnHover",!0),tr("stayInDom",!1),dd("tmenuBehaviours",[jp,Wf,yf,Wp]),tr("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,t){var n,o=js(),r=Ih.init(),i=function(t){var n=function(t,n,o){return me(o,(function(o,r){var i=function(){return Ch.sketch(_(_({},o),{value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?fm():dm()}))};return r===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))}(t,e.data.primary,e.data.menus),o=u();return r.setContents(e.data.primary,n,e.data.expansions,o),r.getPrimary()},a=function(e){return ld.getValue(e).value},u=function(t){return me(e.data.menus,(function(e,t){return J(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},s=function(e,t){Wf.highlight(e,t),Wf.getHighlighted(t).orThunk((function(){return Wf.getFirst(t)})).each((function(t){xi(e,t.element,Jr())}))},c=function(e,t){return Ae(H(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?P.some(e.menu):P.none()}))})))},l=function(t,n,o){var r=c(n,n.otherMenus(o));W(r,(function(n){Da(n.element,[e.markers.backgroundMenu]),e.stayInDom||Wp.remove(t,n)}))},d=function(t,n){var r=function(t){return o.get().getOrThunk((function(){var n={},r=Wc(t.element,"."+e.markers.item),i=q(r,(function(e){return"true"===Pt(e,"aria-haspopup")}));return W(i,(function(e){t.getSystem().getByDom(e).each((function(e){var t=a(e);n[t]=e}))})),o.set(n),n}))}(t);fe(r,(function(e,t){var o=j(n,t);Mt(e.element,"aria-expanded",o)}))},f=function(t,n,o){return P.from(o[0]).bind((function(r){return n.lookupMenu(r).bind((function(r){if("notbuilt"===r.type)return P.none();var i=r.menu,a=c(n,o.slice(1));return W(a,(function(t){_a(t.element,e.markers.backgroundMenu)})),Tt(i.element)||Wp.append(t,Ga(i)),Da(i.element,[e.markers.backgroundMenu]),s(t,i),l(t,n,o),P.some(i)}))}))};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(n||(n={}));var m=function(t,o,i){if(void 0===i&&(i=n.HighlightSubmenu),o.hasConfigured(Mf)&&Mf.isDisabled(o))return P.some(o);var u=a(o);return r.expand(u).bind((function(a){return d(t,a),P.from(a[0]).bind((function(u){return r.lookupMenu(u).bind((function(s){var c=function(e,t,n){if("notbuilt"===n.type){var o=e.getSystem().build(n.nbMenu());return r.setMenuBuilt(t,o),o}return n.menu}(t,u,s);return Tt(c.element)||Wp.append(t,Ga(c)),e.onOpenSubmenu(t,o,c,ee(a)),i===n.HighlightSubmenu?(Wf.highlightFirst(c),f(t,r,a)):(Wf.dehighlightAll(c),P.some(o))}))}))}))},p=function(t,n){var o=a(n);return r.collapse(o).bind((function(o){return d(t,o),f(t,r,o).map((function(o){return e.onCollapseMenu(t,n,o),o}))}))},g=function(t){return function(n,o){return eu(o.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(C)}))}))}},v=Ci([Oi(Ah(),(function(e,t){var n=t.event.item;r.lookupItem(a(n)).each((function(){var n=t.event.menu;Wf.highlight(e,n);var o=a(t.event.item);r.refresh(o).each((function(t){return l(e,r,t)}))}))})),Ni((function(t,o){var r=o.event.target;t.getSystem().getByDom(r).each((function(o){0===a(o).indexOf("collapse-item")&&p(t,o),m(t,o,n.HighlightSubmenu).fold((function(){e.onExecute(t,o)}),h)}))})),Bi((function(t,n){i(t).each((function(n){Wp.append(t,Ga(n)),e.onOpenMenu(t,n),e.highlightImmediately&&s(t,n)}))}))].concat(e.navigateOnHover?[Oi(mh(),(function(t,o){var i=o.event.item;!function(e,t){var n=a(t);r.refresh(n).bind((function(t){return d(e,t),f(e,r,t)}))}(t,i),m(t,i,n.HighlightParent),e.onHover(t,i)}))]:[])),b=function(e){return Wf.getHighlighted(e).bind(Wf.getHighlighted)},y={collapseMenu:function(e){b(e).each((function(t){p(e,t)}))},highlightPrimary:function(e){r.getPrimary().each((function(t){s(e,t)}))},repositionMenus:function(t){r.getPrimary().bind((function(e){return b(t).bind((function(e){var t=a(e),n=be(r.getMenus()),o=Ae(H(n,Ih.extractPreparedMenu));return r.getTriggeringPath(t,(function(e){return function(e,t,n){return ce(t,(function(e){if(!e.getSystem().isConnected())return P.none();var t=Wf.getCandidates(e);return $(t,(function(e){return a(e)===n}))}))}(0,o,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))})).fold((function(){(function(e){return P.from(e.components()[0]).filter((function(e){return"menu"===Pt(e.element,"role")}))})(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var o=n.primary,r=n.triggeringPath;e.onRepositionMenu(t,o,r)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:md(e.tmenuBehaviours,[jp.config({mode:"special",onRight:g((function(e,t){return gf(t.element)?P.none():m(e,t,n.HighlightSubmenu)})),onLeft:g((function(e,t){return gf(t.element)?P.none():p(e,t)})),onEscape:g((function(t,n){return p(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))})),focusIn:function(e,t){r.getPrimary().each((function(t){xi(e,t.element,Jr())}))}}),Wf.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),yf.config({find:function(e){return Wf.getHighlighted(e)}}),Wp.config({})]),eventOrder:e.eventOrder,apis:y,events:v}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:pr(e,t),expansions:{}}},collapseItem:function(e){return{value:Yi(Th()),meta:{text:e}}}}}),Dh=pf({name:"InlineView",configFields:[jo("lazySink"),gu("onShow"),gu("onHide"),Jo("onEscape"),dd("inlineBehaviours",[Wl,ld,ps]),er("fireDismissalEventInstead",[tr("event",li())]),er("fireRepositionEventInstead",[tr("event",di())]),tr("getRelated",P.none),tr("isExtraPart",A),tr("eventOrder",P.none)],factory:function(e,t){var n=function(e,t,n,r){o(e,t,n,(function(){return r.map((function(e){return In(e)}))}))},o=function(t,n,o,r){var i=e.lazySink(t).getOrDie();Wl.openWhileCloaked(t,n,(function(){return Sl.positionWithinBounds(i,t,o,r())})),ld.setValue(t,P.some({mode:"position",config:o,getBounds:r}))},r=function(t,n,o,r){var i=function(e,t,n,o,r){var i=function(){return e.lazySink(t)},a="horizontal"===o.type?{layouts:{onLtr:function(){return es()},onRtl:function(){return ts()}}}:{},u=function(e){return function(e){return 2===e.length}(e)?a:{}};return Eh.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightImmediately:o.menu.highlightImmediately,onEscape:function(){return Wl.close(t),e.onEscape.map((function(e){return e(t)})),P.some(!0)},onExecute:function(){return P.some(!0)},onOpenMenu:function(e,t){Sl.positionWithinBounds(i().getOrDie(),t,n,r())},onOpenSubmenu:function(e,t,n,o){var r=i().getOrDie();Sl.position(r,n,{anchor:_({type:"submenu",item:t},u(o))})},onRepositionMenu:function(e,t,o){var a=i().getOrDie();Sl.positionWithinBounds(a,t,n,r()),W(o,(function(e){var t=u(e.triggeringPath);Sl.position(a,e.triggeredMenu,{anchor:_({type:"submenu",item:e.triggeringItem},t)})}))}})}(e,t,n,o,r);Wl.open(t,i),ld.setValue(t,P.some({mode:"menu",menu:i}))},i=function(t){Wl.isOpen(t)&&ld.getValue(t).each((function(n){switch(n.mode){case"menu":Wl.getState(t).each(Eh.repositionMenus);break;case"position":var o=e.lazySink(t).getOrDie();Sl.positionWithinBounds(o,t,n.config,n.getBounds())}}))},a={setContent:function(e,t){Wl.setContent(e,t)},showAt:function(e,t,o){n(e,t,o,P.none())},showWithin:n,showWithinBounds:o,showMenuAt:function(e,t,n){r(e,t,n,P.none)},showMenuWithinBounds:r,hide:function(e){Wl.isOpen(e)&&(ld.setValue(e,P.none()),Wl.close(e))},getContent:function(e){return Wl.getState(e)},reposition:i,isOpen:Wl.isOpen};return{uid:e.uid,dom:e.dom,behaviours:md(e.inlineBehaviours,[Wl.config({isPartOf:function(t,n,o){return ou(n,o)||function(t,n){return e.getRelated(t).exists((function(e){return ou(e,n)}))}(t,o)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),ld.config({store:{mode:"memory",initialValue:P.none()}}),ps.config({channels:_(_({},$l(_({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),Xl(_(_({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:i})))})]),eventOrder:e.eventOrder,apis:a}},apis:{showAt:function(e,t,n,o){e.showAt(t,n,o)},showWithin:function(e,t,n,o,r){e.showWithin(t,n,o,r)},showWithinBounds:function(e,t,n,o,r){e.showWithinBounds(t,n,o,r)},showMenuAt:function(e,t,n,o){e.showMenuAt(t,n,o)},showMenuWithinBounds:function(e,t,n,o,r){e.showMenuWithinBounds(t,n,o,r)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),Rh=function(e){return e.x},Mh=function(e,t){return e.x+e.width/2-t.width/2},Ph=function(e,t){return e.x+e.width-t.width},Bh=function(e){return e.y},Lh=function(e,t){return e.y+e.height-t.height},Fh=function(e,t){return e.y+e.height/2-t.height/2},Nh=function(e,t,n){return Au(Ph(e,t),Lh(e,t),n.insetSouthwest(),Iu(),"southwest",Bu(e,{right:0,bottom:3}),"layout-inset")},jh=function(e,t,n){return Au(Rh(e),Lh(e,t),n.insetSoutheast(),Ou(),"southeast",Bu(e,{left:1,bottom:3}),"layout-inset")},zh=function(e,t,n){return Au(Ph(e,t),Bh(e),n.insetNorthwest(),_u(),"northwest",Bu(e,{right:0,top:2}),"layout-inset")},Uh=function(e,t,n){return Au(Rh(e),Bh(e),n.insetNortheast(),ku(),"northeast",Bu(e,{left:1,top:2}),"layout-inset")},Vh=function(e,t,n){return Au(Mh(e,t),Bh(e),n.insetNorth(),Tu(),"north",Bu(e,{top:2}),"layout-inset")},Hh=function(e,t,n){return Au(Mh(e,t),Lh(e,t),n.insetSouth(),Eu(),"south",Bu(e,{bottom:3}),"layout-inset")},Wh=function(e,t,n){return Au(Ph(e,t),Fh(e,t),n.insetEast(),Ru(),"east",Bu(e,{right:0}),"layout-inset")},Gh=function(e,t,n){return Au(Rh(e),Fh(e,t),n.insetWest(),Du(),"west",Bu(e,{left:1}),"layout-inset")},qh=function(e){switch(e){case"north":return Vh;case"northeast":return Uh;case"northwest":return zh;case"south":return Hh;case"southeast":return jh;case"southwest":return Nh;case"east":return Wh;case"west":return Gh}},Yh=function(e,t,n,o,r){return Ps(o).map(qh).getOr(Vh)(e,t,n,o,r)},Qh=function(e){switch(e){case"north":return Hh;case"northeast":return jh;case"northwest":return Nh;case"south":return Vh;case"southeast":return Uh;case"southwest":return zh;case"east":return Gh;case"west":return Wh}},$h=function(e,t,n,o,r){return Ps(o).map(Qh).getOr(Vh)(e,t,n,o,r)},Kh=tinymce.util.Tools.resolve("tinymce.util.Delay"),Xh=pf({name:"Button",factory:function(e){var t=lh(e.action),n=e.dom.tag,o=function(t){return ye(e.dom,"attributes").bind((function(e){return ye(e,t)}))};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:hd(e.buttonBehaviours,[Kp.config({}),jp.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=o("type").getOr("button"),t=o("role").map((function(e){return{role:e}})).getOr({});return _({type:e},t)}return{role:o("role").getOr("button")}}()},eventOrder:e.eventOrder}},configFields:[tr("uid",void 0),jo("dom"),tr("components",[]),pd("buttonBehaviours",[Kp,jp]),Qo("action"),Qo("role"),tr("eventOrder",{})]}),Jh=function(e){var t=function(e){return void 0!==e.uid}(e)&&xe(e,"uid")?e.uid:ea("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOptional()},asSpec:function(){return _(_({},e),{uid:t})}}},Zh=tinymce.util.Tools.resolve("tinymce.util.I18n"),eg={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},tg=function(e){return function(){return ye(e,"temporary-placeholder").getOr("!not found!")}},ng=function(e,t){var n=e.toLowerCase();if(Zh.isRtl()){var o=function(e,t){return Te(e,t)?e:function(e,t){return e+t}(e,t)}(n,"-rtl");return we(t,o)?o:n}return n},og=function(e,t){return ye(t,ng(e,t))},rg=function(e,t){var n=t();return og(e,n).getOrThunk(tg(n))},ig=function(){return Gp("add-focusable",[Bi((function(e){Ja(e.element,"svg").each((function(e){return Mt(e,"focusable","false")}))}))])},ag=function(e,t,n,o){var r,i,a=function(e){return!!Zh.isRtl()&&we(eg,e)}(t)?["tox-icon--flip"]:[],u=ye(n,ng(t,n)).or(o).getOrThunk(tg(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(a),innerHtml:u},behaviours:ss(I(I([],null!==(i=e.behaviours)&&void 0!==i?i:[],!0),[ig()],!1))}},ug=function(e,t,n,o){return void 0===o&&(o=P.none()),ag(t,e,n(),o)},sg={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},cg=pf({name:"Notification",factory:function(e){var t,n,o,r,i,a=Jh({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:ss([Wp.config({})])}),u=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},s=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},c=Jh({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(0)]},s(0)],behaviours:ss([Wp.config({})])}),l={updateProgress:function(e,t){e.getSystem().isConnected()&&c.getOpt(e).each((function(e){Wp.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(t)]},s(t)])}))},updateText:function(e,t){if(e.getSystem().isConnected()){var n=a.get(e);Wp.set(n,[Ua(t)])}}},d=X([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return P.from(sg[e])})).toArray()]),f=Jh(Xh.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[ug("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:function(t){e.onAction(t)}})),m=[(t=d,n={tag:"div",classes:["tox-notification__icon"]},o=e.iconProvider,r=o(),i=$(t,(function(e){return we(r,ng(e,r))})),ag(n,i.getOr("temporary-placeholder"),r,P.none())),{dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:ss([Wp.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:ss([Kp.config({}),Gp("notification-events",[Oi(Pr(),(function(e){f.getOpt(e).each(Kp.focus)}))])]),components:m.concat(e.progress?[c.asSpec()]:[]).concat(e.closeButton?[f.asSpec()]:[]),apis:l}},configFields:[Qo("level"),jo("progress"),jo("icon"),jo("onAction"),jo("text"),jo("iconProvider"),jo("translationProvider"),ar("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function lg(e,t,n){var o=t.backstage.shared;return{open:function(t,r){var i=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0),a=function(){r(),Dh.hide(s)},u=Wa(cg.sketch({text:t.text,level:j(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:P.from(t.icon),closeButton:!i,onAction:a,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),s=Wa(Dh.sketch(_({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{}},o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));n.add(s),t.timeout>0&&Kh.setTimeout((function(){a()}),t.timeout);var c=function(){var t=In(Pe.fromDom(e.getContentAreaContainer())),n=En(),o=Pu(n.x,t.x,t.right),r=Pu(n.y,t.y,t.bottom),i=Math.max(t.right,n.right),a=Math.max(t.bottom,n.bottom);return P.some(On(o,r,i-o,a-r))};return{close:a,moveTo:function(e,t){Dh.showAt(s,Ga(u),{anchor:{type:"makeshift",x:e,y:t}})},moveRel:function(e,t){var n=Ga(u),r={maxHeightFunction:ec()};if("banner"!==t&&d(e)){var i=function(e){switch(e){case"bc-bc":return Hh;case"tc-tc":return Vh;case"tc-bc":return qu;case"bc-tc":default:return Yu}}(t),a={type:"node",root:Et(),node:P.some(Pe.fromDom(e)),overrides:r,layouts:{onRtl:function(){return[i]},onLtr:function(){return[i]}}};Dh.showWithinBounds(s,n,{anchor:a},c)}else{var l=_(_({},o.anchors.banner()),{overrides:r});Dh.showWithinBounds(s,n,{anchor:l},c)}},text:function(e){cg.updateText(u,e)},settings:t,getEl:function(){return u.element.dom},progressBar:{value:function(e){cg.updateProgress(u,e)}}}},close:function(e){e.close()},reposition:function(e){e.length>0&&W(e,(function(t,n){0===n?t.moveRel(null,"banner"):t.moveRel(e[n-1].getEl(),"bc-tc")}))},getArgs:function(e){return e.settings}}}var dg,fg=function(e,t){var n=null,o=function(){u(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];o(),n=setTimeout((function(){n=null,e.apply(null,r)}),t)}}},mg=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),pg=function(e,t,n,o,r){var i=mg(e,(function(t){return function(e,t){return e.isBlock(t)||j(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}(e,t)}));return P.from(i.backwards(t,n,o,r))},hg=function(e,t){return gg(Pe.fromDom(e.selection.getNode())).getOrThunk((function(){var n=Pe.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return hn(n,Pe.fromDom(t.extractContents())),t.insertNode(n.dom),ht(n).each((function(e){return e.dom.normalize()})),function(e){return Hc(e,Vc)}(n).map((function(t){e.selection.setCursorLocation(t.dom,function(e){return"img"===Le(e)?1:zc(e).fold((function(){return vt(e).length}),(function(e){return e.length}))}(t))})),n}))},gg=function(e){return eu(e,"[data-mce-autocompleter]")},vg=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},bg=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)},yg=function(e,t){return e.substring(t.length)},wg=function(e,t,n,o){if(void 0===o&&(o=0),!(r=t).collapsed||3!==r.startContainer.nodeType)return P.none();var r,i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return pg(e,t.startContainer,t.startOffset,(function(e,t,o){return function(e,t,n){var o;for(o=t-1;o>=0;o--){var r=e.charAt(o);if(bg(r))return P.none();if(r===n)break}return P.some(o)}(o,t,n).getOr(t)}),i).bind((function(e){var r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return P.none();var i=vg(r);return 0!==i.lastIndexOf(n)||yg(i,n).length<o?P.none():P.some({text:yg(i,n),range:r,triggerChar:n})}))},xg=function(e,t,n,o){return void 0===o&&(o=0),gg(Pe.fromDom(t.startContainer)).fold((function(){return wg(e,t,n,o)}),(function(t){var o=e.createRng();o.selectNode(t.dom);var r=vg(o);return P.some({range:o,text:yg(r,n),triggerChar:n})}))},Sg=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){yi(e,Lr(),{raw:t})};t.on("keydown",(function(t){var o=function(){return e.getView().bind(Wf.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(o().each(wi),t.preventDefault()):40===t.which?(o().fold((function(){e.getView().each(Wf.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||o().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&gg(Pe.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},Ag=tinymce.util.Tools.resolve("tinymce.util.Promise"),Cg=function(e,t){return{container:e,offset:t}},kg=function(e){if(function(e){return 3===e.nodeType}(e))return Cg(e,e.data.length);var t=e.childNodes;return t.length>0?kg(t[t.length-1]):Cg(e,t.length)},_g=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?_g(n[t],0):n.length>0&&function(e){return 1===e.nodeType}(e)&&n.length===t?kg(n[n.length-1]):Cg(e,t)},Og=function(e){return function(t){var n=_g(t.startContainer,t.startOffset);return!function(e,t){return pg(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1);return!bg(t)})).isSome()}(e,n)}},Ig=function(e,t){var n=t(),o=e.selection.getRng();return function(e,t,n){return ce(n.triggerChars,(function(n){return xg(e,t,n)}))}(e.dom,o,n).bind((function(n){return Tg(e,t,n)}))},Tg=function(e,t,n,o){void 0===o&&(o={});var r=t(),i=e.selection.getRng().startContainer.nodeValue,a=q(r.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Og(e.dom)}))(n.range,i,n.text)}));if(0===a.length)return P.none();var u=Ag.all(H(a,(function(e){return e.fetch(n.text,e.maxResults,o).then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))})));return P.some({lookupData:u,context:n})},Eg=po([Vo("type"),Xo("text")]),Dg=po([tr("type","autocompleteitem"),tr("active",!1),tr("disabled",!1),tr("meta",{}),Vo("value"),Xo("text"),Xo("icon")]),Rg=po([Vo("type"),Vo("ch"),or("minChars",1),tr("columns",1),or("maxResults",10),Jo("matches"),Wo("fetch"),Wo("onAction"),sr("highlightOn",[],So)]),Mg=[ar("disabled",!1),Xo("tooltip"),Xo("icon"),Xo("text"),ur("onSetup",(function(){return h}))],Pg=po([Vo("type"),Wo("onAction")].concat(Mg)),Bg=function(e){return Do("toolbarbutton",Pg,e)},Lg=[ar("active",!1)].concat(Mg),Fg=po(Lg.concat([Vo("type"),Wo("onAction")])),Ng=function(e){return Do("ToggleButton",Fg,e)},jg=[ur("predicate",A),ir("scope","node",["node","editor"]),ir("position","selection",["node","selection","line"])],zg=Mg.concat([tr("type","contextformbutton"),tr("primary",!1),Wo("onAction"),Fo("original",b)]),Ug=Lg.concat([tr("type","contextformbutton"),tr("primary",!1),Wo("onAction"),Fo("original",b)]),Vg=Mg.concat([tr("type","contextformbutton")]),Hg=Lg.concat([tr("type","contextformtogglebutton")]),Wg=Bo("type",{contextformbutton:zg,contextformtogglebutton:Ug}),Gg=po([tr("type","contextform"),ur("initValue",v("")),Xo("label"),Yo("commands",Wg),$o("launch",Bo("type",{contextformbutton:Vg,contextformtogglebutton:Hg}))].concat(jg)),qg=po([tr("type","contexttoolbar"),Vo("items")].concat(jg)),Yg=function(e){var t=e.ui.registry.getAll().popups,n=me(t,(function(e){return(t=e,Do("Autocompleter",Rg,t)).fold((function(e){throw new Error(Po(e))}),b);var t})),o=function(e){var t={};return W(e,(function(e){t[e]={}})),le(t)}(ge(n,(function(e){return e.ch}))),r=be(n);return{dataset:n,triggerChars:o,lookupByChar:function(e){return q(r,(function(t){return t.ch===e}))}}};!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(dg||(dg={}));var Qg,$g=dg,Kg="tox-menu-nav__js",Xg={normal:Kg,color:"tox-swatch"},Jg="tox-collection__item-label",Zg="tox-collection__item--active",ev=function(e){return ye(Xg,e).getOr(Kg)},tv=function(e){return"color"===e?"tox-swatches":"tox-menu"},nv=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:tv(e),tieredMenu:"tox-tiered-menu"}},ov=function(e){var t=nv(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:ev(e)}},rv=function(e,t,n){var o=nv(n);return{tag:"div",classes:X([[o.menu,"tox-menu-"+t+"-column"],e?[o.hasIcons]:[]])}},iv=[Ch.parts.items({})],av=function(e,t,n){var o=nv(n);return{dom:{tag:"div",classes:X([[o.tieredMenu]])},markers:ov(n)}},uv=function(e,t){return function(n){var o=V(n,t);return H(o,(function(t){return{dom:e,components:t}}))}},sv=function(e,t){var n=[],o=[];return W(e,(function(e,r){t(e,r)?(o.length>0&&n.push(o),o=[],we(e.dom,"innerHtml")&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),H(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))},cv=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Ch.parts.items({preprocess:function(n){return"auto"!==e&&e>1?uv({tag:"div",classes:["tox-collection__group"]},e)(n):sv(n,(function(e,n){return"separator"===t[n].type}))}})]}},lv=function(e){return z(e,(function(e){return"icon"in e&&void 0!==e.icon}))},dv=function(e){return console.error(Po(e)),console.log(e),P.none()},fv=function(e,t,n,o,r){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ch.parts.items({preprocess:function(e){return sv(e,(function(e,t){return"separator"===i[t].type}))}})]});return{value:e,dom:a.dom,components:a.components,items:n}},mv=function(e,t,n,o,r){var i;return"color"===r?{value:e,dom:(i=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ch.parts.items({preprocess:"auto"!==e?uv({tag:"div",classes:["tox-swatches__row"]},e):b})]}]}}(o)).dom,components:i.components,items:n}:"normal"===r&&"auto"===o?{value:e,dom:(i=cv(o,n)).dom,components:i.components,items:n}:"normal"===r&&1===o?{value:e,dom:(i=cv(1,n)).dom,components:i.components,items:n}:"normal"===r?{value:e,dom:(i=cv(o,n)).dom,components:i.components,items:n}:"listpreview"===r&&"auto"!==o?{value:e,dom:(i=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ch.parts.items({preprocess:uv({tag:"div",classes:["tox-collection__group"]},e)})]}}(o)).dom,components:i.components,items:n}:{value:e,dom:rv(t,o,r),components:iv,items:n}},pv=[Vo("type"),Vo("src"),Xo("alt"),sr("classes",[],So)],hv=po(pv),gv=[Vo("type"),Vo("text"),Xo("name"),sr("classes",["tox-collection__item-label"],So)],vv=po(gv),bv=lo((function(){return Io("type",{cardimage:hv,cardtext:vv,cardcontainer:yv})})),yv=po([Vo("type"),rr("direction","horizontal"),rr("align","left"),rr("valign","middle"),Yo("items",bv)]),wv=[ar("disabled",!1),Xo("text"),Xo("shortcut"),Lo("value","value",Jn((function(){return Yi("menuitem-value")})),yo()),tr("meta",{})],xv=po([Vo("type"),Xo("label"),Yo("items",bv),ur("onSetup",(function(){return h})),ur("onAction",h)].concat(wv)),Sv=po([Vo("type"),ar("active",!1),Xo("icon")].concat(wv)),Av=[Vo("type"),Vo("fancytype"),ur("onAction",h)],Cv=[tr("initData",{})].concat(Av),kv=[cr("initData",{},[ar("allowCustomColors",!0),Zo("colors",yo())])].concat(Av),_v=Bo("fancytype",{inserttable:Cv,colorswatch:kv}),Ov=po([Vo("type"),ur("onSetup",(function(){return h})),ur("onAction",h),Xo("icon")].concat(wv)),Iv=po([Vo("type"),Wo("getSubmenuItems"),ur("onSetup",(function(){return h})),Xo("icon")].concat(wv)),Tv=po([Vo("type"),Xo("icon"),ar("active",!1),ur("onSetup",(function(){return h})),Wo("onAction")].concat(wv)),Ev=function(e,t,n){var o=Wc(e.element,"."+n);if(o.length>0){var r=K(o,(function(e){var n=e.dom.getBoundingClientRect().top,r=o[0].dom.getBoundingClientRect().top;return Math.abs(n-r)>t})).getOr(o.length);return P.some({numColumns:r,numRows:Math.ceil(o.length/r)})}return P.none()},Dv=function(e,t){return ss([Gp(e,t)])},Rv=function(e){return Dv(Yi("unnamed-events"),e)},Mv=Yi("tooltip.exclusive"),Pv=Yi("tooltip.show"),Bv=Yi("tooltip.hide"),Lv=function(e,t,n){e.getSystem().broadcastOn([Mv],{})},Fv=Object.freeze({__proto__:null,hideAllExclusive:Lv,setComponents:function(e,t,n,o){n.getTooltip().each((function(e){e.getSystem().isConnected()&&Wp.set(e,o)}))}}),Nv=Object.freeze({__proto__:null,events:function(e,t){var n=function(n){t.getTooltip().each((function(o){El(o),e.onHide(n,o),t.clearTooltip()})),t.clearTimer()};return Ci(X([[Oi(Pv,(function(n){t.resetTimer((function(){!function(n){if(!t.isShowing()){Lv(n);var o=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ci("normal"===e.mode?[Oi(Mr(),(function(e){bi(n,Pv)})),Oi(Dr(),(function(e){bi(n,Bv)}))]:[]),behaviours:ss([Wp.config({})])});t.setTooltip(r),Ol(o,r),e.onShow(n,r),Sl.position(o,r,{anchor:e.anchor(n)})}}(n)}),e.delay)})),Oi(Bv,(function(o){t.resetTimer((function(){n(o)}),e.delay)})),Oi(Kr(),(function(e,t){var o=t;o.universal||j(o.channels,Mv)&&n(e)})),Li((function(e){n(e)}))],"normal"===e.mode?[Oi(Pr(),(function(e){bi(e,Pv)})),Oi(Qr(),(function(e){bi(e,Bv)})),Oi(Mr(),(function(e){bi(e,Pv)})),Oi(Dr(),(function(e){bi(e,Bv)}))]:[Oi(gi(),(function(e,t){bi(e,Pv)})),Oi(vi(),(function(e){bi(e,Bv)}))]]))}}),jv=[jo("lazySink"),jo("tooltipDom"),tr("exclusive",!0),tr("tooltipComponents",[]),tr("delay",300),ir("mode","normal",["normal","follow-highlight"]),tr("anchor",(function(e){return{type:"hotspot",hotspot:e,layouts:{onLtr:v([Yu,qu,Vu,Wu,Hu,Gu]),onRtl:v([Yu,qu,Vu,Wu,Hu,Gu])}}})),gu("onHide"),gu("onShow")],zv=ls({fields:jv,name:"tooltipping",active:Nv,state:Object.freeze({__proto__:null,init:function(){var e=js(),t=js(),n=function(){e.on(clearTimeout)},o=v("not-implemented");return la({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:function(t,o){n(),e.set(setTimeout(t,o))},readState:o})}}),apis:Fv}),Uv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Vv=tinymce.util.Tools.resolve("tinymce.EditorManager"),Hv=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},Wv=function(e){return e.getParam("width",Uv.DOM.getStyle(e.getElement(),"width"))},Gv=function(e){return P.from(e.getParam("min_width")).filter(m)},qv=function(e){return P.from(e.getParam("min_height")).filter(m)},Yv=function(e){return P.from(e.getParam("max_width")).filter(m)},Qv=function(e){return P.from(e.getParam("max_height")).filter(m)},$v=function(e){return!1!==e.getParam("menubar",!0,"boolean")},Kv=function(e){var t=e.getParam("toolbar",!0),n=!0===t,o=r(t),i=a(t)&&t.length>0;return!Jv(e)&&(i||o||n)},Xv=function(e){var t=U(9,(function(t){return e.getParam("toolbar"+(t+1),!1,"string")})),n=q(t,(function(e){return"string"==typeof e}));return n.length>0?P.some(n):P.none()},Jv=function(e){return Xv(e).fold((function(){return e.getParam("toolbar",[],"string[]").length>0}),C)};!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(Qg||(Qg={}));var Zv,eb=function(e){return e.getParam("toolbar_mode","","string")};!function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(Zv||(Zv={}));var tb,nb,ob=function(e){return e.getParam("toolbar_location",Zv.auto,"string")},rb=function(e){return ob(e)===Zv.bottom},ib=function(e){if(!e.inline)return P.none();var t=function(e){return e.getParam("fixed_toolbar_container","","string")}(e);if(t.length>0)return Za(Et(),t);var n=function(e){return e.getParam("fixed_toolbar_container_target")}(e);return d(n)?P.some(Pe.fromDom(n)):P.none()},ab=function(e){return e.inline&&ib(e).isSome()},ub=function(e){return ib(e).getOrThunk((function(){return kt(Ct(Pe.fromDom(e.getElement())))}))},sb=function(e){return e.inline&&!$v(e)&&!Kv(e)&&!Jv(e)},cb=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!ab(e)&&!sb(e)},lb=function(e){var t=e.getParam("menu");return t?me(t,(function(e){return _(_({},e),{items:e.items})})):{}},db=function(e){return e.getParam("menubar")},fb=function(e){return e.getParam("anchor_top","#top")},mb=function(e){return e.getParam("anchor_bottom","#bottom")},pb=po([(tb="readonly",zo(tb,Ao))]),hb=function(e,t){var n=e.outerContainer.element;t&&(e.mothership.broadcastOn([Gl()],{target:n}),e.uiMothership.broadcastOn([Gl()],{target:n})),e.mothership.broadcastOn(["silver.readonly"],{readonly:t}),e.uiMothership.broadcastOn(["silver.readonly"],{readonly:t})},gb=function(e,t){e.on("init",(function(){e.mode.isReadOnly()&&hb(t,!0)})),e.on("SwitchMode",(function(){return hb(t,e.mode.isReadOnly())})),function(e){return e.getParam("readonly",!1,"boolean")}(e)&&e.setMode("readonly")},vb=function(){var e;return ps.config({channels:(e={},e["silver.readonly"]={schema:pb,onReceive:function(e,t){Mf.set(e,t.readonly)}},e)})},bb=function(e){return Mf.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},yb=function(e){return Mf.config({disabled:e})},wb=function(e){return Mf.config({disabled:e,disableClass:"tox-tbtn--disabled"})},xb=function(e){return Mf.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},Sb=function(e,t){var n=e.getApi(t);return function(e){e(n)}},Ab=function(e,t){return Bi((function(n){Sb(e,n)((function(n){var o=e.onSetup(n);f(o)&&t.set(o)}))}))},Cb=function(e,t){return Li((function(n){return Sb(e,n)(t.get())}))},kb=function(e,t){return Ni((function(n,o){Sb(e,n)(e.onAction),e.triggersSubmenu||t!==$g.CLOSE_ON_EXECUTE||(bi(n,ti()),o.stop())}))},_b=((nb={})[Xr()]=["disabling","alloy.base.behaviour","toggling","item-events"],nb),Ob=Ae,Ib=function(e,t,n,o){var r=lr(h);return{type:"item",dom:t.dom,components:Ob(t.optComponents),data:e.data,eventOrder:_b,hasSubmenu:e.triggersSubmenu,itemBehaviours:ss([Gp("item-events",[kb(e,n),Ab(e,r),Cb(e,r)]),bb((function(){return e.disabled||o.isDisabled()})),vb(),Wp.config({})].concat(e.itemBehaviours))}},Tb=function(e){return{value:e.value,meta:_({text:e.text.getOr("")},e.meta)}},Eb=tinymce.util.Tools.resolve("tinymce.Env"),Db=function(e){var t=Eb.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},n=e.split("+"),o=H(n,(function(e){var n=e.toLowerCase().trim();return we(t,n)?t[n]:e}));return Eb.mac?o.join(""):o.join("+")},Rb=function(e,t,n){return void 0===n&&(n=["tox-collection__item-icon"]),ug(e,{tag:"div",classes:n},t)},Mb=function(e){return{dom:{tag:"div",classes:[Jg]},components:[Ua(Zh.translate(e))]}},Pb=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}},Bb=function(e,t){return{dom:{tag:"div",classes:[Jg]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Ua(Zh.translate(t))]}]}},Lb=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:Db(e)}}},Fb=function(e){return Rb("checkmark",e,["tox-collection__item-checkmark"])},Nb=function(e,t,n){var o,r,i=e.ariaLabel,a=e.value,u=e.iconContent.map((function(e){return function(e,t,n){var o=t();return og(e,o).or(n).getOrThunk(tg(o))}(e,t.icons,n)}));return{dom:(o=u.getOr(""),r={tag:"div",attributes:i.map((function(e){return{title:t.translate(e)}})).getOr({}),classes:["tox-swatch"]},_(_({},r),"custom"===a?{tag:"button",classes:I(I([],r.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:o}:"remove"===a?{classes:I(I([],r.classes,!0),["tox-swatch--remove"],!1),innerHtml:o}:{attributes:_(_({},r.attributes),{"data-mce-color":a}),styles:{"background-color":a}})),optComponents:[]}},jb=function(e){var t=e.map((function(e){return{attributes:{title:Zh.translate(e)}}})).getOr({});return _({tag:"div",classes:[Kg,"tox-collection__item"]},t)},zb=function(e,t,n,o){return void 0===o&&(o=P.none()),"color"===e.presets?Nb(e,t,o):function(e,t,n,o){var r={tag:"div",classes:["tox-collection__item-icon"]},i=n?e.iconContent.map((function(e){return ug(e,r,t.icons,o)})).orThunk((function(){return P.some({dom:r})})):P.none(),a=e.checkMark,u=P.from(e.meta).fold((function(){return Mb}),(function(e){return we(e,"style")?w(Bb,e.style):Mb})),s=e.htmlContent.fold((function(){return e.textContent.map(u)}),(function(e){return P.some(Pb(e,[Jg]))}));return{dom:jb(e.ariaLabel),optComponents:[i,s,e.shortcutContent.map(Lb),a,e.caret]}}(e,t,n,o)},Ub=function(e,t){return ye(e,"tooltipWorker").map((function(e){return[zv.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{type:"submenu",item:e,overrides:{maxHeightFunction:ec}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){zv.setComponents(t,[Va({element:Pe.fromDom(e)})])}))}})]})).getOr([])},Vb=function(e,t){var n=function(e){return Uv.DOM.encode(e)}(Zh.translate(e));if(t.length>0){var o=new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t),"gi");return n.replace(o,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}return n},Hb=function(e,t){return H(e,(function(e){switch(e.type){case"cardcontainer":return function(e,t){return{dom:{tag:"div",classes:["tox-collection__item-container","vertical"===e.direction?"tox-collection__item-container--column":"tox-collection__item-container--row","left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",function(){switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:t}}(e,Hb(e.items,t));case"cardimage":return function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}}(e.src,e.classes,e.alt);case"cardtext":var n=e.name.exists((function(e){return j(t.cardText.highlightOn,e)}))?P.from(t.cardText.matchText).getOr(""):"";return Pb(Vb(e.text,n),e.classes)}}))},Wb=qd(vh(),bh()),Gb=function(e){return{value:e}},qb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Yb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Qb=function(e){return qb.test(e)||Yb.test(e)},$b=function(e){return function(e,t){return Ie(e,t)?function(e,t){return e.substring(t)}(e,t.length):e}(e,"#").toUpperCase()},Kb=function(e){var t=function(e){return{value:e.value.replace(qb,(function(e,t,n,o){return t+t+n+n+o+o}))}}(e),n=Yb.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},Xb=function(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Jb=function(e){var t=Xb(e.red)+Xb(e.green)+Xb(e.blue);return Gb(t)},Zb=Math.min,ey=Math.max,ty=Math.round,ny=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,oy=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,ry=function(e,t,n,o){return{red:e,green:t,blue:n,alpha:o}},iy=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},ay=function(e){var t,n,o,r=(e.hue||0)%360,i=e.saturation/100,a=e.value/100;if(i=ey(0,Zb(i,1)),a=ey(0,Zb(a,1)),0===i)return t=n=o=ty(255*a),ry(t,n,o,1);var u=r/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:t=s,n=c,o=0;break;case 1:t=c,n=s,o=0;break;case 2:t=0,n=s,o=c;break;case 3:t=0,n=c,o=s;break;case 4:t=c,n=0,o=s;break;case 5:t=s,n=0,o=c;break;default:t=n=o=0}return t=ty(255*(t+l)),n=ty(255*(n+l)),o=ty(255*(o+l)),ry(t,n,o,1)},uy=function(e){var t=Kb(e),n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16);return ry(n,o,r,1)},sy=function(e,t,n,o){var r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(o);return ry(r,i,a,u)},cy=function(e){if("transparent"===e)return P.some(ry(0,0,0,0));var t=ny.exec(e);if(null!==t)return P.some(sy(t[1],t[2],t[3],"1"));var n=oy.exec(e);return null!==n?P.some(sy(n[1],n[2],n[3],n[4])):P.none()},ly=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},dy=ry(255,0,0,1),fy=function(e,t){return e.fire("ResizeContent",t)},my=function(e,t,n){return{hue:e,saturation:t,value:n}},py=function(e){var t,n=0,o=0,r=e.red/255,i=e.green/255,a=e.blue/255,u=Math.min(r,Math.min(i,a)),s=Math.max(r,Math.max(i,a));return u===s?my(0,0,100*(o=u)):(n=60*((n=r===u?3:a===u?1:5)-(r===u?i-a:a===u?r-i:a-r)/(s-u)),t=(s-u)/s,o=s,my(Math.round(n),Math.round(100*t),Math.round(100*o)))},hy=function(e){return Jb(ay(e))},gy=function(e){return(t=e,Qb(t)?P.some({value:$b(t)}):P.none()).orThunk((function(){return cy(e).map(Jb)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1,t.width=1;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);var o=n.getImageData(0,0,1,1).data,r=o[0],i=o[1],a=o[2],u=o[3];return Jb(ry(r,i,a,u))}));var t},vy=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");var by,yy="choiceitem",wy=[{type:yy,text:"Light Green",value:"#BFEDD2"},{type:yy,text:"Light Yellow",value:"#FBEEB8"},{type:yy,text:"Light Red",value:"#F8CAC6"},{type:yy,text:"Light Purple",value:"#ECCAFA"},{type:yy,text:"Light Blue",value:"#C2E0F4"},{type:yy,text:"Green",value:"#2DC26B"},{type:yy,text:"Yellow",value:"#F1C40F"},{type:yy,text:"Red",value:"#E03E2D"},{type:yy,text:"Purple",value:"#B96AD9"},{type:yy,text:"Blue",value:"#3598DB"},{type:yy,text:"Dark Turquoise",value:"#169179"},{type:yy,text:"Orange",value:"#E67E23"},{type:yy,text:"Dark Red",value:"#BA372A"},{type:yy,text:"Dark Purple",value:"#843FA1"},{type:yy,text:"Dark Blue",value:"#236FA1"},{type:yy,text:"Light Gray",value:"#ECF0F1"},{type:yy,text:"Medium Gray",value:"#CED4D9"},{type:yy,text:"Gray",value:"#95A5A6"},{type:yy,text:"Dark Gray",value:"#7E8C8D"},{type:yy,text:"Navy Blue",value:"#34495E"},{type:yy,text:"Black",value:"#000000"},{type:yy,text:"White",value:"#ffffff"}],xy=function(e){void 0===e&&(e=10);var t,n=vy.getItem("tinymce-custom-colors"),o=r(n)?JSON.parse(n):[],i=e-(t=o).length<0?t.slice(0,e):t,a=function(e){i.splice(e,1)};return{add:function(t){(function(e,t){var n=N(e,t);return-1===n?P.none():P.some(n)})(i,t).each(a),i.unshift(t),i.length>e&&i.pop(),vy.setItem("tinymce-custom-colors",JSON.stringify(i))},state:function(){return i.slice(0)}}}(10),Sy=function(e){return!1!==e.getParam("custom_colors")},Ay=function(e){var t=function(e){return e.getParam("color_map")}(e);return void 0!==t?function(e){for(var t=[],n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+gy(e[n]).value,type:"choiceitem"});return t}(t):wy},Cy=function(e){xy.add(e)},ky=function(e){return function(e,t){return e.getParam("color_cols",t,"number")}(e,function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))}(Ay(e).length))},_y=function(e){var t={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[t,{type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"}]:[t]},Oy=function(e,t,n,o){"custom"===n?My(e)((function(n){n.each((function(n){Cy(n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),"#000000"):"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},Iy=function(e,t){return e.concat(H(xy.state(),(function(e){return{type:yy,text:e,value:e}})).concat(_y(t)))},Ty=function(e,t){return function(n){n(Iy(e,t))}},Ey=function(e,t,n){var o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},Dy=function(e,t,n,o,r){e.ui.registry.addSplitButton(t,{tooltip:o,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){return P.from(function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var o;(o=e.style["forecolor"===t?"color":"background-color"])&&(n=n||o)})),n}(e,n)).bind((function(e){return cy(e).map((function(e){var n=Jb(e).value;return Oe(t.toLowerCase(),n)}))})).getOr(!1)},columns:ky(e),fetch:Ty(Ay(e),Sy(e)),onAction:function(t){null!==r.get()&&Oy(e,n,r.get(),h)},onItemAction:function(o,i){Oy(e,n,i,(function(n){r.set(n),function(e,t){e.fire("TextColorChange",t)}(e,{name:t,color:n})}))},onSetup:function(n){null!==r.get()&&Ey(n,t,r.get());var o=function(e){e.name===t&&Ey(n,e.name,e.color)};return e.on("TextColorChange",o),function(){e.off("TextColorChange",o)}}})},Ry=function(e,t,n,o){e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){Oy(e,n,t.value,h)}}]}})},My=function(e){return function(t,n){var o=!1,r={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:function(e,t){"hex-valid"===t.name&&(o=t.value)},onSubmit:function(n){var r=n.getData().colorpicker;o?(t(P.from(r)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))},onClose:h,onCancel:function(){t(P.none())}})}},Py=function(e,t,n,o,r,i,a,u){var s=lv(t),c=By(t,n,o,"color"!==r?"normal":"color",i,a,u);return mv(e,s,c,o,r)},By=function(e,t,n,o,r,i,a){return Ae(H(e,(function(u){return"choiceitem"===u.type?(s=u,Do("choicemenuitem",Sv,s)).fold(dv,(function(s){return P.some(function(e,t,n,o,r,i,a,u){void 0===u&&(u=!0);var s=zb({presets:n,textContent:t?e.text:P.none(),htmlContent:P.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:P.none(),checkMark:t?P.some(Fb(a.icons)):P.none(),caret:P.none(),value:e.value},a,u);return Kn(Ib({data:Tb(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){sh.set(e,t)},isActive:function(){return sh.isOn(e)},isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){return Mf.set(e,t)}}},onAction:function(t){return o(e.value)},onSetup:function(e){return e.setActive(r),h},triggersSubmenu:!1,itemBehaviours:[]},s,i,a),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})}(s,1===n,o,t,i(u.value),r,a,lv(e)))})):P.none();var s})))},Ly=function(e,t){var n=ov(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},Fy=function(e,t){var n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((function(){return Iy(t.colorinput.getColors(),n)}),(function(e){return e.concat(_y(n))}))},Ny=Yi("cell-over"),jy=Yi("cell-execute"),zy=function(e,t,n){var o,r=function(n){return yi(n,jy,{row:e,col:t})},i=function(e,t){t.stop(),r(e)};return Wa({dom:{tag:"div",attributes:(o={role:"button"},o["aria-labelledby"]=n,o)},behaviours:ss([Gp("insert-table-picker-cell",[Oi(Mr(),Kp.focus),Oi(Xr(),r),Oi(zr(),i),Oi(Zr(),i)]),sh.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Kp.config({onFocus:function(n){return yi(n,Ny,{row:e,col:t})}})])})},Uy=function(e){return J(e,(function(e){return H(e,Ga)}))},Vy=function(e,t){return Ua(t+1+"x"+(e+1))},Hy={inserttable:function(e){var t=Yi("size-label"),n=function(e,t,n){for(var o=[],r=0;r<t;r++){for(var i=[],a=0;a<n;a++)i.push(zy(r,a,e));o.push(i)}return o}(t,10,10),o=Jh({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[Ua("0x0")],behaviours:ss([Wp.config({})])});return{type:"widget",data:{value:Yi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Wb.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Uy(n).concat(o.asSpec()),behaviours:ss([Gp("insert-table-picker",[Di(Ny,(function(e,t,r){var i=r.event.row,a=r.event.col;!function(e,t,n,o,r){for(var i=0;i<o;i++)for(var a=0;a<r;a++)sh.set(e[i][a],i<=t&&a<=n)}(n,i,a,10,10),Wp.set(o.get(e),[Vy(i,a)])})),Di(jy,(function(t,n,o){e.onAction({numRows:o.event.row+1,numColumns:o.event.col+1}),bi(t,ti())}))]),jp.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,t){var n=Fy(e,t),o=t.colorinput.getColorCols(),r=Py(Yi("menu-value"),n,(function(t){e.onAction({value:t})}),o,"color",$g.CLOSE_ON_EXECUTE,A,t.shared.providers),i=_(_({},r),{markers:ov("color"),movement:Ly(o,"color")});return{type:"widget",data:{value:Yi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Wb.widget(Ch.sketch(i))]}}},Wy=function(e,t,n,o,r,i,a,u){void 0===u&&(u=!0);var s=zb({presets:o,textContent:P.none(),htmlContent:n?e.text.map((function(e){return Vb(e,t)})):P.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:e.value},a.providers,u,e.icon);return Ib({data:Tb(e),disabled:e.disabled,getApi:v({}),onAction:function(t){return r(e.value,e.meta)},onSetup:v(h),triggersSubmenu:!1,itemBehaviours:Ub(e.meta,a)},s,i,a.providers)},Gy=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}));return{type:"separator",dom:_({tag:"div",classes:["tox-collection__item","tox-collection__group-heading"]},t),components:[]}},qy=function(e,t,n,o){void 0===o&&(o=!0);var r=zb({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,caret:P.none(),checkMark:P.none(),shortcutContent:e.shortcut},n,o);return Ib({data:Tb(e),getApi:function(e){return{isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){return Mf.set(e,t)}}},disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)},Yy=function(e,t,n,o,r){void 0===o&&(o=!0),void 0===r&&(r=!1);var i,a=r?(i=n.icons,Rb("chevron-down",i,["tox-collection__item-caret"])):function(e){return Rb("chevron-right",e,["tox-collection__item-caret"])}(n.icons),u=zb({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,caret:P.some(a),checkMark:P.none(),shortcutContent:e.shortcut},n,o);return Ib({data:Tb(e),getApi:function(e){return{isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){return Mf.set(e,t)}}},disabled:e.disabled,onAction:h,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,t,n)},Qy=function(e,t,n,o){void 0===o&&(o=!0);var r=zb({iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,checkMark:P.some(Fb(n.icons)),caret:P.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return Kn(Ib({data:Tb(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){sh.set(e,t)},isActive:function(){return sh.isOn(e)},isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){return Mf.set(e,t)}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},$y=function(e,t){return ye(Hy,e.fancytype).map((function(n){return n(e,t)}))},Ky=function(e,t,n,o){var r={dom:jb(e.label),optComponents:[P.some({dom:{tag:"div",classes:["tox-collection__item-container","tox-collection__item-container--row"]},components:Hb(e.items,o)})]};return Ib({data:Tb(_({text:P.none()},e)),disabled:e.disabled,getApi:function(e){return{isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){Mf.set(e,t),W(Wc(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(Mf)&&Mf.set(e,t)}))}))}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(o.itemBehaviours).getOr([])},r,t,n.providers)};!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(by||(by={}));var Xy=function(e,t,n,o,r){var i,a=n.shared.providers,u=function(e){return r?_(_({},e),{shortcut:P.none(),icon:e.text.isSome()?P.none():e.icon}):e};switch(e.type){case"menuitem":return(i=e,Do("menuitem",Ov,i)).fold(dv,(function(e){return P.some(qy(u(e),t,a,o))}));case"nestedmenuitem":return function(e){return Do("nestedmenuitem",Iv,e)}(e).fold(dv,(function(e){return P.some(Yy(u(e),t,a,o,r))}));case"togglemenuitem":return function(e){return Do("togglemenuitem",Tv,e)}(e).fold(dv,(function(e){return P.some(Qy(u(e),t,a,o))}));case"separator":return function(e){return Do("separatormenuitem",Eg,e)}(e).fold(dv,(function(e){return P.some(Gy(e))}));case"fancymenuitem":return function(e){return Do("fancymenuitem",_v,e)}(e).fold(dv,(function(e){return $y(u(e),n)}));default:return console.error("Unknown item in general menu",e),P.none()}},Jy=function(e,t,n,o,r,i,a){var u=1===o,s=!u||lv(e);return Ae(H(e,(function(e){switch(e.type){case"separator":return(o=e,Do("Autocompleter.Separator",Eg,o)).fold(dv,(function(e){return P.some(Gy(e))}));case"cardmenuitem":return function(e){return Do("cardmenuitem",xv,e)}(e).fold(dv,(function(e){return P.some(Ky(_(_({},e),{onAction:function(t){e.onAction(t),n(e.value,e.meta)}}),r,i,{itemBehaviours:Ub(e.meta,i),cardText:{matchText:t,highlightOn:a}}))}));case"autocompleteitem":default:return function(e){return Do("Autocompleter.Item",Dg,e)}(e).fold(dv,(function(e){return P.some(Wy(e,t,u,"normal",n,r,i,s))}))}var o})))},Zy=function(e,t,n,o,r){var i=lv(t),a=Ae(H(t,(function(e){var t=function(e){return Xy(e,n,o,function(e){return r?!we(e,"text"):i}(e),r)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t(_(_({},e),{disabled:!0})):t(e)})));return(r?fv:mv)(e,i,a,1,"normal")},ew=function(e){return Eh.singleData(e.value,e)},tw=function(e,t){var n=js(),o=lr(!1),r=Wa(Dh.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:ss([Gp("dismissAutocompleter",[Oi(li(),(function(){return u()}))])]),lazySink:t.getSink})),i=function(){return n.get().isSome()},a=function(){i()&&Dh.hide(r)},u=function(){if(i()){var t=n.get().map((function(e){return e.element}));gg(t.getOr(Pe.fromDom(e.selection.getNode()))).each(yn),a(),n.clear(),o.set(!1)}},s=Ve((function(){return Yg(e)})),c=function(t,n,o,i){t.matchLength=n.text.length;var a=ce(o,(function(e){return P.from(e.columns)})).getOr(1);Dh.showAt(r,Ch.sketch(function(e,t,n,o){var r=n===by.ContentFocus?fm():dm(),i=Ly(t,o),a=ov(o);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===by.ContentFocus,focusManager:r,menuBehaviours:Rv("auto"!==t?[]:[Bi((function(e,t){Ev(e,4,a.item).each((function(t){var n=t.numColumns,o=t.numRows;jp.setGridSize(e,o,n)}))}))])}}(mv("autocompleter-value",!0,i,a,"normal"),a,by.ContentFocus,"normal")),{anchor:{type:"node",root:Pe.fromDom(e.getBody()),node:P.from(t.element)}}),Dh.getContent(r).each(Wf.highlightFirst)},l=function(r){(function(t){return n.get().map((function(n){return xg(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Tg(e,s,n,t)}))})).getOrThunk((function(){return Ig(e,s)}))})(r).fold(u,(function(r){!function(t){if(!i()){var r=hg(e,t.range);n.set({triggerChar:t.triggerChar,element:r,matchLength:t.text.length}),o.set(!1)}}(r.context),r.lookupData.then((function(i){n.get().map((function(n){var s,d,f,m=r.context;if(n.triggerChar===m.triggerChar){var p=(s=m.triggerChar,f=ce(d=i,(function(e){return P.from(e.columns)})).getOr(1),J(d,(function(n){var r=n.items;return Jy(r,n.matchText,(function(t,r){var i=e.selection.getRng();xg(e.dom,i,s).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(e){var i=e.range,s={hide:function(){u()},reload:function(e){a(),l(e)}};o.set(!0),n.onAction(s,i,t,r),o.set(!1)}))}),f,$g.BUBBLE_TO_SANDBOX,t,n.highlightOn)})));p.length>0?c(n,m,i,p):m.text.length-n.matchLength>=10?u():a()}}))}))}))},d={onKeypress:fg((function(e){27!==e.which&&l()}),50),cancelIfNecessary:u,isMenuOpen:function(){return Dh.isOpen(r)},isActive:i,isProcessingAction:o.get,getView:function(){return Dh.getContent(r)}};!1===e.hasPlugin("rtc")&&Sg(d,e)},nw=function(e,t,n){return eu(e,t,n).isSome()},ow=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},schedule:function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];n=setTimeout((function(){e.apply(null,o),n=null}),t)}}},rw=function(e){var t=e.raw;return void 0===t.touches||1!==t.touches.length?P.none():P.some(t.touches[0])},iw=function(e){var t=js(),n=lr(!1),o=ow((function(t){e.triggerEvent(ei(),t),n.set(!0)}),400),r=hr([{key:kr(),value:function(e){return rw(e).each((function(r){o.cancel();var i={x:r.clientX,y:r.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(i)})),P.none()}},{key:_r(),value:function(e){return o.cancel(),rw(e).each((function(e){t.on((function(n){(function(e,t){var n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(e,n)&&t.clear()}))})),P.none()}},{key:Or(),value:function(r){o.cancel();return t.get().filter((function(e){return st(e.target,r.target)})).map((function(t){return n.get()?(r.prevent(),!1):e.triggerEvent(Zr(),r)}))}}]);return{fireIfReady:function(e,t){return ye(r,t).bind((function(t){return t(e)}))}}},aw=function(){return it().browser.isFirefox()},uw=function(e,t){var n=_({stopBackspace:!0},t),o=iw(n),r=H(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return Us(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()}))})),i=js(),a=Us(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),i.set(setTimeout((function(){n.triggerEvent($r(),e)}),0))})),u=Us(e,"keydown",(function(e){n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&function(e){return e.raw.which===Gf[0]&&!j(["input","textarea"],Le(e.target))&&!nw(e.target,'[contenteditable="true"]')}(e)&&e.prevent()})),s=function(e,t){return aw()?Vs(e,"focus",t):Us(e,"focusin",t)}(e,(function(e){n.triggerEvent("focusin",e)&&e.kill()})),c=js(),l=function(e,t){return aw()?Vs(e,"blur",t):Us(e,"focusout",t)}(e,(function(e){n.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((function(){n.triggerEvent(Qr(),e)}),0))}));return{unbind:function(){W(r,(function(e){e.unbind()})),u.unbind(),s.unbind(),l.unbind(),a.unbind(),i.on(clearTimeout),c.on(clearTimeout)}}},sw=function(e,t){var n=ye(e,"target").getOr(t);return lr(n)},cw=dr([{stopped:[]},{resume:["element"]},{complete:[]}]),lw=function(e,t,n,o,r,i){var a=e(t,o),u=function(e,t){var n=lr(!1),o=lr(!1);return{stop:function(){n.set(!0)},cut:function(){o.set(!0)},isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}}(n,r);return a.fold((function(){return i.logEventNoHandlers(t,o),cw.complete()}),(function(e){var n=e.descHandler;return ma(n)(u),u.isStopped()?(i.logEventStopped(t,e.element,n.purpose),cw.stopped()):u.isCut()?(i.logEventCut(t,e.element,n.purpose),cw.complete()):ht(e.element).fold((function(){return i.logNoParent(t,e.element,n.purpose),cw.complete()}),(function(o){return i.logEventResponse(t,e.element,n.purpose),cw.resume(o)}))}))},dw=function(e,t,n,o,r,i){return lw(e,t,n,o,r,i).fold(C,(function(o){return dw(e,t,n,o,r,i)}),A)},fw=function(e,t,n){var o=function(e){var t=lr(!1);return{stop:function(){t.set(!0)},cut:h,isStopped:t.get,isCut:A,event:e,setSource:S("Cannot set source of a broadcasted event"),getSource:S("Cannot get source of a broadcasted event")}}(t);return W(e,(function(e){var t=e.descHandler;ma(t)(o)})),o.isStopped()},mw=function(e,t,n,o,r){var i=sw(n,o);return dw(e,t,n,o,i,r)},pw=function(){var e={};return{registerId:function(t,n,o){fe(o,(function(o,r){var i=void 0!==e[r]?e[r]:{};i[n]=function(e,t){return n=w.apply(void 0,[e.handler].concat(t)),o=e.purpose,{cHandler:n,purpose:o};var n,o}(o,t),e[r]=i}))},unregisterId:function(t){fe(e,(function(e,n){we(e,t)&&delete e[t]}))},filterByType:function(t){return ye(e,t).map((function(e){return ge(e,(function(e,t){return function(e,t){return{id:e,descHandler:t}}(t,e)}))})).getOr([])},find:function(t,n,o){return ye(e,n).bind((function(e){return yr(o,(function(t){return function(e,t){return Zi(t).bind((function(t){return ye(e,t)})).map((function(e){return function(e,t){return{element:e,descHandler:t}}(t,e)}))}(e,t)}),t)}))}}},hw=function(){var e=pw(),t={},n=function(e){var t=e.element;return Zi(t).getOrThunk((function(){return function(e,t){var n=Yi(Ki+e);return Ji(t,n),n}("uid-",e.element)}))},o=function(n){Zi(n.element).each((function(n){delete t[n],e.unregisterId(n)}))};return{find:function(t,n,o){return e.find(t,n,o)},filter:function(t){return e.filterByType(t)},register:function(r){var i=n(r);xe(t,i)&&function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+Hi(r.element)+"\nCannot use it for: "+Hi(e.element)+"\nThe conflicting element is"+(Tt(r.element)?" ":" not ")+"already in the DOM");o(e)}(r,i);var a=[r];e.registerId(a,i,r.events),t[i]=r},unregister:o,getById:function(e){return ye(t,e)}}},gw=pf({name:"Container",factory:function(e){var t=e.dom,n=t.attributes,o=O(t,["attributes"]);return{uid:e.uid,dom:_({tag:"div",attributes:_({role:"presentation"},n)},o),components:e.components,behaviours:fd(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[tr("components",[]),dd("containerBehaviours",[]),tr("events",{}),tr("domModification",{}),tr("eventOrder",{})]}),vw=function(e){var t=function(t){return ht(e.element).fold(C,(function(e){return st(t,e)}))},n=hw(),o=function(e,o){return n.find(t,e,o)},r=uw(e.element,{triggerEvent:function(e,t){return uu(e,t.target,(function(n){return function(e,t,n,o){return mw(e,t,n,n.target,o)}(o,e,t,n)}))}}),i={debugInfo:v("real"),triggerEvent:function(e,t,n){uu(e,t,(function(r){return mw(o,e,n,t,r)}))},triggerFocus:function(e,t){Zi(e).fold((function(){vs(e)}),(function(n){uu(Yr(),e,(function(n){return function(e,t,n,o,r){var i=sw(n,o);lw(e,t,n,o,i,r)}(o,Yr(),{originator:t,kill:h,prevent:h,target:e},e,n),!1}))}))},triggerEscape:function(e,t){i.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return p(e)},getByDom:function(e){return g(e)},build:Wa,addToGui:function(e){s(e)},removeFromGui:function(e){c(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){d(e)},broadcastOn:function(e,t){f(e,t)},broadcastEvent:function(e,t){m(e,t)},isConnected:C},a=function(e){e.connect(i),je(e.element)||(n.register(e),W(e.components(),a),i.triggerEvent(oi(),e.element,{target:e.element}))},u=function(e){je(e.element)||(W(e.components(),u),n.unregister(e)),e.disconnect()},s=function(t){Ol(e,t)},c=function(e){El(e)},l=function(e){var t=n.filter(Kr());W(t,(function(t){var n=t.descHandler;ma(n)(e)}))},d=function(e){l({universal:!0,data:e})},f=function(e,t){l({universal:!1,channels:e,data:t})},m=function(e,t){var o=n.filter(e);return fw(o,t)},p=function(e){return n.getById(e).fold((function(){return Mn.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),Mn.value)},g=function(e){var t=Zi(e).getOr("not found");return p(t)};return a(e),{root:e,element:e.element,destroy:function(){r.unbind(),bn(e.element)},add:s,remove:c,getByUid:p,getByDom:g,addToWorld:a,removeFromWorld:u,broadcast:d,broadcastOn:f,broadcastEvent:m}},bw=v([tr("prefix","form-field"),dd("fieldBehaviours",[yf,ld])]),yw=v([Ud({schema:[jo("dom")],name:"label"}),Ud({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[jo("text")],name:"aria-descriptor"}),jd({factory:{sketch:function(e){var t=mr(e,["factory"]);return e.factory.sketch(t)}},schema:[jo("factory")],name:"field"})]),ww=hf({name:"FormField",configFields:bw(),partFields:yw(),factory:function(e,t,n,o){var r=md(e.fieldBehaviours,[yf.config({find:function(t){return Zd(t,e,"field")}}),ld.config({store:{mode:"manual",getValue:function(e){return yf.getCurrent(e).bind(ld.getValue)},setValue:function(e,t){yf.getCurrent(e).each((function(e){ld.setValue(e,t)}))}}})]),i=Ci([Bi((function(t,n){var o=tf(t,e,["label","field","aria-descriptor"]);o.field().each((function(t){var n=Yi(e.prefix);o.label().each((function(e){Mt(e.element,"for",n),Mt(t.element,"id",n)})),o["aria-descriptor"]().each((function(n){var o=Yi(e.prefix);Mt(n.element,"id",o),Mt(t.element,"aria-describedby",o)}))}))}))]),a={getField:function(t){return Zd(t,e,"field")},getLabel:function(t){return Zd(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:i,apis:a}},apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),xw=Object.freeze({__proto__:null,exhibit:function(e,t){return fa({attributes:hr([{key:t.tabAttr,value:"true"}])})}}),Sw=[tr("tabAttr","data-alloy-tabstop")],Aw=ls({fields:Sw,name:"tabstopping",active:xw}),Cw=tinymce.util.Tools.resolve("tinymce.html.Entities"),kw=function(e,t,n,o){var r=_w(e,t,n,o);return ww.sketch(r)},_w=function(e,t,n,o){return{dom:Ow(n),components:e.toArray().concat([t]),fieldBehaviours:ss(o)}},Ow=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Iw=function(e,t){return ww.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},Tw=Yi("form-component-change"),Ew=Yi("form-close"),Dw=Yi("form-cancel"),Rw=Yi("form-action"),Mw=Yi("form-submit"),Pw=Yi("form-block"),Bw=Yi("form-unblock"),Lw=Yi("form-tabchange"),Fw=Yi("form-resize"),Nw=function(e,t){var n,o,r,i=e.label.map((function(e){return Iw(e,t)})),a=function(e){return function(t,n){eu(n.event.target,"[data-collection-item-value]").each((function(o){e(t,n,o,Pt(o,"data-collection-item-value"))}))}},u=a((function(n,o,r,i){o.stop(),t.isDisabled()||yi(n,Rw,{name:e.name,value:i})})),s=[Oi(Mr(),a((function(e,t,n){vs(n)}))),Oi(zr(),u),Oi(Zr(),u),Oi(Pr(),a((function(e,t,n){Za(e.element,"."+Zg).each((function(e){Ia(e,Zg)})),_a(n,Zg)}))),Oi(Br(),a((function(e){Za(e.element,"."+Zg).each((function(e){Ia(e,Zg)}))}))),Ni(a((function(t,n,o,r){yi(t,Rw,{name:e.name,value:r})})))],c=function(e,t){return H(Wc(e.element,".tox-collection__item"),t)},l=ww.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:b},behaviours:ss([Mf.config({disabled:t.isDisabled,onDisabled:function(e){c(e,(function(e){_a(e,"tox-collection__item--state-disabled"),Mt(e,"aria-disabled",!0)}))},onEnabled:function(e){c(e,(function(e){Ia(e,"tox-collection__item--state-disabled"),Ft(e,"aria-disabled")}))}}),vb(),Wp.config({}),ld.config({store:{mode:"memory",initialValue:[]},onSetValue:function(n,o){!function(n,o){var r=H(o,(function(n){var o=Zh.translate(n.text),r=1===e.columns?'<div class="tox-collection__item-label">'+o+"</div>":"",i='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "},u=o.replace(/\_| \- |\-/g,(function(e){return a[e]}));return'<div class="tox-collection__item'+(t.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+Cw.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+i+r+"</div>"})),i="auto"!==e.columns&&e.columns>1?V(r,e.columns):[r],a=H(i,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}));zi(n.element,a.join(""))}(n,o),"auto"===e.columns&&Ev(n,5,"tox-collection__item").each((function(e){var t=e.numRows,o=e.numColumns;jp.setGridSize(n,t,o)})),bi(n,Fw)}}),Aw.config({}),jp.config((o=e.columns,r="normal",1===o?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===o?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===r?".tox-swatches__row":".tox-collection__group",cell:"color"===r?".tox-swatch":".tox-collection__item"}})),Gp("collection-events",s)]),eventOrder:(n={},n[Xr()]=["disabling","alloy.base.behaviour","collection-events"],n)});return kw(i,l,["tox-form__group--collection"],[])},jw=v([Qo("data"),tr("inputAttributes",{}),tr("inputStyles",{}),tr("tag","input"),tr("inputClasses",[]),gu("onSetValue"),tr("styles",{}),tr("eventOrder",{}),dd("inputBehaviours",[ld,Kp]),tr("selectOnFocus",!0)]),zw=function(e){return ss([Kp.config({onFocus:e.selectOnFocus?function(e){var t=e.element,n=Ra(t);t.dom.setSelectionRange(0,n.length)}:h})])},Uw=function(e){return _(_({},zw(e)),md(e.inputBehaviours,[ld.config({store:_(_({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return Ra(e.element)},setValue:function(e,t){Ra(e.element)!==t&&Ma(e.element,t)}}),onSetValue:e.onSetValue})]))},Vw=function(e){return{tag:e.tag,attributes:_({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},Hw=pf({name:"Input",configFields:jw(),factory:function(e,t){return{uid:e.uid,dom:Vw(e),components:[],behaviours:Uw(e),eventOrder:e.eventOrder}}}),Ww={},Gw={exports:Ww};!function(t,n,o,r){!function(e,r){"object"==typeof n&&void 0!==o?o.exports=r():"function"==typeof t&&t.amd?t(r):(e="undefined"!=typeof globalThis?globalThis:e||self).EphoxContactWrapper=r()}(this,(function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n={exports:{}};!function(e){!function(t){var n=setTimeout;function o(){}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void u(t.promise,e)}a(t.promise,o)}else(1===e._state?a:u)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void l((o=n,i=t,function(){o.apply(i,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(t){u(e,t)}var o,i}function u(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new this.constructor(o);return i(this,new c(e,t,n)),n},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);var o=t.length;function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){r(i,e)}),n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)r(i,t[i])}))},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){for(var o=0,r=e.length;o<r;o++)e[o].then(t,n)}))},r._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){n(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},e.exports?e.exports=r:t.Promise||(t.Promise=r)}(t)}(n);var o=n.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||o}}))}(void 0,Ww,Gw);var qw,Yw=Gw.exports.boltExport,Qw=function(e){var t=P.none(),n=[],o=function(e){r()?a(e):n.push(e)},r=function(){return t.isSome()},i=function(e){W(e,a)},a=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){r()||(t=P.some(e),i(n),n=[])})),{get:o,map:function(e){return Qw((function(t){o((function(n){t(e(n))}))}))},isReady:r}},$w={nu:Qw,pure:function(e){return Qw((function(t){t(e)}))}},Kw=function(e){setTimeout((function(){throw e}),0)},Xw=function(e){var t=function(t){e().then(t,Kw)};return{map:function(t){return Xw((function(){return e().then(t)}))},bind:function(t){return Xw((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return Xw((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return $w.nu(t)},toCached:function(){var t=null;return Xw((function(){return null===t&&(t=e()),t}))},toPromise:e,get:t}},Jw=function(e){return Xw((function(){return new Yw(e)}))},Zw=function(e){return Xw((function(){return Yw.resolve(e)}))},ex=["input","textarea"],tx=function(e){var t=Le(e);return j(ex,t)},nx=function(e,t){var n=t.getRoot(e).getOr(e.element);Ia(n,t.invalidClass),t.notify.each((function(t){tx(e.element)&&Mt(e.element,"aria-invalid",!1),t.getContainer(e).each((function(e){zi(e,t.validHtml)})),t.onValid(e)}))},ox=function(e,t,n,o){var r=t.getRoot(e).getOr(e.element);_a(r,t.invalidClass),t.notify.each((function(t){tx(e.element)&&Mt(e.element,"aria-invalid",!0),t.getContainer(e).each((function(e){zi(e,o)})),t.onInvalid(e,o)}))},rx=function(e,t,n){return t.validator.fold((function(){return Zw(Mn.value(!0))}),(function(t){return t.validate(e)}))},ix=function(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),rx(e,t).map((function(n){return e.getSystem().isConnected()?n.fold((function(n){return ox(e,t,0,n),Mn.error(n)}),(function(n){return nx(e,t),Mn.value(n)})):Mn.error("No longer in system")}))},ax=Object.freeze({__proto__:null,markValid:nx,markInvalid:ox,query:rx,run:ix,isInvalid:function(e,t){var n=t.getRoot(e).getOr(e.element);return Ta(n,t.invalidClass)}}),ux=Object.freeze({__proto__:null,events:function(e,t){return e.validator.map((function(t){return Ci([Oi(t.onEvent,(function(t){ix(t,e).get(b)}))].concat(t.validateOnLoad?[Bi((function(t){ix(t,e).get(h)}))]:[]))})).getOr({})}}),sx=[jo("invalidClass"),tr("getRoot",P.none),er("notify",[tr("aria","alert"),tr("getContainer",P.none),tr("validHtml",""),gu("onValid"),gu("onInvalid"),gu("onValidate")]),er("validator",[jo("validate"),tr("onEvent","input"),tr("validateOnLoad",!0)])],cx=ls({fields:sx,name:"invalidating",active:ux,apis:ax,extra:{validation:function(e){return function(t){var n=ld.getValue(t);return Zw(e(n))}}}}),lx=Object.freeze({__proto__:null,getCoupled:function(e,t,n,o){return n.getOrCreate(e,t,o)}}),dx=[zo("others",Eo(Mn.value,yo()))],fx=ls({fields:dx,name:"coupling",apis:lx,state:Object.freeze({__proto__:null,init:function(){var e={},t=v({});return la({readState:t,getOrCreate:function(t,n,o){var r=le(n.others);if(r)return ye(e,o).getOrThunk((function(){var r=ye(n.others,o).getOrDie("No information found for coupled component: "+o)(t),i=t.getSystem().build(r);return e[o]=i,i}));throw new Error("Cannot find coupled component: "+o+". Known coupled components: "+JSON.stringify(r,null,2))}})}})}),mx=v("sink"),px=v(Ud({name:mx(),overrides:v({dom:{tag:"div"},behaviours:ss([Sl.config({useFixed:C})]),events:Ci([Ri(Lr()),Ri(Tr()),Ri(zr())])})}));!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}(qw||(qw={}));var hx,gx,vx,bx=function(e,t){var n=e.getHotspot(t).getOr(t),o=e.getAnchorOverrides();return e.layouts.fold((function(){return{type:"hotspot",hotspot:n,overrides:o}}),(function(e){return{type:"hotspot",hotspot:n,overrides:o,layouts:e}}))},yx=function(e,t,n,o,r,i,a){return function(e,t,n,o,r,i,a){var u=function(e,t,n){return(0,e.fetch)(n).map(t)}(e,t,o),s=Ax(o,e);return u.map((function(e){return e.bind((function(e){return P.from(Eh.sketch(_(_({},i.menu()),{uid:ea(""),data:e,highlightImmediately:a===qw.HighlightFirst,onOpenMenu:function(e,t){var o=s().getOrDie();Sl.position(o,t,{anchor:n}),Wl.decloak(r)},onOpenSubmenu:function(e,t,n){var o=s().getOrDie();Sl.position(o,n,{anchor:{type:"submenu",item:t}}),Wl.decloak(r)},onRepositionMenu:function(e,t,o){var r=s().getOrDie();Sl.position(r,t,{anchor:n}),W(o,(function(e){Sl.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:function(){return Kp.focus(o),Wl.close(r),P.some(!0)}})))}))}))}(e,t,bx(e,n),n,o,r,a).map((function(e){return e.fold((function(){Wl.isOpen(o)&&Wl.close(o)}),(function(e){Wl.cloak(o),Wl.open(o,e),i(o)})),o}))},wx=function(e,t,n,o,r,i,a){return Wl.close(o),Zw(o)},xx=function(e,t,n,o,r,i){var a=fx.getCoupled(n,"sandbox");return(Wl.isOpen(a)?wx:yx)(e,t,n,a,o,r,i)},Sx=function(e,t,n){var o=yf.getCurrent(t).getOr(t),r=un(e.element);n?zt(o.element,"min-width",r+"px"):function(e,t){an.set(e,t)}(o.element,r)},Ax=function(e,t){return e.getSystem().getByUid(t.uid+"-"+mx()).map((function(e){return function(){return Mn.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return Mn.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},Cx=function(e){Wl.getState(e).each((function(e){Eh.repositionMenus(e)}))},kx=function(e,t,n){var o=tu(),r=Ax(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:hd(e.sandboxBehaviours,[ld.config({store:{mode:"memory",initialValue:t}}),Wl.config({onOpen:function(r,i){var a=bx(e,t);o.link(t.element),e.matchWidth&&Sx(a.hotspot,i,e.useMinWidth),e.onOpen(a,r,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,i)},onClose:function(e,r){o.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},isPartOf:function(e,n,o){return ou(n,o)||ou(t,o)},getAttachPoint:function(){return r().getOrDie()}}),yf.config({find:function(e){return Wl.getState(e).bind((function(e){return yf.getCurrent(e)}))}}),ps.config({channels:_(_({},$l({isExtraPart:A})),Xl({doReposition:Cx}))})])}},_x=function(e){var t=fx.getCoupled(e,"sandbox");Cx(t)},Ox=function(){return[tr("sandboxClasses",[]),pd("sandboxBehaviours",[yf,ps,Wl,ld])]},Ix=v([jo("dom"),jo("fetch"),gu("onOpen"),vu("onExecute"),tr("getHotspot",P.some),tr("getAnchorOverrides",v({})),dc(),dd("dropdownBehaviours",[sh,fx,jp,Kp]),jo("toggleClass"),tr("eventOrder",{}),Qo("lazySink"),tr("matchWidth",!1),tr("useMinWidth",!1),Qo("role")].concat(Ox())),Tx=v([zd({schema:[mu()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),px()]),Ex=hf({name:"Dropdown",configFields:Ix(),partFields:Tx(),factory:function(e,t,n,o){var r,i,a=function(e){Wl.getState(e).each((function(e){Eh.highlightPrimary(e)}))},u={expand:function(t){sh.isOn(t)||xx(e,b,t,o,h,qw.HighlightNone).get(h)},open:function(t){sh.isOn(t)||xx(e,b,t,o,h,qw.HighlightFirst).get(h)},isOpen:sh.isOn,close:function(t){sh.isOn(t)&&xx(e,b,t,o,h,qw.HighlightFirst).get(h)},repositionMenus:function(e){sh.isOn(e)&&_x(e)}},s=function(e,t){return wi(e),P.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.dropdownBehaviours,[sh.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),fx.config({others:{sandbox:function(t){return kx(e,t,{onOpen:function(){return sh.on(t)},onClose:function(){return sh.off(t)}})}}}),jp.config({mode:"special",onSpace:s,onEnter:s,onDown:function(e,t){if(Ex.isOpen(e)){var n=fx.getCoupled(e,"sandbox");a(n)}else Ex.open(e);return P.some(!0)},onEscape:function(e,t){return Ex.isOpen(e)?(Ex.close(e),P.some(!0)):P.none()}}),Kp.config({})]),events:lh(P.some((function(t){xx(e,b,t,o,a,qw.HighlightFirst).get(h)}))),eventOrder:_(_({},e.eventOrder),(r={},r[Xr()]=["disabling","toggling","alloy.base.behaviour"],r)),apis:u,domModification:{attributes:_(_({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:(i="type",ye(e.dom,"attributes").bind((function(e){return ye(e,i)}))).getOr("button")}:{})}}},apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),Dx=Object.freeze({__proto__:null,events:function(){return Ci([ki(Wr(),C)])},exhibit:function(){return fa({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),Rx=ls({fields:[],name:"unselecting",active:Dx}),Mx=Yi("color-input-change"),Px=Yi("color-swatch-change"),Bx=Yi("color-picker-cancel"),Lx=function(e,t,n){var o=ww.parts.field({factory:Hw,inputClasses:["tox-textfield"],onSetValue:function(e){return cx.run(e).get(h)},inputBehaviours:ss([Mf.config({disabled:t.providers.isDisabled}),vb(),Aw.config({}),cx.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return ht(e.element)},notify:{onValid:function(e){var t=ld.getValue(e);yi(e,Mx,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=ld.getValue(e);if(0===t.length)return Zw(Mn.value(!0));var n=Pe.fromTag("span");zt(n,"background-color",t);var o=Gt(n,"background-color").fold((function(){return Mn.error("blah")}),(function(e){return Mn.value(t)}));return Zw(o)}}})]),selectOnFocus:!1}),r=e.label.map((function(e){return Iw(e,t.providers)})),i=function(e,t){yi(e,Px,{value:t})},a=Jh(function(e,t){return Ex.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:ss([yb(t.providers.isDisabled),vb(),Rx.config({}),Aw.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return Jw((function(t){return e.fetch(t)})).map((function(o){return P.from(ew(Kn(Py(Yi("menu-value"),o,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,$g.CLOSE_ON_EXECUTE,A,t.providers),{movement:Ly(e.columns,e.presets)})))}))},parts:{menu:av(0,0,e.presets)}})}({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Hu,Vu,Yu]},onLtr:function(){return[Vu,Hu,Yu]}},components:[],fetch:Ty(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(e,t){a.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return bi(e,Bx)}),(function(t){i(e,t),Cy(t)}))}),"#ffffff"):i(e,"remove"===t?"":t)}))}},t));return ww.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,a.asSpec()]}]),fieldBehaviours:ss([Gp("form-field-events",[Oi(Mx,(function(t,n){a.getOpt(t).each((function(e){zt(e.element,"background-color",n.event.color)})),yi(t,Tw,{name:e.name})})),Oi(Px,(function(e,t){ww.getField(e).each((function(n){ld.setValue(n,t.event.value),yf.getCurrent(e).each(Kp.focus)}))})),Oi(Bx,(function(e,t){ww.getField(e).each((function(t){yf.getCurrent(e).each(Kp.focus)}))}))])])})},Fx=Ud({schema:[jo("dom")],name:"label"}),Nx=function(e){return Ud({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold((function(){return{}}),(function(e){return{events:Ci([Ii(kr(),(function(t,n,o){return e(t,o)}),[t]),Ii(Tr(),(function(t,n,o){return e(t,o)}),[t]),Ii(Er(),(function(t,n,o){o.mouseIsDown.get()&&e(t,o)}),[t])])}}))}})},jx=Nx("top-left"),zx=Nx("top"),Ux=Nx("top-right"),Vx=Nx("right"),Hx=Nx("bottom-right"),Wx=Nx("bottom"),Gx=Nx("bottom-left"),qx=Nx("left"),Yx=jd({name:"thumb",defaults:v({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:Ci([Ei(kr(),e,"spectrum"),Ei(_r(),e,"spectrum"),Ei(Or(),e,"spectrum"),Ei(Tr(),e,"spectrum"),Ei(Er(),e,"spectrum"),Ei(Rr(),e,"spectrum")])}}}),Qx=jd({schema:[Fo("mouseIsDown",(function(){return lr(!1)}))],name:"spectrum",overrides:function(e){var t=e.model.manager,n=function(n,o){return t.getValueFromEvent(o).map((function(o){return t.setValueFrom(n,e,o)}))};return{behaviours:ss([jp.config({mode:"special",onLeft:function(n){return t.onLeft(n,e)},onRight:function(n){return t.onRight(n,e)},onUp:function(n){return t.onUp(n,e)},onDown:function(n){return t.onDown(n,e)}}),Kp.config({})]),events:Ci([Oi(kr(),n),Oi(_r(),n),Oi(Tr(),n),Oi(Er(),(function(t,o){e.mouseIsDown.get()&&n(t,o)}))])}}}),$x=[Fx,qx,Vx,zx,Wx,jx,Ux,Gx,Hx,Yx,Qx],Kx=v("slider.change.value"),Xx=function(e){var t=e.event.raw;if(function(e){return-1!==e.type.indexOf("touch")}(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?P.some(n.touches[0]).map((function(e){return tn(e.clientX,e.clientY)})):P.none()}var o=t;return void 0!==o.clientX?P.some(o).map((function(e){return tn(e.clientX,e.clientY)})):P.none()},Jx=function(e){return e.model.minX},Zx=function(e){return e.model.minY},eS=function(e){return e.model.minX-1},tS=function(e){return e.model.minY-1},nS=function(e){return e.model.maxX},oS=function(e){return e.model.maxY},rS=function(e){return e.model.maxX+1},iS=function(e){return e.model.maxY+1},aS=function(e,t,n){return t(e)-n(e)},uS=function(e){return aS(e,nS,Jx)},sS=function(e){return aS(e,oS,Zx)},cS=function(e){return uS(e)/2},lS=function(e){return sS(e)/2},dS=function(e){return e.stepSize},fS=function(e){return e.snapToGrid},mS=function(e){return e.snapStart},pS=function(e){return e.rounded},hS=function(e,t){return void 0!==e[t+"-edge"]},gS=function(e){return hS(e,"left")},vS=function(e){return hS(e,"right")},bS=function(e){return hS(e,"top")},yS=function(e){return hS(e,"bottom")},wS=function(e){return e.model.value.get()},xS=function(e){return{x:e}},SS=function(e){return{y:e}},AS=function(e,t){return{x:e,y:t}},CS=function(e,t){yi(e,Kx(),{value:t})},kS=function(e,t,n,o){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o)},_S=function(e,t,n,o){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o)},OS=function(e,t,n){return Math.max(t,Math.min(n,e))},IS=function(e){var t=e.min,n=e.max,o=e.range,r=e.value,i=e.step,a=e.snap,u=e.snapStart,s=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,d=e.minBound,f=e.maxBound,m=e.screenRange,p=c?t-1:t,h=l?n+1:n;if(r<d)return p;if(r>f)return h;var g=function(e,t,n){return Math.min(n,Math.max(e,t))-t}(r,d,f),v=OS(g/m*o+t,p,h);return a&&v>=t&&v<=n?function(e,t,n,o,r){return r.fold((function(){var r=e-t,i=Math.round(r/o)*o;return OS(t+i,t-1,n+1)}),(function(t){var r=(e-t)%o,i=Math.round(r/o),a=Math.floor((e-t)/o),u=Math.floor((n-t)/o),s=t+Math.min(u,a+i)*o;return Math.max(t,s)}))}(v,t,n,i,u):s?Math.round(v):v},TS=function(e){var t=e.min,n=e.max,o=e.range,r=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,s=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return r<t?i?0:c:r>n?a?u:l:(r-t)/o*s},ES=function(e){return e.element.dom.getBoundingClientRect()},DS=function(e,t){return e[t]},RS=function(e){var t=ES(e);return DS(t,"left")},MS=function(e){var t=ES(e);return DS(t,"right")},PS=function(e){var t=ES(e);return DS(t,"top")},BS=function(e){var t=ES(e);return DS(t,"bottom")},LS=function(e){var t=ES(e);return DS(t,"width")},FS=function(e){var t=ES(e);return DS(t,"height")},NS=function(e,t,n){return(e+t)/2-n},jS=function(e,t){var n=ES(e),o=ES(t),r=DS(n,"left"),i=DS(n,"right"),a=DS(o,"left");return NS(r,i,a)},zS=function(e,t){var n=ES(e),o=ES(t),r=DS(n,"top"),i=DS(n,"bottom"),a=DS(o,"top");return NS(r,i,a)},US=function(e,t){yi(e,Kx(),{value:t})},VS=function(e){return{x:e}},HS=function(e,t,n){var o={min:Jx(t),max:nS(t),range:uS(t),value:n,step:dS(t),snap:fS(t),snapStart:mS(t),rounded:pS(t),hasMinEdge:gS(t),hasMaxEdge:vS(t),minBound:RS(e),maxBound:MS(e),screenRange:LS(e)};return IS(o)},WS=function(e){return function(t,n){return function(e,t,n){var o=(e>0?_S:kS)(wS(n).x,Jx(n),nS(n),dS(n));return US(t,VS(o)),P.some(o)}(e,t,n).map(C)}},GS=function(e,t,n,o,r,i){var a=function(e,t,n,o,r){var i=LS(e),a=o.bind((function(t){return P.some(jS(t,e))})).getOr(0),u=r.bind((function(t){return P.some(jS(t,e))})).getOr(i),s={min:Jx(t),max:nS(t),range:uS(t),value:n,hasMinEdge:gS(t),hasMaxEdge:vS(t),minBound:RS(e),minOffset:0,maxBound:MS(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return TS(s)}(t,i,n,o,r);return RS(t)-RS(e)+a},qS=WS(-1),YS=WS(1),QS=P.none,$S=P.none,KS={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some((function(e,t){CS(e,xS(rS(t)))})),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some((function(e,t){CS(e,xS(eS(t)))}))},XS=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=HS(e,t,n),r=VS(o);return US(e,r),o},setToMin:function(e,t){var n=Jx(t);US(e,VS(n))},setToMax:function(e,t){var n=nS(t);US(e,VS(n))},findValueOfOffset:HS,getValueFromEvent:function(e){return Xx(e).map((function(e){return e.left}))},findPositionOfValue:GS,setPositionFromValue:function(e,t,n,o){var r=wS(n),i=GS(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),a=un(t.element)/2;zt(t.element,"left",i-a+"px")},onLeft:qS,onRight:YS,onUp:QS,onDown:$S,edgeActions:KS}),JS=function(e,t){yi(e,Kx(),{value:t})},ZS=function(e){return{y:e}},eA=function(e,t,n){var o={min:Zx(t),max:oS(t),range:sS(t),value:n,step:dS(t),snap:fS(t),snapStart:mS(t),rounded:pS(t),hasMinEdge:bS(t),hasMaxEdge:yS(t),minBound:PS(e),maxBound:BS(e),screenRange:FS(e)};return IS(o)},tA=function(e){return function(t,n){return function(e,t,n){var o=(e>0?_S:kS)(wS(n).y,Zx(n),oS(n),dS(n));return JS(t,ZS(o)),P.some(o)}(e,t,n).map(C)}},nA=function(e,t,n,o,r,i){var a=function(e,t,n,o,r){var i=FS(e),a=o.bind((function(t){return P.some(zS(t,e))})).getOr(0),u=r.bind((function(t){return P.some(zS(t,e))})).getOr(i),s={min:Zx(t),max:oS(t),range:sS(t),value:n,hasMinEdge:bS(t),hasMaxEdge:yS(t),minBound:PS(e),minOffset:0,maxBound:BS(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return TS(s)}(t,i,n,o,r);return PS(t)-PS(e)+a},oA=P.none,rA=P.none,iA=tA(-1),aA=tA(1),uA={"top-left":P.none(),top:P.some((function(e,t){CS(e,SS(tS(t)))})),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some((function(e,t){CS(e,SS(iS(t)))})),"bottom-left":P.none(),left:P.none()},sA=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=eA(e,t,n),r=ZS(o);return JS(e,r),o},setToMin:function(e,t){var n=Zx(t);JS(e,ZS(n))},setToMax:function(e,t){var n=oS(t);JS(e,ZS(n))},findValueOfOffset:eA,getValueFromEvent:function(e){return Xx(e).map((function(e){return e.top}))},findPositionOfValue:nA,setPositionFromValue:function(e,t,n,o){var r=wS(n),i=nA(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),a=Jt(t.element)/2;zt(t.element,"top",i-a+"px")},onLeft:oA,onRight:rA,onUp:iA,onDown:aA,edgeActions:uA}),cA=function(e,t){yi(e,Kx(),{value:t})},lA=function(e,t){return{x:e,y:t}},dA=function(e,t){return function(n,o){return function(e,t,n,o){var r=e>0?_S:kS,i=t?wS(o).x:r(wS(o).x,Jx(o),nS(o),dS(o)),a=t?r(wS(o).y,Zx(o),oS(o),dS(o)):wS(o).y;return cA(n,lA(i,a)),P.some(i)}(e,t,n,o).map(C)}},fA=dA(-1,!1),mA=dA(1,!1),pA=dA(-1,!0),hA=dA(1,!0),gA={"top-left":P.some((function(e,t){CS(e,AS(eS(t),tS(t)))})),top:P.some((function(e,t){CS(e,AS(cS(t),tS(t)))})),"top-right":P.some((function(e,t){CS(e,AS(rS(t),tS(t)))})),right:P.some((function(e,t){CS(e,AS(rS(t),lS(t)))})),"bottom-right":P.some((function(e,t){CS(e,AS(rS(t),iS(t)))})),bottom:P.some((function(e,t){CS(e,AS(cS(t),iS(t)))})),"bottom-left":P.some((function(e,t){CS(e,AS(eS(t),iS(t)))})),left:P.some((function(e,t){CS(e,AS(eS(t),lS(t)))}))},vA=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var o=HS(e,t,n.left),r=eA(e,t,n.top),i=lA(o,r);return cA(e,i),i},setToMin:function(e,t){var n=Jx(t),o=Zx(t);cA(e,lA(n,o))},setToMax:function(e,t){var n=nS(t),o=oS(t);cA(e,lA(n,o))},getValueFromEvent:function(e){return Xx(e)},setPositionFromValue:function(e,t,n,o){var r=wS(n),i=GS(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),a=nA(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),u=un(t.element)/2,s=Jt(t.element)/2;zt(t.element,"left",i-u+"px"),zt(t.element,"top",a-s+"px")},onLeft:fA,onRight:mA,onUp:pA,onDown:hA,edgeActions:gA}),bA=hf({name:"Slider",configFields:[tr("stepSize",1),tr("onChange",h),tr("onChoose",h),tr("onInit",h),tr("onDragStart",h),tr("onDragEnd",h),tr("snapToGrid",!1),tr("rounded",!0),Qo("snapStart"),zo("model",Bo("mode",{x:[tr("minX",0),tr("maxX",100),Fo("value",(function(e){return lr(e.mode.minX)})),jo("getInitialValue"),wu("manager",XS)],y:[tr("minY",0),tr("maxY",100),Fo("value",(function(e){return lr(e.mode.minY)})),jo("getInitialValue"),wu("manager",sA)],xy:[tr("minX",0),tr("maxX",100),tr("minY",0),tr("maxY",100),Fo("value",(function(e){return lr({x:e.mode.minX,y:e.mode.minY})})),jo("getInitialValue"),wu("manager",vA)]})),dd("sliderBehaviours",[jp,ld]),Fo("mouseIsDown",(function(){return lr(!1)}))],partFields:$x,factory:function(e,t,n,o){var r,i=function(t){return ef(t,e,"thumb")},a=function(t){return ef(t,e,"spectrum")},u=function(t){return Zd(t,e,"left-edge")},s=function(t){return Zd(t,e,"right-edge")},c=function(t){return Zd(t,e,"top-edge")},l=function(t){return Zd(t,e,"bottom-edge")},d=e.model,f=d.manager,m=function(t,n){f.setPositionFromValue(t,n,e,{getLeftEdge:u,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},p=function(e,t){d.value.set(t);var n=i(e);m(e,n)},h=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&Zd(t,e,"thumb").each((function(n){var o=d.value.get();e.onChoose(t,n,o)}))},g=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},v=function(t,n){n.stop(),e.onDragEnd(t,i(t)),h(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.sliderBehaviours,[jp.config({mode:"special",focusIn:function(t){return Zd(t,e,"spectrum").map(jp.focusIn).map(C)}}),ld.config({store:{mode:"manual",getValue:function(e){return d.value.get()}}}),ps.config({channels:(r={},r[Yl()]={onReceive:h},r)})]),events:Ci([Oi(Kx(),(function(t,n){!function(t,n){p(t,n);var o=i(t);e.onChange(t,o,n),P.some(!0)}(t,n.event.value)})),Bi((function(t,n){var o=d.getInitialValue();d.value.set(o);var r=i(t);m(t,r);var u=a(t);e.onInit(t,r,u,d.value.get())})),Oi(kr(),g),Oi(Or(),v),Oi(Tr(),g),Oi(Rr(),v)]),apis:{resetToMin:function(t){f.setToMin(t,e)},resetToMax:function(t){f.setToMax(t,e)},setValue:p,refresh:m},domModification:{styles:{position:"relative"}}}},apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),yA=Yi("rgb-hex-update"),wA=Yi("slider-update"),xA=Yi("palette-update"),SA=[dd("formBehaviours",[ld])],AA=function(e){return"<alloy.field."+e+">"},CA=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.formBehaviours,[ld.config({store:{mode:"manual",getValue:function(t){var n=nf(t,e);return me(n,(function(e,t){return e().bind((function(e){var n,o,r=yf.getCurrent(e);return n=r,o=new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+Hi(e.element)),n.fold((function(){return Mn.error(o)}),Mn.value)})).map(ld.getValue)}))},setValue:function(t,n){fe(n,(function(n,o){Zd(t,e,o).each((function(e){yf.getCurrent(e).each((function(e){ld.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return Zd(t,e,n).bind(yf.getCurrent)}}}},kA={getField:sa((function(e,t,n){return e.getField(t,n)})),sketch:function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),Qd("form",AA(t),n)},record:v(e)}}(),n=e(t),o=t.record(),r=H(o,(function(e){return jd({name:e,pname:AA(e)})}));return lf("form",SA,r,CA,n)}},_A=Yi("valid-input"),OA=Yi("invalid-input"),IA=Yi("validating-input"),TA=function(e,t,n,o){var r=function(n,o){return cx.config({invalidClass:t("invalid"),notify:{onValidate:function(e){yi(e,IA,{type:n})},onValid:function(e){yi(e,_A,{type:n,value:ld.getValue(e)})},onInvalid:function(e){yi(e,OA,{type:n,value:ld.getValue(e)})}},validator:{validate:function(t){var n=ld.getValue(t),r=o(n)?Mn.value(!0):Mn.error(e("aria.input.invalid"));return Zw(r)},validateOnLoad:!1}})},i=function(n,o,i,a,u){var s=e("colorcustom.rgb.range"),c=[ww.parts.label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),ww.parts.field({data:u,factory:Hw,inputAttributes:_({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:ss([r(o,n),Aw.config({})]),onSetValue:function(e){cx.isInvalid(e)&&cx.run(e).get(h)}})],l="hex"!==o?[ww.parts["aria-descriptor"]({text:s})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:c.concat(l)}},a=function(e,t){var n=t.red,o=t.green,r=t.blue;ld.setValue(e,{red:n,green:o,blue:r})},u=Jh({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),s=function(e,t){u.getOpt(e).each((function(e){zt(e.element,"background-color","#"+t.value)}))};return pf({factory:function(){var r={red:lr(P.some(255)),green:lr(P.some(255)),blue:lr(P.some(255)),hex:lr(P.some("ffffff"))},c=function(e){return r[e].get()},l=function(e,t){r[e].set(t)},d=function(e){var t=e.red,n=e.green,o=e.blue;l("red",P.some(t)),l("green",P.some(n)),l("blue",P.some(o))},f=function(e,t){var n=t.event;"hex"!==n.type?l(n.type,P.none()):o(e)},m=function(e,t,n){var o=parseInt(n,10);l(t,P.some(o)),c("red").bind((function(e){return c("green").bind((function(t){return c("blue").map((function(n){return ry(e,t,n,1)}))}))})).each((function(t){var n=function(e,t){var n=Jb(t);return kA.getField(e,"hex").each((function(t){Kp.isFocused(t)||ld.setValue(e,{hex:n.value})})),n}(e,t);yi(e,yA,{hex:n}),s(e,n)}))},p=function(e,t){var o=t.event;!function(e){return"hex"===e.type}(o)?m(e,o.type,o.value):function(e,t){n(e);var o=Gb(t);l("hex",P.some(t));var r=uy(o);a(e,r),d(r),yi(e,yA,{hex:o}),s(e,o)}(e,o.value)},h=function(t){return{label:e("colorcustom.rgb."+t+".label"),description:e("colorcustom.rgb."+t+".description")}},g=h("red"),v=h("green"),b=h("blue"),y=h("hex");return Kn(kA.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",ww.sketch(i(iy,"red",g.label,g.description,255))),n.field("green",ww.sketch(i(iy,"green",v.label,v.description,255))),n.field("blue",ww.sketch(i(iy,"blue",b.label,b.description,255))),n.field("hex",ww.sketch(i(Qb,"hex",y.label,y.description,"ffffff"))),u.asSpec()],formBehaviours:ss([cx.config({invalidClass:t("form-invalid")}),Gp("rgb-form-events",[Oi(_A,p),Oi(OA,f),Oi(IA,f)])])}})),{apis:{updateHex:function(e,t){ld.setValue(e,{hex:t.value}),function(e,t){var n=uy(t);a(e,n),d(n)}(e,t),s(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},EA=function(e,t){var n=bA.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=bA.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),r=function(e,t){var n=e.width,o=e.height,r=e.getContext("2d");if(null!==r){r.fillStyle=t,r.fillRect(0,0,n,o);var i=r.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,n,o);var a=r.createLinearGradient(0,0,0,o);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=a,r.fillRect(0,0,n,o)}};return pf({factory:function(e){var i=v({x:0,y:0}),a=ss([yf.config({find:P.some}),Kp.config({})]);return bA.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,o],onChange:function(e,t,n){yi(e,xA,{value:n})},onInit:function(e,t,n,o){r(n.element.dom,ly(dy))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(e,t,n){!function(e,t){var n=e.components()[0].element.dom,o=my(t,100,100),i=ay(o);r(n,ly(i))}(t,n)},setThumb:function(e,t,n){!function(e,t){var n=py(uy(t));bA.setValue(e,{x:n.saturation,y:100-n.value})}(t,n)}},extraApis:{}})},DA=function(e,t){return pf({name:"ColourPicker",configFields:[jo("dom"),tr("onValidHex",h),tr("onInvalidHex",h)],factory:function(n){var o,r=TA(e,t,n.onValidHex,n.onInvalidHex),i=EA(0,t),a=function(e){return 100-e/360*100},u={paletteRgba:lr(dy),paletteHue:lr(0)},s=Jh(function(e,t){var n=bA.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=bA.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return bA.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:v({y:0})},components:[n,o],sliderBehaviours:ss([Kp.config({})]),onChange:function(e,t,n){yi(e,wA,{value:n})}})}(0,t)),c=Jh(i.sketch({})),l=Jh(r.sketch({})),d=function(e,t,n){c.getOpt(e).each((function(e){i.setHue(e,n)}))},f=function(e,t){l.getOpt(e).each((function(e){r.updateHex(e,t)}))},m=function(e,t,n){s.getOpt(e).each((function(e){bA.setValue(e,{y:a(n)})}))},p=function(e,t){c.getOpt(e).each((function(e){i.setThumb(e,t)}))},h=function(e,t,n,o){!function(e,t){var n=uy(e);u.paletteRgba.set(n),u.paletteHue.set(t)}(t,n),W(o,(function(o){o(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[c.asSpec(),s.asSpec(),l.asSpec()],behaviours:ss([Gp("colour-picker-events",[Oi(yA,(o=[d,m,p],function(e,t){var n=t.event.hex,r=function(e){return py(uy(e))}(n);h(e,n,r.hue,o)})),Oi(xA,function(){var e=[f];return function(t,n){var o=n.event.value,r=u.paletteHue.get(),i=my(r,o.x,100-o.y),a=hy(i);h(t,a,r,e)}}()),Oi(wA,function(){var e=[d,f];return function(t,n){var o=function(e){return(100-e)/100*360}(n.event.value.y),r=u.paletteRgba.get(),i=py(r),a=my(o,i.saturation,i.value),s=hy(a);h(t,s,o,e)}}())]),yf.config({find:function(e){return l.getOpt(e)}}),jp.config({mode:"acyclic"})])}}})},RA=function(){return yf.config({find:P.some})},MA=function(e){return yf.config({find:e.getOpt})},PA=function(e){return yf.config({find:function(t){return bt(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})},BA={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},LA=function(e){return function(e){return BA[e]}(e)},FA=tinymce.util.Tools.resolve("tinymce.Resource"),NA=tinymce.util.Tools.resolve("tinymce.util.Tools"),jA=po([tr("preprocess",b),tr("postprocess",b)]),zA=function(e,t,n){return ld.config(Kn({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))},UA=function(e,t,n){return zA(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))},VA=function(e,t){var n=Mo("RepresentingConfigs.memento processors",jA,t);return ld.config({store:{mode:"manual",getValue:function(t){var o=e.get(t),r=ld.getValue(o);return n.postprocess(r)},setValue:function(t,o){var r=n.preprocess(o),i=e.get(t);ld.setValue(i,r)}}})},HA=zA,WA=function(e){return UA(e,ji,zi)},GA=function(e){return ld.config({store:{mode:"memory",initialValue:e}})},qA=function(e,t){var n=function(e,t){t.stop()},o=function(e){return function(t,n){W(e,(function(e){e(t,n)}))}},r=function(e,t){if(!Mf.isDisabled(e)){var n=t.event.raw;a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event.raw.target;a(e,n.files)},a=function(n,o){ld.setValue(n,function(e,t){var n=NA.explode(t.getSetting("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"));return q(se(e),(function(e){return z(n,(function(t){return Te(e.name.toLowerCase(),"."+t.toLowerCase())}))}))}(o,t)),yi(n,Tw,{name:e.name})},u=Jh({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ss([Gp("input-file-events",[Ri(zr()),Ri(Zr())])])}),s=e.label.map((function(e){return Iw(e,t)})),c=ww.parts.field({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ss([GA([]),RA(),Mf.config({}),sh.config({toggleClass:"dragenter",toggleOnExecute:!1}),Gp("dropzone-events",[Oi("dragenter",o([n,sh.toggle])),Oi("dragleave",o([n,sh.toggle])),Oi("dragover",n),Oi("drop",o([n,r])),Oi(jr(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Xh.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){u.get(e).element.dom.click()},buttonBehaviours:ss([Aw.config({}),yb(t.isDisabled),vb()])})]}]}}}});return kw(s,c,["tox-form__group--stretched"],[])},YA=Yi("alloy-fake-before-tabstop"),QA=Yi("alloy-fake-after-tabstop"),$A=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:ss([Kp.config({ignore:!0}),Aw.config({})])}},KA=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[$A([YA]),e,$A([QA])],behaviours:ss([PA(1)])}},XA=function(e,t){yi(e,Lr(),{raw:{which:9,shiftKey:t}})},JA=function(e,t){var n=t.element;Ta(n,YA)?XA(e,!0):Ta(n,QA)&&XA(e,!1)},ZA=function(e){return nw(e,["."+YA,"."+QA].join(","),A)},eC=!(it().browser.isIE()||it().browser.isEdge()),tC=function(e,t){var n=eC&&e.sandboxed,o=_(_({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),r=function(e){var t=lr("");return{getValue:function(e){return t.get()},setValue:function(n,o){if(e)Mt(n.element,"srcdoc",o);else{Mt(n.element,"src","javascript:''");var r=n.element.dom.contentWindow.document;r.open(),r.write(o),r.close()}t.set(o)}}}(n),i=e.label.map((function(e){return Iw(e,t)})),a=ww.parts.field({factory:{sketch:function(e){return KA({uid:e.uid,dom:{tag:"iframe",attributes:o},behaviours:ss([Aw.config({}),Kp.config({}),HA(P.none(),r.getValue,r.setValue)])})}}});return kw(i,a,["tox-form__group--stretched"],[])},nC=function(e,t){return iC(document.createElement("canvas"),e,t)},oC=function(e){var t=nC(e.width,e.height);return rC(t).drawImage(e,0,0),t},rC=function(e){return e.getContext("2d")},iC=function(e,t,n){return e.width=t,e.height=n,e},aC=function(e){return e.naturalWidth||e.width},uC=function(e){return e.naturalHeight||e.height},sC=function(e){return new Yw((function(t,n){(function(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return P.none();for(var o=n[1],r=t[1],i=atob(r),a=i.length,u=Math.ceil(a/1024),s=new Array(u),c=0;c<u;++c){for(var l=1024*c,d=Math.min(l+1024,a),f=new Array(d-l),m=l,p=0;m<d;++p,++m)f[p]=i[m].charCodeAt(0);s[c]=new Uint8Array(f)}return P.some(new Blob(s,{type:o}))})(e).fold((function(){n("uri is not base64: "+e)}),t)}))},cC=function(e,t,n){return t=t||"image/png",f(HTMLCanvasElement.prototype.toBlob)?new Yw((function(o,r){e.toBlob((function(e){e?o(e):r()}),t,n)})):sC(e.toDataURL(t,n))},lC=function(e){return function(e){return new Yw((function(t,n){var o=URL.createObjectURL(e),r=new Image,i=function(){r.removeEventListener("load",a),r.removeEventListener("error",u)},a=function(){i(),t(r)},u=function(){i(),n("Unable to load data of type "+e.type+": "+o)};r.addEventListener("load",a),r.addEventListener("error",u),r.src=o,r.complete&&setTimeout(a,0)}))}(e).then((function(e){dC(e);var t=nC(aC(e),uC(e));return rC(t).drawImage(e,0,0),t}))},dC=function(e){URL.revokeObjectURL(e.src)},fC=function(e,t,n){var o=t.type,r=v(o),i=v(n),a=function(t,n){return e.then((function(e){return function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}(e,t,n)}))};return{getType:r,toBlob:function(){return Yw.resolve(t)},toDataURL:i,toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return cC(e,t,n)}))},toAdjustedDataURL:a,toAdjustedBase64:function(e,t){return a(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(oC)}}},mC=function(e){return function(e){return new Yw((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))}(e).then((function(t){return fC(lC(e),e,t)}))},pC=function(e,t){return cC(e,t).then((function(t){return fC(Yw.resolve(e),t,e.toDataURL())}))},hC=function(e,t,n){var o="string"==typeof e?parseFloat(e):e;return o>n?o=n:o<t&&(o=t),o},gC=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],vC=function(e,t){for(var n,o=[],r=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)o[a]=t[a+5*i];for(a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=e[a+5*u]*o[u];r[a+5*i]=n}}return r},bC=function(e,t){return e.toCanvas().then((function(n){return yC(n,e.getType(),t)}))},yC=function(e,t,n){var o=rC(e),r=function(e,t){for(var n,o,r,i,a=e.data,u=t[0],s=t[1],c=t[2],l=t[3],d=t[4],f=t[5],m=t[6],p=t[7],h=t[8],g=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],S=t[15],A=t[16],C=t[17],k=t[18],_=t[19],O=0;O<a.length;O+=4)n=a[O],o=a[O+1],r=a[O+2],i=a[O+3],a[O]=n*u+o*s+r*c+i*l+d,a[O+1]=n*f+o*m+r*p+i*h+g,a[O+2]=n*v+o*b+r*y+i*w+x,a[O+3]=n*S+o*A+r*C+i*k+_;return e}(o.getImageData(0,0,e.width,e.height),n);return o.putImageData(r,0,0),pC(e,t)},wC=function(e,t,n){var o=rC(e),r=o.getImageData(0,0,e.width,e.height),i=o.getImageData(0,0,e.width,e.height);return i=function(e,t,n){for(var o=function(e,t,n){return e>n?e=n:e<t&&(e=t),e},r=Math.round(Math.sqrt(n.length)),i=Math.floor(r/2),a=e.data,u=t.data,s=e.width,c=e.height,l=0;l<c;l++)for(var d=0;d<s;d++){for(var f=0,m=0,p=0,h=0;h<r;h++)for(var g=0;g<r;g++){var v=o(d+g-i,0,s-1),b=4*(o(l+h-i,0,c-1)*s+v),y=n[h*r+g];f+=a[b]*y,m+=a[b+1]*y,p+=a[b+2]*y}var w=4*(l*s+d);u[w]=o(f,0,255),u[w+1]=o(m,0,255),u[w+2]=o(p,0,255)}return t}(r,i,n),o.putImageData(i,0,0),pC(e,t)},xC=function(e){return function(t,n){return bC(t,e([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n))}},SC=function(e){return function(t){return bC(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),AC=xC((function(e,t){return t=hC(255*t,-255,255),vC(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])})),CC=xC((function(e,t){var n;return t=hC(t,-1,1),n=(t*=100)<0?127+t/100*127:127*(n=0===(n=t%1)?gC[t]:gC[Math.floor(t)]*(1-n)+gC[Math.floor(t)+1]*n)+127,vC(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),kC=function(e,t,n,o){return bC(e,function(e,t,n,o){return t=hC(t,0,2),n=hC(n,0,2),o=hC(o,0,2),vC(e,[t,0,0,0,0,0,n,0,0,0,0,0,o,0,0,0,0,0,1,0,0,0,0,0,1])}([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t,n,o))},_C=(hx=[0,-1,0,-1,5,-1,0,-1,0],function(e){return function(e,t){return e.toCanvas().then((function(n){return wC(n,e.getType(),t)}))}(e,hx)}),OC=(gx=function(e,t){return 255*Math.pow(e/255,1-t)},function(e,t){return e.toCanvas().then((function(n){return function(e,t,n){for(var o=rC(e),r=new Array(256),i=0;i<r.length;i++)r[i]=gx(i,n);var a=function(e,t){for(var n=e.data,o=0;o<n.length;o+=4)n[o]=t[n[o]],n[o+1]=t[n[o+1]],n[o+2]=t[n[o+2]];return e}(o.getImageData(0,0,e.width,e.height),r);return o.putImageData(a,0,0),pC(e,t)}(n,e.getType(),t)}))}),IC=function(e,t,n){var o=aC(e),r=uC(e),i=t/o,a=n/r,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var s=TC(e,i,a);return u?s.then((function(e){return IC(e,t,n)})):s},TC=function(e,t,n){return new Yw((function(o){var r=aC(e),i=uC(e),a=Math.floor(r*t),u=Math.floor(i*n),s=nC(a,u);rC(s).drawImage(e,0,0,r,i,0,0,a,u),o(s)}))},EC=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t),o=Math.round(e*n);return Math.ceil(o/n)},DC=function(e,t,n){var o=(n<0?360+n:n)*Math.PI/180,r=e.width,i=e.height,a=Math.sin(o),u=Math.cos(o),s=EC(Math.abs(r*u)+Math.abs(i*a)),c=EC(Math.abs(r*a)+Math.abs(i*u)),l=nC(s,c),d=rC(l);return d.translate(s/2,c/2),d.rotate(o),d.drawImage(e,-r/2,-i/2),pC(l,t)},RC=function(e,t,n){var o=nC(e.width,e.height),r=rC(o);return"v"===n?(r.scale(1,-1),r.drawImage(e,0,-o.height)):(r.scale(-1,1),r.drawImage(e,-o.width,0)),pC(o,t)},MC=function(e,t,n,o,r,i){var a=nC(r,i);return rC(a).drawImage(e,-n,-o),pC(a,t)},PC=function(e){return SC(e)},BC=function(e){return _C(e)},LC=function(e,t){return OC(e,t)},FC=function(e,t){return AC(e,t)},NC=function(e,t){return CC(e,t)},jC=function(e,t){return function(e,t){return e.toCanvas().then((function(n){return RC(n,e.getType(),t)}))}(e,t)},zC=function(e,t,n,o,r){return function(e,t,n,o,r){return e.toCanvas().then((function(i){return MC(i,e.getType(),t,n,o,r)}))}(e,t,n,o,r)},UC=function(e,t,n){return function(e,t,n){return e.toCanvas().then((function(o){return IC(o,t,n).then((function(t){return pC(t,e.getType())}))}))}(e,t,n)},VC=function(e,t){return function(e,t){return e.toCanvas().then((function(n){return DC(n,e.getType(),t)}))}(e,t)},HC=function(e,t,n){return ug(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t)},WC=function(e,t){return HC(e,t,[])},GC=function(e,t){return HC(e,t,[Wp.config({})])},qC=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:ss([Wp.config({})])}},YC=Yi("toolbar.button.execute"),QC=((vx={})[Xr()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],vx),$C=Yi("update-menu-text"),KC=Yi("update-menu-icon"),XC=function(e,t,n){var o=lr(h),r=e.text.map((function(e){return Jh(qC(e,t,n.providers))})),i=e.icon.map((function(e){return Jh(GC(e,n.providers.icons))})),a=function(e,t){var n=ld.getValue(e);return Kp.focus(n),yi(n,"keydown",{raw:t.event.raw}),Ex.close(n),P.some(!0)},u=e.role.fold((function(){return{}}),(function(e){return{role:e}})),s=e.tooltip.fold((function(){return{}}),(function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}})),c=ug("chevron-down",{tag:"div",classes:[t+"__select-chevron"]},n.providers.icons);return Jh(Ex.sketch(_(_(_({},e.uid?{uid:e.uid}:{}),u),{dom:{tag:"button",classes:[t,t+"--select"].concat(H(e.classes,(function(e){return t+"--"+e}))),attributes:_({},s)},components:Ob([i.map((function(e){return e.asSpec()})),r.map((function(e){return e.asSpec()})),P.some(c)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:ss(I(I([],e.dropdownBehaviours,!0),[yb((function(){return e.disabled||n.providers.isDisabled()})),vb(),Rx.config({}),Wp.config({}),Gp("dropdown-events",[Ab(e,o),Cb(e,o)]),Gp("menubutton-update-display-text",[Oi($C,(function(e,t){r.bind((function(t){return t.getOpt(e)})).each((function(e){Wp.set(e,[Ua(n.providers.translate(t.event.text))])}))})),Oi(KC,(function(e,t){i.bind((function(t){return t.getOpt(e)})).each((function(e){Wp.set(e,[GC(t.event.icon,n.providers.icons)])}))}))])],!1)),eventOrder:Kn(QC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:ss([jp.config({mode:"special",onLeft:a,onRight:a})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:av(0,e.columns,e.presets)},fetch:function(t){return Jw(w(e.fetch,t))}}))).asSpec()},JC=function(e){return"separator"===e.type},ZC={type:"separator"},ek=function(e,t){var n=Q(e,(function(e,n){return function(e){return r(e)}(n)?""===n?e:"|"===n?e.length>0&&!JC(e[e.length-1])?e.concat([ZC]):e:we(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]);return n.length>0&&JC(n[n.length-1])&&n.pop(),n},tk=function(e,t){return function(e){return we(e,"getSubmenuItems")}(e)?function(e,t){var n=e.getSubmenuItems(),o=nk(n,t);return{item:e,menus:Kn(o.menus,pr(e.value,o.items)),expansions:Kn(o.expansions,pr(e.value,e.value))}}(e,t):{item:e,menus:{},expansions:{}}},nk=function(e,t){var n=ek(r(e)?e.split(" "):e,t);return Y(n,(function(e,n){var o=function(e){if(JC(e))return e;var t=ye(e,"value").getOrThunk((function(){return Yi("generated-menu-item")}));return Kn({value:t},e)}(n),r=tk(o,t);return{menus:Kn(e.menus,r.menus),items:[r.item].concat(e.items),expansions:Kn(e.expansions,r.expansions)}}),{menus:{},expansions:{},items:[]})},ok=function(e,t,n,o){var r=Yi("primary-menu"),i=nk(e,n.shared.providers.menuItems());if(0===i.items.length)return P.none();var a=Zy(r,i.items,t,n,o),u=me(i.menus,(function(e,o){return Zy(o,e,t,n,!1)})),s=Kn(u,pr(r,a));return P.from(Eh.tieredData(r,s,i.expansions))},rk=function(e){return{isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){return Mf.set(e,t)},setActive:function(t){var n=e.element;t?(_a(n,"tox-tbtn--enabled"),Mt(n,"aria-pressed",!0)):(Ia(n,"tox-tbtn--enabled"),Ft(n,"aria-pressed"))},isActive:function(){return Ta(e.element,"tox-tbtn--enabled")}}},ik=function(e,t,n,o){return XC({text:e.text,icon:e.icon,tooltip:e.tooltip,role:o,fetch:function(t,o){e.fetch((function(e){o(ok(e,$g.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:rk,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Aw.config({})]},t,n.shared)},ak=function(e,t,n){var o=function(e){return function(o){var r=!o.isActive();o.setActive(r),e.storage.set(r),n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){vs(t.element),yi(t,Rw,{name:e.name,value:e.storage.get()})}))}))}},r=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(H(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return _(_({type:e.type,active:!1},t),{onAction:o(e),onSetup:r(e)})})))}},uk=function(e,t,n,o,r,i){void 0===n&&(n=[]);var a=t.fold((function(){return{}}),(function(e){return{action:e}})),u=_({buttonBehaviours:ss([yb((function(){return e.disabled||i.isDisabled()})),vb(),Aw.config({}),Gp("button press",[_i("click"),_i("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),s=Kn(u,{dom:o});return Kn(s,{components:r})},sk=function(e,t,n,o){void 0===o&&(o=[]);var r={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({})},i=e.icon.map((function(e){return WC(e,n.icons)})),a=Ob([i]);return uk(e,t,o,r,a,n)},ck=function(e,t,n,o){void 0===o&&(o=[]);var r=sk(e,P.some(t),n,o);return Xh.sketch(r)},lk=function(e,t,n,o,r){void 0===o&&(o=[]),void 0===r&&(r=[]);var i=n.translate(e.text),a=e.icon?e.icon.map((function(e){return WC(e,n.icons)})):P.none(),u=a.isSome()?Ob([a]):[],s=a.isSome()?{}:{innerHtml:i},c=I(I(I(I([],e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],!0),a.isSome()?["tox-button--icon"]:[],!0),e.borderless?["tox-button--naked"]:[],!0),r,!0),l=_(_({tag:"button",classes:c},s),{attributes:{title:i}});return uk(e,t,o,l,u,n)},dk=function(e,t,n,o,r){void 0===o&&(o=[]),void 0===r&&(r=[]);var i=lk(e,P.some(t),n,o,r);return Xh.sketch(i)},fk=function(e,t){return function(n){"custom"===t?yi(n,Rw,{name:e,value:{}}):"submit"===t?bi(n,Mw):"cancel"===t?bi(n,Dw):console.error("Unknown button type: ",t)}},mk=function(e,t,n){if(function(e,t){return"menu"===t}(0,t)){var o=e,r=_(_({},e),{onSetup:function(t){return t.setDisabled(e.disabled),h},fetch:ak(o.items,(function(){return i}),n)}),i=Jh(ik(r,"tox-tbtn",n,P.none()));return i.asSpec()}if(function(e,t){return"custom"===t||"cancel"===t||"submit"===t}(0,t)){var a=fk(e.name,t),u=_(_({},e),{borderless:!1});return dk(u,a,n.shared.providers,[])}console.error("Unknown footer button type: ",t)},pk=function(e,t){var n,o,r=fk(e.name,"custom");return n=P.none(),o=ww.parts.field(_({factory:Xh},lk(e,P.some(r),t,[GA(""),RA()]))),kw(n,o,[],[])},hk=v([tr("field1Name","field1"),tr("field2Name","field2"),bu("onLockedChange"),pu(["lockClass"]),tr("locked",!1),pd("coupledFieldBehaviours",[yf,ld])]),gk=function(e,t){return jd({factory:ww,name:e,overrides:function(e){return{fieldBehaviours:ss([Gp("coupled-input-behaviour",[Oi(Nr(),(function(n){(function(e,t,n){return Zd(e,t,n).bind(yf.getCurrent)})(n,e,t).each((function(t){Zd(n,e,"lock").each((function(o){sh.isOn(o)&&e.onLockedChange(n,t,o)}))}))}))])])}}})},vk=v([gk("field1","field2"),gk("field2","field1"),jd({factory:Xh,schema:[jo("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:ss([sh.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),bk=hf({name:"FormCoupledInputs",configFields:hk(),partFields:vk(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:hd(e.coupledFieldBehaviours,[yf.config({find:P.some}),ld.config({store:{mode:"manual",getValue:function(t){var n,o=rf(t,e,["field1","field2"]);return(n={})[e.field1Name]=ld.getValue(o.field1()),n[e.field2Name]=ld.getValue(o.field2()),n},setValue:function(t,n){var o=rf(t,e,["field1","field2"]);xe(n,e.field1Name)&&ld.setValue(o.field1(),n[e.field1Name]),xe(n,e.field2Name)&&ld.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Zd(t,e,"field1")},getField2:function(t){return Zd(t,e,"field2")},getLock:function(t){return Zd(t,e,"lock")}}}},apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),yk=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){var n=parseFloat(t[1]),o=t[2];return Mn.value({value:n,unit:o})}return Mn.error(e)},wk=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=function(e){return we(n,e)};return e.unit===t?P.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?P.some(e.value):P.some(e.value/n[e.unit]*n[t]):P.none()},xk=function(e){return P.none()},Sk=function(e,t){var n=yk(e).toOptional(),o=yk(t).toOptional();return Ce(n,o,(function(e,t){return wk(e,t.unit).map((function(e){return t.value/e})).map((function(e){return function(e,t){return function(n){return wk(n,t).map((function(n){return{value:n*e,unit:t}}))}}(e,t.unit)})).getOr(xk)})).getOr(xk)},Ak=function(e,t){var n=xk,o=Yi("ratio-event"),r=function(e){return ug(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons)},i=bk.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:ss([Mf.config({disabled:function(){return e.disabled||t.isDisabled()}}),vb(),Aw.config({})])}),a=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},u=function(n){return ww.parts.field({factory:Hw,inputClasses:["tox-textfield"],inputBehaviours:ss([Mf.config({disabled:function(){return e.disabled||t.isDisabled()}}),vb(),Aw.config({}),Gp("size-input-events",[Oi(Pr(),(function(e,t){yi(e,o,{isField1:n})})),Oi(jr(),(function(t,n){yi(t,Tw,{name:e.name})}))])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},c=bk.parts.field1(a([ww.parts.label(s("Width")),u(!0)])),l=bk.parts.field2(a([ww.parts.label(s("Height")),u(!1)]));return bk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,l,a([s("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,o){yk(ld.getValue(e)).each((function(e){n(e).each((function(e){ld.setValue(t,function(e){var t,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=e.value.toFixed((t=e.unit)in n?n[t]:1);return-1!==o.indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+e.unit}(e))}))}))},coupledFieldBehaviours:ss([Mf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){bk.getField1(e).bind(ww.getField).each(Mf.disable),bk.getField2(e).bind(ww.getField).each(Mf.disable),bk.getLock(e).each(Mf.disable)},onEnabled:function(e){bk.getField1(e).bind(ww.getField).each(Mf.enable),bk.getField2(e).bind(ww.getField).each(Mf.enable),bk.getLock(e).each(Mf.enable)}}),vb(),Gp("size-input-events2",[Oi(o,(function(e,t){var o=t.event.isField1,r=o?bk.getField1(e):bk.getField2(e),i=o?bk.getField2(e):bk.getField1(e),a=r.map(ld.getValue).getOr(""),u=i.map(ld.getValue).getOr("");n=Sk(a,u)}))])])})},Ck={undo:v(Yi("undo")),redo:v(Yi("redo")),zoom:v(Yi("zoom")),back:v(Yi("back")),apply:v(Yi("apply")),swap:v(Yi("swap")),transform:v(Yi("transform")),tempTransform:v(Yi("temp-transform")),transformApply:v(Yi("transform-apply"))},kk=v("save-state"),_k=v("disable"),Ok=v("enable"),Ik={formActionEvent:Rw,saveState:kk,disable:_k,enable:Ok},Tk=function(e,t){var n=function(e,n,o,r){return Jh(dk({name:e,text:e,disabled:o,primary:r,icon:P.none(),borderless:!1},n,t))},o=function(e,n,o,r){return Jh(ck({name:e,icon:P.some(e),tooltip:P.some(n),disabled:r,primary:!1,borderless:!1},o,t))},r=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(Mf)&&Mf.disable(n)}))},i=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(Mf)&&Mf.enable(n)}))},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},u=h,s=function(e,t,n){yi(e,t,n)},c=function(e){return bi(e,Ik.disable())},l=function(e){return bi(e,Ik.enable())},d=function(e,t){c(e),s(e,Ck.transform(),{transform:t}),l(e)},f=function(e){return function(){ee.getOpt(e).each((function(e){Wp.set(e,[J])}))}},m=function(e,t){c(e),s(e,Ck.transformApply(),{transform:t,swap:f(e)}),l(e)},p=function(){return n("Back",(function(e){return s(e,Ck.back(),{swap:f(e)})}),!1,!1)},g=function(){return Jh({dom:{tag:"div",classes:["tox-spacer"]},behaviours:ss([Mf.config({})])})},b=function(){return n("Apply",(function(e){return s(e,Ck.apply(),{swap:f(e)})}),!0,!0)},y=[p(),g(),n("Apply",(function(t){m(t,(function(t){var n=e.getRect();return zC(t,n.x,n.y,n.w,n.h)})),e.hideCrop()}),!1,!0)],w=gw.sketch({dom:a,components:y.map((function(e){return e.asSpec()})),containerBehaviours:ss([Gp("image-tools-crop-buttons-events",[Oi(Ik.disable(),(function(e,t){r(y,e)})),Oi(Ik.enable(),(function(e,t){i(y,e)}))])])}),x=Jh(Ak({name:"size",label:P.none(),constrain:!0,disabled:!1},t)),S=[p(),g(),x,g(),n("Apply",(function(e){x.getOpt(e).each((function(t){var n=ld.getValue(t),o=function(e,t){return function(n){return UC(n,e,t)}}(parseInt(n.width,10),parseInt(n.height,10));m(e,o)}))}),!1,!0)],A=gw.sketch({dom:a,components:S.map((function(e){return e.asSpec()})),containerBehaviours:ss([Gp("image-tools-resize-buttons-events",[Oi(Ik.disable(),(function(e,t){r(S,e)})),Oi(Ik.enable(),(function(e,t){i(S,e)}))])])}),C=function(e,t){return function(n){return e(n,t)}},k=C(jC,"h"),_=C(jC,"v"),O=C(VC,-90),I=C(VC,90),T=function(e,t){!function(e,t){c(e),s(e,Ck.tempTransform(),{transform:t}),l(e)}(e,t)},E=[p(),g(),o("flip-horizontally","Flip horizontally",(function(e){T(e,k)}),!1),o("flip-vertically","Flip vertically",(function(e){T(e,_)}),!1),o("rotate-left","Rotate counterclockwise",(function(e){T(e,O)}),!1),o("rotate-right","Rotate clockwise",(function(e){T(e,I)}),!1),g(),b()],D=gw.sketch({dom:a,components:E.map((function(e){return e.asSpec()})),containerBehaviours:ss([Gp("image-tools-fliprotate-buttons-events",[Oi(Ik.disable(),(function(e,t){r(E,e)})),Oi(Ik.enable(),(function(e,t){i(E,e)}))])])}),R=function(e,n,o,r,i){var a=bA.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),u=bA.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=bA.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Jh(bA.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o,maxX:i,getInitialValue:v({x:r})},components:[a,u,s],sliderBehaviours:ss([Kp.config({})]),onChoose:n}))},M=function(e,t,n,o,r){return R(e,(function(e,n,o){var r=C(t,o.x/100);d(e,r)}),n,o,r)},B=function(e,t,n,o,u){var s=function(e,t,n,o,r){return[p(),M(e,t,n,o,r),b()]}(e,t,n,o,u);return gw.sketch({dom:a,components:s.map((function(e){return e.asSpec()})),containerBehaviours:ss([Gp("image-tools-filter-panel-buttons-events",[Oi(Ik.disable(),(function(e,t){r(s,e)})),Oi(Ik.enable(),(function(e,t){i(s,e)}))])])})},L=[p(),g(),b()],F=gw.sketch({dom:a,components:L.map((function(e){return e.asSpec()}))}),N=B("Brightness",FC,-100,0,100),j=B("Contrast",NC,-100,0,100),z=B("Gamma",LC,-100,0,100),U=function(e,t,n){return function(o){return function(e,t,n,o){return kC(e,t,n,o)}(o,e,t,n)}},V=function(e){return R(e,(function(e,t,n){var o=H.getOpt(e),r=G.getOpt(e),i=W.getOpt(e);o.each((function(t){r.each((function(n){i.each((function(o){var r=ld.getValue(t).x/100,i=ld.getValue(o).x/100,a=ld.getValue(n).x/100,u=U(r,i,a);d(e,u)}))}))}))}),0,100,200)},H=V("R"),W=V("G"),G=V("B"),q=[p(),H,W,G,b()],Y=gw.sketch({dom:a,components:q.map((function(e){return e.asSpec()}))}),Q=function(e,t,n){return function(o){s(o,Ck.swap(),{transform:t,swap:function(){ee.getOpt(o).each((function(t){Wp.set(t,[e]),n(t)}))}})}},$=P.some(BC),K=P.some(PC),X=[o("crop","Crop",Q(w,P.none(),(function(t){e.showCrop()})),!1),o("resize","Resize",Q(A,P.none(),(function(t){x.getOpt(t).each((function(t){var n=e.getMeasurements(),o=n.width,r=n.height;ld.setValue(t,{width:o,height:r})}))})),!1),o("orientation","Orientation",Q(D,P.none(),u),!1),o("brightness","Brightness",Q(N,P.none(),u),!1),o("sharpen","Sharpen",Q(F,$,u),!1),o("contrast","Contrast",Q(j,P.none(),u),!1),o("color-levels","Color levels",Q(Y,P.none(),u),!1),o("gamma","Gamma",Q(z,P.none(),u),!1),o("invert","Invert",Q(F,K,u),!1)],J=gw.sketch({dom:a,components:X.map((function(e){return e.asSpec()}))}),Z=gw.sketch({dom:{tag:"div"},components:[J],containerBehaviours:ss([Wp.config({})])}),ee=Jh(Z);return{memContainer:ee,getApplyButton:function(e){return ee.getOpt(e).map((function(e){var t=e.components()[0];return t.components()[t.components().length-1]}))}}},Ek=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Dk=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Rk=tinymce.util.Tools.resolve("tinymce.util.Observable"),Mk=tinymce.util.Tools.resolve("tinymce.util.VK"),Pk=function(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]};function Bk(e,t){var n,o,r,i,a=t.document||document,u=a.getElementById(t.handle||e),s=function(e){if(Pk(e),e.button!==o)return c(e);e.deltaX=e.screenX-r,e.deltaY=e.screenY-i,e.preventDefault(),t.drag(e)},c=function(e){Pk(e),Dk(a).off("mousemove touchmove",s).off("mouseup touchend",c),n.remove(),t.stop&&t.stop(e)};return Dk(u).on("mousedown touchstart",(function(e){var l,d=function(e){var t=Math.max,n=e.documentElement,o=e.body,r=t(n.scrollWidth,o.scrollWidth),i=t(n.clientWidth,o.clientWidth),a=t(n.offsetWidth,o.offsetWidth),u=t(n.scrollHeight,o.scrollHeight),s=t(n.clientHeight,o.clientHeight);return{width:r<a?i:r,height:u<t(n.offsetHeight,o.offsetHeight)?s:u}}(a);Pk(e),e.preventDefault(),o=e.button;var f=u;r=e.screenX,i=e.screenY,l=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,n=Dk("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:l}).appendTo(a.body),Dk(a).on("mousemove touchmove",s).on("mouseup touchend",c),t.start(e)})),{destroy:function(){Dk(u).off()}}}var Lk=0,Fk=function(e,t,n,o,r){var i,a="tox-crid-"+Lk++,u=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],s=["top","right","bottom","left"],c=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},l=function(t,o,r,i){var a,u,s,l,d;a=o.x,u=o.y,s=o.w,l=o.h,a+=r*t.deltaX,u+=i*t.deltaY,(s+=r*t.deltaW)<20&&(s=20),(l+=i*t.deltaH)<20&&(l=20),d=e=Ek.clamp({x:a,y:u,w:s,h:l},n,"move"===t.name),d=c(n,d),p.fire("updateRect",{rect:d}),m(d)},d=function(e){var n=function(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),Dk("#"+a+"-"+e,o).css({left:t.x,top:t.y,width:t.w,height:t.h})};NA.each(u,(function(t){Dk("#"+a+"-"+t.name,o).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)},f=function(t){d(e=t)},m=function(e){var t,o;f((t=n,{x:(o=e).x+t.x,y:o.y+t.y,w:o.w,h:o.h}))};Dk('<div id="'+a+'" class="tox-croprect-container" role="grid" aria-dropeffect="execute">').appendTo(o),NA.each(s,(function(e){Dk("#"+a,o).append('<div id="'+a+"-"+e+'"class="tox-croprect-block" style="display: none" data-mce-bogus="all">')})),NA.each(u,(function(e){Dk("#"+a,o).append('<div id="'+a+"-"+e.name+'" class="tox-croprect-handle tox-croprect-handle-'+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')})),i=NA.map(u,(function(t){var n;return Bk(a,{document:o.ownerDocument,handle:a+"-"+t.name,start:function(){n=e},drag:function(e){l(t,n,e.deltaX,e.deltaY)}})})),d(e),Dk(o).on("focusin focusout",(function(e){Dk(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")})),Dk(o).on("keydown",(function(t){var n;NA.each(u,(function(e){if(t.target.id===a+"-"+e.name)return n=e,!1}));var o=function(e,t,o,r,i){e.stopPropagation(),e.preventDefault(),l(n,o,r,i)};switch(t.keyCode){case Mk.LEFT:o(t,0,e,-10,0);break;case Mk.RIGHT:o(t,0,e,10,0);break;case Mk.UP:o(t,0,e,0,-10);break;case Mk.DOWN:o(t,0,e,0,10);break;case Mk.ENTER:case Mk.SPACEBAR:t.preventDefault(),r()}}));var p=NA.extend({toggleVisibility:function(e){var t=NA.map(u,(function(e){return"#"+a+"-"+e.name})).concat(NA.map(s,(function(e){return"#"+a+"-"+e}))).join(",");e?Dk(t,o).show():Dk(t,o).hide()},setClampRect:function(t){n=t,d(e)},setRect:f,getInnerRect:function(){return c(n,e)},setInnerRect:m,setViewPortRect:function(n){t=n,d(e)},destroy:function(){NA.each(i,(function(e){e.destroy()})),i=[]}},Rk);return p},Nk=function(e){var t=Jh({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=lr(1),o=js(),r=lr({x:0,y:0,w:1,h:1}),i=lr({x:0,y:0,w:1,h:1}),a=function(e,i){c.getOpt(e).each((function(e){var a=n.get(),u=un(e.element),s=Jt(e.element),c=i.dom.naturalWidth*a,l=i.dom.naturalHeight*a,d=Math.max(0,u/2-c/2),f=Math.max(0,s/2-l/2),m={left:d.toString()+"px",top:f.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};Ut(i,m),t.getOpt(e).each((function(e){Ut(e.element,m)})),o.on((function(e){var t=r.get();e.setRect({x:t.x*a+d,y:t.y*a+f,w:t.w*a,h:t.h*a}),e.setClampRect({x:d,y:f,w:c,h:l}),e.setViewPortRect({x:0,y:0,w:u,h:s})}))}))},u=function(e,t){var o,u=Pe.fromTag("img");return Mt(u,"src",t),(o=u.dom,new Ag((function(e){var t=function(){o.removeEventListener("load",t),e(o)};o.complete?e(o):o.addEventListener("load",t)}))).then((function(){e.getSystem().isConnected()&&c.getOpt(e).map((function(e){var t=Va({element:u});Wp.replaceAt(e,1,P.some(t));var o=i.get(),s={x:0,y:0,w:u.dom.naturalWidth,h:u.dom.naturalHeight};i.set(s);var l=Ek.inflate(s,-20,-20);r.set(l),o.w===s.w&&o.h===s.h||function(e,t){c.getOpt(e).each((function(e){var o=un(e.element),r=Jt(e.element),i=t.dom.naturalWidth,a=t.dom.naturalHeight,u=Math.min(o/i,r/a);u>=1?n.set(1):n.set(u)}))}(e,u),a(e,u)}))}))},s=gw.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:ss([Gp("image-panel-crop-events",[Bi((function(e){c.getOpt(e).each((function(e){var t=e.element.dom,i=Fk({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,h);i.toggleVisibility(!1),i.on("updateRect",(function(e){var t=e.rect,o=n.get(),i={x:Math.round(t.x/o),y:Math.round(t.y/o),w:Math.round(t.w/o),h:Math.round(t.h/o)};r.set(i)})),o.set(i)}))}))])])}],containerBehaviours:ss([Wp.config({}),Gp("image-panel-events",[Bi((function(t){u(t,e)}))])])}),c=Jh(s);return{memContainer:c,updateSrc:u,zoom:function(e,t){var o=n.get(),r=t>0?Math.min(2,o+.1):Math.max(.1,o-.1);n.set(r),c.getOpt(e).each((function(e){var t=e.components()[1].element;a(e,t)}))},showCrop:function(){o.on((function(e){e.toggleVisibility(!0)}))},hideCrop:function(){o.on((function(e){e.toggleVisibility(!1)}))},getRect:function(){return r.get()},getMeasurements:function(){var e=i.get();return{width:e.w,height:e.h}}}},jk=function(e,t,n,o,r){return ck({name:e,icon:P.some(t),disabled:n,tooltip:P.some(e),primary:!1,borderless:!1},o,r)},zk=function(e,t){t?Mf.enable(e):Mf.disable(e)};var Uk,Vk=function(e){var t,n,o,r,i=lr(e),a=js(),u=(n=-1,{data:t=[],add:function(e){var o=t.splice(++n);return t.push(e),{state:e,removed:o}},undo:function(){if(o())return t[--n]},redo:function(){if(r())return t[++n]},canUndo:o=function(){return n>0},canRedo:r=function(){return-1!==n&&n<t.length-1}});u.add(e);var s=function(e){i.set(e)},c=function(e){return{blob:e,url:URL.createObjectURL(e)}},l=function(e){URL.revokeObjectURL(e.url)},d=function(){a.on(l),a.clear()},f=function(e){var t=c(e);s(t);var n,o=u.add(t).removed;return n=o,NA.each(n,l),t.url};return{getBlobState:function(){return i.get()},setBlobState:s,addBlobState:f,getTempState:function(){return a.get().getOrThunk(i.get)},updateTempState:function(e){var t=c(e);return d(),a.set(t),t.url},addTempState:function(e){var t=c(e);return a.set(t),t.url},applyTempState:function(e){return a.get().fold(h,(function(t){f(t.blob),e()}))},destroyTempState:d,undo:function(){var e=u.undo();return s(e),e.url},redo:function(){var e=u.redo();return s(e),e.url},getHistoryStates:function(){return{undoEnabled:u.canUndo(),redoEnabled:u.canRedo()}}}},Hk=function(e,t){var n=Vk(e.currentState),o=function(e){var t=n.getHistoryStates();f.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),yi(e,Ik.formActionEvent,{name:Ik.saveState(),value:t.undoEnabled})},r=function(e){return e.toBlob()},i=function(e){yi(e,Ik.formActionEvent,{name:Ik.disable(),value:{}})},a=function(e){m.getApplyButton(e).each((function(e){Mf.enable(e)})),yi(e,Ik.formActionEvent,{name:Ik.enable(),value:{}})},u=function(e,t){return i(e),d.updateSrc(e,t)},s=function(e,t,n,s,c){i(e),function(e){return mC(e)}(t).then(n).then(r).then(s).then((function(t){return u(e,t)})).then((function(){o(e),c(),a(e)})).catch((function(t){console.log(t),e.getSystem().isConnected()&&a(e)}))},c=function(e,t,o){var r=n.getBlobState().blob;s(e,r,t,(function(e){return n.updateTempState(e)}),o)},l=function(e){var t=n.getBlobState().url;return n.destroyTempState(),o(e),t},d=Nk(e.currentState.url),f=function(e){var t=Jh(jk("Undo","undo",!0,(function(e){yi(e,Ck.undo(),{direction:1})}),e)),n=Jh(jk("Redo","redo",!0,(function(e){yi(e,Ck.redo(),{direction:1})}),e));return{container:gw.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[t.asSpec(),n.asSpec(),jk("Zoom in","zoom-in",!1,(function(e){yi(e,Ck.zoom(),{direction:1})}),e),jk("Zoom out","zoom-out",!1,(function(e){yi(e,Ck.zoom(),{direction:-1})}),e)]}),updateButtonUndoStates:function(e,o,r){t.getOpt(e).each((function(e){zk(e,o)})),n.getOpt(e).each((function(e){zk(e,r)}))}}}(t),m=Tk(d,t);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[m.memContainer.asSpec(),d.memContainer.asSpec(),f.container],behaviours:ss([ld.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),Gp("image-tools-events",[Oi(Ck.undo(),(function(e,t){var r=n.undo();u(e,r).then((function(t){a(e),o(e)}))})),Oi(Ck.redo(),(function(e,t){var r=n.redo();u(e,r).then((function(t){a(e),o(e)}))})),Oi(Ck.zoom(),(function(e,t){var n=t.event.direction;d.zoom(e,n)})),Oi(Ck.back(),(function(e,t){!function(e){var t=l(e);u(e,t).then((function(t){a(e)}))}(e),(0,t.event.swap)(),d.hideCrop()})),Oi(Ck.apply(),(function(e,t){n.applyTempState((function(){l(e),(0,t.event.swap)()}))})),Oi(Ck.transform(),(function(e,t){return c(e,t.event.transform,h)})),Oi(Ck.tempTransform(),(function(e,t){return function(e,t){var o=n.getTempState().blob;s(e,o,t,(function(e){return n.addTempState(e)}),h)}(e,t.event.transform)})),Oi(Ck.transformApply(),(function(e,t){return function(e,t,o){var r=n.getBlobState().blob;s(e,r,t,(function(t){var o=n.addBlobState(t);return l(e),o}),o)}(e,t.event.transform,t.event.swap)})),Oi(Ck.swap(),(function(e,t){!function(e){f.updateButtonUndoStates(e,!1,!1)}(e);var n=t.event.transform,o=t.event.swap;n.fold((function(){o()}),(function(t){c(e,t,o)}))}))]),RA()])}},Wk=function(e){return!we(e,"items")},Gk=function(e,t,n,o){return H(n,(function(n){return Wk(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===o,onAction:function(){ld.setValue(e,n.value),yi(e,Tw,{name:t}),Kp.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return Gk(e,t,n.items,o)}}}))},qk=function(e,t){return ce(e,(function(e){return Wk(e)?ke(e.value===t,e):qk(e.items,t)}))},Yk=pf({name:"HtmlSelect",configFields:[jo("options"),dd("selectBehaviours",[Kp,ld]),tr("selectClasses",[]),tr("selectAttributes",{}),Qo("data")],factory:function(e,t){var n=H(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),o=e.data.map((function(e){return pr("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:md(e.selectBehaviours,[Kp.config({}),ld.config({store:_({mode:"manual",getValue:function(e){return Ra(e.element)},setValue:function(t,n){$(e.options,(function(e){return e.value===n})).isSome()&&Ma(t.element,n)}},o)})])}}}),Qk=function(e,t){var n=e.label.map((function(e){return Iw(e,t)})),o=[Mf.config({disabled:function(){return e.disabled||t.isDisabled()}}),vb(),jp.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return bi(e,Mw),P.some(!0)}}),Gp("textfield-change",[Oi(Nr(),(function(t,n){yi(t,Tw,{name:e.name})})),Oi($r(),(function(t,n){yi(t,Tw,{name:e.name})}))]),Aw.config({})],r=e.validation.map((function(e){return cx.config({getRoot:function(e){return ht(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=ld.getValue(t),o=e.validator(n);return Zw(!0===o?Mn.value(n):Mn.error(o))},validateOnLoad:e.validateOnLoad}})})).toArray(),i=e.placeholder.fold(v({}),(function(e){return{placeholder:t.translate(e)}})),a=e.inputMode.fold(v({}),(function(e){return{inputmode:e}})),u=_(_({},i),a),s=ww.parts.field({tag:!0===e.multiline?"textarea":"input",inputAttributes:u,inputClasses:[e.classname],inputBehaviours:ss(X([o,r])),selectOnFocus:!1,factory:Hw}),c=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),l=[Mf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){ww.getField(e).each(Mf.disable)},onEnabled:function(e){ww.getField(e).each(Mf.enable)}}),vb()];return kw(n,s,c,l)},$k=Object.freeze({__proto__:null,events:function(e,t){var n=e.stream.streams.setup(e,t);return Ci([Oi(e.event,n),Li((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[Oi(e,(function(){return t.cancel()}))]})).getOr([])))}}),Kk=function(e){var t=lr(null);return la({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},Xk=Object.freeze({__proto__:null,throttle:Kk,init:function(e){return e.stream.streams.state(e)}}),Jk=[zo("stream",Bo("mode",{throttle:[jo("delay"),tr("stopEvent",!0),wu("streams",{setup:function(e,t){var n=e.stream,o=fg(e.onStream,n.delay);return t.setTimer(o),function(e,t){o.throttle(e,t),n.stopEvent&&t.stop()}},state:Kk})]})),tr("event","input"),Qo("cancelEvent"),bu("onStream")],Zk=ls({fields:Jk,name:"streaming",active:$k,state:Xk}),e_=function(e,t,n){var o=ld.getValue(n);ld.setValue(t,o),n_(t)},t_=function(e,t){var n=e.element,o=Ra(n),r=n.dom;"number"!==Pt(n,"type")&&t(r,o)},n_=function(e){t_(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},o_=function(e,t,n){if(e.selectsOver){var o=ld.getValue(t),r=e.getDisplayText(o),i=ld.getValue(n);return 0===e.getDisplayText(i).indexOf(r)?P.some((function(){e_(0,t,n),function(e,t){t_(e,(function(e,n){return e.setSelectionRange(t,n.length)}))}(t,r.length)})):P.none()}return P.none()},r_=v("alloy.typeahead.itemexecute"),i_=v([Qo("lazySink"),jo("fetch"),tr("minChars",5),tr("responseTime",1e3),gu("onOpen"),tr("getHotspot",P.some),tr("getAnchorOverrides",v({})),tr("layouts",P.none()),tr("eventOrder",{}),cr("model",{},[tr("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),tr("selectsOver",!0),tr("populateFromBrowse",!0)]),gu("onSetValue"),vu("onExecute"),gu("onItemExecute"),tr("inputClasses",[]),tr("inputAttributes",{}),tr("inputStyles",{}),tr("matchWidth",!0),tr("useMinWidth",!1),tr("dismissOnBlur",!0),pu(["openClass"]),Qo("initialData"),dd("typeaheadBehaviours",[Kp,ld,Zk,jp,sh,fx]),Fo("previewing",(function(){return lr(!0)}))].concat(jw()).concat(Ox())),a_=v([zd({schema:[mu()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(o){o_(e.model,o,n).fold((function(){return Wf.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&e_(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){return yi(e,r_(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&e_(e.model,t,n)}))}}}})]),u_=hf({name:"Typeahead",configFields:i_(),partFields:a_(),factory:function(e,t,n,o){var r=function(t,n,r){e.previewing.set(!1);var i=fx.getCoupled(t,"sandbox");if(Wl.isOpen(i))yf.getCurrent(i).each((function(e){Wf.getHighlighted(e).fold((function(){r(e)}),(function(){Ai(i,e.element,"keydown",n)}))}));else{yx(e,a(t),t,i,o,(function(e){yf.getCurrent(e).each(r)}),qw.HighlightFirst).get(h)}},i=zw(e),a=function(e){return function(t){return t.map((function(t){var n=be(t.menus),o=J(n,(function(e){return q(e.items,(function(e){return"item"===e.type}))}));return ld.getState(e).update(H(o,(function(e){return e.data}))),t}))}},u=[Kp.config({}),ld.config({onSetValue:e.onSetValue,store:_({mode:"dataset",getDataKey:function(e){return Ra(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){Ma(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return pr("initialValue",e)})).getOr({}))}),Zk.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var r=fx.getCoupled(t,"sandbox");if(Kp.isFocused(t)&&Ra(t.element).length>=e.minChars){var i=yf.getCurrent(r).bind((function(e){return Wf.getHighlighted(e).map(ld.getValue)}));e.previewing.set(!0);yx(e,a(t),t,r,o,(function(t){yf.getCurrent(r).each((function(t){i.fold((function(){e.model.selectsOver&&Wf.highlightFirst(t)}),(function(e){Wf.highlightBy(t,(function(t){return ld.getValue(t).value===e.value})),Wf.getHighlighted(t).orThunk((function(){return Wf.highlightFirst(t),P.none()}))}))}))}),qw.HighlightFirst).get(h)}},cancelEvent:ni()}),jp.config({mode:"special",onDown:function(e,t){return r(e,t,Wf.highlightFirst),P.some(!0)},onEscape:function(e){var t=fx.getCoupled(e,"sandbox");return Wl.isOpen(t)?(Wl.close(t),P.some(!0)):P.none()},onUp:function(e,t){return r(e,t,Wf.highlightLast),P.some(!0)},onEnter:function(t){var n=fx.getCoupled(t,"sandbox"),o=Wl.isOpen(n);if(o&&!e.previewing.get())return yf.getCurrent(n).bind((function(e){return Wf.getHighlighted(e)})).map((function(e){return yi(t,r_(),{item:e}),!0}));var r=ld.getValue(t);return bi(t,ni()),e.onExecute(n,t,r),o&&Wl.close(n),P.some(!0)}}),sh.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),fx.config({others:{sandbox:function(t){return kx(e,t,{onOpen:function(){return sh.on(t)},onClose:function(){return sh.off(t)}})}}}),Gp("typeaheadevents",[Ni((function(t){var n=h;xx(e,a(t),t,o,n,qw.HighlightFirst).get(h)})),Oi(r_(),(function(t,n){var o=fx.getCoupled(t,"sandbox");e_(e.model,t,n.event.item),bi(t,ni()),e.onItemExecute(t,o,n.event.item,ld.getValue(t)),Wl.close(o),n_(t)}))].concat(e.dismissOnBlur?[Oi(Qr(),(function(e){var t=fx.getCoupled(e,"sandbox");ws(t.element).isNone()&&Wl.close(t)}))]:[]))];return{uid:e.uid,dom:Vw(Kn(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:_(_({},i),md(e.typeaheadBehaviours,u)),eventOrder:e.eventOrder}}}),s_=function(e){return _(_({},e),{toCached:function(){return s_(e.toCached())},bindFuture:function(t){return s_(e.bind((function(e){return e.fold((function(e){return Zw(Mn.error(e))}),(function(e){return t(e)}))})))},bindResult:function(t){return s_(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return s_(e.map((function(e){return e.map(t)})))},mapError:function(t){return s_(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(t,n){return s_(Jw((function(o){var r=!1,i=setTimeout((function(){r=!0,o(Mn.error(n()))}),t);e.get((function(e){r||(clearTimeout(i),o(e))}))})))}})},c_=function(e){return s_(Jw(e))},l_=c_,d_={type:"separator"},f_=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:h}},m_=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:h}},p_=function(e,t){return function(e){return H(e,f_)}(function(e,t){return q(t,(function(t){return t.type===e}))}(e,t))},h_=function(e){return p_("header",e.targets)},g_=function(e){return p_("anchor",e.targets)},v_=function(e){return P.from(e.anchorTop).map((function(e){return m_("<top>",e)})).toArray()},b_=function(e){return P.from(e.anchorBottom).map((function(e){return m_("<bottom>",e)})).toArray()},y_=function(e,t){var n=e.toLowerCase();return q(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return Oe(t.toLowerCase(),n)||Oe(e.value.toLowerCase(),n)}))},w_=function(e,t,n){var o=ld.getValue(t),r=void 0!==o.meta.text?o.meta.text:o.value;return n.getLinkInformation().fold((function(){return[]}),(function(t){var o,i=y_(r,function(e){return H(e,(function(e){return m_(e,e)}))}(n.getHistory(e)));return"file"===e?(o=[i,y_(r,h_(t)),y_(r,X([v_(t),g_(t),b_(t)]))],Q(o,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(d_,t)}),[])):i}))},x_=Yi("aria-invalid"),S_=function(e){return function(t,n,o){return ye(n,"name").fold((function(){return e(n,o)}),(function(r){return t.field(r,e(n,o))}))}},A_={bar:S_((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:H(e.items,t.interpreter)}}(e,t.shared)})),collection:S_((function(e,t){return Nw(e,t.shared.providers)})),alertbanner:S_((function(e,t){return function(e,t){return gw.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Xh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:rg(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){yi(t,Rw,{name:"alert-banner",value:e.url})},buttonBehaviours:ss([ig()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})}(e,t.shared.providers)})),input:S_((function(e,t){return function(e,t){return Qk({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:P.none(),maximized:e.maximized},t)}(e,t.shared.providers)})),textarea:S_((function(e,t){return function(e,t){return Qk({name:e.name,multiline:!0,label:e.label,inputMode:P.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:P.none(),maximized:e.maximized},t)}(e,t.shared.providers)})),label:S_((function(e,t){return function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},o=H(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(o),behaviours:ss([RA(),Wp.config({}),WA(P.none()),jp.config({mode:"acyclic"})])}}(e,t.shared)})),iframe:function(e){return function(t,n,o){var r=Kn(n,{source:"dynamic"});return S_(e)(t,r,o)}}((function(e,t){return tC(e,t.shared.providers)})),button:S_((function(e,t){return pk(e,t.shared.providers)})),checkbox:S_((function(e,t){return function(e,t){var n=ld.config({store:{mode:"manual",getValue:function(e){return e.element.dom.checked},setValue:function(e,t){e.element.dom.checked=t}}}),o=function(e){return e.element.dom.click(),P.some(!0)},r=ww.parts.field({factory:{sketch:b},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ss([RA(),Mf.config({disabled:function(){return e.disabled||t.isDisabled()}}),Aw.config({}),Kp.config({}),n,jp.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Gp("checkbox-events",[Oi(jr(),(function(t,n){yi(t,Tw,{name:e.name})}))])])}),i=ww.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:ss([Rx.config({})])}),a=function(e){return ug("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)},u=Jh({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return ww.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,u.asSpec(),i],fieldBehaviours:ss([Mf.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){ww.getField(e).each(Mf.disable)},onEnabled:function(e){ww.getField(e).each(Mf.enable)}}),vb()])})}(e,t.shared.providers)})),colorinput:S_((function(e,t){return Lx(e,t.shared,t.colorinput)})),colorpicker:S_((function(e){var t=function(e){return"tox-"+e},n=DA(LA,t),o=Jh(n.sketch({dom:{tag:"div",classes:[t("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(e){yi(e,Rw,{name:"hex-valid",value:!0})},onInvalidHex:function(e){yi(e,Rw,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[o.asSpec()],behaviours:ss([ld.config({store:{mode:"manual",getValue:function(e){var t=o.get(e);return yf.getCurrent(t).bind((function(e){return ld.getValue(e).hex})).map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t),r=o.get(e);yf.getCurrent(r).fold((function(){console.log("Can not find form")}),(function(e){ld.setValue(e,{hex:P.from(n[1]).getOr("")}),kA.getField(e,"hex").each((function(e){bi(e,Nr())}))}))}}}),RA()])}})),dropzone:S_((function(e,t){return qA(e,t.shared.providers)})),grid:S_((function(e,t){return function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:H(e.items,t.interpreter)}}(e,t.shared)})),listbox:S_((function(e,t){return function(e,t){var n=t.shared.providers,o=ae(e.items).filter(Wk),r=e.label.map((function(e){return Iw(e,n)})),i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[ww.parts.field({dom:{},factory:{sketch:function(n){return XC({uid:n.uid,text:o.map((function(e){return e.text})),icon:P.none(),tooltip:e.label,role:P.none(),fetch:function(n,o){var r=Gk(n,e.name,e.items,ld.getValue(n));o(ok(r,$g.CLOSE_ON_EXECUTE,t,!1))},onSetup:v(h),getApi:v({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Aw.config({}),ld.config({store:{mode:"manual",initialValue:o.map((function(e){return e.value})).getOr(""),getValue:function(e){return Pt(e.element,"data-value")},setValue:function(t,n){qk(e.items,n).each((function(e){Mt(t.element,"data-value",e.value),yi(t,$C,{text:e.text})}))}}})]},"tox-listbox",t.shared)}}})]};return ww.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:X([r.toArray(),[i]]),fieldBehaviours:ss([Mf.config({disabled:v(e.disabled),onDisabled:function(e){ww.getField(e).each(Mf.disable)},onEnabled:function(e){ww.getField(e).each(Mf.enable)}})])})}(e,t)})),selectbox:S_((function(e,t){return function(e,t){var n=H(e.items,(function(e){return{text:t.translate(e.text),value:e.value}})),o=e.label.map((function(e){return Iw(e,t)})),r=ww.parts.field({dom:{},selectAttributes:{size:e.size},options:n,factory:Yk,selectBehaviours:ss([Mf.config({disabled:function(){return e.disabled||t.isDisabled()}}),Aw.config({}),Gp("selectbox-change",[Oi(jr(),(function(t,n){yi(t,Tw,{name:e.name})}))])])}),i=e.size>1?P.none():P.some(ug("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:X([[r],i.toArray()])};return ww.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:X([o.toArray(),[a]]),fieldBehaviours:ss([Mf.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){ww.getField(e).each(Mf.disable)},onEnabled:function(e){ww.getField(e).each(Mf.enable)}}),vb()])})}(e,t.shared.providers)})),sizeinput:S_((function(e,t){return Ak(e,t.shared.providers)})),urlinput:S_((function(e,t){return function(e,t,n){var o,r=t.shared.providers,i=function(t){var o=ld.getValue(t);n.addToHistory(o.value,e.filetype)},a=ww.parts.field({factory:u_,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":x_,type:"url"},minChars:0,responseTime:0,fetch:function(o){var r=w_(e.filetype,o,n),i=ok(r,$g.BUBBLE_TO_SANDBOX,t,!1);return Zw(i)},getHotspot:function(e){return f.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(cx)&&cx.run(e).get(h)},typeaheadBehaviours:ss(X([n.getValidationHandler().map((function(t){return cx.config({getRoot:function(e){return ht(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){s.getOpt(e).each((function(e){Mt(e.element,"title",r.translate(t))}))}},validator:{validate:function(n){var o=ld.getValue(n);return l_((function(n){t({type:e.filetype,url:o.value},(function(e){if("invalid"===e.status){var t=Mn.error(e.message);n(t)}else{var o=Mn.value(e.message);n(o)}}))}))},validateOnLoad:!1}})})).toArray(),[Mf.config({disabled:function(){return e.disabled||r.isDisabled()}}),Aw.config({}),Gp("urlinput-events",X(["file"===e.filetype?[Oi(Nr(),(function(t){yi(t,Tw,{name:e.name})}))]:[],[Oi(jr(),(function(t){yi(t,Tw,{name:e.name}),i(t)})),Oi($r(),(function(t){yi(t,Tw,{name:e.name}),i(t)}))]]))]])),eventOrder:(o={},o[Nr()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:av(0,0,"normal")},onExecute:function(e,t,n){yi(t,Mw,{})},onItemExecute:function(t,n,o,r){i(t),yi(t,Tw,{name:e.name})}}),u=e.label.map((function(e){return Iw(e,r)})),s=Jh(function(e,t,n,o){return void 0===n&&(n=e),void 0===o&&(o=e),ug(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:_({title:r.translate(o),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))},r.icons)}("invalid",P.some(x_),"warning")),c=Jh({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]}),l=n.getUrlPicker(e.filetype),d=Yi("browser.url.event"),f=Jh({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,c.asSpec()],behaviours:ss([Mf.config({disabled:function(){return e.disabled||r.isDisabled()}})])}),m=Jh(dk({name:e.name,icon:P.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return bi(e,d)}),r,[],["tox-browse-url"]));return ww.sketch({dom:Ow([]),components:u.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:X([[f.asSpec()],l.map((function(){return m.asSpec()})).toArray()])}]),fieldBehaviours:ss([Mf.config({disabled:function(){return e.disabled||r.isDisabled()},onDisabled:function(e){ww.getField(e).each(Mf.disable),m.getOpt(e).each(Mf.disable)},onEnabled:function(e){ww.getField(e).each(Mf.enable),m.getOpt(e).each(Mf.enable)}}),vb(),Gp("url-input-events",[Oi(d,(function(t){yf.getCurrent(t).each((function(n){var o=ld.getValue(n),r=_({fieldname:e.name},o);l.each((function(o){o(r).get((function(o){ld.setValue(n,o),yi(t,Tw,{name:e.name})}))}))}))}))])])})}(e,t,t.urlinput)})),customeditor:S_((function(e){var t=js(),n=Jh({dom:{tag:e.tag}}),o=js();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ss([Gp("custom-editor-events",[Bi((function(r){n.getOpt(r).each((function(n){(!function(e){return we(e,"init")}(e)?FA.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)})):e.init(n.element.dom)).then((function(e){o.on((function(t){e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),ld.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return o.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){o.set(n)}),(function(e){return e.setValue(n)}))}}}),RA()]),components:[n.asSpec()]}})),htmlpanel:S_((function(e){return"presentation"===e.presets?gw.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):gw.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:ss([Aw.config({}),Kp.config({})])})})),imagetools:S_((function(e,t){return Hk(e,t.shared.providers)})),table:S_((function(e,t){return function(e,t){var n,o,r=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},i=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},a=function(e){return{dom:{tag:"tr"},components:H(e,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:H(o,r)}]}),(n=e.cells,{dom:{tag:"tbody"},components:H(n,a)})],behaviours:ss([Aw.config({}),Kp.config({})])}}(e,t.shared.providers)})),panel:S_((function(e,t){return function(e,t){return{dom:{tag:"div",classes:e.classes},components:H(e.items,t.shared.interpreter)}}(e,t)}))},C_={field:function(e,t){return t}},k_=function(e,t,n){var o=Kn(n,{shared:{interpreter:function(t){return __(e,t,o)}}});return __(e,t,o)},__=function(e,t,n){return ye(A_,t.type).fold((function(){return console.error('Unknown factory type "'+t.type+'", defaulting to container: ',t),t}),(function(o){return o(e,t,n)}))},O_={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},I_=function(e,t,n){var o={maxHeightFunction:ec()};return function(){return n()?{type:"node",root:kt(e()),node:P.from(e()),bubble:rc(12,12,O_),layouts:{onRtl:function(){return[Uh]},onLtr:function(){return[zh]}},overrides:o}:{type:"hotspot",hotspot:t(),bubble:rc(-12,12,O_),layouts:{onRtl:function(){return[Vu]},onLtr:function(){return[Hu]}},overrides:o}}},T_=function(e,t,n){return function(){return n()?{type:"node",root:kt(e()),node:P.from(e()),layouts:{onRtl:function(){return[Vh]},onLtr:function(){return[Vh]}}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Yu]},onLtr:function(){return[Yu]}}}}},E_=function(e,t){return function(){return{type:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return P.some(Ec.range(Pe.fromDom(t.startContainer),t.startOffset,Pe.fromDom(t.endContainer),t.endOffset))}}}},D_=function(e){return function(t){return{type:"node",root:e(),node:t}}},R_=function(e,t,n){var o=ab(e),r=function(){return Pe.fromDom(e.getBody())},i=function(){return Pe.fromDom(e.getContentAreaContainer())},a=function(){return o||!n()};return{inlineDialog:I_(i,t,a),banner:T_(i,t,a),cursor:E_(e,r),node:D_(r)}},M_=function(e){return function(t,n){My(e)(t,n)}},P_=function(e){return function(){return Sy(e)}},B_=function(e){return function(){return Ay(e)}},L_=function(e){return function(){return ky(e)}},F_=function(e){return{colorPicker:M_(e),hasCustomColors:P_(e),getColors:B_(e),getColorCols:L_(e)}},N_=function(e){return function(){return function(e){return e.getParam("draggable_modal",!1,"boolean")}(e)}},j_=function(e){return{isDraggableModal:N_(e)}},z_=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],U_=function(e){return Q(e,(function(e,t){if(we(t,"items")){var n=U_(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(function(e){return we(e,"inline")}(t)||function(e){return we(e,"block")}(t)||function(e){return we(e,"selector")}(t)){var o="custom-"+(r(t.name)?t.name:t.title.toLowerCase());return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return _(_({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})},V_=function(e){return function(e){return P.from(e.getParam("style_formats")).filter(a)}(e).map((function(t){var n=function(e,t){var n=U_(t),o=function(t){W(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(function(){o(n.customFormats)})),n.formats}(e,t);return function(e){return e.getParam("style_formats_merge",!1,"boolean")}(e)?z_.concat(n):n})).getOr(z_)},H_=function(e,t,n){var o={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Kn(e,o)},W_=function(e,t,n,o){var i=function(t){return H(t,(function(t){var a=le(t);if(xe(t,"items")){var u=i(t.items);return Kn(function(e){return Kn(e,{type:"submenu"})}(t),{getStyleItems:v(u)})}return xe(t,"format")?function(e){return H_(e,n,o)}(t):1===a.length&&j(a,"title")?Kn(t,{type:"separator"}):function(t){var i=r(t.name)?t.name:Yi(t.title),a="custom-"+i,u={type:"formatter",format:a,isSelected:n(a),getStylePreview:o(a)},s=Kn(t,u);return e.formatter.register(i,s),s}(t)}))};return i(t)},G_=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()}},o=function(e){var t=e.items;return void 0!==t&&t.length>0?J(t,o):[e.format]},r=lr([]),i=lr([]),a=lr([]),u=lr([]),s=lr(!1);e.on("PreInit",(function(a){var u=V_(e),s=W_(e,u,t,n);r.set(s),i.set(J(s,o))})),e.on("addStyleModifications",(function(r){var i=W_(e,r.items,t,n);a.set(i),s.set(r.replace),u.set(J(i,o))}));return{getData:function(){var e=s.get()?[]:r.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=s.get()?[]:i.get(),t=u.get();return e.concat(t)}}},q_=NA.trim,Y_=function(e){return function(t){if(function(e){return d(e)&&1===e.nodeType}(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Q_=Y_("true"),$_=Y_("false"),K_=function(e,t,n,o,r){return{type:e,title:t,url:n,level:o,attach:r}},X_=function(e){return e.innerText||e.textContent},J_=function(e){return function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)}(e)&&eO(e)},Z_=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},eO=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Q_(e)}return!1}(e)&&!$_(e)},tO=function(e){return Z_(e)&&eO(e)},nO=function(e){var t=function(e){return e.id?e.id:Yi("h")}(e);return K_("header",X_(e),"#"+t,function(e){return Z_(e)?parseInt(e.nodeName.substr(1),10):0}(e),(function(){e.id=t}))},oO=function(e){var t=e.id||e.name,n=X_(e);return K_("anchor",n||"#"+t,"#"+t,0,h)},rO=function(e){var t,n;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,H(Wc(Pe.fromDom(n),t),(function(e){return e.dom}))},iO=function(e){return q_(e.title).length>0},aO=function(e){var t=rO(e);return q(function(e){return H(q(e,tO),nO)}(t).concat(function(e){return H(q(e,J_),oO)}(t)),iO)},uO="tinymce-url-history",sO=function(e){return r(e)&&/^https?/.test(e)},cO=function(e){return i(e)&&ve(e,(function(e){return!(a(t=e)&&t.length<=5&&Z(t,sO));var t})).isNone()},lO=function(){var e,t=vy.getItem(uO);if(null===t)return{};try{e=JSON.parse(t)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+uO+" was not valid JSON",e),{};throw e}return cO(e)?e:(console.log("Local storage "+uO+" was not valid format",e),{})},dO=function(e){var t=lO();return ye(t,e).getOr([])},fO=function(e,t){if(sO(e)){var n=lO(),o=ye(n,t).getOr([]),r=q(o,(function(t){return t!==e}));n[t]=[e].concat(r).slice(0,5),function(e){if(!cO(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));vy.setItem(uO,JSON.stringify(e))}(n)}},mO=function(e){return!!e},pO=function(e){return me(NA.makeMap(e,/[, ]/),mO)},hO=function(e){return P.from(function(e){return e.getParam("file_picker_callback")}(e)).filter(f)},gO=function(e,t){var n=function(e){var t=P.some(function(e){return e.getParam("file_picker_types")}(e)).filter(mO),n=P.some(function(e){return e.getParam("file_browser_callback_types")}(e)).filter(mO),o=t.or(n).map(pO);return hO(e).fold(A,(function(e){return o.fold(C,(function(e){return le(e).length>0&&e}))}))}(e);return s(n)?n?hO(e):P.none():n[t]?hO(e):P.none()},vO=function(e){return P.from(e).filter(r).getOrUndefined()},bO=function(e){return{getHistory:dO,addToHistory:fO,getLinkInformation:function(){return function(e){return function(e){return!1===e.getParam("typeahead_urls")}(e)?P.none():P.some({targets:aO(e.getBody()),anchorTop:vO(fb(e)),anchorBottom:vO(mb(e))})}(e)},getValidationHandler:function(){return function(e){return P.from(function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t}(e))}(e)},getUrlPicker:function(t){return function(e,t){return gO(e,t).map((function(n){return function(o){return Jw((function(a){var u=_({filetype:t,fieldname:o.fieldname},P.from(o.meta).getOr({}));n.call(e,(function(e,t){if(!r(e))throw new Error("Expected value to be string");if(void 0!==t&&!i(t))throw new Error("Expected meta to be a object");a({value:e,meta:t})}),o.value,u)}))}}))}(e,t)}}},yO=function(e,t,n){var o=lr(!1),r=function(e){var t=lr(rb(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}}(t),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Zh.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return function(e,t){return __(C_,e,t)}(e,i)},anchors:R_(t,n,r.isPositionedAtTop),header:r,getSink:function(){return Mn.value(e)}},urlinput:bO(t),styleselect:G_(t),colorinput:F_(t),dialog:j_(t),isContextMenuOpen:function(){return o.get()},setContextMenuState:function(e){return o.set(e)}};return i},wO=sf,xO=Wd,SO=v([tr("shell",!1),jo("makeItem"),tr("setupItem",h),pd("listBehaviours",[Wp])]),AO=Ud({name:"items",overrides:function(){return{behaviours:ss([Wp.config({})])}}}),CO=v([AO]),kO=v("CustomList"),_O=hf({name:kO(),configFields:SO(),partFields:CO(),factory:function(e,t,n,o){var r=e.shell?{behaviours:[Wp.config({})],components:[]}:{behaviours:[],components:t},i=function(t){return e.shell?P.some(t):Zd(t,e,"items")};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:md(e.listBehaviours,r.behaviours),apis:{setItems:function(t,n){i(t).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(o){var r=Wp.contents(o),i=n.length,a=i-r.length,u=a>0?U(a,(function(){return e.makeItem()})):[],s=r.slice(i);W(s,(function(e){return Wp.remove(o,e)})),W(u,(function(e){return Wp.append(o,e)}));var c=Wp.contents(o);W(c,(function(o,r){e.setupItem(t,o,n[r],r)}))}))}}}},apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),OO=v([jo("dom"),tr("shell",!0),dd("toolbarBehaviours",[Wp])]),IO=v([Ud({name:"groups",overrides:function(){return{behaviours:ss([Wp.config({})])}}})]),TO=hf({name:"Toolbar",configFields:OO(),partFields:IO(),factory:function(e,t,n,o){var r=function(t){return e.shell?P.some(t):Zd(t,e,"groups")},i=e.shell?{behaviours:[Wp.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:md(e.toolbarBehaviours,i.behaviours),apis:{setGroups:function(e,t){r(e).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){Wp.set(e,t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),EO=h,DO=A,RO=v([]),MO=Object.freeze({__proto__:null,setup:EO,isDocked:DO,getBehaviours:RO}),PO=function(e){return(Se(Gt(e,"position"),"fixed")?P.none():gt(e)).orThunk((function(){var t=Pe.fromTag("span");return ht(e).bind((function(e){hn(e,t);var n=gt(t);return bn(t),n}))}))},BO=function(e){return PO(e).map(on).getOrThunk((function(){return tn(0,0)}))},LO=dr([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),FO=function(e,t){var n=e.element;_a(n,t.transitionClass),Ia(n,t.fadeOutClass),_a(n,t.fadeInClass),t.onShow(e)},NO=function(e,t){var n=e.element;_a(n,t.transitionClass),Ia(n,t.fadeInClass),_a(n,t.fadeOutClass),t.onHide(e)},jO=function(e,t,n){return Z(e,(function(e){switch(e){case"bottom":return function(e,t){return e.bottom<=t.bottom}(t,n);case"top":return function(e,t){return e.y>=t.y}(t,n)}}))},zO=function(e,t){return t.getInitialPos().map((function(t){return On(t.bounds.x,t.bounds.y,un(e),Jt(e))}))},UO=function(e,t,n){return n.getInitialPos().bind((function(o){switch(n.clearInitialPos(),o.position){case"static":return P.some(LO.static());case"absolute":var r=PO(e).map(In).getOrThunk((function(){return In(Et())}));return P.some(LO.absolute(Ss("absolute",ye(o.style,"left").map((function(e){return t.x-r.x})),ye(o.style,"top").map((function(e){return t.y-r.y})),ye(o.style,"right").map((function(e){return r.right-t.right})),ye(o.style,"bottom").map((function(e){return r.bottom-t.bottom})))));default:return P.none()}}))},VO=function(e,t,n){var o=In(e);if(jO(n.getModes(),o,t))return P.none();!function(e,t,n){n.setInitialPos({style:qt(e),position:Ht(e,"position")||"static",bounds:t})}(e,o,n);var r=En(),i=o.x-r.x,a=t.y-r.y,u=r.bottom-t.bottom,s=o.y<=t.y;return P.some(LO.fixed(Ss("fixed",P.some(i),s?P.some(a):P.none(),P.none(),s?P.none():P.some(u))))},HO=function(e,t,n){var o=e.element;return Se(Gt(o,"position"),"fixed")?function(e,t,n){return zO(e,n).filter((function(e){return jO(n.getModes(),e,t)})).bind((function(t){return UO(e,t,n)}))}(o,t,n):VO(o,t,n)},WO=function(e,t,n){n.setDocked(!1),W(["left","right","top","bottom","position"],(function(t){return Qt(e.element,t)})),t.onUndocked(e)},GO=function(e,t,n,o){var r="fixed"===o.position;n.setDocked(r),As(e.element,o),(r?t.onDocked:t.onUndocked)(e)},qO=function(e,t,n,o,r){void 0===r&&(r=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(i){var a=function(e,t){return e.y<t.bottom&&e.bottom>t.y}(i,o);a!==n.isVisible()&&(n.setVisible(a),r&&!a?(Ea(e.element,[t.fadeOutClass]),t.onHide(e)):(a?FO:NO)(e,t))}))}))},YO=function(e,t,n){var o=e.element;n.setDocked(!1),function(e,t){var n=e.element;return zO(n,t).bind((function(e){return UO(n,e,t)}))}(e,n).each((function(o){o.fold((function(){return WO(e,t,n)}),(function(o){return GO(e,t,n,o)}),h)})),n.setVisible(!0),t.contextual.each((function(t){Da(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),QO(e,t,n)},QO=function(e,t,n){e.getSystem().isConnected()&&function(e,t,n){var o=t.lazyViewport(e);n.isDocked()&&qO(e,t,n,o),HO(e,o,n).each((function(r){r.fold((function(){return WO(e,t,n)}),(function(o){return GO(e,t,n,o)}),(function(r){qO(e,t,n,o,!0),GO(e,t,n,r)}))}))}(e,t,n)},$O=function(e,t,n){n.isDocked()&&YO(e,t,n)},KO=Object.freeze({__proto__:null,refresh:QO,reset:$O,isDocked:function(e,t,n){return n.isDocked()},getModes:function(e,t,n){return n.getModes()},setModes:function(e,t,n,o){return n.setModes(o)}}),XO=Object.freeze({__proto__:null,events:function(e,t){return Ci([Pi(Vr(),(function(n,o){e.contextual.each((function(e){Ta(n.element,e.transitionClass)&&(Da(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n));o.stop()}))})),Oi(ai(),(function(n,o){QO(n,e,t)})),Oi(ui(),(function(n,o){$O(n,e,t)}))])}}),JO=[er("contextual",[Vo("fadeInClass"),Vo("fadeOutClass"),Vo("transitionClass"),Wo("lazyContext"),gu("onShow"),gu("onShown"),gu("onHide"),gu("onHidden")]),ur("lazyViewport",En),sr("modes",["top","bottom"],So),gu("onDocked"),gu("onUndocked")],ZO=ls({fields:JO,name:"docking",active:XO,apis:KO,state:Object.freeze({__proto__:null,init:function(e){var t=lr(!1),n=lr(!0),o=js(),r=lr(e.modes);return la({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+r.get().join(",")}})}})}),eI=v(Yi("toolbar-height-change")),tI={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},nI=function(e,t){return j(ZO.getModes(e),t)},oI=function(e){var t=e.element;ht(t).each((function(n){var o="padding-"+ZO.getModes(e)[0];if(ZO.isDocked(e)){var r=un(n);zt(t,"width",r+"px"),zt(n,o,function(e){return Zt(e)+(parseInt(Ht(e,"margin-top"),10)||0)+(parseInt(Ht(e,"margin-bottom"),10)||0)}(t)+"px")}else Qt(t,"width"),Qt(n,o)}))},rI=function(e,t){t?(Ia(e,tI.fadeOutClass),Ea(e,[tI.transitionClass,tI.fadeInClass])):(Ia(e,tI.fadeInClass),Ea(e,[tI.fadeOutClass,tI.transitionClass]))},iI=function(e,t){var n=Pe.fromDom(e.getContainer());t?(_a(n,"tox-tinymce--toolbar-sticky-on"),Ia(n,"tox-tinymce--toolbar-sticky-off")):(_a(n,"tox-tinymce--toolbar-sticky-off"),Ia(n,"tox-tinymce--toolbar-sticky-on"))},aI=function(e,t){var n=js(),o=t.getSink,r=function(e){o().each((function(t){return e(t.element)}))},i=function(t){e.inline||oI(t),iI(e,ZO.isDocked(t)),t.getSystem().broadcastOn([ql()],{}),o().each((function(e){return e.getSystem().broadcastOn([ql()],{})}))},a=e.inline?[]:function(){var e;return[ps.config({channels:(e={},e[eI()]={onReceive:oI},e)})]}();return I([Kp.config({}),ZO.config({contextual:_({lazyContext:function(t){var n=Zt(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer(),r=In(Pe.fromDom(o)),i=r.height-n,a=r.y+(nI(t,"top")?0:n);return P.some(On(r.x,a,r.width,i))},onShow:function(){r((function(e){return rI(e,!0)}))},onShown:function(e){r((function(e){return Da(e,[tI.transitionClass,tI.fadeInClass])})),n.get().each((function(t){var o,r,i;o=e.element,i=dt(r=t),ys(i).filter((function(e){return!st(r,e)})).filter((function(e){return st(e,Pe.fromDom(i.dom.body))||lt(o,e)})).each((function(){return vs(r)})),n.clear()}))},onHide:function(e){(function(e,t){return ws(e).orThunk((function(){return t().toOptional().bind((function(e){return ws(e.element)}))}))})(e.element,o).fold(n.clear,n.set),r((function(e){return rI(e,!1)}))},onHidden:function(){r((function(e){return Da(e,[tI.transitionClass])}))}},tI),lazyViewport:function(t){var n=En(),o=function(e){return e.getParam("toolbar_sticky_offset",0,"number")}(e),r=n.y+(nI(t,"top")?o:0),i=n.height-(nI(t,"bottom")?o:0);return On(n.x,r,n.width,i)},modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i})],a,!0)},uI=Object.freeze({__proto__:null,setup:function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(ZO.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(oI)})),e.on("SkinLoaded",(function(){n().each((function(e){ZO.isDocked(e)?ZO.reset(e):ZO.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(ZO.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){ZO.refresh(t);var n=t.element;Mm(n)&&function(e,t){var n=dt(t),o=n.dom.defaultView.innerHeight,r=wn(n),i=Pe.fromDom(e.elm),a=Tn(i),u=Jt(i),s=a.y,c=s+u,l=on(t),d=Jt(t),f=l.top,m=f+d,p=Math.abs(f-r.top)<2,h=Math.abs(m-(r.top+o))<2;if(p&&s<m)xn(r.left,s-d,n);else if(h&&c>f){var g=s-o+u+d;xn(r.left,g,n)}}(e,n)}))})),e.on("PostRender",(function(){iI(e,!1)}))},isDocked:function(e){return e().map(ZO.isDocked).getOr(!1)},getBehaviours:aI}),sI=po([Vo("type"),zo("items",go([bo([Vo("name"),Yo("items",So)]),So]))].concat(Mg)),cI=[Xo("text"),Xo("tooltip"),Xo("icon"),Wo("fetch"),ur("onSetup",(function(){return h}))],lI=po(I([Vo("type")],cI,!0)),dI=function(e){return Do("menubutton",lI,e)},fI=po([Vo("type"),Xo("tooltip"),Xo("icon"),Xo("text"),Jo("select"),Wo("fetch"),ur("onSetup",(function(){return h})),ir("presets","normal",["normal","color","listpreview"]),tr("columns",1),Wo("onAction"),Wo("onItemAction")]),mI=pf({factory:function(e,t){var n={focus:jp.focusIn,setMenus:function(e,n){var o=H(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},o=dI(n).mapError((function(e){return Po(e)})).getOrDie();return ik(o,"tox-mbtn",t.backstage,P.some("menuitem"))}));Wp.set(e,o)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:ss([Wp.config({}),Gp("menubar-events",[Bi((function(t){e.onSetup(t)})),Oi(Mr(),(function(e,t){Za(e.element,".tox-mbtn--active").each((function(n){eu(t.event.target,".tox-mbtn").each((function(t){st(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){Ex.expand(e),Ex.close(n),Kp.focus(e)}))}))}))}))})),Oi(fi(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){Ex.isOpen(n)&&(Ex.expand(e),Ex.close(n))}))}))}))]),jp.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),P.some(!0)}}),Aw.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[jo("dom"),jo("uid"),jo("onEscape"),jo("backstage"),tr("onSetup",h)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),pI=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))},hI=function(e){return e.dimension.property},gI=function(e,t){return e.dimension.getDimension(t)},vI=function(e,t){var n=pI(e,t);Da(n,[t.shrinkingClass,t.growingClass])},bI=function(e,t){Ia(e.element,t.openClass),_a(e.element,t.closedClass),zt(e.element,hI(t),"0px"),$t(e.element)},yI=function(e,t){Ia(e.element,t.closedClass),_a(e.element,t.openClass),Qt(e.element,hI(t))},wI=function(e,t,n,o){n.setCollapsed(),zt(e.element,hI(t),gI(t,e.element)),$t(e.element),vI(e,t),bI(e,t),t.onStartShrink(e),t.onShrunk(e)},xI=function(e,t,n,o){var r=o.getOrThunk((function(){return gI(t,e.element)}));n.setCollapsed(),zt(e.element,hI(t),r),$t(e.element);var i=pI(e,t);Ia(i,t.growingClass),_a(i,t.shrinkingClass),bI(e,t),t.onStartShrink(e)},SI=function(e,t,n){var o=gI(t,e.element);("0px"===o?wI:xI)(e,t,n,P.some(o))},AI=function(e,t,n){var o=pI(e,t),r=Ta(o,t.shrinkingClass),i=gI(t,e.element);yI(e,t);var a=gI(t,e.element);(r?function(){zt(e.element,hI(t),i),$t(e.element)}:function(){bI(e,t)})(),Ia(o,t.shrinkingClass),_a(o,t.growingClass),yI(e,t),zt(e.element,hI(t),a),n.setExpanded(),t.onStartGrow(e)},CI=function(e,t,n){var o=pI(e,t);return!0===Ta(o,t.growingClass)},kI=function(e,t,n){var o=pI(e,t);return!0===Ta(o,t.shrinkingClass)},_I=Object.freeze({__proto__:null,refresh:function(e,t,n){if(n.isExpanded()){Qt(e.element,hI(t));var o=gI(t,e.element);zt(e.element,hI(t),o)}},grow:function(e,t,n){n.isExpanded()||AI(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&SI(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&wI(e,t,n)},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:CI,isShrinking:kI,isTransitioning:function(e,t,n){return CI(e,t)||kI(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?SI:AI)(e,t,n)},disableTransitions:vI}),OI=Object.freeze({__proto__:null,exhibit:function(e,t,n){var o=t.expanded;return fa(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:pr(t.dimension.property,"0px")})},events:function(e,t){return Ci([Pi(Vr(),(function(n,o){o.event.raw.propertyName===e.dimension.property&&(vI(n,e),t.isExpanded()&&Qt(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}}),II=[jo("closedClass"),jo("openClass"),jo("shrinkingClass"),jo("growingClass"),Qo("getAnimationRoot"),gu("onShrunk"),gu("onStartShrink"),gu("onGrown"),gu("onStartGrow"),tr("expanded",!1),zo("dimension",Bo("property",{width:[wu("property","width"),wu("getDimension",(function(e){return un(e)+"px"}))],height:[wu("property","height"),wu("getDimension",(function(e){return Jt(e)+"px"}))]}))],TI=ls({fields:II,name:"sliding",active:OI,apis:_I,state:Object.freeze({__proto__:null,init:function(e){var t=lr(e.expanded);return la({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:w(t.set,!1),setExpanded:w(t.set,!0),readState:function(){return"expanded: "+t.get()}})}})}),EI=[dd("slotBehaviours",[])],DI=function(e){return"<alloy.field."+e+">"},RI=function(e,t){var n,o=function(t){return of(e)},r=function(t,n){return function(o,r){return Zd(o,e,r).map((function(e){return t(e,r)})).getOr(n)}},i=function(e,t){return"true"!==Pt(e.element,"aria-hidden")},a=r(i,!1),u=r((function(e,t){if(i(e)){var n=e.element;zt(n,"display","none"),Mt(n,"aria-hidden","true"),yi(e,mi(),{name:t,visible:!1})}})),s=(n=u,function(e,t){W(t,(function(t){return n(e,t)}))}),c=r((function(e,t){if(!i(e)){var n=e.element;Qt(n,"display"),Ft(n,"aria-hidden"),yi(e,mi(),{name:t,visible:!0})}})),l={getSlotNames:o,getSlot:function(t,n){return Zd(t,e,n)},isShowing:a,hideSlot:u,hideAllSlots:function(e){return s(e,o())},showSlot:c};return{uid:e.uid,dom:e.dom,components:t,behaviours:fd(e.slotBehaviours),apis:l}},MI=me({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return sa(e)})),PI=_(_({},MI),{sketch:function(e){var t=function(){var e=[];return{slot:function(t,n){return e.push(t),Qd("container",DI(t),n)},record:v(e)}}(),n=e(t),o=t.record(),r=H(o,(function(e){return jd({name:e,pname:DI(e)})}));return lf("container",EI,r,RI,n)}}),BI=po([Xo("icon"),Xo("tooltip"),ur("onShow",h),ur("onHide",h),ur("onSetup",(function(){return h}))]),LI=function(e){return{element:function(){return e.element.dom}}},FI=function(e,t){var n=H(le(t),(function(e){var n=t[e],o=Ro(function(e){return Do("sidebar",BI,e)}(n));return{name:e,getApi:LI,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return H(n,(function(t){var o=lr(h);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Rv([Ab(t,o),Cb(t,o),Oi(mi(),(function(e,t){var o=t.event;$(n,(function(e){return e.name===o.name})).each((function(t){(o.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},NI=function(e){return PI.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:FI(t,e),slotBehaviours:Rv([Bi((function(e){return PI.hideAllSlots(e)}))])}}))},jI=function(e){return yf.getCurrent(e).bind((function(e){return TI.isGrowing(e)||TI.hasGrown(e)?yf.getCurrent(e).bind((function(e){return $(PI.getSlotNames(e),(function(t){return PI.isShowing(e,t)}))})):P.none()}))},zI=Yi("FixSizeEvent"),UI=Yi("AutoSizeEvent"),VI=Object.freeze({__proto__:null,block:function(e,t,n,o){Mt(e.element,"aria-busy",!0);var r=t.getRoot(e).getOr(e),i=ss([jp.config({mode:"special",onTab:function(){return P.some(!0)},onShiftTab:function(){return P.some(!0)}}),Kp.config({})]),a=o(r,i),u=r.getSystem().build(a);Wp.append(r,Ga(u)),u.hasConfigured(jp)&&t.focus&&jp.focusIn(u),n.isBlocked()||t.onBlock(e),n.blockWith((function(){return Wp.remove(r,u)}))},unblock:function(e,t,n){Ft(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),HI=[ur("getRoot",P.none),ar("focus",!0),gu("onBlock"),gu("onUnblock")],WI=ls({fields:HI,name:"blocking",apis:VI,state:Object.freeze({__proto__:null,init:function(){var e=Fs((function(e){return e.destroy()}));return la({readState:e.isSet,blockWith:function(t){e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),GI=function(e){var t=Pe.fromHtml(e),n=vt(t),o=function(e){var t=void 0!==e.dom.attributes?e.dom.attributes:[];return Q(t,(function(e,t){var n;return"class"===t.name?e:_(_({},e),((n={})[t.name]=t.value,n))}),{})}(t),r=function(e){return Array.prototype.slice.call(e.dom.classList,0)}(t),i=0===n.length?{}:{innerHtml:ji(t)};return _({tag:Le(t),classes:r,attributes:o},i)},qI=function(e){return yf.getCurrent(e).each((function(e){return vs(e.element)}))},YI=function(e,t,n,o){var r=t.element;if(function(e,t){P.from(e.iframeElement).map(Pe.fromDom).each((function(e){t?(Bt(e,"tabindex").each((function(t){return Mt(e,"data-mce-tabindex",t)})),Mt(e,"tabindex",-1)):(Ft(e,"tabindex"),Bt(e,"data-mce-tabindex").each((function(t){Mt(e,"tabindex",t),Ft(e,"data-mce-tabindex")})))}))}(e,n),n)WI.block(t,function(e){return function(t,n){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:GI('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}}(o)),Qt(r,"display"),Ft(r,"aria-hidden"),e.hasFocus()&&qI(t);else{var i=yf.getCurrent(t).exists((function(e){return bs(e.element)}));WI.unblock(t),zt(r,"display","none"),Mt(r,"aria-hidden","true"),i&&e.focus()}},QI=function(e,t,n){var o=lr(!1),r=js(),i=function(n){var r;!o.get()||function(e){return"focusin"===e.type}(r=n)&&(r.composed?ae(r.composedPath()):P.from(r.target)).map(Pe.fromDom).filter(Ne).exists((function(e){return Ta(e,"mce-pastebin")}))||(n.preventDefault(),qI(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(function(){e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(function(e){"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));var a=function(r){r!==o.get()&&(o.set(r),YI(e,t(),r,n.providers),e.fire("AfterProgressState",{state:r}))};e.on("ProgressState",(function(t){if(r.on(Kh.clearTimeout),m(t.time)){var n=Kh.setEditorTimeout(e,(function(){return a(t.state)}),t.time);r.set(n)}else a(t.state),r.clear()}))},$I=function(e,t,n){return{within:e,extra:t,withinWidth:n}},KI=function(e,t,n){var o,r=(o=function(e,t){var o=n(e);return P.some({element:e,start:t,finish:t+o,width:o})},Q(e,(function(e,t){return o(t,e.len).fold(v(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),{len:0,list:[]}).list),i=q(r,(function(e){return e.finish<=t})),a=Y(i,(function(e,t){return e+t.width}),0);return{within:i,extra:r.slice(i.length),withinWidth:a}},XI=function(e){return H(e,(function(e){return e.element}))},JI=function(e,t,n,o){var r=function(e,t,n){var o=KI(t,e,n);return 0===o.extra.length?P.some(o):P.none()}(e,t,n).getOrThunk((function(){return KI(t,e-n(o),n)})),i=r.within,a=r.extra,u=r.withinWidth;return 1===a.length&&a[0].width<=n(o)?function(e,t,n){var o=XI(e.concat(t));return $I(o,[],n)}(i,a,u):a.length>=1?function(e,t,n,o){var r=XI(e).concat([n]);return $I(r,XI(t),o)}(i,a,o,u):function(e,t,n){return $I(XI(e),[],n)}(i,0,u)},ZI=function(e,t){var n=H(t,(function(e){return Ga(e)}));TO.setGroups(e,n)},eT=function(e,t,n){var o=t.builtGroups.get();if(0!==o.length){var r=ef(e,t,"primary"),i=fx.getCoupled(e,"overflowGroup");zt(r.element,"visibility","hidden");var a=o.concat([i]),u=ce(a,(function(e){return ws(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}));n([]),ZI(r,a);var s=un(r.element),c=JI(s,t.builtGroups.get(),(function(e){return un(e.element)}),i);0===c.extra.length?(Wp.remove(r,i),n([])):(ZI(r,c.within),n(c.extra)),Qt(r.element,"visibility"),$t(r.element),u.each(Kp.focus)}},tT=v([dd("splitToolbarBehaviours",[fx]),Fo("builtGroups",(function(){return lr([])}))]),nT=v([pu(["overflowToggledClass"]),Jo("getOverflowBounds"),jo("lazySink"),Fo("overflowGroups",(function(){return lr([])}))].concat(tT())),oT=v([jd({factory:TO,schema:OO(),name:"primary"}),zd({schema:OO(),name:"overflow"}),zd({name:"overflow-button"}),zd({name:"overflow-group"})]),rT=v((function(e,t){!function(e,t){var n=an.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);zt(e,"max-width",n+"px")}(e,Math.floor(t))})),iT=v([pu(["toggledClass"]),jo("lazySink"),Wo("fetch"),Jo("getBounds"),er("fireDismissalEventInstead",[tr("event",li())]),dc()]),aT=v([zd({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ss([sh.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),zd({factory:TO,schema:OO(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:ss([jp.config({mode:"cyclic",onEscape:function(t){return Zd(t,e,"button").each(Kp.focus),P.none()}})])}}})]),uT=function(e,t){var n=fx.getCoupled(e,"toolbarSandbox");Wl.isOpen(n)?Wl.close(n):Wl.open(n,t.toolbar())},sT=function(e,t,n,o){var r=n.getBounds.map((function(e){return e()})),i=n.lazySink(e).getOrDie();Sl.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:rT()}}},r)},cT=function(e,t,n,o,r){TO.setGroups(t,r),sT(e,t,n,o),sh.on(e)},lT=hf({name:"FloatingToolbarButton",factory:function(e,t,n,o){return _(_({},Xh.sketch(_(_({},o.button()),{action:function(e){uT(e,o)},buttonBehaviours:hd({dump:o.button().buttonBehaviours},[fx.config({others:{toolbarSandbox:function(t){return function(e,t,n){var o=tu();return{dom:{tag:"div",attributes:{id:o.id}},behaviours:ss([jp.config({mode:"special",onEscape:function(e){return Wl.close(e),P.some(!0)}}),Wl.config({onOpen:function(r,i){n.fetch().get((function(r){cT(e,i,n,t.layouts,r),o.link(e.element),jp.focusIn(i)}))},onClose:function(){sh.off(e),Kp.focus(e),o.unlink(e.element)},isPartOf:function(t,n,o){return ou(n,o)||ou(e,o)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),ps.config({channels:_(_({},$l(_({isExtraPart:A},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),Xl({doReposition:function(){Wl.getState(fx.getCoupled(e,"toolbarSandbox")).each((function(o){sT(e,o,n,t.layouts)}))}}))})])}}(t,n,e)}}})])}))),{apis:{setGroups:function(t,o){Wl.getState(fx.getCoupled(t,"toolbarSandbox")).each((function(r){cT(t,r,e,n.layouts,o)}))},reposition:function(t){Wl.getState(fx.getCoupled(t,"toolbarSandbox")).each((function(o){sT(t,o,e,n.layouts)}))},toggle:function(e){uT(e,o)},getToolbar:function(e){return Wl.getState(fx.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return Wl.isOpen(fx.getCoupled(e,"toolbarSandbox"))}}})},configFields:iT(),partFields:aT(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}}),dT=v([jo("items"),pu(["itemSelector"]),dd("tgroupBehaviours",[jp])]),fT=v([Vd({name:"items",unit:"item"})]),mT=hf({name:"ToolbarGroup",configFields:dT(),partFields:fT(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.tgroupBehaviours,[jp.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),pT=function(e){return H(e,(function(e){return Ga(e)}))},hT=function(e,t,n){eT(e,n,(function(o){n.overflowGroups.set(o),t.getOpt(e).each((function(e){lT.setGroups(e,pT(o))}))}))},gT=hf({name:"SplitFloatingToolbar",configFields:nT(),partFields:oT(),factory:function(e,t,n,o){var r=Jh(lT.sketch({fetch:function(){return Jw((function(t){t(pT(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[Hu,Vu]},onRtl:function(){return[Vu,Hu]},onBottomLtr:function(){return[Gu,Wu]},onBottomRtl:function(){return[Wu,Gu]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.splitToolbarBehaviours,[fx.config({others:{overflowGroup:function(){return mT.sketch(_(_({},o["overflow-group"]()),{items:[r.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(H(n,t.getSystem().build)),hT(t,r,e)},refresh:function(t){return hT(t,r,e)},toggle:function(e){r.getOpt(e).each((function(e){lT.toggle(e)}))},isOpen:function(e){return r.getOpt(e).map(lT.isOpen).getOr(!1)},reposition:function(e){r.getOpt(e).each((function(e){lT.reposition(e)}))},getOverflow:function(e){return r.getOpt(e).bind(lT.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),vT=v([pu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),gu("onOpened"),gu("onClosed")].concat(tT())),bT=v([jd({factory:TO,schema:OO(),name:"primary"}),jd({factory:TO,schema:OO(),name:"overflow",overrides:function(e){return{toolbarBehaviours:ss([TI.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Zd(t,e,"overflow-button").each((function(e){sh.off(e),Kp.focus(e)})),e.onClosed(t)},onGrown:function(t){jp.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Zd(t,e,"overflow-button").each(sh.on)}}),jp.config({mode:"acyclic",onEscape:function(t){return Zd(t,e,"overflow-button").each(Kp.focus),P.some(!0)}})])}}}),zd({name:"overflow-button",overrides:function(e){return{buttonBehaviours:ss([sh.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),zd({name:"overflow-group"})]),yT=function(e,t){Zd(e,t,"overflow-button").bind((function(){return Zd(e,t,"overflow")})).each((function(n){wT(e,t),TI.toggleGrow(n)}))},wT=function(e,t){Zd(e,t,"overflow").each((function(n){eT(e,t,(function(e){var t=H(e,(function(e){return Ga(e)}));TO.setGroups(n,t)})),Zd(e,t,"overflow-button").each((function(e){TI.hasGrown(n)&&sh.on(e)})),TI.refresh(n)}))},xT=hf({name:"SplitSlidingToolbar",configFields:vT(),partFields:bT(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.splitToolbarBehaviours,[fx.config({others:{overflowGroup:function(e){return mT.sketch(_(_({},o["overflow-group"]()),{items:[Xh.sketch(_(_({},o["overflow-button"]()),{action:function(t){bi(e,"alloy.toolbar.toggle")}}))]}))}}}),Gp("toolbar-toggle-events",[Oi("alloy.toolbar.toggle",(function(t){yT(t,e)}))])]),apis:{setGroups:function(t,n){!function(t,n){var o=H(n,t.getSystem().build);e.builtGroups.set(o)}(t,n),wT(t,e)},refresh:function(t){return wT(t,e)},toggle:function(t){return yT(t,e)},isOpen:function(t){return function(e,t){return Zd(e,t,"overflow").map(TI.hasGrown).getOr(!1)}(t,e)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),ST=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:_({tag:"div",classes:["tox-toolbar__group"]},t),components:[mT.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:ss([Aw.config({}),Kp.config({})])}},AT=function(e){return mT.sketch(ST(e))},CT=function(e,t){var n=Bi((function(t){var n=H(e.initGroups,AT);TO.setGroups(t,n)}));return ss([xb(e.providers.isDisabled),vb(),jp.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Gp("toolbar-events",[n])])},kT=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":ST({title:P.none(),items:[]}),"overflow-button":sk({name:"more",icon:P.some("more-drawer"),disabled:!1,tooltip:P.some("More..."),primary:!1,borderless:!1},P.none(),e.providers)},splitToolbarBehaviours:CT(e,t)}},_T=function(e){var t=kT(e),n=gT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return gT.sketch(_(_({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element,n=Tn(t),o=mt(t),r=Tn(o),i=Math.max(o.dom.scrollHeight,r.height);return On(n.x+4,r.y,n.width-8,i)},parts:_(_({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},OT=function(e){var t=xT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=xT.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=kT(e);return xT.sketch(_(_({},o),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([eI()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([eI()],{type:"closed"})}}))},IT=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return TO.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Qg.scrolling?["tox-toolbar--scrolling"]:[])},components:[TO.parts.groups({})],toolbarBehaviours:CT(e,t)})},TT=xO.optional({factory:mI,name:"menubar",schema:[jo("backstage")]}),ET=xO.optional({factory:{sketch:function(e){return _O.sketch({uid:e.uid,dom:e.dom,listBehaviours:ss([jp.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return IT({type:e.type,uid:Yi("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),P.some(!0)}})},setupItem:function(e,t,n,o){TO.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[jo("dom"),jo("onEscape")]}),DT=xO.optional({factory:{sketch:function(e){return function(e){return e.type===Qg.sliding?OT:e.type===Qg.floating?_T:IT}(e)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),P.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[jo("dom"),jo("onEscape"),jo("getSink")]}),RT=xO.optional({factory:{sketch:function(e){var t=e.editor,n=e.sticky?aI:RO;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:ss(n(t,e.sharedBackstage))}}},name:"header",schema:[jo("dom")]}),MT=xO.optional({name:"socket",schema:[jo("dom")]}),PT=xO.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ss([Aw.config({}),Kp.config({}),TI.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){yf.getCurrent(e).each(PI.hideAllSlots),bi(e,UI)},onGrown:function(e){bi(e,UI)},onStartGrow:function(e){yi(e,zI,{width:Gt(e.element,"width").getOr("")})},onStartShrink:function(e){yi(e,zI,{width:un(e.element)+"px"})}}),Wp.config({}),yf.config({find:function(e){var t=Wp.contents(e);return ae(t)}})])}],behaviours:ss([PA(0),Gp("sidebar-sliding-events",[Oi(zI,(function(e,t){zt(e.element,"width",t.event.width)})),Oi(UI,(function(e,t){Qt(e.element,"width")}))])])}}},name:"sidebar",schema:[jo("dom")]}),BT=xO.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ss([Wp.config({}),WI.config({focus:!1}),yf.config({find:function(e){return ae(e.components())}})]),components:[]}}},name:"throbber",schema:[jo("dom")]}),LT=hf({name:"OuterContainer",factory:function(e,t,n){var o={getSocket:function(t){return wO.getPart(t,e,"socket")},setSidebar:function(t,n){wO.getPart(t,e,"sidebar").each((function(e){return function(e,t){yf.getCurrent(e).each((function(e){return Wp.set(e,[NI(t)])}))}(e,n)}))},toggleSidebar:function(t,n){wO.getPart(t,e,"sidebar").each((function(e){return function(e,t){yf.getCurrent(e).each((function(e){yf.getCurrent(e).each((function(n){TI.hasGrown(e)?PI.isShowing(n,t)?TI.shrink(e):(PI.hideAllSlots(n),PI.showSlot(n,t)):(PI.hideAllSlots(n),PI.showSlot(n,t),TI.grow(e))}))}))}(e,n)}))},whichSidebar:function(t){return wO.getPart(t,e,"sidebar").bind(jI).getOrNull()},getHeader:function(t){return wO.getPart(t,e,"header")},getToolbar:function(t){return wO.getPart(t,e,"toolbar")},setToolbar:function(t,n){wO.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){wO.getPart(t,e,"multiple-toolbar").each((function(e){_O.setItems(e,n)}))},refreshToolbar:function(t){wO.getPart(t,e,"toolbar").each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){wO.getPart(t,e,"toolbar").each((function(e){var t,n;t=e.getApis().toggle,n=function(t){return t(e)},null!=t?P.some(n(t)):P.none()}))},isToolbarDrawerToggled:function(t){return wO.getPart(t,e,"toolbar").bind((function(e){return P.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(!1)},getThrobber:function(t){return wO.getPart(t,e,"throbber")},focusToolbar:function(t){wO.getPart(t,e,"toolbar").orThunk((function(){return wO.getPart(t,e,"multiple-toolbar")})).each((function(e){jp.focusIn(e)}))},setMenubar:function(t,n){wO.getPart(t,e,"menubar").each((function(e){mI.setMenus(e,n)}))},focusMenubar:function(t){wO.getPart(t,e,"menubar").each((function(e){mI.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[jo("dom"),jo("behaviours")],partFields:[RT,TT,DT,ET,MT,PT,BT],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var o=H(n,(function(e){return AT(e)}));e.setToolbar(t,o)},setToolbars:function(e,t,n){var o=H(n,(function(e){return H(e,AT)}));e.setToolbars(t,o)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),FT={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},NT=function(e){return"string"==typeof e?e.split(" "):e},jT=function(e,t){var n=_(_({},FT),t.menus),o=le(t.menus).length>0,r=void 0===t.menubar||!0===t.menubar?NT("file edit view insert format tools table help"):NT(!1===t.menubar?"":t.menubar),i=q(r,(function(e){var n=we(FT,e);return o?n||ye(t.menus,e).exists((function(e){return we(e,"items")})):n})),a=H(i,(function(o){var r=n[o];return function(e,t,n){var o=function(e){return e.getParam("removed_menuitems","")}(n).split(/[ ,]/);return{text:e.title,getItems:function(){return J(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length||z(o,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}}({title:r.title,items:NT(r.items)},t,e)}));return q(a,(function(e){return e.getItems().length>0&&z(e.getItems(),(function(e){return"separator"!==e.type}))}))},zT=function(e){var t=function(){e._skinLoaded=!0,function(e){e.fire("SkinLoaded")}(e)};return function(){e.initialized?t():e.on("init",t)}},UT=function(e,t,n){return new Ag((function(o,r){n.load(t,o,r),e.on("remove",(function(){return n.unload(t)}))}))},VT=function(e,t){return UT(e,t+"/skin.min.css",e.ui.styleSheetLoader)},HT=function(e,t){var n;return(n=Pe.fromDom(e.getElement()),_t(n).isSome())?UT(e,t+"/skin.shadowdom.min.css",Uv.DOM.styleSheetLoader):Ag.resolve()},WT=function(e,t){var n=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var o=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):Vv.baseURL+"/skins/ui/"+o}return n}(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!1===function(e){return!1===e.getParam("skin")}(t)&&r(n)?Ag.all([VT(t,n),HT(t,n)]).then(zT(t),function(e,t){return function(){return function(e,t){return e.fire("SkinLoadError",t)}(e,{message:t})}}(t,"Skin could not be loaded")):zT(t)()},GT=w(WT,!1),qT=w(WT,!0),YT=function(e,t){return function(n){var o=Ns(),r=function(){n.setActive(e.formatter.match(t));var r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?r():e.once("init",r),function(){e.off("init",r),o.clear()}}},QT=function(e,t,n){return function(o){var r=function(){return n(o)},i=function(){n(o),e.on(t,r)};return e.initialized?i():e.once("init",i),function(){e.off("init",i),e.off(t,r)}}},$T=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},KT=function(e,t){return function(){return e.execCommand(t)}},XT=function(e,t,n){var o=function(e,o,i,a){var u=t.shared.providers.translate(e.title);if("separator"===e.type)return P.some({type:"separator",text:u});if("submenu"===e.type){var s=J(e.getStyleItems(),(function(e){return r(e,o,a)}));return 0===o&&s.length<=0?P.none():P.some({type:"nestedmenuitem",text:u,disabled:s.length<=0,getSubmenuItems:function(){return J(e.getStyleItems(),(function(e){return r(e,o,a)}))}})}return P.some(_({type:"togglemenuitem",text:u,icon:e.icon,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))},r=function(e,t,r){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:o(e,t,!1,r).toArray():o(e,t,i,r).toArray()},i=function(e){var t=n.getCurrentValue(),o=n.shouldHide?0:1;return J(e,(function(e){return r(e,o,t)}))};return{validateItems:i,getFetch:function(e,t){return function(n,o){var r=t(),a=i(r);o(ok(a,$g.CLOSE_ON_EXECUTE,e,!1))}}}},JT=function(e,t,n){var o=n.dataset,r="basic"===o.type?function(){return H(o.data,(function(e){return H_(e,n.isSelectedFor,n.getPreviewFor)}))}:o.getData;return{items:XT(0,t,n),getStyleItems:r}},ZT=function(e,t,n){var o=JT(0,t,n),r=o.items,i=o.getStyleItems,a=QT(e,"NodeChange",(function(e){var t=e.getComponent();n.updateText(t)}));return XC({text:n.icon.isSome()?P.none():n.text,icon:n.icon,tooltip:P.from(n.tooltip),role:P.none(),fetch:r.getFetch(t,i),onSetup:a,getApi:function(e){return{getComponent:v(e)}},columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(Uk||(Uk={}));var eE,tE,nE,oE=function(e,t,n,o){return{type:"basic",data:function(e){return H(e,(function(e){var t=e,n=e,o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}}))}(function(e,t){return t===Uk.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")}(e.getParam(t,n,"string"),o))}},rE=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],iE=function(e){var t={type:"basic",data:rE};return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:P.none,getPreviewFor:function(e){return P.none},onAction:function(t){return function(){return $(rE,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}},updateText:function(t){var n=$(rE,(function(t){return e.formatter.match(t.format)})).fold(v("left"),(function(e){return e.title.toLowerCase()}));yi(t,KC,{icon:"align-"+n})},dataset:t,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},aE=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],uE=function(e){var t=e.split(/\s*,\s*/);return H(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},sE=function(e){var t=function(){var t=function(e){return e?uE(e)[0]:""},o=e.queryCommandValue("FontName"),r=n.data,i=o?o.toLowerCase():"";return{matchOpt:$(r,(function(e){var n=e.format;return n.toLowerCase()===i||t(n).toLowerCase()===t(i).toLowerCase()})).orThunk((function(){return ke(function(e){var t;return 0===e.indexOf("-apple-system")&&(t=uE(e.toLowerCase()),Z(aE,(function(e){return t.indexOf(e.toLowerCase())>-1})))}(i),{title:"System Font",format:i})})),font:o}},n=oE(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Uk.SemiColon);return{tooltip:"Fonts",text:P.some("System Font"),icon:P.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getCurrentValue:function(){return t().matchOpt},getPreviewFor:function(e){return function(){return P.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},updateText:function(e){var n=t(),o=n.matchOpt,r=n.font,i=o.fold(v(r),(function(e){return e.title}));yi(e,$C,{text:i})},dataset:n,shouldHide:!1,isInvalid:A}},cE={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},lE={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},dE=function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(72*parseInt(e,10)/96,t||0)+"pt":ye(lE,e).getOr(e)},fE=function(e){var t=function(){var t=P.none(),n=o.data,r=e.queryCommandValue("FontSize");if(r)for(var i=function(e){var o=dE(r,e),i=function(e){return ye(cE,e).getOr("")}(o);t=$(n,(function(e){return e.format===r||e.format===o||e.format===i}))},a=3;t.isNone()&&a>=0;a--)i(a);return{matchOpt:t,size:r}},n=v(P.none),o=oE(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",Uk.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getPreviewFor:n,getCurrentValue:function(){return t().matchOpt},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},updateText:function(e){var n=t(),o=n.matchOpt,r=n.size,i=o.fold(v(r),(function(e){return e.title}));yi(e,$C,{text:i})},dataset:o,shouldHide:!1,isInvalid:A}},mE=function(e,t){var n=t(),o=H(n,(function(e){return e.format}));return P.from(e.formatter.closest(o)).bind((function(e){return $(n,(function(t){return t.format===e}))})).orThunk((function(){return ke(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))},pE=function(e){var t=oE(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Uk.SemiColon);return{tooltip:"Blocks",text:P.some("Paragraph"),icon:P.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:P.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},onAction:$T(e),updateText:function(n){var o=mE(e,(function(){return t.data})).fold(v("Paragraph"),(function(e){return e.title}));yi(n,$C,{text:o})},dataset:t,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},hE=function(e,t){return{tooltip:"Formats",text:P.some("Paragraph"),icon:P.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:P.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return void 0!==n?P.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()}},onAction:$T(e),updateText:function(t){var n=function(e){var t=e.items;return void 0!==t&&t.length>0?J(t,n):[{title:e.title,format:e.format}]},o=J(V_(e),n),r=mE(e,v(o)).fold(v("Paragraph"),(function(e){return e.title}));yi(t,$C,{text:r})},shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},gE=Object.freeze({__proto__:null,events:function(e,t){var n=function(n,o){e.updateState.each((function(e){var r=e(n,o);t.set(r)})),e.renderComponents.each((function(e){var r=e(o,t.get()),i=H(r,n.getSystem().build);_l(n,i)}))};return Ci([Oi(Kr(),(function(t,o){var r=o;if(!r.universal){var i=e.channel;j(r.channels,i)&&n(t,r.data)}})),Bi((function(t,o){e.initialData.each((function(e){n(t,e)}))}))])}}),vE=Object.freeze({__proto__:null,getState:function(e,t,n){return n}}),bE=[jo("channel"),Qo("renderComponents"),Qo("updateState"),Qo("initialData")],yE=Object.freeze({__proto__:null,init:function(){var e=lr(P.none());return{readState:function(){return e.get().getOr("none")},get:e.get,set:e.set,clear:function(){return e.set(P.none())}}}}),wE=ls({fields:bE,name:"reflecting",active:gE,apis:vE,state:yE}),xE=v([jo("toggleClass"),jo("fetch"),bu("onExecute"),tr("getHotspot",P.some),tr("getAnchorOverrides",v({})),dc(),bu("onItemExecute"),Qo("lazySink"),jo("dom"),gu("onOpen"),dd("splitDropdownBehaviours",[fx,jp,Kp]),tr("matchWidth",!1),tr("useMinWidth",!1),tr("eventOrder",{}),Qo("role")].concat(Ox())),SE=jd({factory:Xh,schema:[jo("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:ss([Kp.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(wi)},buttonBehaviours:ss([sh.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),AE=jd({factory:Xh,schema:[jo("dom")],name:"button",defaults:function(){return{buttonBehaviours:ss([Kp.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),CE=v([SE,AE,Ud({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[jo("text")],name:"aria-descriptor"}),zd({schema:[mu()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(o){e.onItemExecute(o,t,n)}))}}}}),px()]),kE=hf({name:"SplitDropdown",configFields:xE(),partFields:CE(),factory:function(e,t,n,o){var r,i=function(e){yf.getCurrent(e).each((function(e){Wf.highlightFirst(e),jp.focusIn(e)}))},a=function(t){xx(e,b,t,o,i,qw.HighlightFirst).get(h)},u=function(t){var n=ef(t,e,"button");return wi(n),P.some(!0)},s=_(_({},Ci([Bi((function(t,n){Zd(t,e,"aria-descriptor").each((function(e){var n=Yi("aria");Mt(e.element,"id",n),Mt(t.element,"aria-describedby",n)}))}))])),lh(P.some(a))),c={repositionMenus:function(e){sh.isOn(e)&&_x(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:c,eventOrder:_(_({},e.eventOrder),(r={},r[Xr()]=["disabling","toggling","alloy.base.behaviour"],r)),events:s,behaviours:md(e.splitDropdownBehaviours,[fx.config({others:{sandbox:function(t){var n=ef(t,e,"arrow");return kx(e,t,{onOpen:function(){sh.on(n),sh.on(t)},onClose:function(){sh.off(n),sh.off(t)}})}}}),jp.config({mode:"special",onSpace:u,onEnter:u,onDown:function(e){return a(e),P.some(!0)}}),Kp.config({}),sh.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),_E=function(e){return{isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){return Mf.set(e,t)}}},OE=function(e){return{setActive:function(t){sh.set(e,t)},isActive:function(){return sh.isOn(e)},isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){return Mf.set(e,t)}}},IE=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},TE=Yi("focus-button"),EE=function(e,t,n,o,r,i){var a;return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:IE(n,i)},components:Ob([e.map((function(e){return WC(e,i.icons)})),t.map((function(e){return qC(e,"tox-tbtn",i)}))]),eventOrder:(a={},a[Tr()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:ss([xb(i.isDisabled),vb(),Gp("common-button-display-events",[Oi(Tr(),(function(e,t){t.event.prevent(),bi(e,TE)}))])].concat(o.map((function(n){return wE.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return Ob([e.icon.map((function(e){return WC(e,i.icons)})),e.text.map((function(e){return qC(e,"tox-tbtn",i)}))])}})})).toArray()).concat(r.getOr([])))}},DE=function(e,t,n){var o,r=lr(h),i=EE(e.icon,e.text,e.tooltip,P.none(),P.none(),n);return Xh.sketch({dom:i.dom,components:i.components,eventOrder:QC,buttonBehaviours:ss([Gp("toolbar-button-events",[(o={onAction:e.onAction,getApi:t.getApi},Ni((function(e,t){Sb(o,e)((function(t){yi(e,YC,{buttonApi:t}),o.onAction(t)}))}))),Ab(t,r),Cb(t,r)]),xb((function(){return e.disabled||n.isDisabled()})),vb()].concat(t.toolbarButtonBehaviours))})},RE=function(e,t,n){return DE(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Gp("toolbarButtonWith",n)]:[]),getApi:_E,onSetup:e.onSetup},t)},ME=function(e,t,n){return Kn(DE(e,{toolbarButtonBehaviours:[Wp.config({}),sh.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Gp("toolbarToggleButtonWith",n)]:[]),getApi:OE,onSetup:e.onSetup},t))},PE=function(e,t,n){return function(o){return Jw((function(e){return t.fetch(e)})).map((function(r){return P.from(ew(Kn(Py(Yi("menu-value"),r,(function(n){t.onItemAction(e(o),n)}),t.columns,t.presets,$g.CLOSE_ON_EXECUTE,t.select.getOr(A),n),{movement:Ly(t.columns,t.presets),menuBehaviours:Rv("auto"!==t.columns?[]:[Bi((function(e,n){Ev(e,4,ev(t.presets)).each((function(t){var n=t.numRows,o=t.numColumns;jp.setGridSize(e,n,o)}))}))])})))}))}},BE=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],LE=function(e,t){return function(n,o,r){var i=e(n).mapError((function(e){return Po(e)})).getOrDie();return t(i,o,r)}},FE={button:LE(Bg,(function(e,t){return n=e,o=t.backstage.shared.providers,RE(n,o,[]);var n,o})),togglebutton:LE(Ng,(function(e,t){return n=e,o=t.backstage.shared.providers,ME(n,o,[]);var n,o})),menubutton:LE(dI,(function(e,t){return ik(e,"tox-tbtn",t.backstage,P.none())})),splitbutton:LE((function(e){return Do("SplitButton",fI,e)}),(function(e,t){return function(e,t){var n,o=Yi("channel-update-split-dropdown-display"),r=function(e){return{isDisabled:function(){return Mf.isDisabled(e)},setDisabled:function(t){return Mf.set(e,t)},setIconFill:function(t,n){Za(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Mt(e,"fill",n)}))},setIconStroke:function(t,n){Za(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Mt(e,"stroke",n)}))},setActive:function(t){Mt(e.element,"aria-pressed",t),Za(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return sh.set(e,t)}))}))},isActive:function(){return Za(e.element,"span").exists((function(t){return e.getSystem().getByDom(t).exists(sh.isOn)}))}}},i=lr(h),a={getApi:r,onSetup:e.onSetup};return kE.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:_({"aria-pressed":!1},IE(e.tooltip,t.providers))},onExecute:function(t){e.onAction(r(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:ss([wb(t.providers.isDisabled),vb(),Gp("split-dropdown-events",[Oi(TE,Kp.focus),Ab(a,i),Cb(a,i)]),Rx.config({})]),eventOrder:(n={},n[si()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:PE(r,e,t.providers),parts:{menu:av(0,e.columns,e.presets)},components:[kE.parts.button(EE(e.icon,e.text,P.none(),P.some(o),P.some([sh.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),kE.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:rg("chevron-down",t.providers.icons)},buttonBehaviours:ss([wb(t.providers.isDisabled),vb(),ig()])}),kE.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})}(e,t.backstage.shared)})),grouptoolbarbutton:LE((function(e){return Do("GroupToolbarButton",sI,e)}),(function(e,t,n){var o,r=n.ui.registry.getAll().buttons,i=((o={})[cc]=t.backstage.shared.header.isPositionedAtTop()?Es.TopToBottom:Es.BottomToTop,o);switch(eb(n)){case Qg.floating:return function(e,t,n,o){var r=t.shared;return lT.sketch({lazySink:r.getSink,fetch:function(){return Jw((function(t){t(H(n(e.items),AT))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:EE(e.icon,e.text,e.tooltip,P.none(),P.none(),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})}(e,t.backstage,(function(e){return UE(n,{buttons:r,toolbar:e,allowToolbarGroups:!1},t,P.none())}),i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(e,t){return function(e,t){var n=_({type:"advanced"},t.styleselect);return ZT(e,t,hE(e,n))}(e,t.backstage)},fontsizeSelectButton:function(e,t){return function(e,t){return ZT(e,t,fE(e))}(e,t.backstage)},fontSelectButton:function(e,t){return function(e,t){return ZT(e,t,sE(e))}(e,t.backstage)},formatButton:function(e,t){return function(e,t){return ZT(e,t,pE(e))}(e,t.backstage)},alignMenuButton:function(e,t){return function(e,t){return ZT(e,t,iE(e))}(e,t.backstage)}},NE={styleselect:FE.styleSelectButton,fontsizeselect:FE.fontsizeSelectButton,fontselect:FE.fontSelectButton,formatselect:FE.formatButton,align:FE.alignMenuButton},jE=function(e){var t,n=e.toolbar,o=e.buttons;return!1===n?[]:void 0===n||!0===n?function(e){var t=H(BE,(function(t){var n=q(t.items,(function(t){return we(e,t)||we(NE,t)}));return{name:t.name,items:n}}));return q(t,(function(e){return e.items.length>0}))}(o):r(n)?(t=n.split("|"),H(t,(function(e){return{items:e.trim().split(" ")}}))):function(e){return p(e,(function(e){return we(e,"name")&&we(e,"items")}))}(n)?n:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},zE=function(e,t,n,o,r,i){return ye(t,n.toLowerCase()).orThunk((function(){return i.bind((function(e){return ce(e,(function(e){return ye(t,e+n.toLowerCase())}))}))})).fold((function(){return ye(NE,n.toLowerCase()).map((function(t){return t(e,r)})).orThunk((function(){return P.none()}))}),(function(t){return"grouptoolbarbutton"!==t.type||o?function(e,t,n){return ye(FE,e.type).fold((function(){return console.error("skipping button defined by",e),P.none()}),(function(o){return P.some(o(e,t,n))}))}(t,r,e):(console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),P.none())}))},UE=function(e,t,n,o){var r=jE(t),i=H(r,(function(r){var i=J(r.items,(function(r){return 0===r.trim().length?[]:zE(e,t.buttons,r,t.allowToolbarGroups,n,o).toArray()}));return{title:P.from(e.translate(r.name)),items:i}}));return q(i,(function(e){return e.items.length>0}))},VE=function(e,t,n,o){var i=t.outerContainer,a=n.toolbar,u=n.buttons;if(p(a,r)){var s=a.map((function(t){var r={toolbar:t,buttons:u,allowToolbarGroups:n.allowToolbarGroups};return UE(e,r,{backstage:o},P.none())}));LT.setToolbars(i,s)}else LT.setToolbar(i,UE(e,n,{backstage:o},P.none()))},HE=it(),WE=HE.os.isiOS()&&HE.os.version.major<=12,GE=Object.freeze({__proto__:null,render:function(e,t,n,o,r){var i=lr(0),a=t.outerContainer;GT(e);var s=Pe.fromDom(r.targetNode),c=kt(Ct(s));!function(e,t){Ml(e,t,mn)}(s,t.mothership),Rl(c,t.uiMothership),e.on("PostRender",(function(){VE(e,t,n,o),i.set(e.getWin().innerWidth),LT.setMenubar(a,jT(e,n)),LT.setSidebar(a,n.sidebar),function(e,t){var n=e.dom,o=e.getWin(),r=e.getDoc().documentElement,i=lr(tn(o.innerWidth,o.innerHeight)),a=lr(tn(r.offsetWidth,r.offsetHeight)),u=function(){var t=i.get();t.left===o.innerWidth&&t.top===o.innerHeight||(i.set(tn(o.innerWidth,o.innerHeight)),fy(e))},s=function(){var t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(tn(t.offsetWidth,t.offsetHeight)),fy(e))},c=function(t){return function(e,t){return e.fire("ScrollContent",t)}(e,t)};n.bind(o,"resize",u),n.bind(o,"scroll",c);var l=Vs(Pe.fromDom(e.getBody()),"load",s),d=t.uiMothership.element;e.on("hide",(function(){zt(d,"display","none")})),e.on("show",(function(){Qt(d,"display")})),e.on("NodeChange",s),e.on("remove",(function(){l.unbind(),n.unbind(o,"resize",u),n.unbind(o,"scroll",c),o=null}))}(e,t)}));var l,d,f,m=LT.getSocket(a).getOrDie("Could not find expected socket element");if(WE){Ut(m.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var p=(l=function(){e.fire("ScrollContent")},d=20,f=null,{cancel:function(){u(f)||(clearTimeout(f),f=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u(f)&&(f=setTimeout((function(){f=null,l.apply(null,e)}),d))}}),h=Us(m.element,"scroll",p.throttle);e.on("remove",h.unbind)}gb(e,t),e.addCommand("ToggleSidebar",(function(t,n){LT.toggleSidebar(a,n),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return LT.whichSidebar(a)}));var g=eb(e);g!==Qg.sliding&&g!==Qg.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var n=e.getWin().innerWidth;n!==i.get()&&(LT.refreshToolbar(t.outerContainer),i.set(n))}));var v={enable:function(){hb(t,!1)},disable:function(){hb(t,!0)},isDisabled:function(){return Mf.isDisabled(a)}};return{iframeContainer:m.element.dom,editorContainer:a.element.dom,api:v}}}),qE=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?P.some(parseInt(""+e,10)):P.none()},YE=function(e){return m(e)?e+"px":e},QE=function(e,t,n){var o=t.filter((function(t){return e<t})),r=n.filter((function(t){return e>t}));return o.or(r).getOr(e)},$E=function(e){return function(e){var t=Hv(e),n=qv(e),o=Qv(e);return qE(t).map((function(e){return QE(e,n,o)}))}(e).getOr(Hv(e))},KE=function(e){var t=Wv(e),n=Gv(e),o=Yv(e);return qE(t).map((function(e){return QE(e,n,o)}))},XE=function(e,t,n,o,r){var i=n.uiMothership,a=n.outerContainer,u=Uv.DOM,s=ab(e),c=cb(e),l=Yv(e).or(KE(e)),d=o.shared.header,f=d.isPositionedAtTop,m=eb(e),p=m===Qg.sliding||m===Qg.floating,h=lr(!1),g=function(){return h.get()&&!e.removed},b=function(e){return p?e.fold(v(0),(function(e){return e.components().length>1?Jt(e.components()[1].element):0})):0},y=function(){i.broadcastOn([ql()],{})},w=function(e){if(void 0===e&&(e=!1),g()){var n;if(s||(n=l.getOrThunk((function(){var e=qE(Ht(Et(),"margin-left")).getOr(0);return un(Et())-on(t).left+e})),zt(r.get().element,"max-width",n+"px")),p&&LT.refreshToolbar(a),s||function(){var e=LT.getToolbar(a),n=b(e),o=In(t),i=f()?Math.max(o.y-Jt(r.get().element)+n,0):o.bottom;Ut(a.element,{position:"absolute",top:Math.round(i)+"px",left:Math.round(o.x)+"px"})}(),c){var o=r.get();e?ZO.reset(o):ZO.refresh(o)}y()}},x=function(n){if(void 0===n&&(n=!0),!s&&c&&g()){var o=d.getDockingMode(),i=function(n){switch(ob(e)){case Zv.auto:var o=LT.getToolbar(a),r=b(o),i=Jt(n.element)-r,u=In(t);if(u.y>i)return"top";var s=mt(t),c=Math.max(s.dom.scrollHeight,Jt(s));return u.bottom<c-i||En().bottom<u.bottom-i?"bottom":"top";case Zv.bottom:return"bottom";case Zv.top:default:return"top"}}(r.get());i!==o&&(!function(e){var t=r.get();ZO.setModes(t,[e]),d.setDockingMode(e);var n=f()?Es.TopToBottom:Es.BottomToTop;Mt(t.element,cc,n)}(i),n&&w(!0))}};return{isVisible:g,isPositionedAtTop:f,show:function(){h.set(!0),zt(a.element,"display","flex"),u.addClass(e.getBody(),"mce-edit-focus"),Qt(i.element,"display"),x(!1),w()},hide:function(){h.set(!1),n.outerContainer&&(zt(a.element,"display","none"),u.removeClass(e.getBody(),"mce-edit-focus")),zt(i.element,"display","none")},update:w,updateMode:x,repositionPopups:y}},JE=function(e,t){var n=In(e);return{pos:t?n.y:n.bottom,bounds:n}},ZE=Object.freeze({__proto__:null,render:function(e,t,n,o,r){var i=t.mothership,a=t.uiMothership,u=t.outerContainer,s=lr(null),c=Pe.fromDom(r.targetNode),l=XE(e,c,t,o,s),d=function(e){return e.getParam("toolbar_persist",!1,"boolean")}(e);qT(e);var f=function(){if(s.get())l.show();else{s.set(LT.getHeader(u).getOrDie());var r=ub(e);Rl(r,i),Rl(r,a),VE(e,t,n,o),LT.setMenubar(u,jT(e,n)),l.show(),function(e,t,n,o){var r=lr(JE(t,n.isPositionedAtTop())),i=function(o){var i=JE(t,n.isPositionedAtTop()),a=i.pos,u=i.bounds,s=r.get(),c=s.pos,l=s.bounds,d=u.height!==l.height||u.width!==l.width;r.set({pos:a,bounds:u}),d&&fy(e,o),n.isVisible()&&(c!==a?n.update(!0):d&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){Kh.requestAnimationFrame((function(){return i(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()}));var a=Ns();a.set(Vs(Pe.fromDom(e.getBody()),"load",i)),e.on("remove",(function(){a.clear()}))}(e,c,l,d),e.nodeChanged()}},m=function(){return Kh.setEditorTimeout(e,f,0)};e.on("show",f),e.on("hide",l.hide),d||(e.on("focus",m),e.on("blur",l.hide)),e.on("init",(function(){(e.hasFocus()||d)&&m()})),gb(e,t);var p={show:function(){l.show()},hide:function(){l.hide()},enable:function(){hb(t,!1)},disable:function(){hb(t,!0)},isDisabled:function(){return Mf.isDisabled(u)}};return{editorContainer:u.element.dom,api:p}}}),eD=function(e,t){return Oi(YC,(function(n,o){var r=function(e){return{hide:function(){return bi(e,ti())},getValue:function(){return ld.getValue(e)}}}(e.get(n));t.onAction(r,o.event.buttonApi)}))},tD=function(e,t,n){var o={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?function(e,t,n){var o=t.original;o.primary;var r=O(o,["primary"]),i=Ro(Ng(_(_({},r),{type:"togglebutton",onAction:h})));return ME(i,n.backstage.shared.providers,[eD(e,t)])}(e,t,o):function(e,t,n){var o=t.original;o.primary;var r=O(o,["primary"]),i=Ro(Bg(_(_({},r),{type:"button",onAction:h})));return RE(i,n.backstage.shared.providers,[eD(e,t)])}(e,t,o)},nD=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),o=Jh(Hw.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:ss([jp.config({mode:"special",onEnter:function(e){return r.findPrimary(e).map((function(e){return wi(e),!0}))},onLeft:function(e,t){return t.cut(),P.none()},onRight:function(e,t){return t.cut(),P.none()}})])})),r=function(e,t,n){var o=H(t,(function(t){return Jh(tD(e,t,n))}));return{asSpecs:function(){return H(o,(function(e){return e.asSpec()}))},findPrimary:function(e){return ce(t,(function(t,n){return t.primary?P.from(o[n]).bind((function(t){return t.getOpt(e)})).filter(x(Mf.isDisabled)):P.none()}))}}}(o,e.commands,t);return[{title:P.none(),items:[o.asSpec()]},{title:P.none(),items:r.asSpecs()}]},oD=nD,rD=function(e,t,n){return void 0===n&&(n=.01),t.bottom-e.y>=n&&e.bottom-t.y>=n},iD=function(e){var t=function(e){var t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){var n=wt(Pe.fromDom(e.startContainer),e.startOffset).element;return(je(n)?ht(n):P.some(n)).filter(Ne).map((function(e){return e.dom.getBoundingClientRect()})).getOr(t)}return t}(e.selection.getRng());if(e.inline){var n=wn();return On(n.left+t.left,n.top+t.top,t.width,t.height)}var o=Tn(Pe.fromDom(e.getBody()));return On(o.x+t.left,o.y+t.top,t.width,t.height)},aD=function(e,t,n,o){void 0===o&&(o=0);var r=An(window),i=In(Pe.fromDom(e.getContentAreaContainer())),a=$v(e)||Kv(e)||Jv(e),u=function(e,t,n){var o=Math.max(e.x+n,t.x);return{x:o,width:Math.min(e.right-n,t.right)-o}}(i,r,o),s=u.x,c=u.width;if(e.inline&&!a)return On(s,r.y,c,r.height);var l=function(e,t,n,o,r,i){var a=Pe.fromDom(e.getContainer()),u=Za(a,".tox-editor-header").getOr(a),s=In(u),c=s.y>=t.bottom,l=o&&!c;if(e.inline&&l)return{y:Math.max(s.bottom+i,n.y),bottom:n.bottom};if(e.inline&&!l)return{y:n.y,bottom:Math.min(s.y-i,n.bottom)};var d="line"===r?In(a):t;return l?{y:Math.max(s.bottom+i,n.y),bottom:Math.min(d.bottom-i,n.bottom)}:{y:Math.max(d.y+i,n.y),bottom:Math.min(s.y-i,n.bottom)}}(e,i,r,t.header.isPositionedAtTop(),n,o),d=l.y,f=l.bottom;return On(s,d,c,f-d)},uD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},sD={maxHeightFunction:ec(),maxWidthFunction:rT()},cD=function(e){return"node"===e},lD=function(e,t,n,o,r){var i=iD(e),a=o.lastElement().exists((function(e){return st(n,e)}));return function(e,t){var n=e.selection.getRng(),o=wt(Pe.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&st(o.element,t)}(e,n)?a?Yh:Vh:a?function(e,t,n){var o=Gt(e,"position");zt(e,"position",t);var r=n(e);return o.each((function(t){return zt(e,"position",t)})),r}(t,o.getMode(),(function(){return rD(i,In(t))&&!o.isReposition()?$h:Yh})):("fixed"===o.getMode()?r.y+wn().top:r.y)+(Jt(t)+12)<=i.y?Vh:Hh},dD=function(e,t,n,o){var r=function(t){return function(o,r,i,a,u){var s=lD(e,a,t,n,u),c=_(_({},o),{y:u.y,height:u.height});return _(_({},s(c,r,i,a,u)),{alwaysFit:!0})}},i=function(e){return cD(o)?[r(e)]:[]};return t?{onLtr:function(e){return[Yu,Vu,Hu,Wu,Gu,qu].concat(i(e))},onRtl:function(e){return[Yu,Hu,Vu,Gu,Wu,qu].concat(i(e))}}:{onLtr:function(e){return[qu,Yu,Wu,Vu,Gu,Hu].concat(i(e))},onRtl:function(e){return[qu,Yu,Gu,Hu,Wu,Vu].concat(i(e))}}},fD=function(e,t){var n=q(t,(function(t){return t.predicate(e.dom)})),o=G(n,(function(e){return"contexttoolbar"===e.type}));return{contextToolbars:o.pass,contextForms:o.fail}},mD=function(e,t,n){var o=fD(e,t);if(o.contextForms.length>0)return P.some({elem:e,toolbars:[o.contextForms[0]]});var r=fD(e,n);if(r.contextForms.length>0)return P.some({elem:e,toolbars:[r.contextForms[0]]});if(o.contextToolbars.length>0||r.contextToolbars.length>0){var i=function(e){if(e.length<=1)return e;var t=function(t){return z(e,(function(e){return e.position===t}))},n=function(t){return q(e,(function(e){return e.position===t}))},o=t("selection"),r=t("node");if(o||r){if(r&&o){var i=n("node"),a=H(n("selection"),(function(e){return _(_({},e),{position:"node"})}));return i.concat(a)}return n(o?"selection":"node")}return n("line")}(o.contextToolbars.concat(r.contextToolbars));return P.some({elem:e,toolbars:i})}return P.none()},pD=function(e,t,n){return e(t)?P.none():br(t,(function(e){if(Ne(e)){var t=fD(e,n.inNodeScope),o=t.contextToolbars,r=t.contextForms,i=r.length>0?r:function(e){if(e.length<=1)return e;var t=function(t){return $(e,(function(e){return e.position===t}))};return t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position})).fold((function(){return[]}),(function(t){return q(e,(function(e){return e.position===t}))}))}(o);return i.length>0?P.some({elem:e,toolbars:i}):P.none()}return P.none()}),e)},hD=function(e,t){var n={},o=[],r=[],i={},a={},u=function(e,u){var s=Ro(Do("ContextForm",Gg,u));n[e]=s,s.launch.map((function(n){i["form:"+e]=_(_({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(s)}})})),"editor"===s.scope?r.push(s):o.push(s),a[e]=s},s=function(e,t){var n;(n=t,Do("ContextToolbar",qg,n)).each((function(n){"editor"===t.scope?r.push(n):o.push(n),a[e]=n}))},c=le(e);return W(c,(function(t){var n=e[t];"contextform"===n.type?u(t,n):"contexttoolbar"===n.type&&s(t,n)})),{forms:n,inNodeScope:o,inEditorScope:r,lookupTable:a,formNavigators:i}},gD=Yi("forward-slide"),vD=Yi("backward-slide"),bD=Yi("change-slide-event"),yD=function(e,t,n,o){var r,i,a=o.backstage,u=a.shared,s=it().deviceType.isTouch,c=js(),l=js(),d=js(),f=Wa((r={sink:n,onEscape:function(){return e.focus(),P.some(!0)}},i=lr([]),Dh.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){i.set([]),Dh.getContent(e).each((function(e){Qt(e.element,"visibility")})),Ia(e.element,"tox-pop--resizing"),Qt(e.element,"width")},inlineBehaviours:ss([Gp("context-toolbar-events",[Pi(Vr(),(function(e,t){"width"===t.event.raw.propertyName&&(Ia(e.element,"tox-pop--resizing"),Qt(e.element,"width"))})),Oi(bD,(function(e,t){var n=e.element;Qt(n,"width");var o=un(n);Dh.setContent(e,t.event.contents),_a(n,"tox-pop--resizing");var r=un(n);zt(n,"width",o+"px"),Dh.getContent(e).each((function(e){t.event.focus.bind((function(e){return vs(e),ws(n)})).orThunk((function(){return jp.focusIn(e),ys(Ct(n))}))})),Kh.setTimeout((function(){zt(e.element,"width",r+"px")}),0)})),Oi(gD,(function(e,t){Dh.getContent(e).each((function(t){i.set(i.get().concat([{bar:t,focus:ys(Ct(e.element))}]))})),yi(e,bD,{contents:t.event.forwardContents,focus:P.none()})})),Oi(vD,(function(e,t){ue(i.get()).each((function(t){i.set(i.get().slice(0,i.get().length-1)),yi(e,bD,{contents:Ga(t.bar),focus:t.focus})}))}))]),jp.config({mode:"special",onEscape:function(e){return ue(i.get()).fold((function(){return r.onEscape()}),(function(t){return bi(e,vD),P.some(!0)}))}})]),lazySink:function(){return Mn.value(r.sink)}}))),m=function(){var t=d.get().getOr("node"),n=cD(t)?1:0;return aD(e,u,t,n)},p=function(){return!(e.removed||s()&&a.isContextMenuOpen())},g=function(){if(p()){var t=m(),n=Se(d.get(),"node")?function(e,t){return t.filter(Tt).map(Tn).getOrThunk((function(){return iD(e)}))}(e,c.get()):iD(e);return t.height<=0||!rD(n,t)}return!0},v=function(){c.clear(),l.clear(),d.clear(),Dh.hide(f)},b=function(){if(Dh.isOpen(f)){var e=f.element;Qt(e,"display"),g()?zt(e,"display","none"):(l.set(0),Dh.reposition(f))}},y=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:ss([jp.config({mode:"acyclic"}),Gp("pop-dialog-wrap-events",[Bi((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return jp.focusIn(t)}))})),Li((function(t){e.shortcuts.remove("ctrl+F9")}))])])}},w=Ve((function(){return hD(t,(function(e){var t=x([e]);yi(f,gD,{forwardContents:y(t)})}))})),x=function(t){var n=e.ui.registry.getAll().buttons,r=w(),i=_(_({},n),r.formNavigators),a=eb(e)===Qg.scrolling?Qg.scrolling:Qg.default,s=X(H(t,(function(t){return"contexttoolbar"===t.type?function(t,n){return UE(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o,P.some(["form:"]))}(i,t):function(e,t){return oD(e,t)}(t,u.providers)})));return IT({type:a,uid:Yi("context-toolbar"),initGroups:s,onEscape:P.none,cyclicKeying:!0,providers:u.providers})},S=function(t,o){var r="node"===t?u.anchors.node(o):u.anchors.cursor(),i=function(e,t,n,o){return"line"===t?{bubble:rc(12,0,uD),layouts:{onLtr:function(){return[Qu]},onRtl:function(){return[$u]}},overrides:sD}:{bubble:rc(0,12,uD,1/12),layouts:dD(e,n,o,t),overrides:sD}}(e,t,s(),{lastElement:c.get,isReposition:function(){return Se(l.get(),0)},getMode:function(){return Sl.getMode(n)}});return Kn(r,i)},A=function(e,t){if(C.cancel(),p()){var o=x(e),r=e[0].position,i=S(r,t);d.set(r),l.set(1);var a=f.element;Qt(a,"display"),function(e){return Se(Ce(e,c.get(),st),!0)}(t)||(Ia(a,"tox-pop--transition"),Sl.reset(n,f)),Dh.showWithinBounds(f,y(o),{anchor:i,transition:{classes:["tox-pop--transition"],mode:"placement"}},(function(){return P.some(m())})),t.fold(c.clear,c.set),g()&&zt(a,"display","none")}},C=fg((function(){e.hasFocus()&&!e.removed&&(Ta(f.element,"tox-pop--transition")?C.throttle():function(e,t){var n=Pe.fromDom(t.getBody()),o=function(e){return st(e,n)},r=Pe.fromDom(t.selection.getNode());return function(e){return!o(e)&&!lt(n,e)}(r)?P.none():mD(r,e.inNodeScope,e.inEditorScope).orThunk((function(){return pD(o,r,e)}))}(w(),e).fold(v,(function(e){A(e.toolbars,P.some(e.elem))})))}),17);e.on("init",(function(){e.on("remove",v),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",b),e.on("click keyup focus SetContent",C.throttle),e.on("contexttoolbar-hide",v),e.on("contexttoolbar-show",(function(t){var n=w();ye(n.lookupTable,t.toolbarKey).each((function(n){A([n],ke(t.target!==e,t.target)),Dh.getContent(f).each(jp.focusIn)}))})),e.on("focusout",(function(t){Kh.setEditorTimeout(e,(function(){ws(n.element).isNone()&&ws(f.element).isNone()&&v()}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&v()})),e.on("AfterProgressState",(function(t){t.state?v():e.hasFocus()&&C.throttle()})),e.on("NodeChange",(function(e){ws(f.element).fold(C.throttle,h)}))}))},wD={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},xD=(tE=["Infinity","[0-9]+\\."+(eE=function(e){return"(?:"+e+")?"})("[0-9]+")+eE("[eE][+-]?[0-9]+"),"\\.[0-9]+"+eE("[eE][+-]?[0-9]+"),"[0-9]+"+eE("[eE][+-]?[0-9]+")].join("|"),new RegExp("^([+-]?(?:"+tE+"))(.*)$")),SD=function(e,t){return P.from(xD.exec(e)).bind((function(e){var n=Number(e[1]),o=e[2];return function(e,t){return z(t,(function(t){return z(wD[t],(function(t){return e===t}))}))}(o,t)?P.some({value:n,unit:o}):P.none()}))},AD=function(e,t){var n=function(){var n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),r=js();return H(n,(function(n){return{type:"togglemenuitem",text:t.display(n),onSetup:function(i){var a=function(e){e&&(r.on((function(e){return e.setActive(!1)})),r.set(i)),i.setActive(e)};a(Se(o,t.hash(n)));var u=t.watcher(e,n,a);return function(){r.clear(),u()}},onAction:function(){return t.setCurrent(e,n)}}}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:function(e){return e(n())},onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},CD={name:"lineheight",text:"Line height",icon:"line-height",getOptions:function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},hash:function(e){return function(e,t){return SD(e,t).map((function(e){return e.value+e.unit}))}(e,["fixed","relative","empty"]).getOr(e)},display:b,watcher:function(e,t,n){return e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind},getCurrent:function(e){return P.from(e.queryCommandValue("LineHeight"))},setCurrent:function(e,t){return e.execCommand("LineHeight",!1,t)}},kD=function(e){AD(e,CD),function(e){return P.from(function(e){return e.getParam("content_langs",void 0,"array")}(e)).map((function(t){return{name:"language",text:"Language",icon:"language",getOptions:v(t),hash:function(e){return c(e.customCode)?e.code:e.code+"/"+e.customCode},display:function(e){return e.title},watcher:function(e,t,n){return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:t.customCode}).unbind},getCurrent:function(e){var t=Pe.fromDom(e.selection.getNode());return yr(t,(function(e){return P.some(e).filter(Ne).bind((function(e){return Bt(e,"lang").map((function(t){return{code:t,customCode:Bt(e,"data-mce-lang").getOrUndefined(),title:""}}))}))}))},setCurrent:function(e,t){return e.execCommand("Lang",!1,t)},onToolbarSetup:function(t){var n=Ns();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),n.clear}}}))}(e).each((function(t){return AD(e,t)}))},_D=function(e,t){!function(e,t){var n=JT(0,t,iE(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=JT(0,t,sE(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=_({type:"advanced"},t.styleselect),o=JT(0,t,hE(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})}(e,t),function(e,t){var n=JT(0,t,pE(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t),function(e,t){var n=JT(0,t,fE(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(e,t)},OD=function(e){return QT(e,"NodeChange",(function(t){t.setDisabled(!e.queryCommandState("outdent"))}))},ID=function(e){!function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:OD(e),onAction:KT(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:KT(e,"indent")})}(e)},TD=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},ED=function(e){!function(e){NA.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:YT(e,t.name),onAction:TD(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:YT(e,n),onAction:TD(e,n)})}}(e),function(e){NA.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:KT(e,t.action)})}))}(e),function(e){NA.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:KT(e,t.action),onSetup:YT(e,t.name)})}))}(e)},DD=function(e){ED(e),function(e){NA.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:KT(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:TD(e,"code")})}(e)},RD=function(e,t){return QT(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(n){n.setDisabled(e.mode.isReadOnly()||!e.undoManager[t]())}))},MD=function(e){!function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:RD(e,"hasUndo"),onAction:KT(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:RD(e,"hasRedo"),onAction:KT(e,"redo")})}(e),function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:RD(e,"hasUndo"),onAction:KT(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:RD(e,"hasRedo"),onAction:KT(e,"redo")})}(e)},PD=function(e){return QT(e,"VisualAid",(function(t){t.setActive(e.hasVisual)}))},BD=function(e){!function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:KT(e,"mceToggleVisualAid")})}(e),function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:PD(e),onAction:KT(e,"mceToggleVisualAid")})}(e)},LD=function(e,t){!function(e){W([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:KT(e,t.cmd),onSetup:YT(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:KT(e,"JustifyNone")})}(e),DD(e),_D(e,t),MD(e),function(e){!function(e){e.addCommand("mceApplyTextcolor",(function(t,n){!function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))}(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){!function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))}(e,t)}))}(e);var t=lr(null),n=lr(null);Dy(e,"forecolor","forecolor","Text color",t),Dy(e,"backcolor","hilitecolor","Background color",n),Ry(e,"forecolor","forecolor","Text color"),Ry(e,"backcolor","hilitecolor","Background color")}(e),BD(e),ID(e),kD(e)},FD=function(e,t){return{type:"makeshift",x:e,y:t}},ND=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},jD=function(e,t){var n=Uv.DOM.getPos(e);return function(e,t,n){return FD(e.x+t,e.y+n)}(t,n.x,n.y)},zD=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?function(e){if(ND(e)){var t=e.touches[0];return FD(t.pageX,t.pageY)}return FD(e.pageX,e.pageY)}(t):jD(e.getContentAreaContainer(),function(e){if(ND(e)){var t=e.touches[0];return FD(t.clientX,t.clientY)}return FD(e.clientX,e.clientY)}(t)):UD(e)},UD=function(e){return{type:"selection",root:Pe.fromDom(e.selection.getNode())}},VD=function(e,t,n){switch(n){case"node":return function(e){return{type:"node",node:P.some(Pe.fromDom(e.selection.getNode())),root:Pe.fromDom(e.getBody())}}(e);case"point":return zD(e,t);case"selection":return UD(e)}},HD=function(e,t,n,o,r,i){var a=n(),u=VD(e,t,i);ok(a,$g.CLOSE_ON_EXECUTE,o,!1).map((function(e){t.preventDefault(),Dh.showMenuAt(r,{anchor:u},{menu:{markers:ov("normal")},data:e})}))},WD={onLtr:function(){return[Yu,Vu,Hu,Wu,Gu,qu,Vh,Hh,Uh,jh,zh,Nh]},onRtl:function(){return[Yu,Hu,Vu,Gu,Wu,qu,Vh,Hh,zh,Nh,Uh,jh]}},GD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},qD=function(e,t,n,o,r,i,a){var u=function(e,t,n){var o=VD(e,t,n);return _({bubble:rc(0,"point"===n?12:0,GD),layouts:WD,overrides:{maxWidthFunction:rT(),maxHeightFunction:ec()}},o)}(e,t,i);ok(n,$g.CLOSE_ON_EXECUTE,o,!0).map((function(n){t.preventDefault(),Dh.showMenuWithinBounds(r,{anchor:u},{menu:{markers:ov("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return P.some(aD(e,o.shared,"node"===i?"node":"selection"))})),e.fire("contexttoolbar-hide")}))},YD=function(e,t,n,o,r,i){var a=it(),u=a.os.isiOS(),s=a.os.isOSX(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),d=function(){var a=n();qD(e,t,a,o,r,i,!(c||u||s&&l))};if((s||u)&&"node"!==i){var f=function(){!function(e){var t=e.selection.getRng(),n=function(){Kh.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10),i()};e.once("touchend",n);var o=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);var r=function(){return i()};e.once("longpresscancel",r);var i=function(){e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",o)}}(e),d()};!function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var o=t.touches[0],r=n.getRng();return $c(e.getWin(),Ec.domRange(r)).exists((function(e){return e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY}))}(e,t)?(e.once("selectionchange",f),e.once("touchend",(function(){return e.off("selectionchange",f)}))):f()}else d()},QD=function(e){return"string"==typeof e?e.split(/[ ,]/):e},$D=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},KD=function(e){return function(e,t,n){var o=e.ui.registry.getAll().contextMenus;return P.from(e.getParam(t)).map(QD).getOrThunk((function(){return q(QD(n),(function(e){return we(o,e)}))}))}(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},XD=function(e){return r(e)?"|"===e:"separator"===e.type},JD={type:"separator"},ZD=function(e){var t,n=function(e){return{text:e.text,icon:e.icon,disabled:e.disabled,shortcut:e.shortcut}};if(r(e))return e;switch(e.type){case"separator":return JD;case"submenu":return _(_({type:"nestedmenuitem"},n(e)),{getSubmenuItems:function(){var t=e.getSubmenuItems();return r(t)?t:H(t,ZD)}});default:return _(_({type:"menuitem"},n(e)),{onAction:(t=e.onAction,function(){return t()})})}},eR=function(e,t){if(0===t.length)return e;var n=ue(e).filter((function(e){return!XD(e)})).fold((function(){return[]}),(function(e){return[JD]}));return e.concat(n).concat(t).concat([JD])},tR=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},nR=function(e,t){return tR(e,t)?e.selection.getStart(!0):t.target},oR=function(e,t,n){var o=it().deviceType.isTouch,i=Wa(Dh.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:ss([Gp("dismissContextMenu",[Oi(li(),(function(t,n){Wl.close(t),e.focus()}))])])})),a=function(e){return Dh.hide(i)},u=function(t){if($D(e)&&t.preventDefault(),!function(e,t){return t.ctrlKey&&!$D(e)}(e,t)&&!function(e){return!1===e.getParam("contextmenu")}(e)){var a=function(e,t){var n=function(e){return e.getParam("contextmenu_avoid_overlap","","string")}(e),o=tR(e,t)?"selection":"point";if(De(n)){var r=nR(e,t);return nw(Pe.fromDom(r),n)?"node":o}return o}(e,t);(o()?YD:HD)(e,t,(function(){var n=nR(e,t),o=e.ui.registry.getAll(),i=KD(e);return function(e,t,n){var o=Q(t,(function(t,o){return ye(e,o.toLowerCase()).map((function(e){var o=e.update(n);if(r(o))return eR(t,o.split(" "));if(o.length>0){var i=H(o,ZD);return eR(t,i)}return t})).getOrThunk((function(){return t.concat([o])}))}),[]);return o.length>0&&XD(o[o.length-1])&&o.pop(),o}(o.contextMenus,i,n)}),n,i,a)}};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",u)}))},rR=dr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),iR=function(e){return function(t){return t.translate(-e.left,-e.top)}},aR=function(e){return function(t){return t.translate(e.left,e.top)}},uR=function(e){return function(t,n){return Q(e,(function(e,t){return t(e)}),tn(t,n))}},sR=function(e,t,n){return e.fold(uR([aR(n),iR(t)]),uR([iR(t)]),uR([]))},cR=function(e,t,n){return e.fold(uR([aR(n)]),uR([]),uR([aR(t)]))},lR=function(e,t,n){return e.fold(uR([]),uR([iR(n)]),uR([aR(t),iR(n)]))},dR=function(e,t,n){var o=e.fold((function(e,t){return{position:P.some("absolute"),left:P.some(e+"px"),top:P.some(t+"px")}}),(function(e,t){return{position:P.some("absolute"),left:P.some(e-n.left+"px"),top:P.some(t-n.top+"px")}}),(function(e,t){return{position:P.some("fixed"),left:P.some(e+"px"),top:P.some(t+"px")}}));return _({right:P.none(),bottom:P.none()},o)},fR=function(e,t,n,o){var r=function(e,r){return function(i,a){var u=e(t,n,o);return r(i.getOr(u.left),a.getOr(u.top))}};return e.fold(r(lR,mR),r(cR,pR),r(sR,hR))},mR=rR.offset,pR=rR.absolute,hR=rR.fixed,gR=function(e,t){var n=Pt(e,t);return c(n)?NaN:parseInt(n,10)},vR=function(e,t,n,o){return function(e,t){var n=e.element,o=gR(n,t.leftAttr),r=gR(n,t.topAttr);return isNaN(o)||isNaN(r)?P.none():P.some(tn(o,r))}(e,t).fold((function(){return n}),(function(e){return hR(e.left+o.left,e.top+o.top)}))},bR=function(e,t,n,o,r,i){var a=vR(e,t,n,o),u=t.mustSnap?xR(e,t,a,r,i):SR(e,t,a,r,i),s=sR(a,r,i);return function(e,t,n){var o=e.element;Mt(o,t.leftAttr,n.left+"px"),Mt(o,t.topAttr,n.top+"px")}(e,t,s),u.fold((function(){return{coord:hR(s.left,s.top),extra:P.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))},yR=function(e,t){!function(e,t){var n=e.element;Ft(n,t.leftAttr),Ft(n,t.topAttr)}(e,t)},wR=function(e,t,n,o){return ce(e,(function(e){var r=e.sensor;return function(e,t,n,o,r,i){var a=cR(e,r,i),u=cR(t,r,i);return Math.abs(a.left-u.left)<=n&&Math.abs(a.top-u.top)<=o}(t,r,e.range.left,e.range.top,n,o)?P.some({output:fR(e.output,t,n,o),extra:e.extra}):P.none()}))},xR=function(e,t,n,o,r){var i=t.getSnapPoints(e);return wR(i,n,o,r).orThunk((function(){return Q(i,(function(e,t){var i=t.sensor,a=function(e,t,n,o,r,i){var a=cR(e,r,i),u=cR(t,r,i),s=Math.abs(a.left-u.left),c=Math.abs(a.top-u.top);return tn(s,c)}(n,i,t.range.left,t.range.top,o,r);return e.deltas.fold((function(){return{deltas:P.some(a),snap:P.some(t)}}),(function(n){return(a.left+a.top)/2<=(n.left+n.top)/2?{deltas:P.some(a),snap:P.some(t)}:e}))}),{deltas:P.none(),snap:P.none()}).snap.map((function(e){return{output:fR(e.output,n,o,r),extra:e.extra}}))}))},SR=function(e,t,n,o,r){var i=t.getSnapPoints(e);return wR(i,n,o,r)},AR=Object.freeze({__proto__:null,snapTo:function(e,t,n,o){var r=t.getTarget(e.element);if(t.repositionTarget){var i=dt(e.element),a=wn(i),u=BO(r),s=function(e,t,n){return{coord:fR(e.output,e.output,t,n),extra:e.extra}}(o,a,u),c=dR(s.coord,0,u);Vt(r,c)}}}),CR=function(e,t){e.getSystem().addToGui(t),function(e){ht(e.element).filter(Ne).each((function(t){Gt(t,"z-index").each((function(e){Mt(t,"data-initial-z-index",e)})),zt(t,"z-index",Ht(e.element,"z-index"))}))}(t)},kR=function(e){!function(e){ht(e.element).filter(Ne).each((function(e){Bt(e,"data-initial-z-index").fold((function(){return Qt(e,"z-index")}),(function(t){return zt(e,"z-index",t)})),Ft(e,"data-initial-z-index")}))}(e),e.getSystem().removeFromGui(e)},_R=function(e,t,n){return e.getSystem().build(gw.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},OR=er("snaps",[jo("getSnapPoints"),gu("onSensor"),jo("leftAttr"),jo("topAttr"),tr("lazyViewport",En),tr("mustSnap",!1)]),IR=[tr("useFixed",A),jo("blockerClass"),tr("getTarget",b),tr("onDrag",h),tr("repositionTarget",!0),tr("onDrop",h),ur("getBounds",En),OR],TR=function(e){return(t=Gt(e,"left"),n=Gt(e,"top"),o=Gt(e,"position"),r=function(e,t,n){return("fixed"===n?hR:mR)(parseInt(e,10),parseInt(t,10))},t.isSome()&&n.isSome()&&o.isSome()?P.some(r(t.getOrDie(),n.getOrDie(),o.getOrDie())):P.none()).getOrThunk((function(){var t=on(e);return pR(t.left,t.top)}));var t,n,o,r},ER=function(e,t,n,o,r,i,a){return function(e,t,n,o,r){var i=r.bounds,a=cR(t,n,o),u=Pu(a.left,i.x,i.x+i.width-r.width),s=Pu(a.top,i.y,i.y+i.height-r.height),c=pR(u,s);return t.fold((function(){var e=lR(c,n,o);return mR(e.left,e.top)}),v(c),(function(){var e=sR(c,n,o);return hR(e.left,e.top)}))}(0,t.fold((function(){var e,t,a,u=(e=n,t=i.left,a=i.top,e.fold((function(e,n){return mR(e+t,n+a)}),(function(e,n){return pR(e+t,n+a)}),(function(e,n){return hR(e+t,n+a)}))),s=sR(u,o,r);return hR(s.left,s.top)}),(function(t){var a=bR(e,t,n,i,o,r);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord})),o,r,a)},DR=function(e,t){return{bounds:e.getBounds(),height:Zt(t.element),width:sn(t.element)}},RR=function(e,t,n,o,r){var i=n.update(o,r),a=n.getStartData().getOrThunk((function(){return DR(t,e)}));i.each((function(n){!function(e,t,n,o){var r=t.getTarget(e.element);if(t.repositionTarget){var i=dt(e.element),a=wn(i),u=BO(r),s=TR(r),c=ER(e,t.snaps,s,a,u,o,n),l=dR(c,0,u);Vt(r,l)}t.onDrag(e,r,o)}(e,t,a,n)}))},MR=function(e,t,n,o){t.each(kR),n.snaps.each((function(t){yR(e,t)}));var r=n.getTarget(e.element);o.reset(),n.onDrop(e,r)},PR=function(e){return function(t,n){var o=function(e){n.setStartData(DR(t,e))};return Ci(I([Oi(ai(),(function(e){n.getStartData().each((function(){return o(e)}))}))],e(t,n,o),!0))}},BR=Object.freeze({__proto__:null,getData:function(e){return P.from(tn(e.x,e.y))},getDelta:function(e,t){return tn(t.left-e.left,t.top-e.top)}}),LR=function(e,t,n){return[Oi(Tr(),(function(o,r){if(0===r.event.raw.button){r.stop();var i=function(){return MR(o,P.some(s),e,t)},a=ow(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),RR(o,e,t,BR,n)}},s=_R(o,e.blockerClass,function(e){return Ci([Oi(Tr(),e.forceDrop),Oi(Rr(),e.drop),Oi(Er(),(function(t,n){e.move(n.event)})),Oi(Dr(),e.delayDrop)])}(u));n(o),CR(o,s)}}))]},FR=I(I([],IR,!0),[wu("dragger",{handlers:PR(LR)})],!1),NR=Object.freeze({__proto__:null,getData:function(e){var t=e.raw.touches;return 1===t.length?function(e){var t=e[0];return P.some(tn(t.clientX,t.clientY))}(t):P.none()},getDelta:function(e,t){return tn(t.left-e.left,t.top-e.top)}}),jR=function(e,t,n){var o=js(),r=function(n){MR(n,o.get(),e,t),o.clear()};return[Oi(kr(),(function(i,a){a.stop();var u=function(){return r(i)},s={drop:u,delayDrop:h,forceDrop:u,move:function(n){RR(i,e,t,NR,n)}},c=_R(i,e.blockerClass,function(e){return Ci([Oi(kr(),e.forceDrop),Oi(Or(),e.drop),Oi(Ir(),e.drop),Oi(_r(),(function(t,n){e.move(n.event)}))])}(s));o.set(c);n(i),CR(i,c)})),Oi(_r(),(function(n,o){o.stop(),RR(n,e,t,NR,o.event)})),Oi(Or(),(function(e,t){t.stop(),r(e)})),Oi(Ir(),r)]},zR=FR,UR=I(I([],IR,!0),[wu("dragger",{handlers:PR(jR)})],!1),VR=I(I([],IR,!0),[wu("dragger",{handlers:PR((function(e,t,n){return I(I([],LR(e,t,n),!0),jR(e,t,n),!0)}))})],!1),HR=fs({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:zR,touch:UR,mouseOrTouch:VR}),name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:P.from(e.extra)}}},state:Object.freeze({__proto__:null,init:function(){var e=P.none(),t=P.none(),n=v({});return la({readState:n,reset:function(){e=P.none(),t=P.none()},update:function(t,n){return t.getData(n).bind((function(n){return function(t,n){var o=e.map((function(e){return t.getDelta(e,n)}));return e=P.some(n),o}(t,n)}))},getStartData:function(){return t},setStartData:function(e){t=P.some(e)}})}}),apis:AR}),WR=function(e,t,n,o,r,i){return e.fold((function(){return HR.snap({sensor:pR(n-20,o-20),range:tn(r,i),output:pR(P.some(n),P.some(o)),extra:{td:t}})}),(function(e){var r=n-20,i=o-20,a=e.element.dom.getBoundingClientRect();return HR.snap({sensor:pR(r,i),range:tn(40,40),output:pR(P.some(n-a.width/2),P.some(o-a.height/2)),extra:{td:t}})}))},GR=function(e,t,n){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var r=o.td;(function(e,t){return e.exists((function(e){return st(e,t)}))})(t.get(),r)||(t.set(r),n(r))},mustSnap:!0}},qR=function(e){return Jh(Xh.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ss([HR.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Rx.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},YR=function(e,t){var n=lr([]),o=lr([]),r=lr(!1),i=js(),a=js(),u=function(e){var n=Tn(e);return WR(d.getOpt(t),e,n.x,n.y,n.width,n.height)},s=function(e){var n=Tn(e);return WR(f.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=GR((function(){return H(n.get(),(function(e){return u(e)}))}),i,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),l=GR((function(){return H(o.get(),(function(e){return s(e)}))}),a,(function(t){i.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),d=qR(c),f=qR(l),m=Wa(d.asSpec()),p=Wa(f.asSpec()),h=function(t,n,o,r){var i=o(n);HR.snapTo(t,i);!function(t,n,o,r){var i=n.dom.getBoundingClientRect();Qt(t.element,"display");var a=pt(Pe.fromDom(e.getBody())).dom.innerHeight,u=o(i),s=r(i,a);(u||s)&&zt(t.element,"display","none")}(t,n,(function(e){return e[r]<0}),(function(e,t){return e[r]>t}))},g=function(e){return h(m,e,u,"top")},v=function(e){return h(p,e,s,"bottom")};it().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){r.get()||(Ol(t,m),Ol(t,p),r.set(!0)),i.set(e.start),a.set(e.finish),e.otherCells.each((function(t){n.set(t.upOrLeftCells),o.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(g),a.get().each(v)})),e.on("TableSelectionClear",(function(){r.get()&&(El(m),El(p),r.set(!1)),i.clear(),a.clear()})))},QR=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},$R=function(e,t,n){t.delimiter||(t.delimiter="»");return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ss([jp.config({mode:"flow",selector:"div[role=button]"}),Mf.config({disabled:n.isDisabled}),vb(),Aw.config({}),Wp.config({}),Gp("elementPathEvents",[Bi((function(o,r){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return jp.focusIn(o)})),e.on("NodeChange",(function(r){var i,a,u=function(t){for(var n=[],o=t.length;o-- >0;){var r=t[o];if(1===r.nodeType&&!QR(r)){var i=e.fire("ResolveName",{name:r.nodeName.toLowerCase(),target:r});if(i.isDefaultPrevented()||n.push({name:i.name,element:r}),i.isPropagationStopped())break}}return n}(r.parents);u.length>0?Wp.set(o,(i=H(u||[],(function(t,o){return Xh.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":o,"tab-index":-1,"aria-level":o+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:ss([yb(n.isDisabled),vb()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}},Q(i.slice(1),(function(e,t){var n=e;return n.push(a),n.push(t),n}),[i[0]]))):Wp.set(o,[])}))}))])]),components:[]}};!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(nE||(nE={}));var KR=function(e,t,n){var o=Pe.fromDom(e.getContainer()),r=function(e,t,n,o,r){var i={};return i.height=QE(o+t.top,qv(e),Qv(e)),n===nE.Both&&(i.width=QE(r+t.left,Gv(e),Yv(e))),i}(e,t,n,Jt(o),un(o));fe(r,(function(e,t){return zt(o,t,YE(e))})),function(e){e.fire("ResizeEditor")}(e)},XR=function(e,t,n,o){var r=tn(20*n,20*o);return KR(e,r,t),P.some(!0)},JR=function(e,t){var n=function(e){var t=!e.hasPlugin("autoresize"),n=e.getParam("resize",t);return!1===n?nE.None:"both"===n?nE.Both:nE.Vertical}(e);return n===nE.None?P.none():P.some(ug("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[HR.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,o,r){return KR(e,r,n)},blockerClass:"tox-blocker"}),jp.config({mode:"special",onLeft:function(){return XR(e,n,-1,0)},onRight:function(){return XR(e,n,1,0)},onUp:function(){return XR(e,n,0,-1)},onDown:function(){return XR(e,n,0,1)}}),Aw.config({}),Kp.config({})]},t.icons))},ZR=function(e,t){var n=function(){var n,o=[];return e.getParam("elementpath",!0,"boolean")&&o.push($R(e,{},t)),e.hasPlugin("wordcount")&&o.push(function(e,t){var n,o=function(e,n,o){return Wp.set(e,[Ua(t.translate(["{0} "+o,n[o]]))])};return Xh.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ss([yb(t.isDisabled),vb(),Aw.config({}),Wp.config({}),ld.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Gp("wordcount-events",[Ni((function(e){var t=ld.getValue(e),n="words"===t.mode?"characters":"words";ld.setValue(e,{mode:n,count:t.count}),o(e,t.count,n)})),Bi((function(t){e.on("wordCountUpdate",(function(e){var n=ld.getValue(t).mode;ld.setValue(t,{mode:n,count:e.wordCount}),o(t,e.wordCount,n)}))}))])]),eventOrder:(n={},n[Xr()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})}(e,t)),e.getParam("branding",!0,"boolean")&&o.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=Zh.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),o.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:o}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var o=n(),r=JR(e,t);return o.concat(r.toArray())}()}},eM=function(e){var t,n,o,r,i=e.inline,a=i?ZE:GE,u=cb(e)?uI:MO,s=P.none(),c=it(),l=c.browser.isIE()?["tox-platform-ie"]:[],d=c.deviceType.isTouch()?["tox-platform-touch"]:[],f=rb(e),m=ub(e),p=Zh.isRtl()?{attributes:{dir:"rtl"}}:{},g={attributes:(t={},t[cc]=f?Es.BottomToTop:Es.TopToBottom,t)},v=function(){return s.bind(LT.getHeader)},b=function(){zt(q.element,"width",document.body.clientWidth+"px")},y=Wa((n=st(Et(),m)&&"grid"===Ht(m,"display"),o={dom:_({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(l).concat(d)},p),behaviours:ss([Sl.config({useFixed:function(){return u.isDocked(v)}})])},r={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ci([Oi(ui(),b)])},Kn(o,n?r:{}))),w=function(){return Mn.value(y)},x=Jh({dom:{tag:"div",classes:["tox-anchorbar"]}}),S=function(){return s.bind((function(e){return LT.getThrobber(e)})).getOrDie("Could not find throbber element")},A=yO(y,e,(function(){return s.bind((function(e){return x.getOpt(e)})).getOrDie("Could not find a anchor bar element")})),C=LT.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:A,onEscape:function(){e.focus()}}),k=eb(e),O=LT.parts.toolbar(_({dom:{tag:"div",classes:["tox-toolbar"]},getSink:w,providers:A.shared.providers,onEscape:function(){e.focus()},type:k,lazyToolbar:function(){return s.bind((function(e){return LT.getToolbar(e)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return v().getOrDie("Could not find header element")}},g)),I=LT.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:A.shared.providers,onEscape:function(){e.focus()},type:k}),T=LT.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),E=LT.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),D=LT.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:A}),R=e.getParam("statusbar",!0,"boolean")&&!i?P.some(ZR(e,A.shared.providers)):P.none(),M={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[T,E]},B=Jv(e),L=Kv(e),F=$v(e),N=LT.parts.header({dom:_({tag:"div",classes:["tox-editor-header"]},g),components:X([F?[C]:[],B?[I]:L?[O]:[],ab(e)?[]:[x.asSpec()]]),sticky:cb(e),editor:e,sharedBackstage:A.shared}),j=X([f?[]:[N],i?[]:[M],f?[N]:[]]),z=X([[{dom:{tag:"div",classes:["tox-editor-container"]},components:j}],i?[]:R.toArray(),[D]]),U=sb(e),V=_(_({role:"application"},Zh.isRtl()?{dir:"rtl"}:{}),U?{"aria-hidden":"true"}:{}),H=Wa(LT.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(d).concat(l),styles:_({visibility:"hidden"},U?{opacity:"0",border:"0"}:{}),attributes:V},components:z,behaviours:ss([vb(),Mf.config({disableClass:"tox-tinymce--disabled"}),jp.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));s=P.some(H),e.shortcuts.add("alt+F9","focus menubar",(function(){LT.focusMenubar(H)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){LT.focusToolbar(H)})),e.addCommand("ToggleToolbarDrawer",(function(){LT.toggleToolbarDrawer(H)})),e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return LT.isToolbarDrawerToggled(H)}));var G=vw(H),q=vw(y);!function(e,t,n){var o=function(e,o){W([t,n],(function(t){t.broadcastEvent(e,o)}))},r=function(e,o){W([t,n],(function(t){t.broadcastOn([e],o)}))},i=function(e){return r(Gl(),{target:e.target})},a=gs(),u=Us(a,"touchstart",i),s=Us(a,"touchmove",(function(e){return o(ri(),e)})),c=Us(a,"touchend",(function(e){return o(ii(),e)})),l=Us(a,"mousedown",i),d=Us(a,"mouseup",(function(e){0===e.raw.button&&r(Yl(),{target:e.target})})),f=function(e){return r(Gl(),{target:Pe.fromDom(e.target)})},m=function(e){0===e.button&&r(Yl(),{target:Pe.fromDom(e.target)})},p=function(){W(e.editorManager.get(),(function(t){e!==t&&t.fire("DismissPopups",{relatedTarget:e})}))},h=function(e){return o(ai(),Hs(e))},g=function(e){r(ql(),{}),o(ui(),Hs(e))},v=function(){return r(ql(),{})},b=function(t){t.state&&r(Gl(),{target:Pe.fromDom(e.getContainer())})},y=function(e){r(Gl(),{target:Pe.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(function(){e.on("click",f),e.on("tap",f),e.on("mouseup",m),e.on("mousedown",p),e.on("ScrollWindow",h),e.on("ResizeWindow",g),e.on("ResizeEditor",v),e.on("AfterProgressState",b),e.on("DismissPopups",y)})),e.on("remove",(function(){e.off("click",f),e.off("tap",f),e.off("mouseup",m),e.off("mousedown",p),e.off("ScrollWindow",h),e.off("ResizeWindow",g),e.off("ResizeEditor",v),e.off("AfterProgressState",b),e.off("DismissPopups",y),l.unbind(),u.unbind(),s.unbind(),c.unbind(),d.unbind()})),e.on("detach",(function(){Pl(t),Pl(n),t.destroy(),n.destroy()}))}(e,G,q);var Y=function(){var t=YE($E(e)),n=YE(function(e){return KE(e).getOr(Wv(e))}(e));return e.inline||(Yt("div","width",n)&&zt(H.element,"width",n),Yt("div","height",t)?zt(H.element,"height",t):zt(H.element,"height","200px")),t};return{mothership:G,uiMothership:q,backstage:A,renderUI:function(){u.setup(e,A.shared,v),LD(e,A),oR(e,w,A),function(e){var t=e.ui.registry.getAll().sidebars;W(le(t),(function(n){var o=t[n],r=function(){return Se(P.from(e.queryCommandValue("ToggleSidebar")),n)};e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:function(t){var n=function(){return t.setActive(r())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))}(e),QI(e,S,A.shared),me(function(e){return e.getParam("toolbar_groups",{},"object")}(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,o=t.menuItems,r=t.contextToolbars,i=t.sidebars,s=Xv(e),c={menuItems:o,menus:lb(e),menubar:db(e),toolbar:s.getOrThunk((function(){return function(e){return e.getParam("toolbar",!0)}(e)})),allowToolbarGroups:k===Qg.floating,buttons:n,sidebar:i};yD(e,r,y,{backstage:A}),YR(e,y);var l=e.getElement(),d=Y(),f={mothership:G,uiMothership:q,outerContainer:H},m={targetNode:l,height:d};return a.render(e,f,c,A,m)},getUi:function(){return{channels:{broadcastAll:q.broadcast,broadcastOn:q.broadcastOn,register:h}}}}},tM=v([jo("lazySink"),Qo("dragBlockClass"),ur("getBounds",En),tr("useTabstopAt",C),tr("eventOrder",{}),dd("modalBehaviours",[jp]),vu("onExecute"),yu("onEscape")]),nM={sketch:b},oM=v([Ud({name:"draghandle",overrides:function(e,t){return{behaviours:ss([HR.config({mode:"mouse",getTarget:function(e){return Xa(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),jd({schema:[jo("dom")],name:"title"}),jd({factory:nM,schema:[jo("dom")],name:"close"}),jd({factory:nM,schema:[jo("dom")],name:"body"}),Ud({factory:nM,schema:[jo("dom")],name:"footer"}),zd({factory:{sketch:function(e,t){return _(_({},e),{dom:t.dom,components:t.components})}},schema:[tr("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),tr("components",[])],name:"blocker"})]),rM=hf({name:"ModalDialog",configFields:tM(),partFields:oM(),factory:function(e,t,n,o){var r,i=js(),a=Yi("modal-events"),u=_(_({},e.eventOrder),((r={})[si()]=[a].concat(e.eventOrder["alloy.system.attached"]||[]),r));return{uid:e.uid,dom:e.dom,components:t,apis:{show:function(t){i.set(t);var n=e.lazySink(t).getOrDie(),r=o.blocker(),a=n.getSystem().build(_(_({},r),{components:r.components.concat([Ga(t)]),behaviours:ss([Kp.config({}),Gp("dialog-blocker-events",[Pi(Pr(),(function(){jp.focusIn(t)}))])])}));Ol(n,a),jp.focusIn(t)},hide:function(e){i.clear(),ht(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){El(e)}))}))},getBody:function(t){return ef(t,e,"body")},getFooter:function(t){return ef(t,e,"footer")},setIdle:function(e){WI.unblock(e)},setBusy:function(e,t){WI.block(e,t)}},eventOrder:u,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:md(e.modalBehaviours,[Wp.config({}),jp.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),WI.config({getRoot:i.get}),Gp(a,[Bi((function(t){var n,o,r,i,a,u;n=t.element,o=ef(t,e,"title").element,r=Bt(n,"id").fold((function(){var e=Yi("dialog-label");return Mt(o,"id",e),e}),b),Mt(n,"aria-labelledby",r),i=t.element,a=ef(t,e,"body").element,u=P.from(Pt(i,"id")).fold((function(){var e=Yi("dialog-describe");return Mt(a,"id",e),e}),b),Mt(i,"aria-describedby",u)}))])])}},apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),iM=po([Vo("type"),Vo("name")].concat(wv)),aM=Ao,uM=[Lo("name","name",Jn((function(){return Yi("button-name")})),So),Xo("icon"),ir("align","end",["start","end"]),ar("primary",!1),ar("disabled",!1)],sM=I(I([],uM,!0),[Vo("text")],!1),cM=I([Ho("type",["submit","cancel","custom"])],sM,!0),lM=I([Ho("type",["menu"]),Xo("text"),Xo("tooltip"),Xo("icon"),Yo("items",iM)],uM,!0),dM=Bo("type",{submit:cM,cancel:cM,custom:cM,menu:lM}),fM=[Vo("type"),Vo("text"),Ho("level",["info","warn","error","success"]),Vo("icon"),tr("url","")],mM=po(fM),pM=[Vo("type"),Vo("text"),ar("disabled",!1),ar("primary",!1),Lo("name","name",Jn((function(){return Yi("button-name")})),So),Xo("icon"),ar("borderless",!1)],hM=po(pM),gM=[Vo("type"),Vo("name"),Vo("label"),ar("disabled",!1)],vM=po(gM),bM=Ao,yM=[Vo("type"),Vo("name")],wM=yM.concat([Xo("label")]),xM=wM.concat([tr("columns","auto")]),SM=po(xM),AM=bo([Vo("value"),Vo("text"),Vo("icon")]),CM=po(wM),kM=So,_M=po(wM),OM=So,IM=yM.concat([rr("tag","textarea"),Vo("scriptId"),Vo("scriptUrl"),function(e,t){return nr(e,t,_o)}("settings",void 0)]),TM=yM.concat([rr("tag","textarea"),Wo("init")]),EM=To((function(e){return Do("customeditor.old",mo(TM),e).orThunk((function(){return Do("customeditor.new",mo(IM),e)}))})),DM=So,RM=po(wM),MM=ho(ao),PM=function(e){return[Vo("type"),Uo("columns"),e]},BM=[Vo("type"),Vo("html"),ir("presets","presentation",["presentation","document"])],LM=po(BM),FM=wM.concat([ar("sandboxed",!0)]),NM=po(FM),jM=So,zM=wM.concat([zo("currentState",po([jo("blob"),Vo("url")]))]),UM=po(zM),VM=wM.concat([Xo("inputMode"),Xo("placeholder"),ar("maximized",!1),ar("disabled",!1)]),HM=po(VM),WM=So,GM=function(e){return[Vo("type"),Vo("label"),e]},qM=[Vo("text"),Vo("value")],YM=[Vo("text"),Yo("items",function(e,t){return n=Ve(t),{extract:function(e,t){return n().extract(e,t)},toString:function(){return n().toString()}};var n}(0,(function(){return QM})))],QM=go([po(qM),po(YM)]),$M=wM.concat([Yo("items",QM),ar("disabled",!1)]),KM=po($M),XM=So,JM=wM.concat([qo("items",[Vo("text"),Vo("value")]),or("size",1),ar("disabled",!1)]),ZM=po(JM),eP=So,tP=wM.concat([ar("constrain",!0),ar("disabled",!1)]),nP=po(tP),oP=po([Vo("width"),Vo("height")]),rP=[Vo("type"),Yo("header",So),Yo("cells",ho(So))],iP=po(rP),aP=wM.concat([Xo("placeholder"),ar("maximized",!1),ar("disabled",!1)]),uP=po(aP),sP=So,cP=wM.concat([ir("filetype","file",["image","media","file"]),tr("disabled",!1)]),lP=po(cP),dP=po([Vo("value"),tr("meta",{})]),fP=function(e){return Lo("items","items",{tag:"required",process:{}},ho(To((function(t){return Do("Checking item of "+e,mP,t).fold((function(e){return Mn.error(Po(e))}),(function(e){return Mn.value(e)}))}))))},mP=lo((function(){return Io("type",{alertbanner:mM,bar:po((e=fP("bar"),[Vo("type"),e])),button:hM,checkbox:vM,colorinput:CM,colorpicker:_M,dropzone:RM,grid:po(PM(fP("grid"))),iframe:NM,input:HM,listbox:KM,selectbox:ZM,sizeinput:nP,textarea:uP,urlinput:lP,customeditor:EM,htmlpanel:LM,imagetools:UM,collection:SM,label:po(GM(fP("label"))),table:iP,panel:hP});var e})),pP=[Vo("type"),tr("classes",[]),Yo("items",mP)],hP=po(pP),gP=[Lo("name","name",Jn((function(){return Yi("tab-name")})),So),Vo("title"),Yo("items",mP)],vP=[Vo("type"),qo("tabs",gP)],bP=po(vP),yP=sM,wP=dM,xP=po([Vo("title"),zo("body",Io("type",{panel:hP,tabpanel:bP})),rr("size","normal"),Yo("buttons",wP),tr("initialData",{}),ur("onAction",h),ur("onChange",h),ur("onSubmit",h),ur("onClose",h),ur("onCancel",h),tr("onTabChange",h)]),SP=po(I([Ho("type",["cancel","custom"])],yP,!0)),AP=po([Vo("title"),Vo("url"),Ko("height"),Ko("width"),Zo("buttons",SP),ur("onAction",h),ur("onCancel",h),ur("onClose",h),ur("onMessage",h)]),CP=function(e){return i(e)?[e].concat(J(be(e),CP)):a(e)?J(e,CP):[]},kP=function(e){return r(e.type)&&r(e.name)},_P={checkbox:bM,colorinput:kM,colorpicker:OM,dropzone:MM,input:WM,iframe:jM,sizeinput:oP,selectbox:eP,listbox:XM,size:oP,textarea:sP,urlinput:dP,customeditor:DM,collection:AM,togglemenuitem:aM},OP=function(e){var t=function(e){return q(CP(e),kP)}(e),n=J(t,(function(e){return function(e){return P.from(_P[e.type])}(e).fold((function(){return[]}),(function(t){return[zo(e.name,t)]}))}));return po(n)},IP=function(e){return{internalDialog:Ro(Do("dialog",xP,e)),dataValidator:OP(e),initialData:e.initialData}},TP={open:function(e,t){var n=IP(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(Ro(Do("dialog",AP,t)))},redial:function(e){return IP(e)}},EP=function(e){var t=[],n={};return fe(e,(function(e,o){e.fold((function(){t.push(o)}),(function(e){n[o]=e}))})),t.length>0?Mn.error(t):Mn.value(n)},DP=function(e,t){var n=Jh(kA.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:H(e.items,(function(e){return k_(n,e,t)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:ss([jp.config({mode:"acyclic",useTabstopAt:x(ZA)}),MA(n),VA(n,{postprocess:function(e){return EP(e).fold((function(e){return console.error(e),{}}),b)}})])}},RP=pf({name:"TabButton",configFields:[tr("uid",void 0),jo("value"),Lo("dom","dom",eo((function(){return{attributes:{role:"tab",id:Yi("aria"),"aria-selected":"false"}}})),yo()),Qo("action"),tr("domModification",{}),dd("tabButtonBehaviours",[Kp,jp,ld]),jo("view")],factory:function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:lh(e.action),behaviours:md(e.tabButtonBehaviours,[Kp.config({}),jp.config({mode:"execution",useSpace:!0,useEnter:!0}),ld.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),MP=v([jo("tabs"),jo("dom"),tr("clickToDismiss",!1),dd("tabbarBehaviours",[Wf,jp]),pu(["tabClass","selectedClass"])]),PP=Vd({factory:RP,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Wf.dehighlight(e,t),yi(e,hi(),{tabbar:e,button:t})},n=function(e,t){Wf.highlight(e,t),yi(e,pi(),{tabbar:e,button:t})};return{action:function(o){var r=o.getSystem().getByUid(e.uid).getOrDie(),i=Wf.isHighlighted(r,o);(i&&e.clickToDismiss?t:i?h:n)(r,o)},domModification:{classes:[e.markers.tabClass]}}}}),BP=v([PP]),LP=hf({name:"Tabbar",configFields:MP(),partFields:BP(),factory:function(e,t,n,o){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:md(e.tabbarBehaviours,[Wf.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Mt(t.element,"aria-selected","true")},onDehighlight:function(e,t){Mt(t.element,"aria-selected","false")}}),jp.config({mode:"flow",getInitial:function(e){return Wf.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}}),FP=pf({name:"Tabview",configFields:[dd("tabviewBehaviours",[Wp])],factory:function(e,t){return{uid:e.uid,dom:e.dom,behaviours:md(e.tabviewBehaviours,[Wp.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),NP=v([tr("selectFirst",!0),gu("onChangeTab"),gu("onDismissTab"),tr("tabs",[]),dd("tabSectionBehaviours",[])]),jP=jd({factory:LP,schema:[jo("dom"),Go("markers",[jo("tabClass"),jo("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),zP=jd({factory:FP,name:"tabview"}),UP=v([jP,zP]),VP=hf({name:"TabSection",configFields:NP(),partFields:UP(),factory:function(e,t,n,o){var r=function(t,n){Zd(t,e,"tabbar").each((function(e){n(e).each(wi)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:fd(e.tabSectionBehaviours),events:Ci(X([e.selectFirst?[Bi((function(e,t){r(e,Wf.getFirst)}))]:[],[Oi(pi(),(function(t,n){!function(t){var n=ld.getValue(t);Zd(t,e,"tabview").each((function(o){$(e.tabs,(function(e){return e.value===n})).each((function(n){var r=n.view();Bt(t.element,"id").each((function(e){Mt(o.element,"aria-labelledby",e)})),Wp.set(o,r),e.onChangeTab(o,t,r)}))}))}(n.event.button)})),Oi(hi(),(function(t,n){var o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:function(t){return Zd(t,e,"tabview").map((function(e){return Wp.contents(e)})).getOr([])},showTab:function(e,t){r(e,(function(e){var n=Wf.getCandidates(e);return $(n,(function(e){return ld.getValue(e)===t})).filter((function(t){return!Wf.isHighlighted(e,t)}))}))}}}},apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),HP=function(e,t){zt(e,"height",t+"px"),it().browser.isIE()?Qt(e,"flex-basis"):zt(e,"flex-basis",t+"px")},WP=function(e,t,n){Xa(e,'[role="dialog"]').each((function(e){Za(e,'[role="tablist"]').each((function(o){n.get().map((function(n){return zt(t,"height","0"),zt(t,"flex-basis","0"),Math.min(n,function(e,t,n){var o,r=mt(e).dom,i=Xa(e,".tox-dialog-wrap").getOr(e);o="fixed"===Ht(i,"position")?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight);var a=Jt(t),u=t.dom.offsetLeft>=n.dom.offsetLeft+un(n)?Math.max(Jt(n),a):a,s=parseInt(Ht(e,"margin-top"),10)||0,c=parseInt(Ht(e,"margin-bottom"),10)||0;return o-(Jt(e)+s+c-u)}(e,t,o))})).each((function(e){HP(t,e)}))}))}))},GP=function(e){return Za(e,'[role="tabpanel"]')},qP=function(e){var t;return{smartTabHeight:(t=js(),{extraEvents:[Bi((function(n){var o=n.element;GP(o).each((function(r){zt(r,"visibility","hidden"),n.getSystem().getByDom(r).toOptional().each((function(n){(function(e){return ae(re(e,(function(e,t){return e>t?-1:e<t?1:0})))})(function(e,t,n){return H(e,(function(o,r){Wp.set(n,e[r].view());var i=t.dom.getBoundingClientRect();return Wp.set(n,[]),i.height}))}(e,r,n)).fold(t.clear,t.set)})),WP(o,r,t),Qt(r,"visibility"),function(e,t){ae(e).each((function(e){return VP.showTab(t,e.value)}))}(e,n),Kh.requestAnimationFrame((function(){WP(o,r,t)}))}))})),Oi(ui(),(function(e){var n=e.element;GP(n).each((function(e){WP(n,e,t)}))})),Oi(Fw,(function(e,n){var o=e.element;GP(o).each((function(e){var n=ys(Ct(e));zt(e,"visibility","hidden");var r=Gt(e,"height").map((function(e){return parseInt(e,10)}));Qt(e,"height"),Qt(e,"flex-basis");var i=e.dom.getBoundingClientRect().height;r.forall((function(e){return i>e}))?(t.set(i),WP(o,e,t)):r.each((function(t){HP(e,t)})),Qt(e,"visibility"),n.each(vs)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}},YP=function(e,t){var n=lr({}),o=function(e){var t=ld.getValue(e),o=EP(t).getOr({}),r=n.get(),i=Kn(r,o);n.set(i)},r=function(e){var t=n.get();ld.setValue(e,t)},i=lr(null),a=H(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[kA.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:H(e.items,(function(e){return k_(n,e,t)})),formBehaviours:ss([jp.config({mode:"acyclic",useTabstopAt:x(ZA)}),Gp("TabView.form.events",[Bi(r),Li(o)]),ps.config({channels:hr([{key:"send-data-to-section",value:{onReceive:o}},{key:"send-data-to-view",value:{onReceive:r}}])})])}}))]}}})),u=qP(a).smartTabHeight;return VP.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var o=ld.getValue(t);yi(e,Lw,{name:o,oldName:i.get()}),i.set(o)},tabs:a,components:[VP.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[LP.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ss([Aw.config({})])}),VP.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:ss([Gp("tabpanel",u.extraEvents),jp.config({mode:"acyclic"}),yf.config({find:function(e){return ae(VP.getViewItems(e))}}),ld.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},QP=Yi("update-dialog"),$P=Yi("update-title"),KP=Yi("update-body"),XP=Yi("update-footer"),JP=Yi("body-send-message"),ZP=function(e,t,n,o){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:_(_({},t.map((function(e){return{id:e}})).getOr({})),o?{"aria-live":"polite"}:{})},components:[],behaviours:ss([PA(0),wE.config({channel:KP,updateState:function(e,t){return P.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},renderComponents:function(e){switch(e.body.type){case"tabpanel":return[YP(e.body,n)];default:return[DP(e.body,n)]}},initialData:e})])}},eB=Eb.deviceType.isTouch(),tB=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},nB=function(e,t){return rM.parts.close(Xh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:ss([Aw.config({})])}))},oB=function(){return rM.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},rB=function(e,t){return rM.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:GI("<p>"+t.translate(e)+"</p>")}]}]})},iB=function(e){return rM.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},aB=function(e,t){return[gw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),gw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},uB=function(e){var t,n="tox-dialog",o=n+"-wrap",r=o+"__backdrop",i=n+"__disable-scroll";return rM.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),P.some(!0)},useTabstopAt:function(e){return!ZA(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:_({position:"relative"},e.extraStyles)},components:I([e.header,e.body],e.footer.toArray(),!0),parts:{blocker:{dom:GI('<div class="'+o+'"></div>'),components:[{dom:{tag:"div",classes:eB?[r,r+"--opaque"]:[r]}}]}},dragBlockClass:o,modalBehaviours:ss(I([Kp.config({}),Gp("dialog-events",e.dialogEvents.concat([Pi(Pr(),(function(e,t){jp.focusIn(e)}))])),Gp("scroll-lock",[Bi((function(){_a(Et(),i)})),Li((function(){Ia(Et(),i)}))])],e.extraBehaviours,!0)),eventOrder:_((t={},t[Xr()]=["dialog-events"],t[si()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[ci()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},sB=function(e){return Xh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[ug("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:function(e){bi(e,Dw)}})},cB=function(e,t,n){var o=function(e){return[Ua(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:_({},t.map((function(e){return{id:e}})).getOr({}))},components:o(e),behaviours:ss([wE.config({channel:$P,renderComponents:o})])}},lB=function(){return{dom:GI('<div class="tox-dialog__draghandle"></div>')}},dB=function(e,t){return function(e,t){var n=rM.parts.title(cB(e,P.none(),t)),o=rM.parts.draghandle(lB()),r=rM.parts.close(sB(t)),i=[n].concat(e.draggable?[o]:[]).concat([r]);return gw.sketch({dom:GI('<div class="tox-dialog__header"></div>'),components:i})}({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},fB=function(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:GI('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},mB=function(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){rM.setBusy(e(),(function(e,o){return fB(n.message,o,t)}))},onUnblock:function(){rM.setIdle(e())}}},pB=function(e,t,n,o){var r;return Wa(uB(_(_({},e),{lazySink:o.shared.getSink,extraBehaviours:I([wE.config({channel:QP,updateState:function(e,t){return P.some(t)},initialData:t}),GA({})],e.extraBehaviours,!0),onEscape:function(e){bi(e,Dw)},dialogEvents:n,eventOrder:(r={},r[Kr()]=[wE.name(),ps.name()],r[si()]=["scroll-lock",wE.name(),"messages","dialog-events","alloy.base.behaviour"],r[ci()]=["alloy.base.behaviour","dialog-events","messages",wE.name(),"scroll-lock"],r)})))},hB=function(e){return H(e,(function(e){return"menu"===e.type?function(e){var t=H(e.items,(function(e){var t=lr(!1);return _(_({},e),{storage:t})}));return _(_({},e),{items:t})}(e):e}))},gB=function(e){return Q(e,(function(e,t){return"menu"===t.type?Q(t.items,(function(e,t){return e[t.name]=t.storage,e}),e):e}),{})},vB=function(e,t){return[Di(Pr(),JA),e(Ew,(function(e,n){t.onClose(),n.onClose()})),e(Dw,(function(e,t,n,o){t.onCancel(e),bi(o,Ew)})),Oi(Bw,(function(e,n){return t.onUnblock()})),Oi(Pw,(function(e,n){return t.onBlock(n.event)}))]},bB=function(e,t){var n=function(t,n){return Oi(t,(function(t,r){o(t,(function(o,i){n(e(),o,r.event,t)}))}))},o=function(e,t){wE.getState(e).get().each((function(n){t(n,e)}))};return I(I([],vB(n,t),!0),[n(Rw,(function(e,t,n){t.onAction(e,{name:n.name})}))],!1)},yB=function(e,t,n){var o=function(t,n){return Oi(t,(function(t,o){r(t,(function(r,i){n(e(),r,o.event,t)}))}))},r=function(e,t){wE.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return I(I([],vB(o,t),!0),[o(Mw,(function(e,t){return t.onSubmit(e)})),o(Tw,(function(e,t,n){t.onChange(e,{name:n.name})})),o(Rw,(function(e,t,o,r){var i=function(){return jp.focusIn(r)},a=function(e){return Lt(e,"disabled")||Bt(e,"aria-disabled").exists((function(e){return"true"===e}))},u=Ct(r.element),s=ys(u);t.onAction(e,{name:o.name,value:o.value}),ys(u).fold(i,(function(e){a(e)||s.exists((function(t){return lt(e,t)&&a(t)}))?i():n().toOptional().filter((function(t){return!lt(t.element,e)})).each(i)}))})),o(Lw,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Li((function(t){var n=e();ld.setValue(t,n.getData())}))],!1)},wB=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]),o=G(n,(function(e){return"start"===e.align})),r=function(e,t){return gw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:H(t,(function(e){return e.memento.asSpec()}))})};return[r("start",o.pass),r("end",o.fail)]},xB=function(e,t){return{dom:GI('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ss([wE.config({channel:XP,initialData:e,updateState:function(e,n){var o=H(n.buttons,(function(e){var n=Jh(function(e,t){return mk(e,e.type,t)}(e,t));return{name:e.name,align:e.align,memento:n}}));return P.some({lookupByName:function(e,t){return function(e,t,n){return $(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))}(e,o,t)},footerButtons:o})},renderComponents:wB})])}},SB=function(e,t){return rM.parts.footer(xB(e,t))},AB=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=yf.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return kA.getField(n,t).fold((function(){var o=e.getFooter();return wE.getState(o).get().bind((function(e){return e.lookupByName(n,t)}))}),(function(e){return P.some(e)}))}return P.none()},CB=function(e,t,n){var o=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},i={getData:function(){var t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t,r=ld.getValue(o),i=me(n,(function(e){return e.get()}));return _(_({},r),i)},setData:function(t){o((function(o){var r=i.getData(),a=_(_({},r),t),u=function(e,t){var n=e.getRoot();return wE.getState(n).get().map((function(e){return Ro(Do("data",e.dataValidator,t))})).getOr(t)}(e,a),s=e.getFormWrapper();ld.setValue(s,u),fe(n,(function(e,t){we(a,t)&&e.set(a[t])}))}))},disable:function(t){AB(e,t).each(Mf.disable)},enable:function(t){AB(e,t).each(Mf.enable)},focus:function(t){AB(e,t).each(Kp.focus)},block:function(e){if(!r(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((function(t){yi(t,Pw,{message:e})}))},unblock:function(){o((function(e){bi(e,Bw)}))},showTab:function(t){o((function(n){var o=e.getBody();wE.getState(o).get().exists((function(e){return e.isTabPanel()}))&&yf.getCurrent(o).each((function(e){VP.showTab(e,t)}))}))},redial:function(e){o((function(n){var o=t(e);n.getSystem().broadcastOn([QP],o),n.getSystem().broadcastOn([$P],o.internalDialog),n.getSystem().broadcastOn([KP],o.internalDialog),n.getSystem().broadcastOn([XP],o.internalDialog),i.setData(o.initialData)}))},close:function(){o((function(e){bi(e,Ew)}))}};return i},kB=function(e,t,n){var o=dB(e.internalDialog.title,n),r=function(e,t){var n=ZP(e,P.none(),t,!1);return rM.parts.body(n)}({body:e.internalDialog.body},n),i=hB(e.internalDialog.buttons),a=gB(i),u=SB({buttons:i},n),s=yB((function(){return m}),mB((function(){return d}),n.shared.providers,t),n.shared.getSink),c=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(e.internalDialog.size),l={header:o,body:r,footer:P.some(u),extraClasses:c,extraBehaviours:[],extraStyles:{}},d=pB(l,e,s,n),f={getRoot:v(d),getBody:function(){return rM.getBody(d)},getFooter:function(){return rM.getFooter(d)},getFormWrapper:function(){var e=rM.getBody(d);return yf.getCurrent(e).getOr(e)}},m=CB(f,t.redial,a);return{dialog:d,instanceApi:m}},_B=function(e,t,n,o){var r,i,a,u,s,c=Yi("dialog-label"),l=Yi("dialog-content"),d=Jh((a={title:e.internalDialog.title,draggable:!0},u=c,s=n.shared.providers,gw.sketch({dom:GI('<div class="tox-dialog__header"></div>'),components:[cB(a,P.some(u),s),lB(),sB(s)],containerBehaviours:ss([HR.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return eu(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),f=Jh(function(e,t,n,o){return ZP(e,P.some(t),n,o)}({body:e.internalDialog.body},l,n,o)),m=hB(e.internalDialog.buttons),p=gB(m),h=Jh(function(e,t){return xB(e,t)}({buttons:m},n)),g=yB((function(){return y}),{onBlock:function(e){WI.block(b,(function(t,o){return fB(e.message,o,n.shared.providers)}))},onUnblock:function(){WI.unblock(b)},onClose:function(){return t.closeWindow()}},n.shared.getSink),b=Wa({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(r={role:"dialog"},r["aria-labelledby"]=c,r["aria-describedby"]=l,r)},eventOrder:(i={},i[Kr()]=[wE.name(),ps.name()],i[Xr()]=["execute-on-form"],i[si()]=["reflecting","execute-on-form"],i),behaviours:ss([jp.config({mode:"cyclic",onEscape:function(e){return bi(e,Ew),P.some(!0)},useTabstopAt:function(e){return!ZA(e)&&("button"!==Le(e)||"disabled"!==Pt(e,"disabled"))}}),wE.config({channel:QP,updateState:function(e,t){return P.some(t)},initialData:e}),Kp.config({}),Gp("execute-on-form",g.concat([Pi(Pr(),(function(e,t){jp.focusIn(e)}))])),WI.config({getRoot:function(){return P.some(b)}}),Wp.config({}),GA({})]),components:[d.asSpec(),f.asSpec(),h.asSpec()]}),y=CB({getRoot:v(b),getFooter:function(){return h.get(b)},getBody:function(){return f.get(b)},getFormWrapper:function(){var e=f.get(b);return yf.getCurrent(e).getOr(e)}},t.redial,p);return{dialog:b,instanceApi:y}},OB=tinymce.util.Tools.resolve("tinymce.util.URI"),IB=["insertContent","setContent","execCommand","close","block","unblock"],TB=function(e){return i(e)&&-1!==IB.indexOf(e.mceAction)},EB=function(e,t,n,o){var a,u,c,l=dB(e.title,o),d=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[KA({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:ss([Aw.config({}),Kp.config({})])})]}],behaviours:ss([jp.config({mode:"acyclic",useTabstopAt:x(ZA)})])};return rM.parts.body(t)}(e),f=e.buttons.bind((function(e){return 0===e.length?P.none():P.some(SB({buttons:e},o))})),m=bB((function(){return S}),mB((function(){return w}),o.shared.providers,t)),p=_(_({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),h=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],g=new OB(e.url,{base_uri:new OB(window.location.href)}),v=g.protocol+"://"+g.host+(g.port?":"+g.port:""),b=Ns(),y=[Gp("messages",[Bi((function(){var t=Us(Pe.fromDom(window),"message",(function(t){if(g.isSameOrigin(new OB(t.raw.origin))){var o=t.raw.data;TB(o)?function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var o=!!s(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}}(n,S,o):function(e){return!TB(e)&&i(e)&&we(e,"mceAction")}(o)&&e.onMessage(S,o)}}));b.set(t)})),Li(b.clear)]),ps.config({channels:(a={},a[JP]={onReceive:function(e,t){Za(e.element,"iframe").each((function(e){e.dom.contentWindow.postMessage(t,v)}))}},a)})],w=pB({header:l,body:d,footer:f,extraClasses:h,extraBehaviours:y,extraStyles:p},e,m,o),S=(u=w,c=function(e){u.getSystem().isConnected()&&e(u)},{block:function(e){if(!r(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c((function(t){yi(t,Pw,{message:e})}))},unblock:function(){c((function(e){bi(e,Bw)}))},close:function(){c((function(e){bi(e,Ew)}))},sendMessage:function(e){c((function(t){t.getSystem().broadcastOn([JP],e)}))}});return{dialog:w,instanceApi:S}},DB=function(e,t,n){return t&&n?[]:[ZO.config({contextual:{lazyContext:function(){return P.some(In(Pe.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},RB=function(e){var t=e.backstage,n=e.editor,o=cb(n),r=function(e){var t=e.backstage.shared;return{open:function(n,o){var r=function(){rM.hide(s),o()},i=Jh(mk({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:P.none()},"cancel",e.backstage)),a=oB(),u=nB(r,t.providers),s=Wa(uB({lazySink:function(){return t.getSink()},header:tB(a,u),body:rB(n,t.providers),footer:P.some(iB(aB([],[i.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Oi(Dw,r)],eventOrder:{}}));rM.show(s);var c=i.get(s);Kp.focus(c)}}}(e),i=function(e){var t=e.backstage.shared;return{open:function(n,o){var r=function(e){rM.hide(c),o(e)},i=Jh(mk({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:P.none()},"submit",e.backstage)),a=mk({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:P.none()},"cancel",e.backstage),u=oB(),s=nB((function(){return r(!1)}),t.providers),c=Wa(uB({lazySink:function(){return t.getSink()},header:tB(u,s),body:rB(n,t.providers),footer:P.some(iB(aB([],[a,i.asSpec()]))),onEscape:function(){return r(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Oi(Dw,(function(){return r(!1)})),Oi(Mw,(function(){return r(!0)}))],eventOrder:{}}));rM.show(c);var l=i.get(c);Kp.focus(l)}}}(e),a=function(e,o){return TP.openUrl((function(e){var r=EB(e,{closeWindow:function(){rM.hide(r.dialog),o(r.instanceApi)}},n,t);return rM.show(r.dialog),r.instanceApi}),e)},u=function(e,n){return TP.open((function(e,o,r){var i=o,a=kB({dataValidator:r,initialData:i,internalDialog:e},{redial:TP.redial,closeWindow:function(){rM.hide(a.dialog),n(a.instanceApi)}},t);return rM.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),e)},s=function(e,r,i,a){return TP.open((function(e,u,s){var c=Ro(Do("data",s,u)),l=js(),d=t.shared.header.isPositionedAtTop(),f=function(){return l.on((function(e){Dh.reposition(e),ZO.refresh(e)}))},m=_B({dataValidator:s,initialData:c,internalDialog:e},{redial:TP.redial,closeWindow:function(){l.on(Dh.hide),n.off("ResizeEditor",f),l.clear(),i(m.instanceApi)}},t,a),p=Wa(Dh.sketch(_(_({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:ss(I([Gp("window-manager-inline-events",[Oi(li(),(function(e,t){bi(m.dialog,Dw)}))])],DB(n,o,d),!0)),isExtraPart:function(e,t){return function(e){return nw(e,".tox-alert-dialog")||nw(e,".tox-confirm-dialog")}(t)}})));return l.set(p),Dh.showWithin(p,Ga(m.dialog),{anchor:r},P.some(Et())),o&&d||(ZO.refresh(p),n.on("ResizeEditor",f)),m.instanceApi.setData(c),jp.focusIn(m.dialog),m.instanceApi}),e)};return{open:function(e,n,o){return void 0!==n&&"toolbar"===n.inline?s(e,t.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?s(e,t.shared.anchors.cursor(),o,n.ariaAttrs):u(e,o)},openUrl:function(e,t){return a(e,t)},alert:function(e,t){r.open(e,(function(){t()}))},close:function(e){e.close()},confirm:function(e,t){i.open(e,(function(e){t(e)}))}}};k.add("silver",(function(e){var t=eM(e),n=t.uiMothership,o=t.backstage,r=t.renderUI,i=t.getUi;tw(e,o.shared);var a=RB({editor:e,backstage:o});return{renderUI:r,getWindowManagerImpl:v(a),getNotificationManagerImpl:function(){return lg(e,{backstage:o},n)},ui:i()}}))}()}).call(this,n("c8ba"))},"3b38":function(e,t,n){},"3b8e":function(e,t,n){"use strict";n.r(t);var o=n("4962"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"3bf6":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/audio-icon.e5a6fda6.png"},"3c05":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACW0lEQVRIS7WVy2tTQRSHv7mJCC6UIoi7io8K2nYlpS6CXRQfdaUFa320EWxRsYoPlPgPdOWrYivRoq2v+ohduROsKKgLs1AQVNzUWlAwwRpNY5I7MiRp772ZSaLggbuZO/P7zu/MzBnBfw7h1X8YkjVZP71As5TML0yQ+kSySxqYTMbY0hgUr3RTXAAlnrF4IaGqUmPLApBNkfgRpymggbgAo6dkBMlWl7jXgsfz8gDYNmRSJH59oynQ5XbiBoTkd1WWSrNX86obwDcnB7EzJJIxN8QFiJyUhlKbkfOqYOFS8M8Fy4LMb8bXtIrqwgoX4P4JB6AcyrHSzsJ0EoQAvw/Z3icsLeDecY2DMseoIKTyyaZzLtrOKlQuXA7uHtOXaNEKWNsBn19DNJKrd6nYdtoAuHO0GKAyWLUeVm/ISU6+hefDuWxN0XbGABg5onegxGvzACX69SM8G4T0tAYhYfs5A+D2YT2gdiOozxnxCRgbgNTPYkj7eQPg1iEzoG5TsVB0FN6NFY/v6DMAbvboAUrcC4h9gsf9DgeFYy1g5wUD4MZB/T2oa4H6ltlMv3yAJ2FIJ/XbvOuiAXD9gN5B/eZZwMQbeDpY+hTt7jcAhvfrAYtXwrpuGI/CyxFQN7dUdAwYAEP79PdAic10DketTZDOSwbAtW4pZ+52uV5UwkIwbAb8dbv2coRgKhgWC7S96OpeGZF4HpwKSuKECHiw54po1QKGumRN1s4/md4SlXnZ1CYJQdxn0dh5WbzXAtRgHtIrbZollb1uAqaExSOfRcgpXtSuSx++f/v7B+Rj2hksPykXAAAAAElFTkSuQmCC"},"3dc2":function(e,t,n){"use strict";n.r(t);var o=n("5c61"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"3dd9":function(e,t,n){"use strict";var o=n("3e93");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"3dfd":function(e,t,n){"use strict";n.r(t);var o=n("235b"),r=n("42d8");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("c1ff"),n("e2c07");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"210df56e",null);t.default=u.exports},"3e8d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"add-number"},[t("a-button",{class:{prev:!0,disabled:1===e.count},attrs:{disabled:1===e.count},on:{click:function(t){e.count--}}},[e._v(" - ")]),t("a-tooltip",{attrs:{title:e.tips}},[t("a-input",{attrs:{type:"number",maxLength:e.maxLen},model:{value:e.count,callback:function(t){e.count=t},expression:"count"}})],1),t("a-button",{class:{next:!0,disabled:e.count===e.maxLen},attrs:{disabled:e.count===e.maxLen},on:{click:function(t){e.count++}}},[e._v(" + ")]),t("span",{staticClass:"unit"},[e._v(e._s(e.unit))])],1)},t.staticRenderFns=[]},"3e93":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload-file",class:{"small-upload-file":"small"===e.size}},[t("div",{staticClass:"upload-wrap"},[e.isEdit&&!e.hasReview?t("div",{staticClass:"upload-trigger"},[t("div",{staticClass:"upload-box",class:{"upload-disabled":e.isLimitExceeded||e.isPreview},on:{click:e.selectFile}},[t("a-icon",{attrs:{type:"plus-circle",theme:"filled"}}),e._v(" "+e._s(e.$t("homework.uploadFile"))+" ")],1),e.isEdit&&!e.hasReview?e._t("tip"):e._e()],2):e._e(),e.fileList.length>0?t("div",{staticClass:"file-list"},e._l(e.fileList,(function(n,o){return t("FileItem",{key:n.attachmentsName+n.attachmentsId+o,attrs:{getIsAllowDownload:e.getIsAllowDownload,line:e.line,size:e.size,"file-item":n,index:o,"confirm-delete-file":e.confirmDeleteFile,"is-edit":e.isEdit}})})),1):e._e()]),t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"selectFile",attrs:{type:"file",accept:e.accept},on:{change:e.triggerUpload}}),t("a-modal",{attrs:{width:"400",centered:!0,title:e.$t("course.tip"),visible:e.deleteFileModalVisible,cancelText:e.$t("btn.cancel"),okText:e.$t("btn.confirm"),wrapClassName:"deleteFileModal"},on:{cancel:function(t){e.deleteFileModalVisible=!1},ok:function(t){return e.deleteClick(e.currentDelIndex)}},scopedSlots:e._u([{key:"closeIcon",fn:function(){return[t("svg-icon",{attrs:{"icon-class":"close"}})]},proxy:!0}])},[[t("div",{staticClass:"del_info"},[t("a-icon",{attrs:{type:"exclamation-circle",theme:"filled"}}),t("span",[e._v(e._s(e.$t("homeworkAnswer.delUploadedFile")))])],1)]],2)],1)},t.staticRenderFns=[]},"3f0a":function(e,t,n){"use strict";n("23a7")},"3f0b":function(e,t,n){"use strict";n.r(t);var o=n("1e78"),r=n("d13e");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,null,null);t.default=u.exports},"3f23":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("b1d4"),r=n("b682"),i=n("6d8b");function a(e,t,n){t=Object(i.isArray)(t)&&{coordDimensions:t}||Object(i.extend)({encodeDefine:e.getEncode()},t);var a=e.getSource(),u=Object(o.b)(a,t).dimensions,s=new r.a(u,e);return s.initData(a,n),s}},"3f39":function(e,t,n){"use strict";n.r(t);var o=n("f67d"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"3f8a":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/NoCourseSatisfa.a785653a.png"},"403a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAAGuklEQVRYCe1Xa4hVVRRea+9z78w0c6+j5ZCvHkOPP2EG+aNMiOhHBSaW9kJNiiR7GKbmMGAl9acHRlpEQiLUlGRGEFJWFBZjVPSjIogeNoFK6ZjOQ517ztl79629z565iq/sX7iHc/c6++yz9re/9a21zxCdaWcY+J8xwKeznyXb3YRM29t0QhdxiSfqMu+jEvWwpo+fv4C/PJnPOQM7Z1tr5zM5RaTeemfUpK74zr8CtGyrax7k9CVV5rmcUMIJkyqFK9qs6Htmeui5dv4iLlLfzzrwx32K6ZW4sJOHzI9trp63WkwgPLV274duTF+t1m1zt8CkNnEZkcsd2cyRSd2wbY2b7Cx9uvRXt/BYnrNULc8yRblhMraY4eyyOPeUAZk9Q10mNZfb1JKAMZn1YFw+AswBnL+3YI/o5WU97qq4kPTOOc5y1Y6LPCj0eQ5gRrXNcXtaZE4iPydrc1cNLgeEG1yGqGOyZeeptXIDOpRjEtvhkh1iYYRSJbbXbYU9ihkvFC1LEWJRjmZEypJG/OTe9iLQaKfEEFfpYQmNFVY8QyFUwkYYL5gRhgqWZK6ucuWB9+3TEYz0ea7BDvur3o5zTgrojs7BFaZkJkE7PlS2DoQH6IEGsFFTVjTlw+qoPI4fkVDFBVMBI6DAlL88wBEYI1Z846jeNZhOv+uCIbEjS17YERBACBD/TMD7DVjiJmpetMU+Fd1GICmEHbTEJCBjO6GGZj/av8KVTNVit9IUQStQEaLv77E86aAaWGjMv9AA7av1IZjONietSXP5XNdUaqNFYGmlTBExKw1fkBUyEq8QaaTAPnmIdkJATptO2TEXjHvRimDxZ30fAELUn9d+4m8O/2gW4NHFKJKEgklUSn1fGsu04Gs9Z8ODelOKzNIA4oVdCNog/5sKRMcFNGvRgRVW5VUGOxJXYUBJJkWWYAtT2Oeqvi16NGYs9RPhUYqkXC7BJNxnA47y1C4GF5tyMGTgSMkFljScK6GM4ALtuIAMm05GpgR2sIDQUzSxFao+QD586DOhwj4hYAIrwauAOQKYctPmPptfl06VNIc/SXmkfl6Air6PKeqZ9/zdYW1eHanGUI4X6Uhak6EP3lhUeQnU/4wFFgLMVxAUSAjAPDjZbmQMuE1CT4iGJO3zuuIo4u7tDZCOyVCeZZ0OO5DwSNEbDhWYkaIHIQ9R2T0kLt5+vXGr9HPedut529AbqNF3DAOTei2AhERZSbvpLQcT09doQsjg2IsatCQN4iXII1jF74w7/+7IjalIwQsMheLnj4pYizJe9+aS1h31L266jU1rS+P9WHi/iNoDEBDxKphr71MqFMZ4fKAmgaHYRqxiJK3VfN2JlRkHaTizfP2ROoPoHWpaEx3U9+ue4T6c/i947YAVYUZsD6oAOcYprqZJqNYA4gtlXR06AtANs3o7slpeMcKOHJpSf3wPIJ4xiPmw2v7ec42/1QOpt3Vj+UUA2S9hc6Ipz1AA523t6BLDyhdFVOuopViHjgCUHUo7o3il/kiY4qkugChjZ9VZd9cDONruepL7qcSrcYGhQuBeP7ClHGC8DSdqK9BmJgjcV+oC0TCgm2bs6UgPpRX5tgnlXxga0ZHYnOnu99Y2/nbjja5h8tV/ttWDqR/TLckalYAlAHFgRHoBEuuS9Jc1gCU5zxA2YSm2YcsdzDolzATh+gO00I4wE3TEzrD27Ozs27XZObNj2rS9legIY+/Gsa7F3M9lNaylELbAkHwpCVNtDcTXjNE8rkHRpRXN4xupSXx5QLNv3n8LVFbx4cagP7VFO8XJLuyUjO7esj5mFl8A7pr72Y6NgHCg+7EBbc6RMR6tXsTinqWgncASPn09YxrMnV8hde041lecq9SV59NheS8wZLLp5TDPvyu2ZwpA5BMD1DjVWJ4vw6G5HuzzYNWpvXEE32B+rGK0L3Fdc8FSwqujbiJLXltY1ZbxU2SgIZe+dikNii8PSGn1rQCP5UOSI4ZPMq2sSx+9/3rr7/KCtImjJtzKrNu7u8cOhBE/dsvRYwjbGs9SUYNCwYSmoKcIUADjCPkkflXiCQ4kiPSvoV37TZ43SaYbXIgWie1Y2WT82ZM+3ti8G7f/ut212SwEkFdjxvmd1gHC0VNTCU3dMJl/EOeeobUfcE03N9yelJI0siSMIRFsU0t53umCkQXevFWvU2V6HkwZn3HDtQmLK9oNBNdHMDLfMySGtDtn9J9j8qHHrTVTjFZ/NFTLKzduHN3jH/7Hn3nb3IVgaqZLaDyEPYh/Kr9rn0JbnmSWYJxpZxj4/zLwDxu0rNJ4zdBAAAAAAElFTkSuQmCC"},"40ee3":function(e,t,n){},4172:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/paperScore.e1a03856.svg"},"41d8":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/sleep.2d4cfb62.svg"},"429b":function(e,t,n){e.exports=n("faa1").EventEmitter},"42a5":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/audio-nodata.dfdd7ea5.png"},"42d8":function(e,t,n){"use strict";n.r(t);var o=n("8533"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},4445:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAACIUlEQVQ4T5WUy2sUQRCHv9oZBBG8+PgHjK9gIiJRUREvxgcoKgiCXjx7WJ3JxkOCScQczKZH95CzBxEFwQQFlXgRUYkGETfiM14EL0YvggiysyXdO+Nu3GDGvhR0Vf+66/G1MNca0k482lE2ImxzIcpjhOfElOmW8b+PSZNOpCMoJ4BR4DXwNolZA7QChxAuE8jJxrOzhYxOI/wgJk9BHrjAkq50Ni8fnC3qTjxKKIsIpSUVqwtF+oSYcQrST1E349GDsgVYlgTPIEwQM0hBnmK0D2E3gWy1/ppQpCHKLkLZQ1H7ydE3Z+3SzSoD7kKj9xDuE4gRIu1EuYHHJn5RwWP6nyKpM6aFBfjEPEM4IhjtAdoI5ShGb7piZlujhHIYo9eBKSs0BrwilF6G9SvCkkw6yje6ZClGzwPrhGH9jBBQoYzv2p19VWjFd/MW2Rd9Ak7jU6bC++wqgM8qKrQDF+2LriEutUGMfmlo93yaM4Sy3NVYbWpGu4ANhHKMSG+h7J9PwfmF2wRyAKNXgRdCjasxquwDfpJjIpNQ1Q3rQnLcIeZgOpAjwHYCWf9fAxnpS+CR5a6OiOUMrhDKAEO6Ao8iyo4/42DbLTwkpkC3fEwuPJ7yNhtay5vyHY88p+SdS/GCrnX2jLxx9pKuJqaEsDjlrM5aY1Fq3J0F7oLDZSpxtwGW9r0I5yxfjcea/6MaxJa/DqAjsbZLk8Cks0Hzx/Yb8mnCCA6jqpAAAAAASUVORK5CYII="},4475:function(e,t,n){"use strict";n.r(t);var o=n("4c29"),r=n("72ff");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("ad8a");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"21ebaaf2",null);t.default=u.exports},"44f5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const o=n("74ac").PROD||{},{HOST:r=""}=o;t.default={HOST:r,I_LEARNING_HOST:"//ilearning.huawei.com/next",PORTAL_SITE:"//ilearning.huawei.com/edx/next",I_LEARNING_PRIVACY_APPID:"app_000000035246",PRIVICY_SIGN_URL:"/privacy/servlet/ilearningEsddpPrivacySingedServlet",PWNSTONE_URL:"//pwnstonetraining.rnd.huawei.com/#/examView",PWNSTONE_SUBMIT_URL:"//exam.answersheet.rnd.huawei.com/page/ct/contest/huawei",DASHBOARD_URL:"//ilearning.huawei.com/edx/dashboard",OLDEXAM_URL:"//ilearning.huawei.com/next/home.html#/examinationInfo",OLD_DASHBOARD_URL:"//ilearning.huawei.com/edx/webportal-dg/index.html#/"}},4516:function(e,t,n){"use strict";n("b119")},4527:function(e,t,n){"use strict";var o=n("7fae"),r=n("d498"),i=n("deca"),a=n("2dc5"),u=n("7d6c"),s=function(e){function t(t,n,o){var r=e.call(this)||this;return r._createPolyline(t,n,o),r}return Object(o.a)(t,e),t.prototype._createPolyline=function(e,t,n){var o=e.getItemLayout(t),i=new r.a({shape:{points:o}});this.add(i),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var o=e.hostModel,r=this.childAt(0),a={shape:{points:e.getItemLayout(t)}};i.h(r,a,o,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var o=this.childAt(0),r=e.getItemModel(t),i=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,c=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var l=r.getModel("emphasis");i=l.getModel("lineStyle").getLineStyle(),c=l.get("disabled"),a=l.get("focus"),s=l.get("blurScope")}o.useStyle(e.getItemVisual(t,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=i,Object(u.J)(this,a,s,c)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(a.a);t.a=s},"456e":function(e,t,n){"use strict";n("de0c")},"45f8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("5b81");var o=n("2ef0");t.default={props:{text:{type:String,default:""},suffix:{type:String,default:""},line:{type:String,default:"1"},tipsProps:{type:Object,default:()=>({})},isLoading:{type:Boolean,default:!1}},data(){return{isOverflow:!1,showText:this.text}},watch:{text(){this.$nextTick((0,o.debounce)(this.getIsOverflow,50))}},mounted(){const e=new ResizeObserver((0,o.debounce)(this.getIsOverflow,50));this.observer=e,e.observe(this.$refs.textWrapper)},beforeDestroy(){this.observer&&this.observer.disconnect()},methods:{getIsOverflow(){const e=this.$refs.wrapper||this.$refs.overflowWrapper;if(e){const n=e.clientHeight<e.scrollHeight;if(this.isOverflow=n,n){var t;const n=document.createElement("div"),o=null!==(t=e.clientWidth)&&void 0!==t?t:0,r=window.getComputedStyle(e)||{};n.setAttribute("style",`font-size: ${r["font-size"]};font-family: ${r["font-family"]}; width: ${o}px;opacity: 0;word-break: break-all;overflow: hidden;text-overflow: ellipsis;position: absolute;left: -99999px;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: ${this.line};`),document.body.append(n);const i=this.isLoading?"...":this.suffix?".."+this.suffix:"";let a="";const u=this.text.replaceAll(i,"");for(let e=0;e<u.length;e++){if(n.clientHeight<n.scrollHeight){this.showText=a.slice(0,a.length-1)+i;break}a+=u[e],n.innerText=a+i}document.body.removeChild(n)}else this.showText=this.isLoading?this.text.replace(/(\.\w+)$/,"..."):this.text;return n}return!1}}}},4657:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("d457"));t.default={stat:r.default}},4681:function(e,t,n){"use strict";(function(t){function n(e,t){r(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var a=this,u=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return u||s?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(r,this,e)):t.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(o,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):i?(t.nextTick(o,a),i(e)):t.nextTick(o,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,o=e._writableState;n&&n.autoDestroy||o&&o.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n("4362"))},4825:function(e,t,n){"use strict";n.r(t);var o=n("e022"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"48d3":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("2c66"),n("249d"),n("40e9"),n("907a"),n("986a"),n("1d02"),n("3c5d"),n("6ce5"),n("2834"),n("4ea1"),n("0643"),n("4e3e"),n("a573");var r=o(n("f0e2")),i=o(n("5e22"));o(n("87c35"));n("2b1c"),n("3b38"),n("65bb");var a=n("cabd"),u=n("b255"),s=n("4ee2");n("deae")(r.default);t.default={name:"videojsPlayer",props:{classIdToVideo:{type:String,default:()=>"0"},courseSelected:{type:String,default:()=>""},source:{type:String,default:()=>""},videoDuration:{type:Number,default:()=>0},itemList:{type:Array,default:()=>[]},mediaQualityList:{type:Array,default:()=>[]},videoDownloadUrl:{type:String,default:()=>""},allowDownload:{type:Boolean},options:{type:Object,default:()=>({width:480,height:270,hasCredential:!0,autoSize:!1,children:[],poster:""})},cuepoints:{type:Array,default:()=>[]},contentType:{type:String,default:"application/x-mpegURL"},videoTime:{type:Number,default:0},studyVideoDuration:{type:Number,default:0},videoProgress:{type:Number,default:0},isPullProgress:{type:Boolean,default:!0},uuId:{type:String},isPreview:{type:Boolean,default:!1},isNeedOccupy:{type:Boolean,default:!1},blockInfo:{type:Object,default:()=>({})}},data(){return{videoLearnTime:0,sstimer:null,status:this.$route.query.status||"",playerID:"my-player",player:{},videoLength:0,videoCalculate:0,fullscreenShow:"非全屏",num:0,classId:this.$route.query.classId||this.classIdToVideo,primaryId:this.$route.query.id||"",uuid:this.uuId,disProgressBar:null,last:0,max_time:0,isDrag:this.isPullProgress,progress:this.videoProgress,PauseTimeout:null,pauseProgressTimeout:null,isDestory:!1,currentRetryCount:0,currentCount:3,tempList:[],putProgressTimer:null}},computed:{},created(){this.playerID+=Math.floor(this.extrandom()*Math.floor(1e3)),this.sstimer=setInterval(()=>{this.videoLearnTime++},1e3)},mounted(){this.source&&this.$nextTick(()=>{this.generateVideo(this.source,this.options),this.QualitySelector()}),document.addEventListener("fullscreenchange",e=>{document.fullscreenElement?(this.fullscreenShow="全屏",this.$ana.upLog({eventType:"click",eventCode:"030214"}),this.$ana.upLog({eventType:"view",eventCode:"030201"})):this.fullscreenShow="非全屏"})},watch:{source(e,t){if(e&&!t)this.$nextTick(()=>{this.generateVideo(e,this.options),this.QualitySelector()});else{if(this.qualityMenu)return void this.QualitySelector();this.player.src({withCredentials:this.options.hasCredential,type:this.contentType,src:e}),this.player.play()}},isPullProgress:{handler(e){this.isDrag=e},deep:!0},videoProgress:{handler(e){this.progress=e},deep:!0}},methods:{extrandom(){var e=new Uint32Array(2);return crypto.getRandomValues(e),(e[0]*Math.pow(2,20)+(e[1]>>>12))*Math.pow(2,-52)},QualitySelector(){var e;if(!this.qualityMenu){const e=this;this.player.on("qualitySelected",(function(t,n){e.setQualityText(n.label)})),this.qualityMenu2=this.player.controlBar.addChild("QualitySelector",{title:this.$t("course.definition")}),this.qualityMenu=this.player.controlBar.addChild("volumePanel",{title:this.$t("course.Sound")}),this.qualityMenu=this.player.controlBar.addChild("fullscreenToggle",{title:this.$t("course.Zoom")})}this.setQualityClass("vjs-icon-hd"),this.tempList=[];let t=null===(e=this.mediaQualityList.sort((e,t)=>t.pixel-e.pixel)[0])||void 0===e?void 0:e.quality;this.mediaQualityList.forEach(e=>{e.quality===t?this.tempList.push({src:e.videoUrl,label:e.quality,selected:!0}):this.tempList.push({src:e.videoUrl,label:e.quality})}),this.player.src(this.tempList)},async getDownloadLink(e,t,n){return this.$tools.isNewCourse()?(0,u.appGetDownloadUrlV3)(e,this.$route.query.id,n).then(e=>{if(200!==e.code)return void this.$message.warning(e.message);let{code:t,data:n={}}=e;if(200===t){let{url:e}=n;return e}}):(0,a.getDownloadLink)(e,t).then(e=>{if(200!==e.code)return void this.$message.warning(e.message);let{code:t,data:n={}}=e;if(200===t){let{url:e}=n;return e}})},setQualityText(e){const t=(0,i.default)(e,{});e&&(this.qualityMenu2.$(".vjs-icon-placeholder").innerHTML=this.$safeHtml(t))},setQualityClass(e){e&&(this.qualityMenu.$(".vjs-icon-placeholder").className+=" "+e)},setQualityList(e){this.player.src(e)},async generateVideo(e,t){let n={plugins:{vjsdownload:{beforeElement:"playbackRateMenuButton",textControl:"Download video",name:"downloadButton",downloadURL:""}},autoplay:this.options.autoplay||!1,playbackRates:[.5,1,1.25,1.5,2],autoSize:t.autoSize,poster:this.options.poster,supportQualtiySelector:this.options.supportQualtiySelector,preload:"auto",controlBar:{children:["playToggle","progressControl","remainingTimeDisplay","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","playbackRateMenuButton"],pictureInPictureToggle:!1},html5:{hls:{withCredentials:this.options.hasCredential}}};e&&(n.source={withCredentials:this.options.hasCredential,type:this.contentType,src:e,label:"",selected:!0}),n.autoSize||Object.assign(n,{height:this.options.height,width:this.options.width});let o=this;if(this.player=(0,r.default)(this.playerID,n,(function(){})),this.player.markers({markerStyle:{width:"4px","background-color":"#fff",height:"100%",position:"absolute",top:"0px","box- shadow":"0 0 3px 0 rgba(0, 0, 0, 0.25)","border- radius":"2px"}}),n.supportQualtiySelector){this.player.qualityLevels().on("addqualitylevel",(function(e){var t=e.qualityLevel;t.enabled=!0,t.height=t.bitrate}));try{this.player.hlsQualitySelector()}catch(e){}}this.player.on("play",(function(e){o.finallyPushProgress(),o.pauseVideoAll(e),o.pauseAudioAll(),"全屏"==o.fullscreenShow?o.$ana.upLog({eventType:"click",eventCode:"03020102"}):o.$ana.upLog({eventType:"click",eventCode:"030210"}),o.$emit("play",o.player),this.videoLength=this.player(this.playerID).duration()||o.videoDuration,o.isPreview?o.$nextTick(()=>{const e=document.getElementsByClassName("vjs-vjsdownload vjs-control vjs-button")[0];e&&(e.style.display=o.allowDownload?"block":"none")}):o.itemList.map((e,t)=>{e.blockId==o.courseSelected&&o.$nextTick(()=>{const t=document.getElementsByClassName("vjs-vjsdownload vjs-control vjs-button")[e.index];t&&(t.style.display=o.allowDownload?"block":"none")})})})),this.player.on("firstplay",(function(){let e=Math.floor(this.videoLength)||Math.floor(o.player.videoLength);0===e||!e||e<0||(clearTimeout(o.pauseProgressTimeout),o.pauseProgressTimeout=setTimeout(()=>{clearTimeout(o.pauseProgressTimeout),o.putProgress()},2e3))})),this.player.on("ended",(function(e){o.$emit("videoEnded",o.player),o.putProgress("ended")})),o.timeChange=0,this.player.on("timeupdate",(function(){if(o.$emit("timeupdate",o.player),o.timeChange+=.25,clearTimeout(o.PauseTimeout),this.videoCalculate=o.timeChange,o.isPreview)return;if(100!==o.progress&&o.isDrag&&"unpublished"!=o.status){var e=o.player.currentTime();e<o.max_time||(e-o.last>1?(o.player.currentTime(o.last),o.$message.warning(o.$t("course.VideoDragDisable"))):(o.last=e,o.last>=o.max_time&&(o.max_time=o.last))),o.timeChange=document.getElementById(o.playerID)&&document.getElementById(o.playerID).firstChild.currentTime}let t=Math.ceil(this.videoLength)||Math.ceil(o.player.videoLength),n=Math.ceil(o.player.currentTime());clearTimeout(o.pauseProgressTimeout),o.pauseProgressTimeout=setTimeout(()=>{clearTimeout(o.pauseProgressTimeout),0!==t&&t&&!(t<0)&&n>0&&n!==t&&o.progress<100&&!o.isDestory&&o.putProgress()},2e3)})),this.player.on("pause",(function(e){clearInterval(o.putProgressTimer),clearTimeout(o.PauseTimeout),o.PauseTimeout=setTimeout(()=>{clearTimeout(o.PauseTimeout),o.$bus.$emit("videoCurrentTime",{blockId:o.courseSelected,endTime:parseInt(o.player.currentTime())})},2e3),"全屏"==o.fullscreenShow?o.$ana.upLog({eventType:"click",eventCode:"03020103"}):o.$ana.upLog({eventType:"click",eventCode:"030211"}),o.$emit("pause",o.player);let t=Math.floor(this.videoLength)||Math.floor(o.player.videoLength);(0===t||!t||t<0)&&o.player.currentTime(0),o.timeChange=0})),this.player.on("loadstart",(function(){"全屏"==o.fullscreenShow?o.$ana.upLog({eventType:"click",eventCode:"03020105"}):o.$ana.upLog({eventType:"click",eventCode:"030213"}),this.videoLength,o.timeChange=0,o.$emit("loadstart",o.player)})),this.player.on("loadedmetadata",(function(){o.$emit("loadedmetadata",o.player)})),this.player.on("seeked",(function(){"全屏"==o.fullscreenShow?o.$ana.upLog({eventType:"click",eventCode:"03020101"}):o.$ana.upLog({eventType:"click",eventCode:"030209"}),o.$emit("seeked",o.player)})),this.player.on("ratechange",(function(){"全屏"==o.fullscreenShow?o.$ana.upLog({eventType:"click",eventCode:"03020104"}):o.$ana.upLog({eventType:"click",eventCode:"030212"}),o.$emit("ratechange",o.player)})),this.player.on("loadeddata",(function(){o.player.currentTime(o.videoTime),o.last=o.player.currentTime(),o.max_time=0,o.$emit("loadeddata",o.player),o.player.markers.removeAll(),o.cuepoints.forEach(e=>{o.player.markers.add([{time:e.popup_time,text:""}])})})),this.player.on("downloadvideo",(async function(){if("unpublished"===o.status||!o.$tools.isApplication())return void o.$message.warning(o.$t("course.previewDownloadDisabled"));let e=await o.getDownloadLink(o.videoDownloadUrl,o.classId||o.videoDownloadUrl,o.blockInfo.blockId);if(e){var t=new MouseEvent("click"),n=document.createElement("a");n.target="_blank",n.href=e,n.dispatchEvent(t)}})),this.player.on("error",(function(e){(0,s.logReportApi)("curriculum_030001",{data:e||{},resourceId:o.primaryId||""}),this.currentRetryCount<this.currentCount?(o.currentRetryCount+=1,o.player.error(null),o.player.currentTime(),o.player.src(this.tempList)):o.$message.info(o.$t("course.networkUnavailable"))}))},setMarker(e){this.player.markers.add(e)},pauseVideoAll(e){[...document.getElementsByTagName("video")].forEach(t=>{t!=e.target.children[0]&&t.pause()})},pauseAudioAll(){[...document.getElementsByTagName("audio")].forEach(e=>{e.pause()})},putProgress(e){var t,n;if(this.isPreview)return;let o=this,r={blockId:o.courseSelected,blockType:"video",duration:o.videoLearnTime,endTime:o.player.videoLength,studyDuration:0,uuid:o.$route.query.classId||o.uuid};const i=Math.ceil(Math.ceil(this.videoLength)||Math.ceil(o.player.videoLength)),c=Math.ceil(null===(t=o.player)||void 0===t?void 0:t.currentTime())||(null===(n=document.getElementById(o.playerID))||void 0===n?void 0:n.firstChild.currentTime),l=o.studyVideoDuration>=c?o.studyVideoDuration:c,d=i-10<=c?c:i;r.blockId=o.courseSelected,r.blockType="video",r.endTime=d,r.duration=l>=d?d:l,r.studyDuration=0,"ended"===e&&r.endTime<1&&r.duration<1&&(r.endTime=1,r.duration=1),"unpublished"!=o.status&&o.$tools.isApplication()&&o.progress<100&&(o.$tools.isNewCourse()&&o.primaryId?(r.resourceApplyId=o.primaryId,(0,u.putAppProgress)(o.primaryId,r).then(e=>{var t;e.data&&(o.$emit("updateHandleChange",e.data.totalProgress,e.data.parentProgressList,e.data.progress),o.progress=e.data.progress||0,this.isNeedOccupy&&this.OrderCourseEnroll(null===(t=e.data)||void 0===t?void 0:t.totalProgress,o.primaryId).then(e=>{[415,406,411].includes(e)&&this.$bus.$emit("updateOccupy",!1)}))}).catch(e=>{(0,s.logReportApi)("curriculum_020017",{resourceId:o.primaryId,data:{error:e,params:r},error:e,level:"warn"})})):(0,a.putCourseProgress)(o.classId,r).then(e=>{e.data&&(o.$emit("updateHandleChange",e.data.totalProgress,e.data.parentProgressList,e.data.progress),o.progress=e.data.progress||0)}))},finallyPushProgress(){clearInterval(this.putProgressTimer);let e=0;this.putProgressTimer=setInterval(async()=>{e++,e>=120&&(await this.putProgress(),this.finallyPushProgress())},1e3)}},beforeDestroy(){var e;let t=this;if(t.isDestory=!0,clearInterval(this.putProgressTimer),clearInterval(this.sstimer),clearTimeout(this.PauseTimeout),clearTimeout(this.pauseProgressTimeout),this.$bus.$emit("videoCurrentTime",{blockId:this.courseSelected,endTime:Math.ceil(null===(e=t.player)||void 0===e?void 0:e.currentTime())}),!this.isPreview&&"unpublished"!=this.status&&100!==t.progress){var n;let e=Math.ceil(this.player.videoLength),o=Math.ceil(null===(n=t.player)||void 0===n?void 0:n.currentTime()),r={blockId:this.courseSelected,blockType:"video",duration:o,endTime:e-10<=o?o:e,studyDuration:0,resourceApplyId:t.primaryId,uuid:this.classId||this.uuid};this.player.videoLength&&t.$tools.isApplication()&&(t.$tools.isNewCourse()&&t.primaryId?(0,u.putAppProgress)(t.primaryId,r).then(e=>{var n;e.data&&(this.$bus.$emit("updateCourseOutline",{totalProgress:e.data.totalProgress,parentProgressList:e.data.parentProgressList,progress:e.data.progress}),this.isNeedOccupy&&this.OrderCourseEnroll(null===(n=e.data)||void 0===n?void 0:n.totalProgress,t.primaryId).then(e=>{[415,406,411].includes(e)&&this.$bus.$emit("updateOccupy",!1)}))}).catch(e=>{(0,s.logReportApi)("curriculum_020017",{error:e,resourceId:t.primaryId,data:{error:e,params:r},level:"warn"})}):(0,a.putCourseProgress)(this.classId,r).then(e=>{e.data&&this.$bus.$emit("updateCourseOutline",{totalProgress:e.data.totalProgress,parentProgressList:e.data.parentProgressList,progress:e.data.progress})}))}}}},"491c":function(e,t,n){"use strict";n.r(t);var o=n("2ab6"),r=n("d29b");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("de41");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"36c0cc69",null);t.default=u.exports},4962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"dataReport",props:["sessionInfo"],data(){return{courseId:this.$route.query.courseId||"",appId:this.$route.query.appId||"",appType:this.$route.query.appId||"",basicIframeHeight:1520}},computed:{iframeSrc:{get(){return this.dataReportSrc()}}},created(){window.addEventListener("message",this.setIframeHeight,!1)},beforeDestroy(){window.removeEventListener("message",this.setIframeHeight,!1)},methods:{dataReportSrc(){const e=this.$route.query["sxz-lang"],t=this.courseId,n=this.$tools.isNewCourse()?this.sessionInfo.associationId:this.sessionInfo.id,o=window.location.origin;return this.$tools.isNewCourse()?`${o}/istats/courseUser.html#/home?sxz-lang=${e}&applicationId=${this.appId}&applicationType=${this.$tools.whichAppType()}&sessionsId=${n}`:`${o}/istats/courseUser.html#/home?sxz-lang=${e}&courseId=${t}&classId=${n}`},setIframeHeight(e){const t=document.getElementById("data-iframe");null!=e&&e.data&&"iocCourseHeight"===e.data.type&&(e.data.data<this.basicIframeHeight?t.style.height=this.basicIframeHeight+"px":t.style.height=Math.ceil(e.data.data+10)+"px")}}}},"499f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FALLBACK_COURSE_COURSEID_LIST=t.FALLBACK_COURSE_CODE_LIST=void 0;t.FALLBACK_COURSE_CODE_LIST=["CNE030201000106","COU20241121000006"],t.FALLBACK_COURSE_COURSEID_LIST=["584561899408182845","1858707621390753794"]},"4ac8":function(e,t,n){"use strict";n.r(t);var o=n("22b1"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"4b0d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAA+VBMVEX1piMAAAD2piP2qCT1piT/v0D2pyX1piP2pyT2pyT1pyP2pyT2qCT/tiT2qCX2piP1pyT2piP////2pyT1pyP/qlX2piT2piT2piP1piT2qCT2qib//4D4piP2piT/uS74qCT2qCX/zDP2qib/qiv6qCb2piP1pyT6qiX3qiT3piT1piT3pyj2rST1qCT2pyP4qST3pib3qSP1qCX1pyP1piP2pyP2piT1pyP2piT2piT1pyT2piP2pyT2piT/qiv5qij2qCT5rCb2pyP3qCT2pyT/qiv2pyT3pyX/qjn1pyf2qir2pyP/rSn2pyP5qCX/qjP5qiT/rzAwBqM+AAAAU3RSTlP/AHOM7ARu0vjFmatyB3XggP0BpbQDh/LD8TgbAkjdCyNSBTwYL/fWMD95uCAcad9HX0Fn5+b+lfDBrM2KsMYMLXgodGTkBpNaCRoeyhnZKQ8qEKeCPRoAAAT/SURBVHic7ZxpW+IwEICzbrkEkVsFFW8RkMMLRcVr73v3//+YbWGFFJK2zExwfJb3O/O8D9A0mZmMeMOcuSCWuSCWuSCWuSCW/0Nwvd4Kd+K1WKRpRaNWMxKrxTvhVn2dIjZWMFSsxiMHQslBJF4thl5QMFNJ5FbUbiNWcolK5kUEdxctP7lnrMXdWQtupTaD2g3YTG3NTjDUjk1nNyDWhvwfpxdcaixD9ByWG0vGBcuJc6iew3mibFRwJxn4wdBhJXfMCZ4cYvUcDk8MCe5lKfQcsnsGBPPhNSo/IdbCeWrB0hWdnsNViVZwA/1wjGNtEAqGChfUfkJcFAKt20EEj1fp9RxWj2kE98/M+Alxtk8heHRpyk+IyyO84HbUnJ8Q0W2s4GnapJ8Q6VOc4INZPYcHjOCpeT8hvL9DT8Ftw7/vgLTn/9BL8Mjo8zEi6vUsewjuG1xf3Fx6rId6wWNj6/MkZ/p3ilYwZOj9pmZV+17WChZm6SdEYVrBDQP7Fy8udLsvjWCJfP/nh6XZwaoF88A/4Pt3Xz98+fQD9Nkr9SlALRiG+WX/9D/9+SPo0+Hggnuw89G34XeQg3x8TXnWUwrCzpfpn8MA332zciqyQQVPQH4iJoWIgyKoTvQKwR1g/mBRipECRThUZEUUgkmYn3grxViAhUgGESxDl0ACQWsy9zUpCIxNIigS/oJL4PwfheD5RIZzQrAB9SMRFA0/wRA4v0sjuDy+7xoXbIP9aARF20cQlL+nFJSXe4XgFtyPSFCM1VPGBGFvAFLBlKfglPUjE4KbXoK7CD8qQeGu67kFFzkIypuOMcEM6iRCJWi5qrcuwQrGj0xQVLSCCR6Crh2DSxB0lKAXzOkEQ6CTBL3givw+lgWLKD86QVHUCFa5CFY1grCjmAHBuEYwwkUwohZc1/TnzF7wQOpZkgTrOD9CQVFXCrb4CLaUgsCUlglBKdElCXb4CHaUgl0+gl2lYI2PYE0p2OMj2FMKItdpSkFppZYEm3wEm0pBbOWBUNBSCmJrm4SC0dcpyP4nZv+QsF9mEJm3PvgyxBApB0f4qsMXcoaoX3XYzUL69zAUrBQ2QjqUEG63sMVECfV2C7thtauBv/qBgOVYCfWGFbvlt8EUtGXUW37soYkQ9aEJe+ykQ3PsRK/UZGgO7tjFiw5d6gOZPKJDlzxCpt/o0KXfkAlMMrQJTPQLgAhtChiZRCdDn0THlSHI0JchcIUcuxqdvL+7u0/Ca+J9PAo5uFKYuPnXcLB0gwrjUQrDFROfRnGeMHG8iokZRDn2Vg50C4/jWY7FnCUe5TiP8DjeBW14S8C1O9A1OJB3SwD8aOf+a8MfN5+mCnhbylgbL7iJ2K8tBdzYQ/QN+jb2gFujiP6Dvq1R8OYykqc4QHMZeMdAsg4GaM+DNzgSvEkCNTiCW0QJ3sWBWkTBTbb43UzAJltomzKegG3K0EZvNIEbvaGt8kimaJUnSHQBmOKywZs88XXnIEx1XYP9hRf+V4b4X7rif22N/cU/++rkzFZD2NVJ/pdP+V/f5X8Bmv8Vcv6X8PmPMeA/CIL/KA3+w0j4j3OxYT4Qx6ZE/DNTjxTiP5TJhvlYKwfmg8FsuI9Wsykv4IbTLZgdTufAfLyfA/MBiX14j5jsk+E9pPM1jDkdwHpQ7JD+qN1urfc8ardX67IZtWucuSCWuSCWuSCWuSAW9oJ/AQpPcwXZuBhuAAAAAElFTkSuQmCC"},"4b20":function(e,t,n){},"4c29":function(e,t,n){"use strict";var o=n("ae2f");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"4d86":function(e,t,n){"use strict";n.r(t);var o=n("ccf75"),r=n("6027");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("ef72");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"09037e1c",null);t.default=u.exports},"4eaf":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/submitted.04fdbc37.png"},"4fc5":function(e,t,n){"use strict";n.r(t);var o=n("ce44"),r=n("3238");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("92a4");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"1eddcac3",null);t.default=u.exports},5079:function(e,t,n){"use strict";n.r(t);var o=n("c04d"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"50c7":function(e,t,n){},"526c":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/time.799c57d3.svg"},"52b2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEGklEQVRYCe1WS0hUURieGWfuDAUiRagVCCbRIkIaC93ZIlvZQ5QWPtqEr8mFMC0Laz0w0DTouEwlIgvLVUEYtCiCATOIIhAMSaEHohTzUKfvm85/uXfmzkMRXNSBM/+Z//md/9zz/8dm+9eHfTsJGBoa0lZWVvYkEgkP7TVNi5WVlf0GP7FVf0UD6Ovrq97Y2OhEgIuYtTkCzYI/VVJSMjY8PDyfQ8fELghgYGDgQDwevwmrHkyXwZq7XVL/K0E1gyyJdcTtdt8OhULfDPysZV4APT09DbB4nEqlKmhpt9ujmBObm5tPI5HIPNYp8iG3Q7fa4XCcx7od06v0l8G7hGy84X+rkRNAd3d3GwKMwZkbhgtY+xF00spJJg9gWmEXAL8KdnGsO0dHRx9m6vG/JQC18xkGh4OXTqezNRwO/7BykIvn8/n2r6+vT8JHI0EgE41WmcgCoM78PRyXMzgcNAE9z3TLA1l0wcdzBWIZt+VE5jfhyPSqPrhy8Be48+0Gp1/a0gd9AUSF8k2RPkwZUFftI6RE3lbsmevecizUN8FvIIkresx4RU0ZAMouFTy6U8GJib6woSh9q1pCdno4ZUGK63WBFEDGSY3D7/fvXV1dnSGvtLT0TCAQ+LUVufLJ68lCdkts9QywvIIpFW5aFIQi+HGsT3GqtYjStJAcSuKzdnBwcJ8Y6wBY2xUzgZRllVHw3iKN1zm5FgdCi5DTZ7pXxGKxw2KnH4E0FgiWECRd4USJVPFYXHimJKZRjBzXkqW7Ckd9EHSODvQM8M9uDB0AW6oCUIkPxnQ9e3t7zwH9lWIBUhezyaivfLJp2VAVv4pMB8B+rpgaG4sokCJlZ5HiSH9/f42Rb7VGCT5KXchMAJRPfug2j8ezKLY6APWYYD/naP5L9N87WMVxhydQqtmcLAevajKZvA9hHJM2+mCnVH9mg8HgTxHoABRjihQ76BAFUpTULyA+pPE0yukrgNC/YtFjdtbW1th2T2L2KhsRs7a0qz/pGCIwnXWhUoxzvQrDMADye3kAp++wMw1HVIf/LeBrmP6RkZGgBCDNV4pNAKiMICGQa5gLLpfLm9mGAbIeAYMIXk99NXhtX6DO38hsuWzLOBaW4SrMu8jMgLJJkywAbMeoCXMIUIHd5GzHuBmHoHMEXpKgn+H4u9Ex19hMwXacBYCGSFkDyAwc79iDBP7OoIC9pn/jKDH+kXU0Gl30er2fkAG+8WqQ8st1dXWL4H8QnXyUZ44b8wg6tfAhT7JnVjaWGRBFlQnToxSAxiGfxm6yHqXgNyNgB3TY9XiblkFarHZOOUdeAFRQT7TdeZYTgAxeUeysC8fBN4O0bRELncW1fIKd3zO+ekRoRQtmwMqI/ZwtFWDY1dK1neXVWOGs7P7zrDLwB7NrHfgNt4ZgAAAAAElFTkSuQmCC"},5399:function(e,t,n){"use strict";n.r(t);var o=n("35c1f"),r=n("c06c");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("988b");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"3119ff2c",null);t.default=u.exports},5402:function(e,t,n){"use strict";var o=n("0d25"),r=n("2714"),i=n("ccf1"),a=n("f213"),u=n("33f3")||a||i;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new o("Side channel does not contain "+r(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=u()),e.set(t,n)}};return t}},5465:function(e,t,n){"use strict";n.r(t);var o=n("8761"),r=n("384a");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("a371");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"7482b056",null);t.default=u.exports},"54c0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e,t,n=this,o=n._self._c;return o("div",{staticClass:"vmall"},[o("div",{staticClass:"header"},[o("div",{staticClass:"price"},[n.price?o("span",[n._v("￥"+n._s(n.price))]):n._e()]),o("a-button",{class:["buy-btn",{disabled:n.soldOut}],attrs:{disabled:n.soldOut},on:{click:n.buyNowFn}},[n._v(" "+n._s(n.soldOut?n.$t("course.isSoldOut"):n.$t("course.BuyNow"))+" ")])],1),n.currentIndex?o("div",{staticClass:"content"},[o("div",{staticClass:"item"},[o("span",{class:["vmall-label",{outer:"zh_CN"!==n.$route.query["sxz-lang"]}]},[n._v(n._s(this.$t("course.specification")))]),o("div",[n._l(n.skuList,(function(e,t){return[2===e.skuStatus?o("span",{key:t,class:["vmall-radio",{active:n.currentIndex===e.gbomCode}],on:{click:function(t){return n.changeEan(e)}}},[n._v(n._s(e.gbomName))]):n._e()]}))],2)]),"NRSCZHNZ"===(null===(e=n.currentIndex)||void 0===e?void 0:e.substr(0,8))?o("div",{staticClass:"item"},[o("span",{class:["vmall-label",{outer:"zh_CN"!==n.$route.query["sxz-lang"]}]},[n._v(n._s(this.$t("course.userCount")))]),o("add-number",{attrs:{unit:n.$t("course.vmallNum"),maxLen:9999999,tips:"1-9999999"},model:{value:n.countNum,callback:function(e){n.countNum=e},expression:"countNum"}})],1):n._e(),"NRSCQYNZ"===(null===(t=n.currentIndex)||void 0===t?void 0:t.substr(0,8))?o("div",{staticClass:"item"},[o("span",{class:["vmall-label",{outer:"zh_CN"!==n.$route.query["sxz-lang"]}]},[n._v(n._s(this.$t("course.vmallDuration")))]),o("add-number",{attrs:{unit:n.$t("course.vmallYear"),maxLen:5,tips:"1-5"},model:{value:n.yearNum,callback:function(e){n.yearNum=e},expression:"yearNum"}})],1):n._e()]):n._e(),o("Modal",{attrs:{mode:"back",title:n.$t("course.offShelf2"),content:n.$t("course.backHome"),cancelText:n.$t("examTest.cancels"),okText:n.$t("examTest.confirm"),isTimeout:!0},on:{cancel:function(e){n.backVisible=!1},ok:n.backFn},model:{value:n.backVisible,callback:function(e){n.backVisible=e},expression:"backVisible"}}),o("Modal",{attrs:{title:n.$t("course.newPrice2"),content:n.$t("course.newPriceTips"),cancelText:n.$t("examTest.return"),okText:n.$t("course.continue")},on:{cancel:n.refreshPrice,ok:n.continueToBuy},model:{value:n.updateVisible,callback:function(e){n.updateVisible=e},expression:"updateVisible"}}),o("Modal",{attrs:{title:n.$t("course.especificaciones2",{num:199}),okText:n.$t("course.backUpdate")},on:{ok:function(e){n.againVisible=!1}},model:{value:n.againVisible,callback:function(e){n.againVisible=e},expression:"againVisible"}})],1)},t.staticRenderFns=[]},5526:function(e,t,n){"use strict";var o=n("c5d5");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"55ac":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return u}));var o=n("6d8b");function r(e,t,n){if(e&&o.indexOf(t,e.type)>=0){var r=n.getData().tree.root,i=e.targetNode;if(o.isString(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=e.targetNodeId;if(null!=a&&(i=r.getNodeById(a)))return{node:i}}}function i(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function a(e,t){var n=i(e);return o.indexOf(n,t)>=0}function u(e,t){for(var n=[];e;){var o=e.dataIndex;n.push({name:e.name,dataIndex:o,value:t.getRawValue(o)}),e=e.parentNode}return n.reverse(),n}},5723:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("b775")),i=o(n("4328"));t.default={login:e=>(0,r.default)({data:e,transformRequest:[e=>i.default.stringify(e)],method:"POST",url:"/api/auth/oauth/token",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),refresh:e=>(0,r.default)({data:{refresh_token:e,grant_type:"refresh_token"},transformRequest:[e=>i.default.stringify(e)],url:"/api/auth/oauth/token",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),getUserInfo:()=>r.default.get("/api/accounts/users/me"),getSchoolList:e=>(0,r.default)({params:e,method:"get",url:"/api/school/schools/"}),openThirdLogin:e=>(0,r.default)({data:e,method:"POST",url:"/api/auth/open/thirdlogin/accesstoken/",headers:{"Content-Type":"application/json"}}),pcWelinkLogin:e=>(0,r.default)({method:"post",url:"/api/welink/proxy/rest/v1/open/free_login",data:e})}},"57f4":function(e,t,n){"use strict";n.r(t);var o=n("723b"),r=n("1aa99");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("7f1a");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"a1092260",null);t.default=u.exports},"58cd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"item",class:{"item-view":!e.isEdit,"small-item":"small"===e.size,"item-margin":e.isShowPreview}},[t("div",{staticClass:"item-file"},[e.isEdit?t("svg-icon",{staticClass:"file-icon",attrs:{iconClass:"fileTypeIcon"}}):t("img",{staticClass:"img-icon",attrs:{alt:"icon",src:e.setPreviewUrl(e.fileItem.attachmentsName,e.fileItem.attachmentsType)}}),t("div",{staticClass:"item-center"},[t("div",{staticClass:"file-name"},[t("div",{staticClass:"name"},[t("OverflowTips",{attrs:{isLoading:e.fileItem.fileStatus===e.FileStatusEnum.Uploading,line:e.line,text:e.fileItem.attachmentsName,suffix:e.fileItem.attachmentsName.substring(e.fileItem.attachmentsName.lastIndexOf("."))}})],1)])]),e.isEdit&&e.fileItem.fileStatus===e.FileStatusEnum.Success&&"small"!==e.size?t("svg-icon",{staticClass:"func-icon check-icon",attrs:{"icon-class":"check_circle"}}):e._e(),e.isEdit?t("a-tooltip",{attrs:{title:e.$t("common.delete")}},[t("svg-icon",{staticClass:"func-icon close-icon",attrs:{"icon-class":"del_file"},on:{click:function(t){return e.confirmDeleteFile(e.index)}}})],1):e._e()],1),t("div",{staticClass:"file_func"},[e.isEdit&&e.fileItem.fileStatus===e.FileStatusEnum.Success&&"small"===e.size?t("svg-icon",{staticClass:"func-icon check-icon",attrs:{"icon-class":"check_circle"}}):e._e(),e.isFileAllowDownload?t("a-tooltip",{attrs:{title:e.$t("course.download")}},[t("svg-icon",{staticClass:"file-icon",attrs:{iconClass:"common_download_line"},on:{click:e.handleDownloadFile}})],1):e._e(),e.showPreviewIcon(e.fileItem)?t("a-tooltip",{attrs:{title:e.$t("course.Preview")}},[t("svg-icon",{attrs:{"icon-class":e.isShowPreview?"close_eye":"eye"},on:{click:function(t){return e.handlePreviewFile(e.fileItem)}}})],1):e._e()],1)]),t("div",{staticClass:"preview-wrap",class:{"hide-preview":!e.isShowPreview}},[e.allowQueryDocInfo&&e.fileItem.attachmentsId?t("PreviewDocument",{attrs:{allowDownload:e.isAllowEdmDownLoad,docId:e.fileItem.attachmentsId,getFileExtension:e.getFileExtension(e.fileItem)}}):e._e()],1),t("div",{ref:"previewModal"},[e.previewModalVisible?t("div",{staticClass:"close-modal-icon",on:{click:e.handleCancel}},[t("svg-icon",{attrs:{"icon-class":"common_clear_fill"}})],1):e._e(),t("a-modal",{attrs:{wrapClassName:"previewModal",closable:!1,centered:!0,width:1423,visible:e.previewModalVisible,footer:null,getContainer:()=>e.$refs.previewModal},on:{cancel:e.handleCancel}},[t("div",{staticStyle:{height:"800px"}},[e.fileItem.attachmentsId?t("PreviewDocument",{attrs:{allowDownload:e.isAllowEdmDownLoad,docId:e.fileItem.attachmentsId,getFileExtension:e.getFileExtension(e.fileItem)}}):e._e()],1)])],1)])},t.staticRenderFns=[]},5935:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/pc-inner-noAuthority.0676dee7.png"},"5a92":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/arrow_right.24a4be33.svg"},"5aa3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{class:e.wrapClass?e.wrapClass+" course-diamond":"course-diamond"},[e.diamondNum&&e.isFeature||e.isCore||e.certFlag?t("span",{ref:"diamondImg",class:e.isEllipsis?"ellipsis course-diamond-img":"course-diamond-img"},[e.certFlag?t("el-popover",{attrs:{trigger:"hover",transition:"featuredMedal-transition","popper-class":"featuredMedal-tips",content:e.$t("common.cert")}},[t("svg-icon",{attrs:{slot:"reference","icon-class":"course_icon_cert"},slot:"reference"})],1):e._e(),["blue","both"].includes(e.type)&&e.isFeature?t("el-popover",{attrs:{trigger:"hover",transition:"featuredMedal-transition","popper-class":"featuredMedal-tips",content:e.$t("common.blue")}},[t("svg-icon",{attrs:{slot:"reference","icon-class":"course_icon_blue"},slot:"reference"})],1):e._e(),["yellow","both"].includes(e.type)&&e.isFeature?t("el-popover",{attrs:{trigger:"hover",transition:"featuredMedal-transition","popper-class":"featuredMedal-tips",content:e.$t("common.yellow")}},[t("svg-icon",{attrs:{slot:"reference","icon-class":"course_icon_yellow"},slot:"reference"})],1):e._e(),e.isCore?t("el-popover",{attrs:{trigger:"hover",transition:"featuredMedal-transition","popper-class":"featuredMedal-tips",content:e.$t("common.core")}},[t("svg-icon",{attrs:{slot:"reference","icon-class":"course_icon_core"},slot:"reference"})],1):e._e()],1):e._e()])},t.staticRenderFns=[]},"5ac1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAXFJREFUSEvtlb9KA0EQh38zCpfOxmiv2AuihfomttnVA7ER38LKK6JZUgvmBbTTwjcQC6M+whV2SpyRQAwXub97ElLkypud+XZ35rsjTPmhKfMwB45v3Fq7pKq7ItLvdruvvq0odaXW2nUAjwBWAXyrauiccz7QCWAYhmsicqKqi3+K7QDYTryLAVwXAYlowMwX7Xb7/XftBNBaewjgsqhQxfhRp9O5SgUCIGPMBjNPnFBEmkR0A2AFgBDRGYDbIrCIDJxzfQCaBcysMRwaAPuq2nfOvRTBsuKlhsa3eFpeLtAYs8nMzTiOH3q93td/gDOB1tpzAKcjyFMQBHtRFH3UhaZqISIBERkAC+NmE90BeEsDqup4KJLx2dZi+DUBcDza8bOqHjBzpT5W1qLVam0R0XKj0biPouizbv+G+bOlRd6JfJXxOmEdZUr9LYgouY5VNVOZpCKzrUVe/8oqU1mLPKivMl5DU8fHObDO7aXm/gC7sLkdlLL/ogAAAABJRU5ErkJggg=="},"5b2b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:["unit","value","tips","maxLen"],computed:{count:{get(){return Number(this.value)},set(e){let t=Number(e);const n=t<1?1:t;t=t>this.maxLen?this.maxLen:n,this.$emit("input",t.toFixed(0))}}}}},"5b4b":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCaseAnswer=function(e){return(0,r.default)({url:"/api/student/v1/lms/case/deleteCaseAnswer/"+e,method:"post"})},t.getCaseDetail=function(e){return(0,r.default)({url:`/api/student/v1/lms/case/getCaseResultDetail/${e.caseId}?studentId=${e.studentId}`,method:"get"})},t.getCaseResultList=function(e){return(0,r.default)({url:`/api/student/v1/lms/case/getCaseResultList/${e.caseId}?studentId=${e.studentId}`,method:"get"})},t.getHomeworkDetail=function(e){return(0,r.default)({url:`/api/student/v1/lms/homework/getDetail/${e.homeworkId}?studentId=${e.studentId}`,method:"get"})},t.homeworkList=function(e){return(0,r.default)({url:"/api/student/v1/lms/homework/homeworkList",method:"get",params:e})},t.reviewList=function(e){return(0,r.default)({url:"/api/student/v1/lms/homework/homeworkPage",method:"post",data:e})},t.reviewRecord=function(e){return(0,r.default)({url:"/api/student/v1/lms/homework/reviewRecord",method:"get",params:e})},t.submitCase=function(e,t){return(0,r.default)({url:"/api/student/v1/lms/case/commitAnswer/"+e,method:"post",data:t})},t.submitHomework=function(e,t,n={}){const o=(0,i.Object2QueryString)(n);return(0,r.default)({url:`/api/student/v1/lms/homework/commitAnswer/${e}?${o}`,method:"post",data:t,query:n})},t.updateCaseReviewNum=void 0;var r=o(n("b775")),i=(o(n("852e")),n("ca00"));t.updateCaseReviewNum=e=>(0,r.default)({url:"/api/student/v1/lms/case/updateCaseReviewNum/"+e,method:"post"})},"5b52":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.refreshCerts=t.postStudentSendInfo=t.postStudentExportTask=t.postBatchEnrolls=t.judgeCertsStatus=t.getStudentList=t.getEnrollTasks=t.delStudents=void 0;var r=o(n("b775"));t.getStudentList=e=>(0,r.default)({url:"/api/service/api/service/mananger/selectEnrollStudents/0",method:"post",data:e});t.delStudents=(e,t)=>(0,r.default)({url:`/api/service/api/service/manager/batchdeleteEnrolls/${e}/0/0`,method:"delete",data:t});t.postBatchEnrolls=(e,t)=>(0,r.default)({url:`/api/service/api/service/manager/addClassEnrollStudents/${e}/0`,method:"post",data:t});t.postStudentSendInfo=(e,t)=>(0,r.default)({url:`/api/service/api/service/manager/sendNotice/${e}/`,method:"post",data:t});t.getEnrollTasks=(e,t)=>(0,r.default)({url:`/api/service/api/intranet/${t}/task/operation/getStatus?taskId=${e}`,method:"get"});t.postStudentExportTask=e=>(0,r.default)({url:"/api/service/api/service/mananger/selectEnrollStudents/"+e,method:"get"});t.judgeCertsStatus=e=>(0,r.default)({url:"/api/service/v1/curriculum/certs/"+e,method:"get"});t.refreshCerts=e=>(0,r.default)({url:"/api/service/v1/curriculum/certs/refresh",method:"post",data:e})},"5b8e":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/satisfaction_onClass.5078096a.png"},"5b913":function(e,t,n){"use strict";n("85fcf")},"5c61":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("b255"),r=n("08f3"),i=n("499f");t.default={name:"course",created(){this.isElectoralCourse?this.getIsUseBackCom():this.loading=!1},data:()=>({loading:!0,useFallBack:!1}),computed:{routerName(){return this.useFallBack?"back":"default"},schoolId(){return this.$route.params.schoolId},isElectoralCourse(){const{code:e}=this.$route.params,{courseId:t}=this.$route.query;return i.FALLBACK_COURSE_CODE_LIST.includes(e)||i.FALLBACK_COURSE_COURSEID_LIST.includes(t)}},methods:{async getIsUseBackCom(){const e=await(0,o.getIsOpenEmergency)().catch(()=>({}));(null==e?void 0:e.code)===r.ResponceCodeEnum.Success&&(this.useFallBack=!(null==e||!e.data),this.$bus.$emit("allowClickChange",!this.useFallBack)),this.loading=!1}}}},"5cf0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableWebToNodeStream=void 0;const o=n("e372");class r extends o.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}t.ReadableWebToNodeStream=r},"5d1c":function(e,t,n){"use strict";var o;var r=n("c9b8").codes,i=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function s(e,t,r,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var u=!1;e.on("close",(function(){u=!0})),void 0===o&&(o=n("903c")),o(e,{readable:t,writable:r},(function(e){if(e)return i(e);u=!0,i()}));var s=!1;return function(t){if(!u&&!s)return s=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?u:e.pop():u}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,r=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var a=t.map((function(e,n){var i=n<t.length-1;return s(e,i,n>0,(function(e){o||(o=e),e&&a.forEach(c),i||(a.forEach(c),r(o))}))}));return t.reduce(l)}},"5e22":function(e,t,n){const o=n("852ea"),r=n("a318"),{isPlainObject:i}=n("abd1"),a=n("d836"),u=n("ac16"),{parse:s}=n("3984"),c=["img","audio","video","picture","svg","object","map","iframe","embed"],l=["script","style"];function d(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function f(e,t){return{}.hasOwnProperty.call(e,t)}function m(e,t){const n=[];return d(e,(function(e){t(e)&&n.push(e)})),n}e.exports=h;const p=/^[^\0\t\n\f\r /<=>]+$/;function h(e,t,n){if(null==e)return"";let v="",b="";function y(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=v.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(T.length){T[T.length-1].text+=n.text}},this.updateParentNodeMediaChildren=function(){if(T.length&&c.includes(this.tag)){T[T.length-1].mediaChildren.push(this.tag)}}}(t=Object.assign({},h.defaults,t)).parser=Object.assign({},g,t.parser),l.forEach((function(e){!1!==t.allowedTags&&(t.allowedTags||[]).indexOf(e)>-1&&!t.allowVulnerableTags&&console.warn(`\n\n⚠️ Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const w=t.nonTextTags||["script","style","textarea","option"];let x,S;t.allowedAttributes&&(x={},S={},d(t.allowedAttributes,(function(e,t){x[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(r(e).replace(/\\\*/g,".*")):x[t].push(e)})),n.length&&(S[t]=new RegExp("^("+n.join("|")+")$"))})));const A={},C={},k={};d(t.allowedClasses,(function(e,t){x&&(f(x,t)||(x[t]=[]),x[t].push("class")),A[t]=[],k[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(r(e).replace(/\\\*/g,".*")):e instanceof RegExp?k[t].push(e):A[t].push(e)})),n.length&&(C[t]=new RegExp("^("+n.join("|")+")$"))}));const _={};let O,I,T,E,D,R,M;d(t.transformTags,(function(e,t){let n;"function"==typeof e?n=e:"string"==typeof e&&(n=h.simpleTransform(e)),"*"===t?O=n:_[t]=n}));let P=!1;L();const B=new o.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&L(),R)return void M++;const o=new y(e,n);T.push(o);let r=!1;const c=!!o.text;let l;if(f(_,e)&&(l=_[e](e,n),o.attribs=n=l.attribs,void 0!==l.text&&(o.innerText=l.text),e!==l.tagName&&(o.name=e=l.tagName,D[I]=l.tagName)),O&&(l=O(e,n),o.attribs=n=l.attribs,e!==l.tagName&&(o.name=e=l.tagName,D[I]=l.tagName)),(!1!==t.allowedTags&&-1===(t.allowedTags||[]).indexOf(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(f(e,t))return!1;return!0}(E)||null!=t.nestingLimit&&I>=t.nestingLimit)&&(r=!0,E[I]=!0,"discard"===t.disallowedTagsMode&&-1!==w.indexOf(e)&&(R=!0,M=1),E[I]=!0),I++,r){if("discard"===t.disallowedTagsMode)return;b=v,v=""}v+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(o.innerText=""),(!x||f(x,e)||x["*"])&&d(n,(function(n,r){if(!p.test(r))return void delete o.attribs[r];let c=!1;if(!x||f(x,e)&&-1!==x[e].indexOf(r)||x["*"]&&-1!==x["*"].indexOf(r)||f(S,e)&&S[e].test(r)||S["*"]&&S["*"].test(r))c=!0;else if(x&&x[e])for(const t of x[e])if(i(t)&&t.name&&t.name===r){c=!0;let e="";if(!0===t.multiple){const o=n.split(" ");for(const n of o)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(c){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(r)&&N(e,n))return void delete o.attribs[r];if("script"===e&&"src"===r){let e=!0;try{const o=j(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===o.url.hostname})),r=(t.allowedScriptDomains||[]).find((function(e){return o.url.hostname===e||o.url.hostname.endsWith("."+e)}));e=n||r}}catch(t){e=!1}if(!e)return void delete o.attribs[r]}if("iframe"===e&&"src"===r){let e=!0;try{const o=j(n);if(o.isRelativeUrl)e=f(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===o.url.hostname})),r=(t.allowedIframeDomains||[]).find((function(e){return o.url.hostname===e||o.url.hostname.endsWith("."+e)}));e=n||r}}catch(t){e=!1}if(!e)return void delete o.attribs[r]}if("srcset"===r)try{let e=u(n);if(e.forEach((function(e){N("srcset",e.url)&&(e.evil=!0)})),e=m(e,(function(e){return!e.evil})),!e.length)return void delete o.attribs[r];n=m(e,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),o.attribs[r]=n}catch(e){return void delete o.attribs[r]}if("class"===r){const t=A[e],i=A["*"],u=C[e],s=k[e],c=[u,C["*"]].concat(s).filter((function(e){return e}));if(!(n=z(n,t&&i?a(t,i):t||i,c)).length)return void delete o.attribs[r]}if("style"===r)try{const i=s(e+" {"+n+"}");if(0===(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(`${t.prop}:${t.value}${t.important?" !important":""}`),e}),[]).join(";")}(function(e,t){if(!t)return e;const n=e.nodes[0];let o;o=t[n.selector]&&t["*"]?a(t[n.selector],t["*"]):t[n.selector]||t["*"];o&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){if(f(e,n.prop)){e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n)}return t}}(o),[]));return e}(i,t.allowedStyles))).length)return void delete o.attribs[r]}catch(e){return void delete o.attribs[r]}v+=" "+r,n&&n.length&&(v+='="'+F(n,!0)+'"')}else delete o.attribs[r]})),-1!==t.selfClosing.indexOf(e)?v+=" />":(v+=">",!o.innerText||c||t.textFilter||(v+=F(o.innerText),P=!0)),r&&(v=b+F(v),b="")},ontext:function(e){if(R)return;const n=T[T.length-1];let o;if(n&&(o=n.tag,e=void 0!==n.innerText?n.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==o&&"style"!==o){const n=F(e,!1);t.textFilter&&!P?v+=t.textFilter(n,o):P||(v+=n)}else v+=e;if(T.length){T[T.length-1].text+=e}},onclosetag:function(e){if(R){if(M--,M)return;R=!1}const n=T.pop();if(!n)return;if(n.tag!==e)return void T.push(n);R=!!t.enforceHtmlBoundary&&"html"===e,I--;const o=E[I];if(o){if(delete E[I],"discard"===t.disallowedTagsMode)return void n.updateParentNodeText();b=v,v=""}D[I]&&(e=D[I],delete D[I]),t.exclusiveFilter&&t.exclusiveFilter(n)?v=v.substr(0,n.tagPosition):(n.updateParentNodeMediaChildren(),n.updateParentNodeText(),-1===t.selfClosing.indexOf(e)?(v+="</"+e+">",o&&(v=b+F(v),b=""),P=!1):o&&(v=b,b=""))}},t.parser);return B.write(e),B.end(),v;function L(){v="",I=0,T=[],E={},D={},R=!1,M=0}function F(e,n){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function N(e,n){for(n=n.replace(/[\x00-\x20]+/g,"");;){const e=n.indexOf("\x3c!--");if(-1===e)break;const t=n.indexOf("--\x3e",e+4);if(-1===t)break;n=n.substring(0,e)+n.substring(t+3)}const o=n.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!o)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const r=o[1].toLowerCase();return f(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(r):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(r)}function j(e){if((e=e.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let t="relative://relative-site";for(let e=0;e<100;e++)t+="/"+e;const n=new URL(e,t);return{isRelativeUrl:n&&"relative-site"===n.hostname&&"relative:"===n.protocol,url:n}}function z(e,t,n){return t?(e=e.split(/\s+/)).filter((function(e){return-1!==t.indexOf(e)||n.some((function(t){return t.test(e)}))})).join(" "):e}}const g={decodeEntities:!0};h.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},h.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(o,r){let i;if(n)for(i in t)r[i]=t[i];else r=t;return{tagName:e,attribs:r}}}},"5e37":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("0643"),n("2382"),n("4e3e"),n("b7ef");var r=o(n("5465")),i=o(n("ecfb")),a=o(n("1a4c")),u=n("b255");t.default={components:{AddNumber:r.default,Modal:i.default},data(){return{skuList:[],currentIndex:"",yearNum:1,countNum:1,price:0,soldOut:!1,sbomList:[],isClick:!1,backVisible:!1,updateVisible:!1,againVisible:!1,inventoryList:[],vmallEnv:"",sxzEnv:"",schoolId:this.$route.params.schoolId}},computed:{mrcId(){return this.$route.query.mrcId}},watch:{sbomList:{handler(e){let t=0,n=0;e.forEach(e=>{const o=this.skuList.findIndex(t=>t.gbomCode===e.gbomCode),r=this.skuList[o];r.price!==e.price&&n++,r.skuStatus!==Number(e.status)&&t++,r.skuStatus=Number(e.status),r.price=e.price}),this.isClick||(this.normalCurIndex(this.skuList),n&&this.$messageBox("warning",this.$t("course.newPrice")),t&&this.$messageBox("warning",this.$t("course.especificaciones")))},deep:!0}},async created(){this.getEnvironment(),await this.querySkuDetailByMrcIdFn(),this.queryPrdDisplayDetailInfoFn()},methods:{async querySkuDetailByMrcIdFn(){try{if(!this.mrcId)return;const{code:e,data:t=[],message:n}=await(0,u.querySkuDetailByMrcId)(this.mrcId);200===e?(this.skuList=[...t]||!1,this.skuList.forEach(e=>{var t;e.inventoryQty="1000","NRSCZHNZ"===(null===(t=e.gbomCode)||void 0===t?void 0:t.substr(0,8))?this.$set(e,"gbomName",this.$t("course.accountNumber")):this.$set(e,"gbomName",this.$t("course.enterprise"))}),this.normalCurIndex(this.skuList)):this.errorMessage(n)}catch(e){this.errorMessage(e.message)}},changeEan(e){this.currentIndex=e.gbomCode,this.price=e.price,this.soldOut=!e.inventoryQty},async queryPrdDisplayDetailInfoFn(){try{if(!this.mrcId)return;const{code:e,data:t,message:n}=await(0,u.queryPrdDisplayDetailInfo)(this.mrcId);if(200===e){const e=await this.querySkuInventoryFn(),n=(null==t?void 0:t.sbomList)||[];if(this.sbomList=[...n.filter(e=>e.isResourceMarketSku)]||!1,this.isClick&&!await this.verifyFn(n,null==t?void 0:t.status))return;if(!this.isClick){if("2"!==(null==t?void 0:t.status))return void this.backContentMarket(this.isClick);if(e)return void this.$message.warning(this.$t("course.soldOut"))}this.isClick&&this.continueToBuy()}else this.errorMessage(n)}catch(e){this.errorMessage(e.message)}},async verifyFn(e,t){await this.querySkuInventoryFn();const n=e.filter(e=>e.gbomCode===this.currentIndex)[0],o=this.inventoryList.filter(e=>e.skuCode===n.sbomCode)[0];return"2"===t&&"2"!==n.status?(this.$messageBox("warning",this.$t("course.especificaciones")),void this.normalCurIndex(this.skuList)):"2"!==n.status?(this.backVisible=!0,!1):this.price!==n.price?(this.updateVisible=!0,!1):!!o.inventoryQty||(this.againVisible=!0,!1)},async querySkuInventoryFn(){const{code:e,data:t}=await(0,u.querySkuInventory)(this.mrcId);if(200===e){let e=0;return t.forEach(t=>{const n=this.skuList.findIndex(e=>e.skuCode===t.skuCode);this.skuList[n].inventoryQty=t.inventoryQty,t.inventoryQty||e++}),this.inventoryList=[...t],this.soldOut=e===t.length,this.soldOut}},backContentMarket(e){e||this.$message.warning(this.$t("course.offShelf")),setTimeout(()=>{this.backFn()},3e3)},backFn(){const{"sxz-lang":e}=this.$route.query,t=`${window.location.origin}/iadmin/${this.schoolId}/management/contentMarketplace/home?sxz-lang=${e}`;window.open(t,"_self")},buyNowFn(){this.isClick=!0,this.queryPrdDisplayDetailInfoFn()},async continueToBuy(){var e;const t=this.skuList.filter(e=>e.gbomCode===this.currentIndex)[0];if(await this.checkSelf(t.sellTenantId))return void this.$message.warning(this.$t("course.subscribeWarn"));const n=await this.unenrolledCode(),o=this.vmallEnv+"/order/nowConfirmcart",r="NRSCZHNZ"===(null===(e=this.currentIndex)||void 0===e?void 0:e.substr(0,8))?this.countNum:this.yearNum,i=window.location.pathname.replace(/[^0-9]/gi,""),a=`${this.sxzEnv}/course/${this.schoolId}/toMrcDetail?tenantDomain=${btoa(window.location.href)}&headershow=true`,u=encodeURIComponent(a),s=[{itemId:t.skuCode,qty:r,itemType:"S0"}],c=`${o}?orderReqJson=${encodeURIComponent(JSON.stringify(s))}&sxzCode=${n}&tenantId=${i}&sourcePortal=SXZ&backUrl=${u}`;window.open(c,"_self")},checkSelf(e){return e===this.schoolId},errorMessage(e){const t=e||this.$t("homework.RequestField");this.$message.error(t)},normalCurIndex(e){const t=e.findIndex(e=>2===Number(e.skuStatus)),n=e[t];this.currentIndex=null==n?void 0:n.gbomCode,this.price=null==n?void 0:n.price,this.soldOut=!(null!=n&&n.inventoryQty)},async unenrolledCode(){const{code:e}=await(0,u.getUnenrolledCode)();return e},refreshPrice(){var e;this.updateVisible=!1,this.price=null===(e=this.skuList.filter(e=>e.gbomCode===this.currentIndex)[0])||void 0===e?void 0:e.price},async getEnvironment(){const e=await a.default.getConfigProperty("vmall.environment");[this.vmallEnv,this.sxzEnv]=e}}}},"5e77":function(e,t,n){"use strict";n.r(t);var o=n("9d28"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"5ed7":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/not_role.a165ffa0.png"},"5eee":function(e,t,n){},"5f89":function(e,t,n){"use strict";n.r(t);var o=n("7a86"),r=n("8beb");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("b50a");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"51a617ce",null);t.default=u.exports},"5fbb":function(e,t,n){"use strict";n.r(t);var o=n("afb6"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"600b":function(e,t,n){"use strict";n.r(t);var o=n("28f6"),r=n("07d3");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("de12");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,null,null);t.default=u.exports},6027:function(e,t,n){"use strict";n.r(t);var o=n("9616"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"60a5":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/zip_icon.6ab1e1d1.png"},"617b":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/title_bg.70685317.png"},"623a4":function(e,t,n){"use strict";n.r(t);var o=n("928e"),r=n("5fbb");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("8a528");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"2205d328",null);t.default=u.exports},"62d7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("ShareCollect",{ref:"shareCollect",attrs:{tabs:this.tabs,type:this.type,data:this.tabData},on:{onSubmit:this.handleSubmitRate,onCatchError:this.handleError}})},t.staticRenderFns=[]},"62d8":function(e,t,n){"use strict";var o=n("be99");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"62ed1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACdklEQVRYCe1Vz2sTURCe9zapVJukByFHr9WjUfCiyTaXStjm5EW8CIpePIn3gni0XkTwIJ6kR03TQKu0lA30oODF+uMfELQW7UalQrM7fi/N1u1mt9sNqwjNg933Zt7MfPO+NztLNBgHnQHhJ8AySmfIsR+RoDFivJMZ31iK6dG6eccfrgfAqpx9y0Qn/IZJyGlJhSP15mtvLOkVuuvjAbpEVG0SY/5AQQn4bZKTA6703yYQcJS/kgAKa0YIukEkrADMXapYCSDwF02KsqaJIgDWdkXqCrC5l2s0L+bmmvdhMx9k49WlvMJeawUuSRvP1JdXld33all37K0lZs67fgCcBvBNJVtG8TQ7znl3L2zeFwNCiHUtJcqZxvIqAIV6MrXFdzJNuiDxSQX3gm9Mlk7B5jnU2TBgVx/JQAdco/GRmvlGAbeM4gP0iSGsr2Dvfcso6WhcF3Dy2yqoAifHeUHMoy7IXnNkAkRcGak1/4AzX1cBLeOcjSSuIYkPELfBK3oByewbXMWJvIKhlLbGU1Oyc/IuuHJEm77a1aE8cHIFTu1Y4Mqv46wW7kArdkDxjl5dAU76E/vHXBvvjBqoob+8JMG3omhHrEu5OfOJ1z/yCgB+FA7qCRxMXAUdVTDS14i8gr6ixnD6/xJgQb9iHCCWqZS06XfoYQBF9dRvlISMqv7KLE1/rJ4izA7nL7c2P6/AUP27d74Gv2MsmWmD06nHuWdL67H8DoRxKMU/Jst52956iG88tAdEMYQGZaPI7mYb5myYbU8NuIY2t09uNxlX08+MCEQf4Rk/gWxBX2i9WpzAf7ZvBoilTYcPqd/yYAwYCGXgN00f0rAHnHFnAAAAAElFTkSuQmCC"},6329:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAA95JREFUSEvVlU1oXFUUx/9n3puZDkWi+LFS26JZNFisYEM31SCxixYFF9EWnDpx8u57SVGKKKIUbHShFKqLkRnveUkTSf3EVRcRFCkqptZWhYof6CbiIg2laP0gMfPePXLLmzAdZzLTKEXv7t17zvvd//m6hMu86DLz8J8HUrFY3JxKpW4lousALBHRHIAvtNY/dBKtjhQODg5e67ruo0SkAFhQs/UtAM5ms5VSqfRnK3hboOd5u4joZQBXi8gfAN4DMOM4zlwcxykA64hoG4C7ALgAZo0xu8fGxj5tBl0R6HnefiJ6zoZORA66rvtipVL5udmPhoaGrk+lUqMiMgigmkql9mit32q0bQlUSu0FYJXNO46zs1KpfN5JjoIguM8Y8xoAh4h2aK0/qPdrCgyC4BZjzKmkKLZqrb/pBFazUUrtBHAUwFw2m+0plUq/1s6aApVS1vgeAAVmfvVSYDVbz/MOEdFjRPS81vrplsCRkZGboyj6HsBXzLwZgNTdvCsJ8y/M/IjdV0q9KSIb6i6lwzA8XCgUrsxkMrM2n0tLSzdMTk4uWptlhb7vF0WkQESnRWSEiKYB3AhgUGt9KgiC9XEcTxPRRgAnmbk3Ac6LyEdE9KH9FpFjYRh+nZyNA3iYiLZrrd+/CKiUegLAwYbwRSJyZxiGM0EQeMaYuwH8BmBTHfCciDy7uLg4NjU1Zdtmefm+v1tEXgdwgJlHLwImN3oJwL7EIwLwEDNbh+WV5GZbHdAWxBUiIkR03HXdXeVy+Sfr4Pv+7SJyEoBm5uBvQLuR/HAvEdlQvtFYMI3AYrHYm8lkzsdxvA5ACOAEM9+fCNgE4DSAI8ycbwpMDNPMXG1WnY3Aehul1DMi8mAYht3J5fuJyObuEDM/3hLYDFTbqwcmM9aqOlCtVmfT6fRRIrIVfG8S0idF5AUi8rXWvCqgVQHA5rB/eHj4qjiOPwFgK9e2j22DHcz8XaLwBBFtieN4w/j4+I+rAvb19bk9PT1ryuXy7/YH9ru7u7tXREwul/uy9lIEQdBnjDkmIh+HYXhHLUJtX4uVwtvqLJ/Pr83lcrY6NxJRf/08/deBhUJhTSaTeQeAnaeHmblYf7G2QKVUaFssiqKnJiYmzq6kWCl1k210IrJTaGZhYWF74zBoC/Q87zgRbQVwzjaw67pHyuWyLYoLM3ZgYMDp6ura4jhOXkSsmqyITKfT6Qdqeb4khUmI9icTaG3ifJ6IzohcYK63kGT/DBGNaq1faRWJtgprjrYFjDF7APSLyG0ArgFgx988gM+MMe9GUfR27VX4x8DVVGszn44V/m+BfwG8oKYsgBcdcQAAAABJRU5ErkJggg=="},"63f0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"CollapseText",props:{content:{type:String,default:"--"},line:{type:Number,default:2},title:{type:String,default:"描述"},lineHeight:{type:Number,default:20}},watch:{content:{handler:function(e){this.load=!0,this.contents=e},immediate:!0}},data(){return{realHeight:this.lineHeight,isOver:!1,isCollapse:!1,contents:"",load:!1,done:!1,times:0}},methods:{async isOverLimit(){return new Promise(e=>{const t=setTimeout(()=>{let n=100;const o=()=>{n--;const t=this.$refs.textBox;t&&t.clientHeight&&"--"!==this.contents?e(t.clientHeight>this.line*this.lineHeight):window.requestAnimationFrame(()=>{n>0?o():e(!1)})};o(),clearTimeout(t)},200)})},handleContent(){const e=this.$refs.textBox.querySelector(".collapse-content-text-a"),t=e.querySelector(".content-class");this.handleContentLength(e,t)},handleContentLength(e,t){const n=this.contents;let o=this.contents.substring(0,parseInt(this.contents.length/2));if(t.innerText=this.$safeHtml(o),e.clientHeight-this.line<=this.lineHeight*this.line){for(let r=n.length;r>0;r--)if(o=n.substring(0,r),t.innerText=this.$safeHtml(o),e.clientHeight-this.line<=this.lineHeight*this.line){o=o.substring(0,o.length-4)+"...",t.innerText=this.$safeHtml(o),this.contents=o;break}this.done=!0}else this.contents=o,this.handleContentLength(e,t)},run(){this.times++,this.times>100?this.done=!0:requestAnimationFrame(async()=>{this.load?(this.isOver=await this.isOverLimit(),this.isOver?this.handleContent():this.done=!0):this.run()})},setCollapseStatus(e,t){t=t.querySelector(".content-class"),"open"===e?(t.innerText=this.$safeHtml(this.content),this.isCollapse=!0):(t.innerText=this.$safeHtml(this.contents),this.isCollapse=!1)}},mounted(){this.run()}}},"662b":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/ilearing-logo.6e215adf.png"},6669:function(e,t,n){},6691:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/course-jump.f25ac254.png"},"66fa":function(e,t,n){"use strict";n.r(t);var o=n("d6df"),r=n("ad4d");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("213c");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"78e5e75c",null);t.default=u.exports},6717:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAABHCAYAAACJSS4oAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJwSURBVGhD7ZlbTxNBGIb3D/objIegBiWI8RDwxC8gXKuoqEUoFoxKBAM0WATPIqh4uMQAYhBKl5ba3aHvslstne3uzs43c9NJnpv2y+zTJ2nanTWYpvVswWQXH6yxA11LTItEYmbTubiHcon25N6n1yaxv8A/Cdt2R2jXeq7EDl5b5ksU5+fcMdrVN5vlCgAjnx53x+jWH9Nih3wqAKPwIuOO0q3+l/4VgFH6ueSO0qyNbYsdvu5fAZB/OwYCKgBSiWzeYkdu1K8ASCWSr4IrADKJrXKFoz0r3Ivuh0xi8HW4CoBEIlewWFPICoBEIvVmi3sxP6RLmDs2O3YzfAUgXWLobbQKQKpEvmiz47eiVQBSJYYFKgBpEoW/NjtxO3oFIE3i4TuxCkCKxE65QnOvWAUgReLRe/EKILZEsWSzk72r3M3DElvi8Yccd+MoxJIoWYyduhOvAogl8URCBSAsYZVvV1ruxq8AhCVG5uRUAEISuGdrvSenAhCSePpRXgUgJHE6Ia8CiCwxOi+3Aogs0Zb4xd0oDpEkxhZM7iZxiSRxpk9+BRBaAgddvA1kEFri7H2aCiCUxPgnugoglMS5froKIFBi4jNtBRAocZ64AqgrMfmFvgKoK3FhoPb0lQJfifSimgrAV4J3Bk0FV2JqcZs7TAVXomNQXQVQI/H8q9oKoEbCexqjkiqJzDf1FUCVxCUNFUBFYvq7ngqgInEl9Zs7oAJHYkZjBeBIXB3SVwEYsz/y3DdUYnQO660ADN6LqmlIeDQkPBoSHg0JD+NySs9/iP9xfsBw9hD0UJ2Syv8Js2A5B6TdY+vOPYc61tguCVtizIoYbW0AAAAASUVORK5CYII="},6759:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("b775"));t.default={getClassCommentList:(e={})=>(0,r.default)({url:"/api/universal/v1/score/list",method:"post",data:e}),getScoreGeneral:e=>(0,r.default)({url:"/api/universal/v1/score/general",method:"get",params:e}),topComment:(e={})=>(0,r.default)({url:"/api/universal/v1/score/top",method:"put",params:e}),cancelTopComment:(e={})=>(0,r.default)({url:"/api/universal/v1/score/unTop",method:"put",params:e}),exportCommentReport:(e={})=>(0,r.default)({url:"/edx/lmsManagerAuth/api/student/api/comment/exportComment",method:"post",responseType:"blob",data:e}),showComment:(e={})=>(0,r.default)({url:"/api/universal/v1/score/unHidden",method:"put",params:e}),hiddenComment:(e={})=>(0,r.default)({url:"/api/universal/v1/score/hidden",method:"put",params:e}),getClassCommentReplyList:(e={})=>(0,r.default)({url:"/api/universal/v1/score/replyList",method:"get",params:e}),addReply:(e={})=>(0,r.default)({url:"/api/universal/v1/score/addReply",method:"post",data:e}),commentLiked:(e={})=>(0,r.default)({url:"/api/universal/v1/liked",method:"post",data:e}),updateReply:(e={})=>(0,r.default)({url:"/api/universal/v1/score/updateReply",method:"post",data:e}),deleteReply:e=>(0,r.default)({url:"/api/universal/v1/score/deleteReply",method:"delete",params:e})}},6797:function(e,t,n){"use strict";n.r(t);var o=n("0f53"),r=n("86fc");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("2325");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"0162eb8f",null);t.default=u.exports},"68df1":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/courseInfoBg.a292609f.png"},"69a0":function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],o=e[1],r=e[2],i=e[3];o=((o+=((r=((r+=((i=((i+=((n=((n+=(o&r|~o&i)+t[0]-680876936|0)<<7|n>>>25)+o|0)&o|~n&r)+t[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&o)+t[2]+606105819|0)<<17|r>>>15)+i|0)&i|~r&n)+t[3]-1044525330|0)<<22|o>>>10)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o&r|~o&i)+t[4]-176418897|0)<<7|n>>>25)+o|0)&o|~n&r)+t[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&o)+t[6]-1473231341|0)<<17|r>>>15)+i|0)&i|~r&n)+t[7]-45705983|0)<<22|o>>>10)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o&r|~o&i)+t[8]+1770035416|0)<<7|n>>>25)+o|0)&o|~n&r)+t[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&o)+t[10]-42063|0)<<17|r>>>15)+i|0)&i|~r&n)+t[11]-1990404162|0)<<22|o>>>10)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o&r|~o&i)+t[12]+1804603682|0)<<7|n>>>25)+o|0)&o|~n&r)+t[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&o)+t[14]-1502002290|0)<<17|r>>>15)+i|0)&i|~r&n)+t[15]+1236535329|0)<<22|o>>>10)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o&i|r&~i)+t[1]-165796510|0)<<5|n>>>27)+o|0)&r|o&~r)+t[6]-1069501632|0)<<9|i>>>23)+n|0)&o|n&~o)+t[11]+643717713|0)<<14|r>>>18)+i|0)&n|i&~n)+t[0]-373897302|0)<<20|o>>>12)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o&i|r&~i)+t[5]-701558691|0)<<5|n>>>27)+o|0)&r|o&~r)+t[10]+38016083|0)<<9|i>>>23)+n|0)&o|n&~o)+t[15]-660478335|0)<<14|r>>>18)+i|0)&n|i&~n)+t[4]-405537848|0)<<20|o>>>12)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o&i|r&~i)+t[9]+568446438|0)<<5|n>>>27)+o|0)&r|o&~r)+t[14]-1019803690|0)<<9|i>>>23)+n|0)&o|n&~o)+t[3]-187363961|0)<<14|r>>>18)+i|0)&n|i&~n)+t[8]+1163531501|0)<<20|o>>>12)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o&i|r&~i)+t[13]-1444681467|0)<<5|n>>>27)+o|0)&r|o&~r)+t[2]-51403784|0)<<9|i>>>23)+n|0)&o|n&~o)+t[7]+1735328473|0)<<14|r>>>18)+i|0)&n|i&~n)+t[12]-1926607734|0)<<20|o>>>12)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o^r^i)+t[5]-378558|0)<<4|n>>>28)+o|0)^o^r)+t[8]-2022574463|0)<<11|i>>>21)+n|0)^n^o)+t[11]+1839030562|0)<<16|r>>>16)+i|0)^i^n)+t[14]-35309556|0)<<23|o>>>9)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o^r^i)+t[1]-1530992060|0)<<4|n>>>28)+o|0)^o^r)+t[4]+1272893353|0)<<11|i>>>21)+n|0)^n^o)+t[7]-155497632|0)<<16|r>>>16)+i|0)^i^n)+t[10]-1094730640|0)<<23|o>>>9)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o^r^i)+t[13]+681279174|0)<<4|n>>>28)+o|0)^o^r)+t[0]-358537222|0)<<11|i>>>21)+n|0)^n^o)+t[3]-722521979|0)<<16|r>>>16)+i|0)^i^n)+t[6]+76029189|0)<<23|o>>>9)+r|0,o=((o+=((r=((r+=((i=((i+=((n=((n+=(o^r^i)+t[9]-640364487|0)<<4|n>>>28)+o|0)^o^r)+t[12]-421815835|0)<<11|i>>>21)+n|0)^n^o)+t[15]+530742520|0)<<16|r>>>16)+i|0)^i^n)+t[2]-995338651|0)<<23|o>>>9)+r|0,o=((o+=((i=((i+=(o^((n=((n+=(r^(o|~i))+t[0]-198630844|0)<<6|n>>>26)+o|0)|~r))+t[7]+1126891415|0)<<10|i>>>22)+n|0)^((r=((r+=(n^(i|~o))+t[14]-1416354905|0)<<15|r>>>17)+i|0)|~n))+t[5]-57434055|0)<<21|o>>>11)+r|0,o=((o+=((i=((i+=(o^((n=((n+=(r^(o|~i))+t[12]+1700485571|0)<<6|n>>>26)+o|0)|~r))+t[3]-1894986606|0)<<10|i>>>22)+n|0)^((r=((r+=(n^(i|~o))+t[10]-1051523|0)<<15|r>>>17)+i|0)|~n))+t[1]-2054922799|0)<<21|o>>>11)+r|0,o=((o+=((i=((i+=(o^((n=((n+=(r^(o|~i))+t[8]+1873313359|0)<<6|n>>>26)+o|0)|~r))+t[15]-30611744|0)<<10|i>>>22)+n|0)^((r=((r+=(n^(i|~o))+t[6]-1560198380|0)<<15|r>>>17)+i|0)|~n))+t[13]+1309151649|0)<<21|o>>>11)+r|0,o=((o+=((i=((i+=(o^((n=((n+=(r^(o|~i))+t[4]-145523070|0)<<6|n>>>26)+o|0)|~r))+t[11]-1120210379|0)<<10|i>>>22)+n|0)^((r=((r+=(n^(i|~o))+t[2]+718787259|0)<<15|r>>>17)+i|0)|~n))+t[9]-343485551|0)<<21|o>>>11)+r|0,e[0]=n+e[0]|0,e[1]=o+e[1]|0,e[2]=r+e[2]|0,e[3]=i+e[3]|0}function o(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,r,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,o(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(l,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,n(l,i),l}function a(e){var n,o="";for(n=0;n<4;n+=1)o+=t[e>>8*n+4&15]+t[e>>8*n&15];return o}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],o=e.length;for(t=0;t<o-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return u(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,o){var r,i,a,u,s=this.byteLength,c=t(n,s),l=s;return o!==e&&(l=t(o,s)),c>l?new ArrayBuffer(0):(r=l-c,i=new ArrayBuffer(r),a=new Uint8Array(i),u=new Uint8Array(this,c,r),a.set(u),i)}}(),l.prototype.append=function(e){return this.appendBinary(s(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,o(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,n,o=this._buff,r=o.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)i[t>>2]|=o.charCodeAt(t)<<(t%4<<3);return this._finish(i,r),n=u(this._hash),e&&(n=c(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var o,r,i,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;o=(o=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),i=parseInt(o[1],16)||0,e[14]=r,e[15]=i,n(this._hash,e)},l.hash=function(e,t){return l.hashBinary(s(e),t)},l.hashBinary=function(e,t){var n=u(i(e));return t?c(n):n},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,o,i,a,u,s=(o=this._buff.buffer,i=e,a=!0,(u=new Uint8Array(o.byteLength+i.byteLength)).set(new Uint8Array(o)),u.set(new Uint8Array(i),o.byteLength),a?u:u.buffer),c=s.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)n(this._hash,r(s.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(s.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,n,o=this._buff,r=o.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)i[t>>2]|=o[t]<<(t%4<<3);return this._finish(i,r),n=u(this._hash),e&&(n=c(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,o=e.length,r=new ArrayBuffer(o),i=new Uint8Array(r);for(n=0;n<o;n+=1)i[n]=e.charCodeAt(n);return t?i:r}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var o=u(function(e){var t,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,r(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(l,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,n(l,i),l}(new Uint8Array(e)));return t?c(o):o},l}()},"6a4c":function(e,t,n){"use strict";var o=n("7fae"),r=n("4527"),i=n("0fd3"),a=n("401b"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return Object(o.a)(t,e),t.prototype.createLine=function(e,t,n){return new r.a(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],o=0,r=1;r<t.length;r++){var i=t[r-1],u=t[r];o+=a.dist(i,u),n.push(o)}if(0!==o){for(r=0;r<n.length;r++)n[r]/=o;this._offsets=n,this._length=o}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,n=this._points,o=this._offsets,r=n.length;if(o){var i,a=this._lastFrame;if(t<this._lastFramePercent){for(i=Math.min(a+1,r-1);i>=0&&!(o[i]<=t);i--);i=Math.min(i,r-2)}else{for(i=a;i<r&&!(o[i]>t);i++);i=Math.min(i-1,r-2)}var u=(t-o[i])/(o[i+1]-o[i]),s=n[i],c=n[i+1];e.x=s[0]*(1-u)+u*c[0],e.y=s[1]*(1-u)+u*c[1];var l=e.__t<1?c[0]-s[0]:s[0]-c[0],d=e.__t<1?c[1]-s[1]:s[1]-c[1];e.rotation=-Math.atan2(d,l)-Math.PI/2,this._lastFrame=i,this._lastFramePercent=t,e.ignore=!1}},t}(i.a);t.a=u},"6bc9":function(e,t,n){},"6bd3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAldJREFUSEvdlt2K2kAUx2eSica0ii3ttna3i1hYaKHv4Et45U0QjR8o+Ah5BEHQqHHJfV7Cp+iF61rbst3SKl3WrcZkkikDLYgbTdQibecunPM/vzlnTmYOBAde8MA88PcAM5lMmOf5Bxhjz005juOoqvoVAEC8KuYarFAoHEMIn3uJl+2O49zGYrFLWZadTbp7QFEU+UAg8AZCaBBCrjDGawMwDCNwHHeCMbYRQiwA4G48Hg90XbfXQd2A0VAo9IoQ8klRFFqmtYuWPRgMni0Wi2tBEIK2bT+2LGs2GAwuer0edhPeAxaLxUcAgARC6GO9Xv/mB2jb9ud2u30tSdIpy7JPMcYGhLDfbretVb0nsFwuv7AsK7ostG17rqrqe0mSBJZlX5umOe52ux+oTzabPeE47hkhZDGZTPq6rpvLWk8g3TWEkGa9vGatVusCAMDk8/m3hBCW47gJhVAnx3GeQAiDAIBhs9n8vhXQq1PT6XQkEonEAQCci++fB/6CwFQqxYfDYUS/eZ6PEkKOdspQlmVmNBoFvDKl9ng8btL/sFKp0MY53QmYy+XOEEJhP0CM8bTT6fT3Alar1ehsNov4AQqCcFur1W72AvoBrfr8W8BSqfQQY+zrDBFC00ajcbdXhgdvmmQyiRKJRMjPWQ6Hwzm9tPfK0A9or6YRRdH387RuM4VC4QhC+HI+n19qmnaz8S7d5gF2AyKEGAjhMSGEN03znaZpxkYgNe4yYqzCCSFfFEW58nwPfztsM0QtB0UIEcMwfpyfn0/dKuA5ke3SNJs0/z/wJ+zXjiwt4N1cAAAAAElFTkSuQmCC"},"6c0a":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/elabIcon.585ccec7.png"},"6cbb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("div",{ref:"ilearningForum"})},t.staticRenderFns=[]},"6ccd":function(e,t,n){},"6d6e":function(e,t,n){"use strict";var o=n("8145");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"6dd8":function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,o){return e[0]===t&&(n=o,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];e.call(t,r[1],r[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,s=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,r=0;function a(){n&&(n=!1,e()),o&&s()}function u(){i(a)}function s(){var e=Date.now();if(n){if(e-r<2)return;o=!0}else n=!0,o=!1,setTimeout(u,t);r=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},d=v(0,0,0,0);function f(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var o=l(e).getComputedStyle(e),r=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var r=o[n],i=e["padding-"+r];t[r]=f(i)}return t}(o),i=r.left+r.right,a=r.top+r.bottom,u=f(o.width),s=f(o.height);if("border-box"===o.boxSizing&&(Math.round(u+i)!==t&&(u-=m(o,"left","right")+i),Math.round(s+a)!==n&&(s-=m(o,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var c=Math.round(u+i)-t,p=Math.round(s+a)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(p)&&(s-=p)}return v(r.left,r.top,u,s)}var h="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return o?h(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):p(e):d}function v(e,t,n,o){return{x:e,y:t,width:n,height:o}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n,o,r,i,a,u,s,l=(o=(n=t).x,r=n.y,i=n.width,a=n.height,u="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(u.prototype),c(s,{x:o,y:r,width:i,height:a,top:r,right:o+i,bottom:a+r,left:o}),s);c(this,{target:e,contentRect:l})},w=function(){function e(e,t,o){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=o}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!=typeof WeakMap?new WeakMap:new n,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=s.getInstance(),o=new w(t,n,this);x.set(this,o)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));var A=void 0!==r.ResizeObserver?r.ResizeObserver:S;t.default=A}.call(this,n("c8ba"))},"6e16":function(e,t,n){"use strict";n.r(t);var o=n("2565"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"6e9d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={methods:{closePage(){window.close()}}}},"6f1f":function(e,t,n){"use strict";n.r(t);var o=n("ebbb"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"6f5a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAABGCAYAAAA0L08GAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFWSURBVGhD7dk9agJRFMXx2WA6K5eSRtAFuA5JmnSuIWUMFoKVFgEDsVBiAuGFAz4c9L2Z93HPvY1/uFj+PM1MMc1uOHBad3yeuXaquL/f5bsdjsMfMMP3k5EdjrvjJnfH1Q9POzPc7Annn/EmuE8db7/Z1PF2qrjp+/w6Nfx6NVLDQ6ngodVIBY9Fx2OrER3viop3rUZUvC8a3rca0fCUKHjKakTBUxPHU1cjcTwnUTxnNRLFcxPDc1cjMbwkEbxkNRLBS6vGS1ejarymKrxmNarCayvGa1ejYlyiIlxiNSrCpcrGpVajbFyyLFxyNcrCpUvGpVejZJxREs5YjZJwVr04azXqxZl14szVqBNnF8XZq+dvhzjO7vFpF8bZqxebk3uYbsM4uyjOXo1WHz9hXKOv498trrHaN375vOD4qqvZ6/r7gvsP6po12ovbNedfkwxx5/4BqHL8RzEiWnIAAAAASUVORK5CYII="},"6fbf":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.postSatisfactionInfo=t.getSatisfactionInfo=void 0;var r=o(n("b775"));t.getSatisfactionInfo=(e,t)=>(0,r.default)({url:"/api/student/api/student/course/satisfaction/querySatisfactionQuestionnaireDetail/"+t,method:"get",params:{associationId:t,applicationType:e}});t.postSatisfactionInfo=(e,t,n)=>(0,r.default)({url:`/api/student/api/student/course/satisfaction/submitCourseSatisfactionQuestionnaire/${n}?associationId=${n}&applicationType=${t}`,method:"post",data:{answerTimes:e.answerTimes,questionnaireUserAnswers:e.questionnaireUserAnswers,userName:e.userName,userPhone:e.userPhone}})},"6fe8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAA+1JREFUSEvdll1oXFUQx/9zdvNlRVERNS8Wv6CCH9hWpSCi0kIe7FNQbA0k7u45buwWtFIsKA0oilSksJq9d27WXRtFMaIFqVCpIu2DYgU/UUFFi+JDq8SgEnez946M3A03m2x2+1LEedt75sxvZ+Z/5hzCGTY6wzz8d4HOuSsB3CAilwDoFZGTURR9Vi6XPwUg3VZq1QwLhUJfrVbLA7AA1rUJehKAv7CwUKxUKqc6gdsCs9nszcaYVwCsBdAA8J6IHANwIpVKRWEYaqabAGwhojUAfhORHUEQvLoadEWgc+7uKIoOAOghokoURXunpqZ+XilQPp8/r9FoPEREu+NSPxYEwRPtoMuAzrk7RORtAKExZrvneW92KpOu5/P59WEYHgJwEYAdzPz8SvuWAAuFwjm1Wu0rAFqurcysAbo259zVIvKhZmqM2eB53petm5cAnXNPisgeEXk2CIJdXZMSjrlcblTbAOAtZt7aFjg6Otrf29v7k/atXq+vrVarv6uzc25DFEX7jDFF3/ffsNZeLiIvATBxsAVjzJjv+9/Gv8laq0flmjAMryqXy98loYsZOuc2i8g7AF5g5kwMGxaRFwGcRUSP+L7/dDabvcUYcxTAowDmACyk0+mXJycn/1Rlp1KpQET0jw8R0aSIrAdQYWZfYy4CrbV7AUwQ0Tbf9/U4wFr7OoAPAOzUzTHwdmPMuwCuGBwcPDExMaFH5l/L5XK3EtERAOmWUu5m5n2tQE8rSEQbfd//OLnBWvsjEZUUaK3dAuBwvF4DEDDzzua0sdZuA6BVaUL3M/ODzXjJDKcB3AvgWmb+oh1wZGRkTX9//3UAfjXGDKnAROSeIAhea+6JoRURea5VfEngMwB2icjmIAi0LIuWzLBVddbazwEcYuY9yTUdi8ViUSuwxJJAB8BriqMd0Dl3p4io3B82xlwWhuExInqAmbWMHW0RmMlkLk2lUj+IyPEgCG5qAWoWJWYuxWo+CGAgFt3B2dnZ4ZmZmbAjLanSWGVHiUhlf5vnee83A+gEKhaLfzSFkclkzu/p6bk+iqJfmPmbbkDLRKMf4jmq/ft6fn5+4/T09F+nE6wb32XD21pbBnCfCqFerw9Xq9W/uwnUrc8yoMp+YGBAJ84mEflIBwEzf79awLGxsQvT6fRTRCTMnFvNd8X7cHx8/OxGo6HnaghAjYjKYRhOz83NHU+Ig5xz60Rku3YDwAU6lZhZL+W2tuoTwzl3v4joyLs4jqDnSqcORES/nRt/117v7+vre3yls5ekd3y16S2STqfv0qkC4Ea9YEVEXwKniOgTAEeMMQdKpdJsN33sCOwmyOn4/P+B/wB7sbYsO7kc8gAAAABJRU5ErkJggg=="},"6feb":function(e,t,n){"use strict";n.r(t);var o=n("9fb0"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"6ffd":function(e,t,n){"use strict";var o=n("809ec");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"723b":function(e,t,n){"use strict";var o=n("58cd");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"72d9":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/reviewing.5d264365.png"},"72ff":function(e,t,n){"use strict";n.r(t);var o=n("f072"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"736f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"VmallModal",props:["value","title","content","cancelText","okText","isTimeout","mode"],data:()=>({count:3,timer:null}),computed:{submitVisible:{get(){return this.value},set(e){this.$emit("input",e)}},countdown(){return this.isTimeout?this.count+"s":""}},watch:{submitVisible:{handler(e){e&&"back"===this.mode&&this.intervalFn()}}},methods:{intervalFn(){this.timer=setInterval(()=>{this.count--,0===this.count&&(clearInterval(this.timer),this.$emit("ok"))},1e3)},cancelFn(){this.isTimeout&&clearInterval(this.timer),this.$emit("cancel")},okFn(){this.isTimeout&&clearInterval(this.timer),this.$emit("ok")}},beforeDestroy(){clearInterval(this.timer)}}},"73bb":function(e,t,n){"use strict";n.r(t);var o=n("ccf7"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"73ca":function(e,t,n){"use strict";var o=n("2dc5"),r=n("2306"),i=n("7e5b"),a=n("7837"),u=function(){function e(e){this.group=new o.a,this._LineCtor=e||i.a}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this.group,o=this._lineData;this._lineData=e,o||n.removeAll();var r=s(e);e.diff(o).add((function(n){t._doAdd(e,n,r)})).update((function(n,i){t._doUpdate(o,e,i,n,r)})).remove((function(e){n.remove(o.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=s(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var o=e.start;o<e.end;o++){if(l(t.getItemLayout(o))){var r=new this._LineCtor(t,o,this._seriesScope);r.traverse(n),this.group.add(r),t.setItemGraphicEl(o,r),this._progressiveEls.push(r)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){r.traverseElements(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,n){if(l(e.getItemLayout(t))){var o=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,o),this.group.add(o)}},e.prototype._doUpdate=function(e,t,n,o,r){var i=e.getItemGraphicEl(n);l(t.getItemLayout(o))?(i?i.updateData(t,o,r):i=new this._LineCtor(t,o,r),t.setItemGraphicEl(o,i),this.group.add(i)):this.group.remove(i)},e}();function s(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:Object(a.e)(t)}}function c(e){return isNaN(e[0])||isNaN(e[1])}function l(e){return e&&!c(e[0])&&!c(e[1])}t.a=u},"73da":function(e,t,n){},7454:function(e,t,n){"use strict";n.r(t);var o=n("8a52"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},7510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("div",{staticClass:"empty-wrap"},[e("img",{style:{height:this.isSelect?"80px":"130px",width:this.isSelect?"80px":"130px","margin-top":"-20px"},attrs:{src:n("2542"),alt:"",srcset:""}}),e("div",{staticClass:"text"},[this._v(" "+this._s(this.text)+" ")])])},t.staticRenderFns=[]},7705:function(e,t,n){},"77d5":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getHomeworkDetail=function(e){return(0,r.default)({url:`/api/student/v1/lms/homework/getDetail/${e.homeworkId}?studentId=${e.studentId}`,method:"get"})},t.getReviewDetail=function(e){return(0,r.default)({url:"/api/student/v1/lms/homework/reviewRecord/detail/"+e,method:"get"})},t.updateReviewHomework=t.getUploadUrl=t.getSubmitInfoList=void 0;var r=o(n("b775"));t.getSubmitInfoList=(e,t)=>(0,r.default)({url:"/api/student/v1/lms/homework/findSubmitInfoList/"+t,method:"get",params:e});t.updateReviewHomework=e=>(0,r.default)({url:"/api/student/v1/lms/homework/updateReview",method:"post",data:e});t.getUploadUrl=(e,t,n)=>(0,r.default)({method:"get",url:"/api/service/api/service/v1/getUploadUrl",params:{fileName:e,bucketName:t,fileContentType:n}})},7808:function(e,t,n){},"780f":function(e,t,n){"use strict";e.exports=r;var o=n("27bf");function r(e){if(!(this instanceof r))return new r(e);o.call(this,e)}n("3fb5")(r,o),r.prototype._transform=function(e,t,n){n(null,e)}},"79c9":function(e,t,n){"use strict";n.r(t);var o=n("2126"),r=n("4825");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("4516");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"6bce636a",null);t.default=u.exports},"7a86":function(e,t,n){"use strict";var o=n("ef07");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"7b75d":function(e,t,n){"use strict";n("ef2e")},"7cd6":function(e,t,n){var o=n("dbce").default;const{VUE_APP_MODE:r,NODE_ENV:i}=Object({VUE_APP_MODE:"OUTER",NODE_ENV:"production",VUE_APP_RUN_ENV:"PROD",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_HEADER_PREFIX:"/icomponents/static_klt_20210106_92944",VUE_APP_BASE_API:"",VUE_APP_ENV_TYPE:"UAT",VUE_APP_ENV_MODE:"UAT",BASE_URL:"/course/"});function a(e){const t=document.createElement("script");t.type="text/javascript",t.defer=!0,t.src=e,document.body.appendChild(t)}function u(){Promise.resolve().then(()=>o(n("56d7"))),"OUTER"===r&&(a("//sxzcdn.shixizhi.huawei.com/lib/watermarks/waterMark.bundle.20250124.js"),"preoduction"===i&&a("/ihelpcenter/static/loginModal.bundle.js"))}"complete"===document.readyState?u():window.addEventListener("load",()=>{u()})},"7d17":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/moren.f4aa502c.png"},"7d4b":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return b}));var o=n("e0d3"),r=n("6d8b"),i=n("06ad"),a=n("19eb"),u=n("deca"),s=n("cbe5"),c=n("8582"),l={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},d=Object(r.keys)(l),f=(Object(r.reduce)(c.a,(function(e,t){return e[t]=1,e}),{}),c.a.join(", "),["","style","shape","extra"]),m=Object(o.o)();function p(e,t,n,o,i){var a=e+"Animation",s=Object(u.a)(e,o,i)||{},c=m(t).userDuring;return s.duration>0&&(s.during=c?Object(r.bind)(x,{el:t,userDuring:c}):null,s.setToFinal=!0,s.scope=e),Object(r.extend)(s,n[a]),s}function h(e,t,n,i){var u=(i=i||{}).dataIndex,h=i.isInit,v=i.clearStyle,y=n.isAnimationEnabled(),w=m(e),x=t.style;w.userDuring=t.during;var C={},k={};if(function(e,t,n){for(var o=0;o<d.length;o++){var r=d[o],i=l[r],a=t[r];a&&(n[i[0]]=a[0],n[i[1]]=a[1])}for(o=0;o<c.a.length;o++){var u=c.a[o];null!=t[u]&&(n[u]=t[u])}}(0,t,k),A("shape",t,k),A("extra",t,k),!h&&y&&(function(e,t,n){for(var r=t.transition,i=b(r)?c.a:Object(o.r)(r||[]),a=0;a<i.length;a++){var u=i[a];if("style"!==u&&"shape"!==u&&"extra"!==u){var s=e[u];0,n[u]=s}}}(e,t,C),S("shape",e,t,C),S("extra",e,t,C),function(e,t,n,i){if(!n)return;var a,u=e.style;if(u){var s=n.transition,c=t.transition;if(s&&!b(s)){var l=Object(o.r)(s);!a&&(a=i.style={});for(var d=0;d<l.length;d++){var f=l[d],m=u[f];a[f]=m}}else if(e.getAnimationStyleProps&&(b(c)||b(s)||Object(r.indexOf)(c,"style")>=0)){var p=e.getAnimationStyleProps(),h=p?p.style:null;if(h){!a&&(a=i.style={});var g=Object(r.keys)(n);for(d=0;d<g.length;d++){f=g[d];if(h[f]){m=u[f];a[f]=m}}}}}}(e,t,x,C)),k.style=x,function(e,t,n){var o=t.style;if(!e.isGroup&&o){if(n){e.useStyle({});for(var r=e.animators,i=0;i<r.length;i++){var a=r[i];"style"===a.targetName&&a.changeTarget(e.style)}}e.setStyle(o)}t&&(t.style=null,t&&e.attr(t),t.style=o)}(e,k,v),function(e,t){Object(r.hasOwn)(t,"silent")&&(e.silent=t.silent),Object(r.hasOwn)(t,"ignore")&&(e.ignore=t.ignore),e instanceof a.c&&Object(r.hasOwn)(t,"invisible")&&(e.invisible=t.invisible);e instanceof s.b&&Object(r.hasOwn)(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}(e,t),y)if(h){var _={};Object(r.each)(f,(function(e){var n=e?t[e]:t;n&&n.enterFrom&&(e&&(_[e]=_[e]||{}),Object(r.extend)(e?_[e]:_,n.enterFrom))}));var O=p("enter",e,t,n,u);O.duration>0&&e.animateFrom(_,O)}else!function(e,t,n,o,r){if(r){var i=p("update",e,t,o,n);i.duration>0&&e.animateFrom(r,i)}}(e,t,u||0,n,C);g(e,t),x?e.dirty():e.markRedraw()}function g(e,t){for(var n=m(e).leaveToProps,o=0;o<f.length;o++){var i=f[o],a=i?t[i]:t;a&&a.leaveTo&&(n||(n=m(e).leaveToProps={}),i&&(n[i]=n[i]||{}),Object(r.extend)(i?n[i]:n,a.leaveTo))}}function v(e,t,n,o){if(e){var r=e.parent,i=m(e).leaveToProps;if(i){var a=p("update",e,t,n,0);a.done=function(){r.remove(e),o&&o()},e.animateTo(i,a)}else r.remove(e),o&&o()}}function b(e){return"all"===e}var y={},w={setTransform:function(e,t){return y.el[e]=t,this},getTransform:function(e){return y.el[e]},setShape:function(e,t){var n=y.el;return(n.shape||(n.shape={}))[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=y.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=y.el,o=n.style;return o&&(o[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=y.el.style;if(t)return t[e]},setExtra:function(e,t){return(y.el.extra||(y.el.extra={}))[e]=t,this},getExtra:function(e){var t=y.el.extra;if(t)return t[e]}};function x(){var e=this.el;if(e){var t=m(e).userDuring,n=this.userDuring;t===n?(y.el=e,n(w)):this.el=this.userDuring=null}}function S(e,t,n,i){var a=n[e];if(a){var u,s=t[e];if(s){var c=n.transition,l=a.transition;if(l)if(!u&&(u=i[e]={}),b(l))Object(r.extend)(u,s);else for(var d=Object(o.r)(l),f=0;f<d.length;f++){var m=s[h=d[f]];u[h]=m}else if(b(c)||Object(r.indexOf)(c,e)>=0){!u&&(u=i[e]={});var p=Object(r.keys)(s);for(f=0;f<p.length;f++){var h;m=s[h=p[f]];C(a[h],m)&&(u[h]=m)}}}}}function A(e,t,n){var o=t[e];if(o)for(var a=n[e]={},u=Object(r.keys)(o),s=0;s<u.length;s++){var c=u[s];a[c]=Object(i.a)(o[c])}}function C(e,t){return Object(r.isArrayLike)(e)?e!==t:null!=e&&isFinite(e)}},"7d72":function(e,t,n){"use strict";var o=n("8707").Buffer,r=o.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(o.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=c,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=f,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var o=n.charCodeAt(n.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var o=t.length-1;if(o<n)return 0;var r=a(t[o]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--o<n||-2===r)return 0;if((r=a(t[o]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--o<n||-2===r)return 0;if((r=a(t[o]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var o=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,o),e.toString("utf8",t,o)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"7d89":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/failImage2.984980c5.png"},"7e25":function(e,t,n){},"7e5b":function(e,t,n){"use strict";var o=n("7fae"),r=n("6d8b"),i=n("401b"),a=n("a15a"),u=n("cb11"),s=n("ac0f"),c=n("cbe5"),l=u.a.prototype,d=s.a.prototype,f=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.a)(t,e)}(f);function m(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var p=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return Object(o.a)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new f},t.prototype.buildPath=function(e,t){m(t)?l.buildPath.call(this,e,t):d.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return m(this.shape)?l.pointAt.call(this,e):d.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=m(t)?[t.x2-t.x1,t.y2-t.y1]:d.tangentAt.call(this,e);return i.normalize(n,n)},t}(c.b),h=n("deca"),g=n("2dc5"),v=n("7d6c"),b=n("7837"),y=n("3842"),w=["fromSymbol","toSymbol"];function x(e){return"_"+e+"Type"}function S(e,t,n){var o=t.getItemVisual(n,e);if(!o||"none"===o)return o;var r=t.getItemVisual(n,e+"Size"),i=t.getItemVisual(n,e+"Rotate"),u=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),c=a.c(r);return o+c+a.b(u||0,c)+(i||"")+(s||"")}function A(e,t,n){var o=t.getItemVisual(n,e);if(o&&"none"!==o){var r=t.getItemVisual(n,e+"Size"),i=t.getItemVisual(n,e+"Rotate"),u=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),c=a.c(r),l=a.b(u||0,c),d=a.a(o,-c[0]/2+l[0],-c[1]/2+l[1],c[0],c[1],null,s);return d.__specifiedRotation=null==i||isNaN(i)?void 0:+i*Math.PI/180||0,d.name=e,d}}function C(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var k=function(e){function t(t,n,o){var r=e.call(this)||this;return r._createLine(t,n,o),r}return Object(o.a)(t,e),t.prototype._createLine=function(e,t,n){var o=e.hostModel,i=function(e){var t=new p({name:"line",subPixelOptimize:!0});return C(t.shape,e),t}(e.getItemLayout(t));i.shape.percent=0,h.c(i,{shape:{percent:1}},o,t),this.add(i),Object(r.each)(w,(function(n){var o=A(n,e,t);this.add(o),this[x(n)]=S(n,e,t)}),this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var o=e.hostModel,i=this.childOfName("line"),a=e.getItemLayout(t),u={shape:{}};C(u.shape,a),h.h(i,u,o,t),Object(r.each)(w,(function(n){var o=S(n,e,t),r=x(n);if(this[r]!==o){this.remove(this.childOfName(n));var i=A(n,e,t);this.add(i)}this[r]=o}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var o=e.hostModel,i=this.childOfName("line"),a=n&&n.emphasisLineStyle,u=n&&n.blurLineStyle,s=n&&n.selectLineStyle,c=n&&n.labelStatesModels,l=n&&n.emphasisDisabled,d=n&&n.focus,f=n&&n.blurScope;if(!n||e.hasItemOption){var m=e.getItemModel(t),p=m.getModel("emphasis");a=p.getModel("lineStyle").getLineStyle(),u=m.getModel(["blur","lineStyle"]).getLineStyle(),s=m.getModel(["select","lineStyle"]).getLineStyle(),l=p.get("disabled"),d=p.get("focus"),f=p.get("blurScope"),c=Object(b.e)(m)}var h=e.getItemVisual(t,"style"),g=h.stroke;i.useStyle(h),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=a,i.ensureState("blur").style=u,i.ensureState("select").style=s,Object(r.each)(w,(function(e){var t=this.childOfName(e);if(t){t.setColor(g),t.style.opacity=h.opacity;for(var n=0;n<v.g.length;n++){var o=v.g[n],r=i.getState(o);if(r){var a=r.style||{},u=t.ensureState(o),s=u.style||(u.style={});null!=a.stroke&&(s[t.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(s.opacity=a.opacity)}}t.markRedraw()}}),this);var x=o.getRawValue(t);Object(b.g)(this,c,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return o.getFormattedLabel(t,n,e.dataType)}},inheritColor:g||"#000",defaultOpacity:h.opacity,defaultText:(null==x?e.getName(t):isFinite(x)?Object(y.w)(x):x)+""});var S=this.getTextContent();if(S){var A=c.normal;S.__align=S.style.align,S.__verticalAlign=S.style.verticalAlign,S.__position=A.get("position")||"middle";var C=A.get("distance");Object(r.isArray)(C)||(C=[C,C]),S.__labelDistance=C}this.setTextConfig({position:null,local:!0,inside:!1}),Object(v.J)(this,d,f,l)},t.prototype.highlight=function(){Object(v.r)(this)},t.prototype.downplay=function(){Object(v.C)(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");C(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),n=this.getTextContent();if(e||t||n&&!n.ignore){for(var o=1,r=this.parent;r;)r.scaleX&&(o/=r.scaleX),r=r.parent;var a=this.childOfName("line");if(this.__dirty||a.__dirty){var u=a.shape.percent,s=a.pointAt(0),c=a.pointAt(u),l=i.sub([],c,s);if(i.normalize(l,l),e&&(e.setPosition(s),A(e,0),e.scaleX=e.scaleY=o*u,e.markRedraw()),t&&(t.setPosition(c),A(t,1),t.scaleX=t.scaleY=o*u,t.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var d=void 0,f=void 0,m=n.__labelDistance,p=m[0]*o,h=m[1]*o,g=u/2,v=a.tangentAt(g),b=[v[1],-v[0]],y=a.pointAt(g);b[1]>0&&(b[0]=-b[0],b[1]=-b[1]);var w=v[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var x=-Math.atan2(v[1],v[0]);c[0]<s[0]&&(x=Math.PI+x),n.rotation=x}var S=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-h,f="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=h,f="top";break;default:S=0,f="middle"}switch(n.__position){case"end":n.x=l[0]*p+c[0],n.y=l[1]*h+c[1],d=l[0]>.8?"left":l[0]<-.8?"right":"center",f=l[1]>.8?"top":l[1]<-.8?"bottom":"middle";break;case"start":n.x=-l[0]*p+s[0],n.y=-l[1]*h+s[1],d=l[0]>.8?"right":l[0]<-.8?"left":"center",f=l[1]>.8?"bottom":l[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=p*w+s[0],n.y=s[1]+S,d=v[0]<0?"right":"left",n.originX=-p*w,n.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=y[0],n.y=y[1]+S,d="center",n.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-p*w+c[0],n.y=c[1]+S,d=v[0]>=0?"right":"left",n.originX=p*w,n.originY=-S}n.scaleX=n.scaleY=o,n.setStyle({verticalAlign:n.__verticalAlign||f,align:n.__align||d})}}}function A(e,t){var n=e.__specifiedRotation;if(null==n){var o=a.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(o[1],o[0]))}else e.attr("rotation",n)}},t}(g.a);t.a=k},"7e78":function(e,t,n){"use strict";n("73da")},"7f1a":function(e,t,n){"use strict";n("9569")},"7fb2":function(e,t,n){},"7fc6":function(e,t,n){"use strict";n.r(t);var o=n("b1f8"),r=n("f8c4");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"c63a3ade",null);t.default=u.exports},"809ec":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("a-modal",{staticClass:"simple-modal",attrs:{title:e.title,"ok-text":e.okText,"cancel-text":e.cancelText,width:e.width,maskClosable:!1,centered:""},on:{ok:e.handleOk,cancel:function(t){return e.$emit("cancel")}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"content"},[t("div",{staticClass:"first"},[t("span",{staticClass:"icon"},[e._t("icon")],2),e._v(" "+e._s(e.content)+" ")]),e.secContent?t("div",{staticClass:"second"},[e._v(e._s(e.secContent))]):e._e()])])},t.staticRenderFns=[]},"80e9":function(e,t,n){"use strict";var o=n("7510");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},8145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("a-modal",{staticClass:"modal",attrs:{title:e.$t("examTest.tips"),footer:null,centered:!0,width:400},model:{value:e.submitVisible,callback:function(t){e.submitVisible=t},expression:"submitVisible"}},[t("p",{staticClass:"title"},[t("a-icon",{staticClass:"confirm-warning icon",attrs:{type:"exclamation-circle",theme:"filled"}}),t("span",[e._v(e._s(e.title))])],1),t("p",{staticClass:"content"},[e._v(e._s(e.content))]),t("div",{staticClass:"modal-btn"},[e.cancelText?t("a-button",{staticClass:"modal-left",on:{click:e.cancelFn}},[e._v(" "+e._s(e.cancelText)+" ")]):e._e(),t("a-button",{attrs:{type:"primary"},on:{click:e.okFn}},[e._v(" "+e._s(`${e.okText} ${e.countdown}`)+" ")])],1)])},t.staticRenderFns=[]},8210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{text:{type:String,default:"暂无数据"},componentName:{type:String,default:"Table"}},computed:{isSelect(){return"Select"===this.componentName}}}},"82da":function(e,t,n){},"83d6":function(e,t,n){"use strict";n("0d8e")},8533:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("0643"),n("4e3e");var r=o(n("8e9c")),i=o(n("ac9f")),a=o(n("5399")),u=n("2934"),s=n("cabd"),c=n("b255"),l=n("5f87"),d=n("c24f"),f=n("604d"),m=n("3a6d2"),p=n("7397"),h=o(n("677e")),g=o(n("766a")),v=n("ca00"),b=n("6394"),y=o(n("2444")),w=o(n("b893")),x=o(n("e66e"));t.default={components:{"v-header":r.default,CourseApproval:i.default,PreviewHeader:a.default,Footer:b.Footer},provide(){return{sharedState:this.sharedState}},data:()=>({IS_SHIXIZHI_DEBUGGER:!1,toName:"",courseWareInfo:{},hasShow:!0,watermark:null,wmContent:"",unReadMessage:0,appId:"",sharedState:{isSchoolMember:!1}}),computed:{isCourseLearn(){return["newApplicationLearn","applicationMaterial","newProgressAndGrades","applicationAnnounceMent","caseStudy","discussion","applicationLearn","progressAndGrades"].includes(this.$route.name)},schoolId(){return this.$route.params.schoolId},subSchoolId(){return this.$route.params.subSchoolId},isInner:()=>!1,isLogin:()=>(0,l.getToken)()&&(0,l.getRefreshToken)(),isLocal:()=>location.href.indexOf("klt-local.huawei.com:8080")>-1,language(){let e=null;if((0,f.getILearningStorageLang)())e=(0,f.getILearningStorageLang)(),e="en"===e?"en":"cn";else{e=this.$tools.getQueryString("sxz-lang",window.location);e={en_US:"en",zh_CN:"cn",es_ES:"es",ru_RU:"ru",ar_SA:"ar",pl_PL:"pl",de_DE:"de",tr_TR:"tr",fr_FR:"fr",pt_BR:"pt",ko_KR:"ko",ja_JP:"ja"}[e]}return this.$store.commit("user/SETUSERLANGUAGR",e),e||"cn"},showCourseApproval(){var e;const t=this.courseWareInfo.approvalStatus;return this.$isInner&&null!==t&&"unSubmitted"!==t&&"approval"===(null===(e=this.$route)||void 0===e||null===(e=e.query)||void 0===e?void 0:e.isReview)},excludeRoute(){return["lecturer","exportInfo","fallback"].includes(this.$route.name)},isHeaderShow(){return this.$isInner&&"unpublished"===this.$route.query.status},antdLocale(){return"cn"===this.language?h.default:g.default},currRoute(){var e;return{route:this.$route,hwa:null===(e=window)||void 0===e?void 0:e.hwa}}},watch:{currRoute:{async handler(e){e.hwa&&e.route.name&&(this.handleUEM(e.route),(0,y.default)(e.route.name))},deep:!0,immediate:!0},$route(e){this.replaceSxzLang(),"courseOrders"===e.name&&this.$nextTick(()=>{this.hideCommonLayout("HU-header","HU-footer")}),this.toName=["course","application","external","courseLearn","courseMaterial"].includes(e.name)?"course":e.name,["course","courseReport","application","noPermission","external"].includes(e.name)?this.showCommonLayout():this.hideCommonLayout()},isCourseLearn(){this.$isInner&&this.isCourseLearn?document.getElementById("course-html").classList.add("app-courseLearn"):document.getElementById("course-html").classList.remove("app-courseLearn")}},async beforeCreate(){w.default.getQueryString("_tpToken",window.location)&&await x.default.thirdPartyInit()},async created(){!this.$isInner&&["application","course"].includes(this.$route.name)?document.body.style.backgroundColor="#f5f6f6":document.body.style.backgroundColor="#fff";const e=this;if(this.$root.$i18n.locale=this.language,this.$isInner?this.handleInnerUserInfo():await this.$store.dispatch("checkIsCustom"),this.$bus.$on("setCourseWareInfo",(function(t){e.courseWareInfo=t})),this.isLocal){const e=window.location.pathname.replace(/[^0-9]/gi,"");window.localStorage.setItem("tenant_id",e)}if(this.$tools.isMobile()){if(this.$isInner)return void(this.hasShow=!1);setTimeout(async()=>{if(window.location.href.indexOf("/application-view")>-1){const e=this.$tools.getQueryString("appId",window.location);await this.urlWelink("resource",e)}else if(window.location.href.indexOf("/course-view")>-1){const e=this.$tools.getQueryString("courseId",window.location);await this.urlWelink("course",e)}else if(window.location.href.indexOf("/external-view")>-1){const e=this.$tools.getQueryString("courseId",window.location);await this.urlWelink("external",e)}},0)}const t=this.getUrl("headershow");if(this.$tools.getQueryString("_tpToken",window.location)||"true"!=t||-1===location.host.indexOf("huawei.com")||this.unenrollCode(),"true"==t?this.hideCommonLayout():this.showCommonLayout(),!this.$isInner)try{localStorage.setItem("cssConfig",JSON.stringify(await(0,v.openConfigXSS)()))}catch{localStorage.setItem("cssConfig",null)}if(this.importEditorCss(),!this.$isInner)try{localStorage.setItem("cssConfig",JSON.stringify(await(0,v.openConfigXSS)()))}catch{localStorage.setItem("cssConfig",null)}},methods:{importEditorCss(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://sxzcdn.shixizhi.huawei.com/lib/tinymceEditorCollection/common.css",document.head.append(e)},unenrollCode(){(0,c.getUnenrolledCode)().then(e=>{const t=e.code,n=`${location.href}&_tpToken=${t}`;window.location.replace(n)})},async urlWelink(e,t){const n=this.subSchoolId||this.schoolId||window.location.pathname.split("/")[2],o=this.getUrl("_tpToken"),r=this.$tools.getQueryString("sxz-lang",window.location);(0,s.searchCourseType)(t).then(t=>{const{applicationId:i,applicationType:a,courseId:u,status:s}=t.data||{};if(t.data&&200===t.code){let t="";"resource"===e?t=`${window.location.origin}/h5/weportal/#/resource/${i}?tenantId=${n}&courseResourceId=${u}&applicationType=${a}&courseStatus=${s}${o?`&_tpToken=${o}&router=thirdParty`:""}${r?"&sxz-lang="+r:""}`:"course"===e?t=`${window.location.origin}/h5/weportal/#/course/${u}?tenantId=${n}${o?`&_tpToken=${o}&router=thirdParty`:""}${r?"&sxz-lang="+r:""}`:"external"===e&&(t=`${window.location.origin}/h5/weportal/#/externalCourse/${i}${r?"?sxz-lang="+r:""}${o?"&_tpToken="+o:""}`),window.history.replaceState(null,null,t),window.location.reload()}})},showCommonLayout(){const e=document.getElementById("KLT-header"),t=document.getElementById("KLT-footer");e&&(e.style.display="block"),t&&(t.style.display="block")},hideCommonLayout(e="KLT-header",t="KLT-footer"){const n=document.getElementById(e),o=document.getElementById(t);"HU-header"===e&&(n&&n.parentNode.removeChild(n),o&&o.parentNode.removeChild(o)),n&&(n.style.display="none"),o&&(o.style.display="none")},handleHeaderActive(){const e=document.querySelectorAll("#KLT-header .navList_wraper .navList li a"),t=document.querySelectorAll("#KLT-header .navList_wraper .navList li a span");e&&(e.forEach(e=>{e.classList&&e.classList.remove("nav_item"),e.classList&&e.classList.remove("nav_item_portal")}),t&&t.forEach(e=>{"课程"===e.innerHTML&&(e.classList&&e.classList.add("nav_item"),e.classList&&e.classList.add("nav_item_portal"))}))},createMeta(){const e=document.createElement("meta");if(e.name="referrer",e.content="no-referrer",document.getElementsByTagName("head")[0].appendChild(e),"https:"===window.location.protocol){const e=document.createElement("meta");e.setAttribute("http-equiv","Content-Security-Policy"),e.content="upgrade-insecure-requests",document.getElementsByTagName("head")[0].appendChild(e)}},getUrl(e,t){t=t||window.location.search;var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=t.substr(1).match(n);return null!==o?o[2]:null},handleInnerUserInfo(){(0,d.getInnerUserInfo)().then(e=>{const{status:t,data:n}=e;var o;200===t&&(this.$store.commit("user/SETINNERUSER",n.data.commVO||{}),this.unReadMessage=(null==n||null===(o=n.data)||void 0===o?void 0:o.unReadMessage)||0)})},handleUEM(e){const t=this.getUemId(e);t&&(0,v.uemHwa)("getAppId",e=>{(0,v.uemHwa)("setAppId",v.COURSE_APPKEY),(0,v.uemHwa)("trackPageView",t),this.$once("hook:beforeDestroy",()=>{(0,v.uemHwa)("setAppId",e)})});const n=this.getIlearningUemId(e);if(n){const e={code:n,lang:"cn"===this.language?"zh":this.language,appId:this.appId};(0,v.ilearningUem)(e)}const o=this.getServiceId(e);if(o){const t={code:o,lang:"cn"===this.language?"zh":this.language,appId:this.getServiceAppid(e)};(0,v.ilearningUem)(t)}},getIlearningUemId(e){const t=window.location.href.indexOf("://ilearning.huawei.com")>-1;if(this.appId="","newApplicationLearn"===e.name||"applicationLearn"===e.name){var n,o,r,i;if("mooc"===(null==e||null===(n=e.query)||void 0===n?void 0:n.typeId))return this.appId=t?"8101ce2ff02aa7ba582677f29112e015":"81d81dc5cf0a60685bfc2f25e7af15d8",(0,p.getUemList)().MOOCLearning;if("audio"!==(null==e||null===(o=e.query)||void 0===o?void 0:o.typeId)&&"livecourse"!==(null==e||null===(r=e.query)||void 0===r?void 0:r.typeId)&&"spoc"!==(null==e||null===(i=e.query)||void 0===i?void 0:i.typeId))return this.appId=t?"c4f5e8004b57a4af83e50336eae31d2b":"99bee2819559c670bdf03fda14beae1d",(0,p.getUemList)().MicroLearning}else{if("application"===e.name)return this.appId=t?"8101ce2ff02aa7ba582677f29112e015":"81d81dc5cf0a60685bfc2f25e7af15d8",(0,p.getUemList)().MOOCIntroduction;if("lecturer"===e.name){var a,u,s,c;if(this.appId=t?"c4f5e8004b57a4af83e50336eae31d2b":"99bee2819559c670bdf03fda14beae1d","mooc"===(null==e||null===(a=e.query)||void 0===a?void 0:a.typeId))return(0,p.getUemList)().MOOCMainInstructor;if("audio"!==(null==e||null===(u=e.query)||void 0===u?void 0:u.typeId)&&"livecourse"!==(null==e||null===(s=e.query)||void 0===s?void 0:s.typeId)&&"spoc"!==(null==e||null===(c=e.query)||void 0===c?void 0:c.typeId))return(0,p.getUemList)().MicroMainInstructor}}},getUemId(e){let t="";var n,o;["applicationLearn","newApplicationLearn"].includes(e.name)?t="unpublished"===(null==e||null===(n=e.query)||void 0===n?void 0:n.status)?"draft":"true"===(null==e||null===(o=e.query)||void 0===o?void 0:o.isOnline)?"online":"applicationLearn":["lecturer","progressAndGrades","newProgressAndGrades","exportInfo"].includes(e.name)&&(t=e.name);return t?(0,p.getUemList)()[t]:""},getServiceId:e=>(0,p.getUemList)()[e.name+"Service"]||"",getServiceAppid:e=>({newApplicationLearnService:"0ed918d5b5ff89e00954a50f394d0e62",applicationMaterialService:"52b84ac681fb6b30d6f523d77cec5ece",newProgressAndGradesService:"f2ecb933535b167a47a9f081ddcbec8f",lecturerService:"188daa2633ad12985e86ae62bd339fc1"}[e.name+"Service"]),replaceSxzLang(){if(this.$isInner){const e=(0,f.getILearningStorageLang)(),t=this.$tools.getQueryString("sxz-lang",window.location);if(t&&(null==t||!t.toLowerCase().includes(e))){const t="en"===e?"en_US":"zh_CN",{...n}=this.$route.query;n["sxz-lang"]&&n["sxz-lang"]!==t&&(n["sxz-lang"]=t,this.$router.replace({query:n,hash:this.$route.hash}))}}}},mounted(){this.IS_SHIXIZHI_DEBUGGER=window.sessionStorage.getItem("IS_SHIXIZHI_DEBUGGER")||!1,setTimeout(()=>{this.handleHeaderActive();const e=this.subSchoolId||this.schoolId||window.location.pathname.split("/")[2];this.isInner||(0,u.getMemberIsValid)({tenantId:e,userId:(0,l.getUserId)()}).then(t=>{""!==(0,l.getToken)()&&""!==(0,l.getRefreshToken)()&&(0,u.getSelectSchoolByDomain)({tenantId:e}).then(e=>{var n;const o=this.getUrl("routeFrom");"1"!=(null==e||null===(n=e.data)||void 0===n?void 0:n.openSchool)&&t&&!t.data&&"contentMarket"!==o&&(window.location.href="/insufficient-permissions")}),200===(null==t?void 0:t.code)&&null!=t&&t.data&&this.$set(this.sharedState,"isSchoolMember",!0)})},1e3),this.createMeta(),this.$bus.$on("setWatermark",e=>{this.wmContent=e,this.$nextTick(()=>{this.watermark&&this.watermark.destroy(),this.watermark=new m.WebWatermark({watermarkSettings:{content:e,angle:15,color:"rgba(0, 0, 0, 0.1)",fontSize:16,fontFamily:"Microsoft Yahei",width:400,height:200,zIndex:"99999999",cssText:{position:"fixed",top:0,left:0}},blindWatermarkSettings:{content:e,fontFamily:"Microsoft Yahei",fontSize:14},logConfig:{clientAppid:"",w3account:"",env:"pro",edition:"his"}})})});const e=e=>{var t;const n=document.querySelector("style.hiddens");if(n&&n.parentElement.removeChild(n),null!==(t=location)&&void 0!==t&&t.pathname.includes("application-learn")||"applicationLearn"===e){const e=document.createElement("style");e.classList.add("hiddens"),e.innerText="#KLT-header, #KLT-FOOTER { display: none; }",document.body.append(e)}};e(),this.$router.beforeEach((t,n,o)=>{if("applicationLearn"===n.name&&"applicationLearn"===t.name||e(t.name),this.wmContent){if(this.watermark.destroy(),"applicationLearn"===n.name&&"applicationLearn"===t.name){const e=this.wmContent;this.watermark=new m.WebWatermark({watermarkSettings:{content:e,angle:15,color:"rgba(0, 0, 0, 0.1)",fontSize:16,fontFamily:"Microsoft Yahei",width:400,height:200,zIndex:"99999999",cssText:{position:"fixed",top:0,left:0}},blindWatermarkSettings:{content:e,fontFamily:"Microsoft Yahei",fontSize:14},logConfig:{clientAppid:"",w3account:"",env:"pro",edition:"his"}})}o()}else o()})}}},8560:function(e,t,n){},"859b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.courseWareEnum=void 0;t.courseWareEnum={video:"CourseVideo",audio:"CourseAudio",document:"CourseDocument",exam:"CourseExam",quiz:"CourseQuiz",graphic:"CourseGraphic",h5:"CourseH5","edm-document":"CourseEdmDocument",elab:"CourseELab",experiment:"CourseExperiment",examtest:"ExamTest",satisfaction:"CourseSatisfaction",wordle:"CourseWordcloud",roll:"CourseRoll",survey:"CourseSurvey",grade:"CourseAchievement",homework:"CourseHomework",case:"CourseCase",debate:"CourseDebate",discussion:"CourseDiscussion","elab-experiment":"CourseElabExperiment","digit-coursebook":"",program:"CourseProgram","program-question":"CourseProgramQuestion",test:"NewExamTest"}},"85fcf":function(e,t,n){},"86fc":function(e,t,n){"use strict";n.r(t);var o=n("45f8"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},8707:function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var o=n("b639"),r=o.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=o:(i(o,t),t.Buffer=a),a.prototype=Object.create(r.prototype),i(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var o=r(e);return void 0!==t?"string"==typeof n?o.fill(t,n):o.fill(t):o.fill(0),o},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},8761:function(e,t,n){"use strict";var o=n("3e8d");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},8796:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAwCAYAAAGtaI5FAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAeKADAAQAAAABAAAAMAAAAABgYUZmAAAIBElEQVR4Ae3cBXPkOgwA4LTHzMw4c///xxwzMzP09fON8rxpkm7aprfdRjNpvAbZAku25XTm8+fPc8USYXaJ7VKzkcZ3794tcX3//j2lHz16VOZVEyONz507V7x9+zbV2bBhQzFPUvHx48fi6tWrxbNnz1K+dMBMleafP38WmzZtSg1UunLlStRd8F7QeEGNloxlNR6huaWT2qKN1dxgyKVLl4qNG/8Wv3z5svj69WuxZcuW4siRI2WTkZ5x9syZM8XRo0eLEJWaW7duTZzfu3dv2VBipDGZbt++PVXYsWNHWXHXrl3F5cuXU89l5nxiWQxbVuN8FF3TIyR3bbyc+o0d37x5s7h//3756MSUIe0cQiu8CTqmjzqEHeV5G+nGjmnF7OxsYYp5g1+/fiVBv3r1qvj06VPKy//8/v27rBv18/I8vf5kvP4oblSuXBH6SE9ex+ynOfjnz59EsOkTczLeOSfCh75//74wrcDjx4/zKiPpWuX68OFD6V/V/vLlS3Hq1Kni4cOHxcmTJwvGW1peDtevXy8Y+R8/fiTj0eZWF/gniHbv3l3MzMwknCiBIAwGY8LR79+/P+9zJJ27p5GC7Edtx8+fPy9HvXPnzkTdvn37ktViyTzbtm3L0PxNGlSweUFhJaOW1eowj+x1sAvFBoFa5vTOnTsFrx0wNzdXciny2t6NHbc1WomyyZtOK0FVG45/xuq2QfVZ9s9E3CdRbbgHgtu4Mw1ltQ6iiTB+2fPmzZvkmayv2exbt24l9yhtt8WmcyLee/bsST45PB3cbHrYf3490sr85g+4YR5Se2t7DsqaXt0HDx4kl2tXawx5ezjaoBPBCLBRQNTr168TXgMLt5w7MoVcskFjUA7y2sDaQj9PnjxJzs6aww7UAzjH8+fPJw9dtxBqw91pDpMg4gzYQ1Lv3r1LaYcPZ8+eHenLAsjgLBd4dkAq4y4TRpDN/+hKXLW9350kvHnz5hEciKVqdesfBFJjRFNBaudQAdOqEg9C1HHgEL9Pnz6dcFs9Rp4BHD9+PC19pPOjA78Xg8EPL8ahtV7eaQ6vdWKNf90RPMzhaVDbNhrWnUoPBLepwzSUDRKeBim20TBIuI07ymIRL5Zknwrsh58+fZrS/qgTT2T6bY+cg+3ft2/f8qzC2bbNRr6jclps4xFgY6Jv29Wu0EnCOjpw4EAa5MGDBwuPfStCDh06VB7cG4SdjxNjhF67di3tnG7fvp3SYmMg2qYf83/srTHBruzGjRspW3vbUDusYKp9t12Xc/kqEwNX07vT9lBHIrrVSKI8Uf3Dhw+nEwqdGbzfpJAHC7RtGqTgQ2z2I8gPl/bwvXjxopS8mLU8TIsDCHUXg04EQ2b/WyVYfnWvLI7gdoIN/71791QpoXpQUBa0JDBVu1zVW6o3FnUimJqac/n5VMSF8ziE3kjAvDNQ6p6Dox8b/XEBkVTcFLl48eK4zWrrdZrDJGs+OdPyMCbmtFiXsjyshFBzldoxQvk7r1c7qkqm4yN9rAR0knAYm7xjZ1YegAnHjh1LaQQC0tUuf0f9VCH70xYWI2XlngBGNP8d+W3vTgTnxgdSFrSaF52Zw66mIJZFzYG1DdWMUCuNgKt6flU944rppG9QvTeT91OXXtJ+ODqD0LyugnL55rCDvpjf/DULzZhVmZDjIE1qHGAaBaGRR7o0qissieCunUxS/f8nxCSNqsexDAT3yNyJQD1IeCLE0OMg1p2E151b6lF5JhL1utPoiZRCj4MaBNwjcycB9SDgSZBCj2MYBNwjcycB9SDgSZBCj2MYBNwjcycBda8Cdswo6CMsEbEReT51EaCqnsQ7xHZ22xQO1Lb6VJnosNunGBHSrJavt9+974PFoOI7YZdB3XsmbCFT7xMnTqRbuJRApFAwznl1NZJA6MKizqCdVTuP1l6EI48wEiDFoQhw5XgEAPMDe4f97n3H51B1wqdwztRzMAZjjPPwceoYk2BifAMW+ISaqzG3KFuJd/cT+zF7FeKtfpQmxu3JQZ28nu/KMB6EQuT1MYSQBBFdmCdsSiQELZ5XB6EclKILiA4RrkhvRIQEUeSzEBcuXEjpxerok5JTuqCJoFkxuESRFrsr32Xced3eBBydGLhZ2gXqZkTeHlMwSOTZLIVfG/lNQPiUowuEQuTRr0hHWbwjH34zMp+VLA3hgqjHshg75QwcqcIK/+lNwC5oCBUK9S0msJwmQjAbMSgPG+Z1+FllUR4fXuR1/kWa0okN5xBB8jxvNdO9CZhgw0chso5Qpg1DMIZ/bBNqzhQXWpg8iyltKNA4sBRrMg7eqINmwXz+1qdNZmkd3VF/Nd69CdiCou5GUxNRFkrVxRITxs/VgS92MJHJc8EAUwmc5bBoCl/p5gRfvRpAwBaRdg6TAr0J2CxrgxAA38gkjwtuX8ZtMMINnxamMV8l5zjDTdTdQqEcYe61MfPgNRspHYGxNhQu/LwyME4duLW1gDTOuJPI/waOlOjhT28Cro7VdR3CwTyLDgwDCO8CZkgoj8WJFbgVO5Af3wGGeyAQq2j9md11QNlyIDT/U4hJl6ZQ4QaMN7cK49SBmyUyBn1xL2Y7ZSTsXLnycaxEuvd9cD5It1+tJhFn64HhIYi8Xl2auWeS+er8g0oMk9eEx6zRZ5e7nHX9r9W8VRXwWmXSWh53r0eVa5kx0zL2QcDTIskGOgYBNzBmWrIHAU+LJBvoGATcwJhpyR4EPC2SbKDjP8oxmMhlCb4yAAAAAElFTkSuQmCC"},"87c35":function(e,t,n){"use strict";n("d9e2"),Object.defineProperty(t,"__esModule",{value:!0});const o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,u=c=void 0}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var a,u=n("f0e2"),s=(a=u)&&a.__esModule?a:{default:a},c={beforeElement:"fullscreenToggle",textControl:"Download video",name:"downloadButton",downloadURL:null};const l=function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildCSSClass",value:function(){return"vjs-vjsdownload "+r(Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.player().trigger("downloadvideo")}}]),t}(s.default.getComponent("Button")),d=function(e){var t=this;this.ready(()=>{!function(e,t){var n=e.controlBar.addChild(new l(e,t),{});n.controlText(t.textControl),e.controlBar.el().insertBefore(n.el(),e.controlBar.getChild(t.beforeElement).el()),e.addClass("vjs-vjsdownload")}(t,s.default.mergeOptions(c,e))})};s.default.registerPlugin("vjsdownload",d),t.default=d,e.exports=t.default},"881c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{value:Boolean,title:String,okText:String,cancelText:String,content:String,secContent:String,width:{type:String,default:"400px"}},data:()=>({}),computed:{visible:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{handleOk(){this.$emit("ok"),this.visible=!1}}}},8859:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABgCAYAAAD4pJe2AAAAAXNSR0IArs4c6QAABUVJREFUeF7t3VtoHFUYB/D/f7spSKkX9EVEEFoVRKUPRh9Eii3a+qIIQpEUH72gUBWpIigpClICViuKVqQxc2YrDYJSoW12zuxWwUttH6rtQy0GCq2mJEVJ00tkZ46EpDS22t0xZybzzZyFQGDPfvN9/98ckr3TrF1p4C4yEjD4kg5MhhWAszDRLQ5MipcxL9AP33FgIsDMQUxeu4yDg5EDyz+YQRx3s9bYP9WqA8s/2LtU+vnzbTqwfIONYDK6mYPNCQeWb6jz3T1Kpb+Y3arbYXmFM9hNX6++uD0Hlk+w6ftcfvOYA8sn0D+7mrnP9W+tuh2WO8AL97kc2Jxx+AOM2QPwGCpmFBFOoIqTiKujVLt/n3P5Dgq4HXb5kH4CEMCYAH/F38z+97qDbFNZ4sAuidUcBKDQWuDxs/pvqaQ+h6IO7EJ4h2HwEn391RzyTP2mDgyYAPk6vWBT6mlbOECZwQyIrWhFL3Nbc8xClpmUKCvYCcR4nDXdyCRliwcpI1gdXQt7uHXnqMUcMytVJrAY4BtQwQYCYl/HUhawcwCmHvneldlWSOlAZQAbh+Eq+sH3KWWYadmig50BK8vp1fdlmmqKBysyWAxgNZWup5hf5qWLC3aZpygyT9niAQsKxiGqYJXFnHJTqoBg/ANdXbdKvZ/V7swoItgaqmB7u8GlXl80sCaVvl8qRid9Fwss5hLWguFOBpe6pkhgW6j0U1IhOu27KGAtxGYpa+HRTgeXuq4oYD6VXisVIUnfBQEz91KF3yYZXOpa+WAGh+jr26UCJO1bPhi4niroSzq41PXywVjpLtKj8e1OJOlgp6H0YsnPILcDuvh66WA7qPTDSYeWvF42GPEqPf2WZICkvcsGi81y1sKvkw4teb1ksBaq0WL2N6deYFOai1wwYi89fU9ppGYGlQsGs4kqfNGBiUmAj1EFn4tp11KjcndYBddxQJ+0lIOYMlLBhqn0EjEpW2xUJpihRz94wmIOYkrJBAOeptIfiUnZYqMywQzvpB/8bDEHMaUkgp2i0leKSdhyoxLBdlHphyznIKacPDDyNXrBm2ISttyoPLAYKyS+N9mWmzSwGNVoUdke8J2NLQ1sH5XutnW2SqwjC8xgM329TmLQtnqWBQYW+p0pnaDKAmtVbsjjB3Z1ErStNZLAjlLpm2wNLrWOHDCaGr2wR2rQtvqWA2bwLH39ga3BpdaRA4Z4GVXjgNSgbfUtBewUlt53NXt7pz57o9QXKWB1Kv1gqaVmhhcCZnqpwg0OTMq3G1X4AAeCwIHJAIvABVfRGzrtwCSAEQ16eoXDmk5AwN8w8wpVuNGBSQErwYelJDkZ877DfqTSdycZqOhr8w1GrKOnNxcdIcl8eQabQDW6kf3NP5MMVPS1eQbro9Lriw6QdL78glWj69nfHEk6UNHX5xTMPRT1XydeHsGGcc3C2/jezsmi75b/M1/+wEr+QtF2iPkCM3ifvn6uXdNlvj5PYL9i8swdHPzubJlB2s2eF7BxxJW7WKsfaddw2a/PA1gEVlbSq+8pO0Yn8883mAFMD1W4rZNm3Zr5fnqF5hl64YcOovME5m+HGT5JP/i481bdyvl6AnMEsXmEtXCvI0ieQMY7jEOIWj2SvoY3eaTp3iI7sIJ+n1e6PJdWzwLsABCvoWocznq4Ih4vTbBxkH1lfsd/GidMGmDHYbgRi674hFt2nEmj6TLXtAdG7keMt3G8tZ3NZqvMoaY5+1zAxgATAgxRQYMD+pc0G3W1pxO4HNg5EKMwMz9Tv5NjiM0RVOM9/LRxyIWYfQJ/A9bfbYLdo9XgAAAAAElFTkSuQmCC"},"88c5":function(e,t,n){},8975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.langText=t.htmlToStr=t.getLearnHour=t.formatStartTime=t.formatDate=t.filterHtml=t.default=t.SecondToDate=void 0;const o=(e,t)=>{if(!e)return"";if("--"===e)return"--";if(isNaN(new Date(e))){e=e.replace(/-/g,"/").replace(/T/," ");const t=new RegExp(/\d+\/\d+\/\d+.+\d+:\d+:\d+(\.\d+)\+\d+/);if(t.test(e)){const n=e.match(t)[1];e=e.replace(n,"")}isNaN(new Date(e))&&e.endsWith(".0")&&(e=e.replace(".0",""))}e=new Date(e),/(y+)/.test(t=t||"yyyy-MM-dd hh:mm:ss")&&(t=t.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length)));const n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(const e in n)if(new RegExp(`(${e})`).test(t)){const o=""+n[e];t=t.replace(RegExp.$1,1===RegExp.$1.length?o:("00"+o).substr(o.length))}return t};t.formatDate=o;const r=e=>{const t=/^\d*.\d{0,1}$/.exec(e/60)[0];return Number(t)<1?t:e};t.getLearnHour=r;const i=e=>e&&"string"==typeof e?e.substring(0,10):"";t.formatStartTime=i;const a=e=>{let t="";return e&&(t=e.replace(/<[^<>]+>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')),t};t.filterHtml=a;const u=e=>{let t="";return e&&(t=e.replace(/<img(.*?)>/g,"[图片]").replace(/<\/?.+?>/g,"")),t};t.htmlToStr=u;const s=(e,t,n)=>"en"===t?n||e:e||n;t.langText=s;const c=e=>{var t=e,n=parseInt(t/3600,10),o=parseInt(t%3600/60,10),r=parseInt(t%60,10);return n<10&&(n="0"+n),o<10&&(o="0"+o),r<10&&(r="0"+r),`${n}:${o}:${r}`};t.SecondToDate=c;t.default={SecondToDate:c,langText:s,htmlToStr:u,filterHtml:a,formatStartTime:i,getLearnHour:r,formatDate:o}},"897c":function(e,t,n){"use strict";var o=n("d141");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"8a52":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("0643"),n("2382"),n("a573");var r=n("08f3"),i=n("ca00"),a=n("71e7"),u=o(n("57f4"));t.default={components:{FileItem:u.default},data:()=>({maxBytes:209715200,file:"",currentDelIndex:0,isLoading:!1,deleteFileModalVisible:!1,fileStatus:r.FileStatusEnum.Done,FileStatusEnum:r.FileStatusEnum}),props:{isEdit:{type:Boolean,default:!1},size:{type:String,default:""},line:{type:String,default:"1"},hasReview:{type:Boolean,default:!1},fileList:{type:Array},isPreview:{type:Boolean,default:!1},accept:{type:String,default:""},docId:{type:String,default:""},getIsAllowDownload:{type:Function,default:()=>!0}},watch:{},created(){},computed:{isLimitExceeded(){var e;return(null===(e=this.fileList)||void 0===e?void 0:e.length)>=10}},methods:{selectFile(){return!this.isPreview&&(!this.isLimitExceeded&&(this.$refs.selectFile.value="",void this.$refs.selectFile.click()))},triggerUpload(e){this.file=null;const t=e.target.files;if(!t.length)return!1;if(this.isLimitExceeded)return this.$message.error(this.$t("homeworkAnswer.countTip")),!1;this.file=t[0];const{name:n,type:o}=this.file,r=this.file.size<this.maxBytes,i=n.substring(n.lastIndexOf(".")).toLowerCase();return!n||this.accept&&!this.accept.toLowerCase().includes(i)?(this.$message.error(this.$t("homeworkAnswer.fileTypeErr")),!1):0!==this.file.size&&r?(this.stepOne(n,o),!1):void this.$message.error(this.$t("homeworkAnswer.fileSizeErr"))},handleUploadSuccess(e){if(null!=e&&e.docId){const t={BETA:"https://shixizhi-sit-rh.his-beta.huawei.com/ronghe-prerequest/page2.html#/edm-download",UAT:"https://shixizhi-uat-rh.his-beta.huawei.com/ronghe-prerequest/page2.html#/edm-download",PROD:"https://ilearning.shixizhi.huawei.com/ronghe-prerequest/page2.html#/edm-download"},n=t.PROD||t.BETA;this.$emit("update:fileList",this.fileList.map(t=>e.uid===t.uid?{...t,...e,attachmentsUrl:`${n}?docId=${e.docId}`,attachmentsId:e.docId,fileStatus:r.FileStatusEnum.Success}:t)),this.$message.success(this.$t("course.uploadSuccess"))}},handleUploadFail(e,t){null!=t&&t.uid&&(this.file.fileStatus=r.FileStatusEnum.Failed,this.isLoading=!1,this.$emit("update:fileList",this.fileList.filter(e=>e.uid!==t.uid)),this.$message.error(this.$t("course.uploadFailed")))},handleProgress(e){},async stepOne(e,t,n=!1){n?this.$emit("update:fileList",this.fileList.map(e=>e.uid===this.file.uid?{...e,fileStatus:r.FileStatusEnum.Uploading}:e)):(this.file.uid=(0,i.generateUUID)(),this.$emit("update:fileList",[...this.fileList||[],{...this.file,isDownloadAble:!0,attachmentsName:e,attachmentsType:t,fileStatus:r.FileStatusEnum.Uploading}])),await(0,a.initUploadDoc)(this.file,this.handleUploadSuccess.bind(this),this.handleUploadFail.bind(this),this.handleProgress.bind(this),this.docId)},async retryUpload(){const{name:e,type:t}=this.file;await this.stepOne(e,t,!0)},deleteClick(e){this.fileList.splice(e,1),this.currentDelIndex=0,this.deleteFileModalVisible=!1,this.$message.success(this.$t("course.deleteSuccess"))},confirmDeleteFile(e){this.currentDelIndex=e,this.deleteFileModalVisible=!0}}}},"8a528":function(e,t,n){"use strict";n("6ccd")},"8ac8":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/noPermission.750252f7.png"},"8b81":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("6394");t.default={data:()=>({showIHelp:!0,iHelpDOMId:"usp_yan"}),computed:{lang(){return this.$store.state.lang}},mounted(){this.showIHelp&&!document.getElementById(this.iHelpDOMId)&&setTimeout(()=>{(0,o.addIHelp)(this.lang)},2e3)}}},"8bc8":function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n("ca5d")},"8beb":function(e,t,n){"use strict";n.r(t);var o=n("f6f5"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"8c10":function(e,t){e.exports=function(e,t){var n,o=null;try{n=JSON.parse(e,t)}catch(e){o=e}return[o,n]}},"8c61":function(e,t,n){"use strict";n.r(t);var o=n("a9f5"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"8d5b":function(e,t,n){"use strict";n.r(t);var o=n("c58b"),r=n("c88d");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("456e");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"56049cf9",null);t.default=u.exports},"8d85":function(e,t,n){"use strict";n.r(t);var o=n("077a"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},"8de0":function(e,t,n){"use strict";n.r(t);var o=n("0ed5"),r=n("29f6");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("7e78");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"2e0af3e6",null);t.default=u.exports},"8e09":function(e,t,n){var o={"./FAIL-1.png":"d76c","./PASS-1.png":"1867","./VIP_logo.png":"9caf5","./VIP_logo_en.png":"06dc","./audio-back15.png":"6329","./audio-background.png":"3297","./audio-chacator.png":"d999","./audio-chacatorYc.png":"6bd3","./audio-go15.png":"6fe8","./audio-gogogo.png":"5ac1","./audio-nodata.png":"42a5","./audio-player.png":"9d2a","./audio-stop.png":"ee74","./bright_stars.png":"05c7","./close.png":"d6eb","./common_document.png":"f77e","./common_file.png":"d6fd","./common_video.png":"3c05","./common_zip.png":"034a","./course-jump.png":"6691","./courseInfoBg.png":"68df1","./course_bg.png":"35a9","./course_collect.png":"eb9f","./course_collect_active.png":"c268","./course_h5.png":"9407","./course_h5_hover.png":"046a","./coutse_report.png":"a528","./elabIcon.png":"6c0a","./elabSchool.png":"f235","./emptyData.png":"028a","./failImage2.png":"7d89","./gift.png":"27aa","./goodsDiffBgLeft.png":"9072b","./goodsDiffBgRight.png":"8859","./hidden.png":"b9af","./ic_alert_lined@2x.png":"03d9","./icon_back_to_top.png":"b27d","./icon_error_content.png":"053e","./icon_evaluated.png":"4445","./icon_notEvaluated.png":"1055","./logo_huawei.png":"8796","./moren.png":"7d17","./noAuth.png":"c8ef","./noPermission.png":"8ac8","./pc-inner-noAuthority.png":"5935","./quanping.png":"d913","./rec-img.png":"3617","./reviewing.png":"72d9","./semw.png":"c337","./shrink.png":"0a49","./sign-up-bg.png":"d252","./smiley_face.png":"52b2","./stars.png":"2f6b","./successImage2.png":"b6ad","./video_rejected.png":"383b","./video_under_review.png":"f31f","./wr.png":"9ee2"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="8e09"},"8e9c":function(e,t,n){"use strict";n.r(t);var o=n("d1df"),r=n("22fb");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("83d6");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"3ec02dc8",null);t.default=u.exports},"8f6c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){this._self._c;return this._m(0)},t.staticRenderFns=[function(){var e=this._self._c;return e("div",{attrs:{id:"loading"}},[e("div",{attrs:{id:"loading-center"}},[e("div",{attrs:{id:"loading-center-absolute"}},[e("div",{staticClass:"object",attrs:{id:"object_one"}}),e("div",{staticClass:"object",attrs:{id:"object_two"}}),e("div",{staticClass:"object",attrs:{id:"object_three"}})])])])}]},"903c":function(e,t,n){"use strict";var o=n("c9b8").codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,i){if("function"==typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];e.apply(this,o)}}}(i||r);var a=n.readable||!1!==n.readable&&t.readable,u=n.writable||!1!==n.writable&&t.writable,s=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){u=!1,c=!0,a||i.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,d=!0,u||i.call(t)},m=function(e){i.call(t,e)},p=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new o),i.call(t,e)):u&&!c?(t._writableState&&t._writableState.ended||(e=new o),i.call(t,e)):void 0},h=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?u&&!t._writableState&&(t.on("end",s),t.on("close",s)):(t.on("complete",l),t.on("abort",p),t.req?h():t.on("request",h)),t.on("end",f),t.on("finish",l),!1!==n.error&&t.on("error",m),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",h),t.req&&t.req.removeListener("finish",l),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",m),t.removeListener("close",p)}}},9066:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"satisfaction-container",attrs:{id:"courseSatisfaction"}},[t("kaLoading",["enabled"===e.openSatisfactionFlag?t("div",{class:["content-wrap",{"one-cless":e.courseOneClass}]},[t("div",{staticClass:"satisfaction-banner"},[t("img",{staticClass:"img",attrs:{src:e.courseOneClass?e.backgroundImage2:e.backgroundImage,alt:""}}),e.rebackStatus?t("div",{class:["item-img-box",{"one-class":e.courseOneClass}]},[t("showIcon",{attrs:{showContent:e.rebackContent,fontSize:122,showColor:e.rebackStatus}})],1):e._e(),t("div",{staticClass:"banner-desc"},[t("div",{staticClass:"sat-title-box"},[t("h3",{staticClass:"sat-title",on:{mouseover:function(t){return e.popverMouse("show","title")},mouseleave:function(t){return e.popverMouse("hide","title")}}},[e._v(" "+e._s(e.satisfactionInfo.title)+" ")]),e.satTitleShow&&e.satisfactionInfo.title.length>20?t("Popover",{attrs:{message:e.satisfactionInfo.title,className:"after-left",styleObj:{width:"730px",bottom:"52px",left:"22px",fontSize:"14px"}}}):e._e()],1),t("p",{staticClass:"sat-desc",on:{mouseover:function(t){return e.popverMouse("show","subTitle")},mouseleave:function(t){return e.popverMouse("hide","subTitle")}}},[e._v(" "+e._s(e.satisfactionInfo.subTitle)+" ")]),e.satSubTitleShow&&e.satisfactionInfo.subTitle.length>56?t("Popover",{attrs:{message:e.satisfactionInfo.subTitle,className:"after-left",styleObj:{width:"730px",bottom:"72px",left:"22px",fontSize:"14px"}}}):e._e(),t("p",{staticClass:"sat-title-time"},[e._v(" "+e._s(`${e.$t("satisfaction.FeedbackTime")} : ${e.$moment(e.satisfactionInfo.startTime).format("YYYY-MM-DD HH:mm")} ~ ${e.$moment(e.satisfactionInfo.endTime).format("YYYY-MM-DD HH:mm")}`)+" ")])],1)]),t("div",{staticClass:"satisfaction-item"},e._l(e.satisfactionQues,(function(n,o){return t("div",{key:o,staticClass:"item-container"},[t("div",{staticClass:"satisfact-anchor",attrs:{id:`satisfact_${n.id}_${o}`}}),t("div",{staticClass:"title-box word-break"},[t("transition",{attrs:{name:e.moveLeft}},[e.isShowRequiredTip(n,o)?t("div",{staticClass:"required-answers-tip"},[e._v(" "+e._s(e.$t("satisfaction.requiredTip"))+" ")]):e._e()]),t("div",["1"===n.isMustAnswer?t("span",{staticClass:"icon"},[e._v("*")]):e._e(),t("span",{staticClass:"title"},[e._v(e._s(n.title))])])],1),"0"===n.type?t("div",{staticClass:"select-box"},[t("a-radio-group",{on:{change:function(t){return e.selectChange(n,t)}},model:{value:n.selectKey,callback:function(t){e.$set(n,"selectKey",t)},expression:"item.selectKey"}},e._l(n.selectOptions,(function(n){return t("a-radio",{key:n.optionKey,staticClass:"radio-item",attrs:{value:n.optionKey}},[e._v(" "+e._s(n.title)+" ")])})),1)],1):e._e(),"2"===n.type?t("div",{staticClass:"textarea-box"},[t("a-textarea",{class:["textarea-content",{"textarea-content-error":e.isShowRequiredTip(n,o)}],attrs:{"auto-size":{minRows:4,maxRows:6},placeholder:e.$t("satisfaction.enterContent")},on:{change:function(t){return e.textareaChange(n,t)}},model:{value:n.answer,callback:function(t){e.$set(n,"answer",t)},expression:"item.answer"}}),t("span",{staticClass:"textarea-tip"},[e._v(" "+e._s(n.answer?n.answer.length:"0")+"/2000 ")])],1):e._e(),"3"===n.type?t("div",{staticClass:"textarea-box"},[t("div",{staticClass:"table-box"},[t("table",[t("thead",[t("tr",[t("th",{staticClass:"firstTh",attrs:{width:"300px",height:"50px"}}),e._l(n.columns,(function(o){return t("th",{key:o.id},[t("span",{staticClass:"columns_title word-break",style:n.columns.length<4?e.widthArr[n.columns.length-1]:""},[e._v(e._s(o.title)+" ")])])}))],2)]),t("tbody",e._l(n.rows,(function(o){return t("tr",{key:o.id},[t("td",{staticClass:"ministar_title word-break"},[t("span",{staticClass:"rows_title"},[e._v(e._s(o.title))])]),e._l(o.selectKeys,(function(r,i){return t("td",{key:i,staticClass:"ministar_box"},e._l(5,(function(a,u){return t("span",{key:u,staticClass:"degree-ministar",on:{mouseenter:function(t){return e.scoreEvent("display",o.id,u+1,i,n.id)},mouseleave:function(t){return e.scoreEvent("hide",o.id,null,i,n.id)},click:function(t){return e.clickEvent(o.id,u+1,i,n.id)}}},[t("span",{class:["ministar",{isLight:r>=u+1}]},[t("svg-icon",{attrs:{"icon-class":"star"}})],1),t("Popover",{directives:[{name:"show",rawName:"v-show",value:r==u+1&&e.rectangularId===o.id&&i===e.popoverIndex,expression:"item1 == index + 1 && rectangularId === value.id && KeyIndex === popoverIndex"}],attrs:{message:e.satisfactionLevel[r-1],className:"after-center ",styleObj:{"white-space":"nowrap",fontSize:"14px",left:"-16px",bottom:"35px"}}})],1)})),0)}))],2)})),0)])])]):e._e()])})),0),"unpublished"===e.status?t("div",{staticClass:"satisfaction-bottom"},[t("a-button",{staticClass:"bottom-btn",attrs:{type:"primary",disabled:!0}},[e._v(" "+e._s(e.$t("satisfaction.Submit"))+" ")])],1):t("div",{staticClass:"satisfaction-bottom"},[t("a-button",{staticClass:"bottom-btn",attrs:{type:e.submitInfo.disabled?"":"primary",disabled:e.submitInfo.disabled},on:{click:e.submitHandle}},[e._v(" "+e._s(e.submitInfo.btnText)+" ")]),t("div",{staticClass:"feedback-num",domProps:{innerHTML:e._s(e.$safeHtml(e.submitInfo.feedbackText))}})],1)]):t("div",{staticClass:"nocontent-wrap"},[t("img",{staticClass:"img-no-satisfa",attrs:{src:n("3f8a"),alt:"",srcset:""}}),t("span",{staticClass:"text"},[e._v(" "+e._s(e.$t("satisfaction."+e.openSatisfactionFlag))+" ")])])])],1)},t.staticRenderFns=[]},"9072b":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/goodsDiffBgLeft.4c52b81e.png"},"90ff":function(e,t,n){"use strict";n.r(t);var o=n("e217"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},9149:function(e,t,n){"use strict";n("b2a4")},9195:function(e,t,n){},9223:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("0643"),n("9a9a");var r=n("b775"),i=o(n("3a5e")),a=n("4ee2"),u=n("08f3"),s=o(n("a090")),c=o(n("eeead")),l=o(n("7fc6"));t.default={name:"discussionInner",components:{Loading:i.default,list:s.default,detail:c.default,create:l.default},data:()=>({loading:!1}),props:{type:{type:String,default:u.DiscussCompTypeEnum.list},compProp:{type:Object,default:()=>({forumId:"",forumType:"mooc",env:"PROD"})}},create(){this.loadResource()},computed:{getDiscussComp(){return{[u.DiscussCompTypeEnum.list]:"list",[u.DiscussCompTypeEnum.detail]:"detail",[u.DiscussCompTypeEnum.create]:"create"}[this.type]||"list"}},methods:{async checkAsync(e=5,t=0){return!(t>=e)&&(!!window.ILEARNING_COMPS_FORUM||(await new Promise(e=>setTimeout(e,300+100*t)),this.checkAsync(e,t+1)))},addScript:async e=>new Promise((t,n)=>{const o=document.createElement("script");o.type="text/javascript",o.src=e,o.async=!0,document.body.appendChild(o),o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t(o.text))}:(o.onload=function(){t(o.text)},o.onerror=()=>{n()})}),addCss:async e=>new Promise((t,n)=>{const o=document.createElement("link");o.rel="stylesheet",o.href=e,o.onload=e=>{t()},o.onerror=e=>n(e),document.head.appendChild(o)}),async loadResource(){var e;if(window.ILEARNING_COMPS_FORUM)return;const t="/edx/common-static/components/pc/version.json?time="+Number(new Date),n=null!==(e=(await(0,r.defaultAxios)({url:t}).catch(e=>{(0,a.logReportApi)("curriculum_050001",{data:{error:e},error:e,level:"error"})})).forum)&&void 0!==e?e:Number(new Date),o="/edx/common-static/components/pc/forum.js?t="+n,i="/edx/common-static/components/pc/forum.css?t="+n;if(Array.from(document.body.getElementsByTagName("script")).some(e=>{var t;return null===(t=e.getAttribute("src"))||void 0===t?void 0:t.includes(o)})){if(await this.checkAsync())return}this.loading=!0,await Promise.all([this.addCss(i),this.addScript(o)]).finally(()=>{this.loading=!1})}}}},9233:function(e,t,n){"use strict";var o=n("38e8");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},9261:function(e,t,n){"use strict";n("d683")},"928e":function(e,t,n){"use strict";var o=n("e242");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"92a4":function(e,t,n){"use strict";n("b665")},"933c":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("4041");function r(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var r=t;r&&r.depth>1;)r=r.parentNode;var i=Object(o.b)(e.ecModel,r.name||r.dataIndex+"",n);t.setVisual("decal",i)}))}},9407:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/course_h5.a6e1bfb5.png"},9569:function(e,t,n){},"95a6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("div",{staticClass:"forum_list"},[e("div",{staticClass:"forum_bg"}),e("div",{staticClass:"forum_wrap"},[e("div",{ref:"ilearningForum",staticClass:"forum"})])])},t.staticRenderFns=[]},9616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"pagination",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizeOptions:{type:Array,default:()=>["10","20","30","40"]},total:{type:Number,default:10}},data:()=>({current:1}),watch:{currentPage:{handler(e){this.current=e}}},methods:{changePageNum(e,t){this.$emit("changePageNum",e,t)},changePageSize(e,t){this.$emit("changePageSize",e,t)},totalItems(){return e=>this.$t("course.totalItems",{total:e})}}}},9767:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAWlJREFUSEvFlbErRXEUxz/fogwGBuUPMDLY2A0KoxjILJRF2VCUMlDeIgaDgf3JYlSMBsVmVQYGg/Lq6Lx+T7fb717d7n29s9zf/Z17vt9zzu97fle02dRmfDpPYGZzwDbQE6n2TNJeXhdyKzCzPuAV8GeWjUp6zHJmEphZF3AIrP5zTrfArKTP2Hd/BGZ2AKwDDlzGGsCRpA0HSRL8VADeSqwhqTtNYMG7CNyF9VI44MIVSWomn6ygRXABeF/dFoCJsH5L7PveYK56cghicefAsqRvd5qZS/Y0JBDlyasgHfACjABTQC04XVnXwDMwFFVPgQr2gR3gHegNYF/AALAFbJYlcIAT4CMF1A+sALtlCeqSZszsODF0NUlrZnYDTJYl8Ph5SVdmNtyUnvQU7qjLLCUVOeQWhsu3Hl6m8xQUksicg8JDVUWLCpPGWnQPjBVGigc8SBpPXxU+nVUSNKe+87/Msi1rewW/Op19GQNaRsUAAAAASUVORK5CYII="},"97d9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("a-spin",{attrs:{spinning:this.loading,indicator:this.indicator,tip:this.text}},[this._t("default")],2)},t.staticRenderFns=[]},"988b":function(e,t,n){"use strict";n("50c7")},"99fa":function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.setUserLang=t.setCourseLang=t.sendSSO=t.getUserLoginInfo=t.getUserInfo=t.getPrivacyStatementLink=void 0;var r=o(n("bc3a")),i=o(n("44f5")),a=n("604d");const u=i.default.HOST,s=i.default.PRIVICY_SIGN_URL;t.sendSSO=()=>r.default.get("/edx/lmsManagerAuth/api/system/only4ssoTimeUpdate.do");t.setUserLang=e=>(0,r.default)({method:"patch",url:`${u}/api/user/v1/preferences/${e.username}`,headers:{"X-CSRFToken":e.csrftoken,"Content-Type":"application/merge-patch+json"},data:JSON.stringify({"pref-lang":e["pref-lang"]})});t.setCourseLang=e=>(0,r.default)({method:"patch",url:`${u}/edx/api/user/v1/preferences/${e.username}`,headers:{"X-CSRFToken":e.csrftoken,"Content-Type":"application/merge-patch+json"},data:JSON.stringify({"pref-lang":e["pref-lang"]})});t.getUserInfo=()=>(0,a.GetUserByIdFromCookie)();t.getUserLoginInfo=()=>r.default.get(u+"/api/user/v1/userinfo");t.getPrivacyStatementLink=e=>r.default.get(s,{params:e})},"9a69":function(e,t,n){"use strict";n.r(t);var o=n("0ab7"),r=n("c580");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("39e3");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"3c9308dc",null);t.default=u.exports},"9aeb":function(e,t,n){"use strict";var o=n("b57a");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},"9afb":function(e,t,n){"use strict";n.r(t);var o=n("d059"),r=n("90ff");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("e797");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"31263c1a",null);t.default=u.exports},"9c0e0":function(e,t,n){"use strict";(function(t){var o;function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("903c"),a=Symbol("lastResolve"),u=Symbol("lastReject"),s=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function m(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[f].read();null!==n&&(e[l]=null,e[a]=null,e[u]=null,t(m(n,!1)))}}function h(e){t.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((r(o={get stream(){return this[f]},next:function(){var e=this,n=this[s];if(null!==n)return Promise.reject(n);if(this[c])return Promise.resolve(m(void 0,!0));if(this[f].destroyed)return new Promise((function(n,o){t.nextTick((function(){e[s]?o(e[s]):n(m(void 0,!0))}))}));var o,r=this[l];if(r)o=new Promise(function(e,t){return function(n,o){e.then((function(){t[c]?n(m(void 0,!0)):t[d](n,o)}),o)}}(r,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(m(i,!1));o=new Promise(this[d])}return this[l]=o,o}},Symbol.asyncIterator,(function(){return this})),r(o,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(m(void 0,!0))}))}))})),o),g);e.exports=function(e){var t,n=Object.create(v,(r(t={},f,{value:e,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,u,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,c,{value:e._readableState.endEmitted,writable:!0}),r(t,d,{value:function(e,t){var o=n[f].read();o?(n[l]=null,n[a]=null,n[u]=null,e(m(o,!1))):(n[a]=e,n[u]=t)},writable:!0}),t));return n[l]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[l]=null,n[a]=null,n[u]=null,t(e)),void(n[s]=e)}var o=n[a];null!==o&&(n[l]=null,n[a]=null,n[u]=null,o(m(void 0,!0))),n[c]=!0})),e.on("readable",h.bind(null,n)),n}}).call(this,n("4362"))},"9caf5":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/VIP_logo.65a0adbe.png"},"9d28":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"SvgIcon",props:{className:{type:String,default:""},iconClass:{type:String,required:!0}},computed:{iconName(){return"#icon-"+this.iconClass},svgClass(){return this.className?"svg-icon "+this.className:"svg-icon"}}}},"9d2a":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/audio-player.02800d78.png"},"9e07":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("div",{class:["show-icon-status",this.sxzLang,this.showColor],style:{transform:this.calcPosition.transform},attrs:{title:this.showContent}},[e("svg-icon",{staticClass:"show-img-svg",attrs:{"icon-class":"satisfaction_submit"}}),e("span",{staticClass:"show-img-content ellipsis-text"},[this._v(" "+this._s(this.showContent)+" ")])],1)},t.staticRenderFns=[]},"9ee2":function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/wr.748edf96.png"},"9fb0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("02b6");const r=window.location.pathname.split("/")[2],i=(window.location.href.split("/")[7]&&window.location.href.split("/")[7].split("?")[0],window.location.origin);t.default={name:"CourseOrder",components:{},data:()=>({current:["wellesley"],search:"",orderPageUrl:"",courseName:"",sxzLang:"",appType:""}),created(){this.init()},mounted(){(0,o.start)({prefetch:!0})},computed:{ellipsisCourseName(){var e;return(null===(e=this.courseName)||void 0===e?void 0:e.length)>27?this.courseName+"...":this.courseName}},methods:{init(){this.getUrlByParamName()},getQueryString(e,t){const n=new RegExp(`(^|&)${e}=([^&]*)(&|$)`,"i"),o=t.href.match(n);return null!==o?o[2]:null},getUrlByParamName(){var e;const t={search:"?"+(null===(e=window.location.hash)||void 0===e?void 0:e.split("?")[1])},n={en_US:"en",zh_CN:"cn",es_ES:"es",ru_RU:"ru",ar_SA:"ar",pl_PL:"pl",de_DE:"de",tr_TR:"tr",fr_FR:"fr",pt_BR:"pt",ko_KR:"ko",ja_JP:"ja"};this.courseName=decodeURIComponent(this.$tools.getQueryString("courseName",t)),this.sxzLang=this.$tools.getQueryString("sxz-lang",t),this.courseId=this.$tools.getQueryString("courseId",t),this.classId=this.$tools.getQueryString("classId",t),this.appType=this.$tools.getQueryString("appType",t),this.sxzLang?this.$root.$i18n.locale=n[this.sxzLang]||"en":this.$root.$i18n.locale="cn"},jumpBreadcrumb(){let e="";e=`${i}/portal/${r}?sxz-lang=${this.sxzLang}`,window.location.href=e},jumpBread(){var e;const t={search:"?"+(null===(e=window.location.hash)||void 0===e?void 0:e.split("?")[1])};let n="";const o=this.$tools.getQueryString("courseId",t),a=this.$tools.getQueryString("appId",t),u=this.$tools.getQueryString("appType",t);n="3"===this.appType&&a?`${i}/course/${r}/application-view?courseId=${o}&appId=${a}&appType=${u}&sxz-lang=${this.sxzLang}`:`${i}/course/${r}/course-view?courseId=${this.courseId}&classId=${this.classId}&sxz-lang=${this.sxzLang}`,window.location.href=n}}}},a046:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;const o=n("20f8");t.AbstractTokenizer=class{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(t,n=this.position){const r=e.alloc(t.len);if(await this.readBuffer(r,{position:n})<t.len)throw new o.EndOfStreamError;return t.get(r,0)}async peekToken(t,n=this.position){const r=e.alloc(t.len);if(await this.peekBuffer(r,{position:n})<t.len)throw new o.EndOfStreamError;return t.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new o.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new o.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}}).call(this,n("b639").Buffer)},a090:function(e,t,n){"use strict";n.r(t);var o=n("a3b8"),r=n("1c48");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("f749");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"fe395d0c",null);t.default=u.exports},a09e:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/grade.e059402f.svg"},a0df:function(e,t,n){"use strict";n.r(t);var o=n("02f2"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},a371:function(e,t,n){"use strict";n("7808")},a38d:function(e,t,n){"use strict";var o=n("7fae"),r=n("9850"),i=n("cbe5"),a=n("2dc5"),u=n("9680"),s=n("68ab"),c=n("861c"),l=function(){this.polyline=!1,this.curveness=0,this.segs=[]},d=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(o.a)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new l},t.prototype.buildPath=function(e,t){var n,o=t.segs,r=t.curveness;if(t.polyline)for(n=this._off;n<o.length;){var i=o[n++];if(i>0){e.moveTo(o[n++],o[n++]);for(var a=1;a<i;a++)e.lineTo(o[n++],o[n++])}}else for(n=this._off;n<o.length;){var u=o[n++],s=o[n++],c=o[n++],l=o[n++];if(e.moveTo(u,s),r>0){var d=(u+c)/2-(s-l)*r,f=(s+l)/2-(c-u)*r;e.quadraticCurveTo(d,f,c,l)}else e.lineTo(c,l)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,o=n.segs,r=n.curveness,i=this.style.lineWidth;if(n.polyline)for(var a=0,c=0;c<o.length;){var l=o[c++];if(l>0)for(var d=o[c++],f=o[c++],m=1;m<l;m++){var p=o[c++],h=o[c++];if(u.a(d,f,p,h,i,e,t))return a}a++}else for(a=0,c=0;c<o.length;){d=o[c++],f=o[c++],p=o[c++],h=o[c++];if(r>0){var g=(d+p)/2-(f-h)*r,v=(f+h)/2-(p-d)*r;if(s.a(d,f,g,v,p,h,i,e,t))return a}else if(u.a(d,f,p,h,i,e,t))return a;a++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),o=this.getBoundingRect();return e=n[0],t=n[1],o.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,o=1/0,i=-1/0,a=-1/0,u=0;u<t.length;){var s=t[u++],c=t[u++];n=Math.min(s,n),i=Math.max(s,i),o=Math.min(c,o),a=Math.max(c,a)}e=this._rect=new r.a(n,o,i,a)}return e},t}(i.b),f=function(){function e(){this.group=new a.a}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],o=t.getLayout("linesPoints"),r=n&&n.shape.segs;if(r&&r.length<2e4){var i=r.length,a=new Float32Array(i+o.length);a.set(r),a.set(o,i),n.setShape({segs:a})}else{this._newAdded=[];var u=this._create();u.incremental=!0,u.setShape({segs:o}),this._setCommon(u,t),u.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new d({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var o=t.hostModel;e.setShape({polyline:o.get("polyline"),curveness:o.get(["lineStyle","curveness"])}),e.useStyle(o.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var r=t.getVisual("style");r&&r.stroke&&e.setStyle("stroke",r.stroke),e.setStyle("fill",null);var i=Object(c.a)(e);i.seriesIndex=o.seriesIndex,e.on("mousemove",(function(t){i.dataIndex=null;var n=e.hoverDataIdx;n>0&&(i.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();t.a=f},a3b8:function(e,t,n){"use strict";var o=n("95a6");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},a3f9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("video",{key:this.courseSelected,staticClass:"video-js vjs-default-skin vjs-big-play-centered vjs-16-9",class:{"auto-size-player":this.options.autoSize},attrs:{id:this.playerID,controls:"","data-key":this.courseSelected,preload:"auto"}})},t.staticRenderFns=[]},a41c:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/profileImage.c77ddee3.svg"},a528:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAByCAYAAACP3YV9AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAcqADAAQAAAABAAAAcgAAAABwfpIWAAAKzklEQVR4Ae2djXLbNhaFLymRsuN413E2jTvbzDbdJNPdh9pnybPsSzWTpk1n2k7zs3HSuokjUhL3HJq0ZYqUABAUCRmcsSmRwMXF+QQQBEEgEEe3LMsCuD758EH2jo5k8llkDwfiJJHRJJYwxV4CGeFYyCxmIgv8m0exzKeJLGLscSzZE/kMG1PYgAmZBkGAw+5tFMOJDeDGv4scTvA3S7CPZZKmQGVxiyLJAHk6juVsKnL2V/wB7MxiEp2ZsiqEbS8B7/b5udyZj+QwDGTftn0Ve4tMzkdzOdvfl/eA+qdKnD7CDA7kyyzb+0LkOEvkbhBI3IcoTWlmmSRBLO/eiJw+DAJWxYPZBgGyuN4dnyVyDxe1g8Gos8YRXGA/HsbyFkFOh3Bd7RUkAIaoq+4GiZwMrfStYXjtFEtpFsur2yLvAHRx7eQWv/QCkgA/ityLErk/CyTaYn47S2qcSZrG8hrVyds+gG4dJCAe4RbhAQAO6vpnizCAJri1+RkwP9iyqWJnayABcIIm/YN5KmjV7/42iuR33CoRKLLd/dY5SABkGiefUvkS+87T614yrRSyW5H8hhivALTTjoZOhQVE9rR8g2rUiZaoFiKNwKhuP6K6/REwE41oWkE7A/ke18Iola+RwEjLox0NjOI4TyP56U5H107rIFmVnov8PUvl/o4yaZWtIJLX6KL61XZVaxUkII6mU/nnPJTDVrnd8cijhZxNJvIDYM5tZdUaSEDEbaE8mqVyy5Zzu2xnHMkn3H+9AMzURj6tgATECRo1j9GoQYvbb6oKoBE0RSPoe8BsfYvSGiQg7n9M5QkMjVUz4MNdKYBG0OwgkueAiaaF+ZY/dDWNzpLoIZqqdxGPBYAaUss2loxBIuGI1akviW3kv4JJLampqTUjkEhwlDds/DXRVPeVeGxfUFNqu3JS4YA2SCQU8BbDt04V1NUMQk2pLTXWjHoxMEknEoZefOXvE3UU0wtLbamxXqxihJlqJHa7ZWPBSAy/dakANabWOmkoV60o7jH7TnWM+7DmClBraq5qQQkk62w+xUDFbXQhVnXGh7tSgFpTc9XrpRJImD+56Y+iriTe3qdC8xOVFDeCxC9iUjwUVrHnw1hWgNqTwSazG0FyeAaMaDeHNyXszysrwI5YMli7rQWJX8LRTRljs1alnk+SAVmsc6MRJCKGuNhu/CWsM+7P2VOALMikyWLjCY47xcVWufnblIA/bkcBsiCTJmu1IEmeg4ebIvnj/ShAJk2lshYkh/HjF2DcE99PNnc/VTIhm7qcroAEcQ7aU7p3qTPoj3WrANmQUTWVFZAIcOzqCzXVzO3i94LNcTVvKyD5als1kP8+LAXqGF0D+RIvmbryfuKwpN2uN2REVsupXgPJN4WXT/rPw1WgyuoaSL7uPVzXvWfLClRZXYJES+i2b+QsSzXsz2RFZqWXlyA5e0Z50O/dUGCZ2SVIToHihvvey1KBZWY5SBTRcV/z2JRO+b2+AmRGdoyZg+SMUvpmfIwhKFCyy0Hi8bMHOQQqBj6U7HKQnNvNwIaPMgAFSnYh6tiAE/QNwCfvgoECZEeGLJHWZ1k08MdHMVSgmCFzEnK+U0MbPtpAFCDDkJPWDsQf74ahAmQYYq5KXyINBRxKNDIc41Fz3wOswnEoT8Yj+ReFmc3lu9lCnuNj25kWXbNr/LsgwzGGDnDu7142AHwUj+QpEv+2dADfBX/Pkrk8BdAX5XGdvWt2dfJWF5YMg2mW/RsvWG59mulC7P/CsaYaIQHM/+jCdM1uHRjdY5jq5fxiNn7dmO3Dh0VJbILIFOIiTN5poZika3YVs7U+GFdUCFGtbv1VOZSaJ3Dtsjpd4+a3Rdg1Qa5OuWb3yvOWn8AQHej6r5+3TFbKho2KnV0Oq5J/lTBkqFNtqdj0YXpSIMTMS22b+dqu8xZDNdIuh1XVYFM4Mgy5zNCmgLbPF/eJzxTsPivCKgTFPejF/aczdpUypRIIDEOuFaUS1nKYBe8TYRNzBDVuvP14irM6NYZrdhszr3OCDEMu+KUTyVZY3h/yPhH26koQOwS07yHpm2t2behJhsHnLHuMN2L/YsOgoQ3XutK68tdQPkz/EckfwXmW/WORyt+MrfiIvSsQRvK/EI8+0HnuN5cVIEM+WG49e6/LIuyC72TIB8u+RDpOkwzZszPlSqaO5+XGul+wm4aYSztfjvbGKuF4xrmUMBnmfa1cU9jx/NxY90t2OUi0djxIR38KJbscJFf3djQfN97tkl0OEnXsjKt733hVHBOAzMiObucg+YFLtHPvN3cUWGZ2CXJ/X967kwXvKRVYZnYJEkX0T67g7SVyQwGyIrPS20uQPBDE8q484ffDVqDK6hrINyKnw3bfe1cqUGV1DeTDIPg8x3rAZWC/H6YCZERWy95dA8kTh7G8XQ7gPw9PgTpGKyDh9qlv9AwPXulRwWblErgCEi0hrv/yqozo98NSgGzIqOrVCkgGwLxY77BsrJW1f6sJ+u/mCpAJ2dRZqAUJ4os0ltd1Efyx/hQgE7Kp86AWJAMeiLzFL8B3ENSp1sMxsiCTpqQbQZI8VuT+uSmiP75dBciiqTTSk0aQPImIHzBmErNk+a1PBciALNb5sBYkI2LKD5bKlVbSOqP+nFUFuMLZxppxI0j8Eqa3IvnNqmvemLoC0J4MNkXYCLIw8AoXW991t0lNy+ep+S1Ru6dXAolfRIaL7Y+oX/t4c8uyPG6Yo9bUnNqreKwEkoZgMEkj+UnFqA/TXgFqTc1VLSmDpME7aDkFke8oUBXXNBw1ptY68bVA0jAm5Pl1tPDje3RE1glLbamxThyGNZrzCvODjlDmn2CiJVyL/WZLAUx89AkTDz1HlardFtEukXSaCSHBF2hVbWwW28rkrtuhltTUBCK1MQLJiEgwRavqezSp8nGVPOY3MwWoIbWkpmYWWoBkgkh4ehDJcw/TVP68y2xGDamluRXDa2Q1QVwzJ1jM+TFWHEVvkt9UFcir04uS2Aoi0zNq7NQ5CphYAlge+QZQnTqrx4qGDa+JxtXpslXja+SyEX6mQ2xx+VuTqjKr36lR0Tq1AjHXfzWZdke4dAEW3/oKC/1giUO/VRXAKzdvMNT/F/zwlbreqvGbvlurWqsJvM+yoyiVr5HA1qcRrfoyhO+gNme3m26PjarvnYGkAyidMRpB36ARhFEKN3fjU4yiA1y571RXrU5B0hlWtdidfErlS+w7T49pDmjLime5tUMYbfq5NWEBdII29gNMl4aXbHd/4/AMPtlve3+oqtTWQJYOAegRqtsHqG7RcNu9DdVogmqUALWeXrRVYusg6TBghhhucA83nvcBNGqbiSHEB8CU4045ZBEQa8eedulnLyDLDBEo3tS8i8enJ64u1M13MTiMnyPA+wBYatkryNIJAKUfx2eJ3Bs50sLlq23FW1GnAGj1nrDURWc/CJDLDr/Msj30JBxnCUrqwK6j+eveeKubL5k+rLyfuJyHPj4PDmQpQlFKD7hEO1f37msxb06BwtkzOPECSt7lO/uln0PZDxZkVSCAHXNhaDTpD7kcLVcyLRbBrAY1/s4J+ji3G6cFw63SGScjAjwnnrc6A7JKpyixEy6CyfUT8R72HjIT54u2xXKxVBRWqMGx/MEALmILrqiQT8aPOcDRQMFlThJOWsv5TovpTvMJ+qppufD9/7+o20PKl9i5AAAAAElFTkSuQmCC"},a5c4:function(e,t,n){"use strict";n.r(t);var o=n("100f"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},a5ee:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/ai_logo_icon.165da293.svg"},a64dd:function(e,t,n){},a655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"course-menu"},[t("div",{staticClass:"course-menu-title"},[e._v(" "+e._s(e.$t("course.menu"))+" ")]),t("div",{staticClass:"course-menu-list"},[t("div",{staticClass:"course-menu-list-inner"},e._l(e.outlineList,(function(n){return t("div",{key:n.blockId,staticClass:"course-menu-list-item",class:{"course-menu-list-item-active":e.currentBlockInfo.blockId===n.blockId},on:{click:function(t){return e.handleBlockChange(n)}}},[e._v(" "+e._s(n.blockName)+" ")])})),0)])])},t.staticRenderFns=[]},a840:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/scrollToTop.02ce261b.svg"},a894:function(e,t,n){"use strict";n.r(t);var o=n("881c"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},a9f5:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("2857"));t.default={name:"Loading",props:{loading:Boolean,text:String},data(){this.$createElement;return{indicator:React.createElement("img",{src:r.default,className:"loading-component-spin-img"})}}}},aa47:function(e,t,n){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}function u(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t),n.d(t,"MultiDrag",(function(){return yt})),n.d(t,"Sortable",(function(){return ze})),n.d(t,"Swap",(function(){return st}));function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var l=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=c(/Edge/i),f=c(/firefox/i),m=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),p=c(/iP(ad|od|hone)/i),h=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function v(e,t,n){e.addEventListener(t,n,!l&&g)}function b(e,t,n){e.removeEventListener(t,n,!l&&g)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function w(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function x(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||o&&e===n)return e;if(e===n)break}while(e=w(e))}return null}var S,A=/\s+/g;function C(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(A," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(A," ")}}function k(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function _(e,t){var n="";if("string"==typeof e)n=e;else do{var o=k(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function O(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function I(){var e=document.scrollingElement;return e||document.documentElement}function T(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var i,a,u,s,c,d,f;if(e!==window&&e!==I()?(a=(i=e.getBoundingClientRect()).top,u=i.left,s=i.bottom,c=i.right,d=i.height,f=i.width):(a=0,u=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!l))do{if(r&&r.getBoundingClientRect&&("none"!==k(r,"transform")||n&&"static"!==k(r,"position"))){var m=r.getBoundingClientRect();a-=m.top+parseInt(k(r,"border-top-width")),u-=m.left+parseInt(k(r,"border-left-width")),s=a+i.height,c=u+i.width;break}}while(r=r.parentNode);if(o&&e!==window){var p=_(r||e),h=p&&p.a,g=p&&p.d;p&&(s=(a/=g)+(d/=g),c=(u/=h)+(f/=h))}return{top:a,left:u,bottom:s,right:c,width:f,height:d}}}function E(e,t,n){for(var o=B(e,!0),r=T(e)[t];o;){var i=T(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===I())break;o=B(o,!1)}return!1}function D(e,t,n){for(var o=0,r=0,i=e.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==ze.ghost&&i[r]!==ze.dragged&&x(i[r],n.draggable,e,!1)){if(o===t)return i[r];o++}r++}return null}function R(e,t){for(var n=e.lastElementChild;n&&(n===ze.ghost||"none"===k(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function M(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===ze.clone||t&&!y(e,t)||n++;return n}function P(e){var t=0,n=0,o=I();if(e)do{var r=_(e),i=r.a,a=r.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function B(e,t){if(!e||!e.getBoundingClientRect)return I();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=k(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return I();if(o||t)return n;o=!0}}}while(n=n.parentNode);return I()}function L(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function F(e,t){return function(){if(!S){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),S=setTimeout((function(){S=void 0}),t)}}}function N(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function j(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function z(e,t){k(e,"position","absolute"),k(e,"top",t.top),k(e,"left",t.left),k(e,"width",t.width),k(e,"height",t.height)}function U(e){k(e,"position",""),k(e,"top",""),k(e,"left",""),k(e,"width",""),k(e,"height","")}var V="Sortable"+(new Date).getTime();function H(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==k(e,"display")&&e!==ze.ghost){t.push({target:e,rect:T(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=_(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,u=T(n),s=n.prevFromRect,c=n.prevToRect,l=e.rect,d=_(n,!0);d&&(u.top-=d.f,u.left-=d.e),n.toRect=u,n.thisAnimationDuration&&L(s,u)&&!L(a,u)&&(l.top-u.top)/(l.left-u.left)==(a.top-u.top)/(a.left-u.left)&&(t=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(l,s,c,o.options)),L(u,a)||(n.prevFromRect=a,n.prevToRect=u,t||(t=o.options.animation),o.animate(n,l,u,t)),t&&(r=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){k(e,"transition",""),k(e,"transform","");var r=_(this.el),i=r&&r.a,a=r&&r.d,u=(t.left-n.left)/(i||1),s=(t.top-n.top)/(a||1);e.animatingX=!!u,e.animatingY=!!s,k(e,"transform","translate3d("+u+"px,"+s+"px,0)"),function(e){e.offsetWidth}(e),k(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),k(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){k(e,"transition",""),k(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}var W=[],G={initializeByDefault:!0},q={mount:function(e){for(var t in G)G.hasOwnProperty(t)&&!(t in e)&&(e[t]=G[t]);W.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";W.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](a({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in W.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var a=new o(e,t,e.options);a.sortable=e,a.options=e.options,e[r]=a,i(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);void 0!==a&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return W.forEach((function(o){"function"==typeof o.eventProperties&&i(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return W.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};function Y(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,i=e.cloneEl,u=e.toEl,s=e.fromEl,c=e.oldIndex,f=e.newIndex,m=e.oldDraggableIndex,p=e.newDraggableIndex,h=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[V]){var b,y=t.options,w="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||l||d?(b=document.createEvent("Event")).initEvent(o,!0,!0):b=new CustomEvent(o,{bubbles:!0,cancelable:!0}),b.to=u||n,b.from=s||n,b.item=r||n,b.clone=i,b.oldIndex=c,b.newIndex=f,b.oldDraggableIndex=m,b.newDraggableIndex=p,b.originalEvent=h,b.pullMode=g?g.lastPutMode:void 0;var x=a({},v,q.getEventProperties(o,t));for(var S in x)b[S]=x[S];n&&n.dispatchEvent(b),y[w]&&y[w].call(t,b)}}var Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=u(n,["evt"]);q.pluginEvent.bind(ze)(e,t,a({dragEl:K,parentEl:X,ghostEl:J,rootEl:Z,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:oe,dragStarted:ge,putSortable:ce,activeSortable:ze.active,originalEvent:o,oldIndex:re,oldDraggableIndex:ae,newIndex:ie,newDraggableIndex:ue,hideGhostForTarget:Le,unhideGhostForTarget:Fe,cloneNowHidden:function(){oe=!0},cloneNowShown:function(){oe=!1},dispatchSortableEvent:function(e){$({sortable:t,name:e,originalEvent:o})}},r))};function $(e){Y(a({putSortable:ce,cloneEl:ne,targetEl:K,rootEl:Z,oldIndex:re,oldDraggableIndex:ae,newIndex:ie,newDraggableIndex:ue},e))}var K,X,J,Z,ee,te,ne,oe,re,ie,ae,ue,se,ce,le,de,fe,me,pe,he,ge,ve,be,ye,we,xe=!1,Se=!1,Ae=[],Ce=!1,ke=!1,_e=[],Oe=!1,Ie=[],Te="undefined"!=typeof document,Ee=p,De=d||l?"cssFloat":"float",Re=Te&&!h&&!p&&"draggable"in document.createElement("div"),Me=function(){if(Te){if(l)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Pe=function(e,t){var n=k(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=D(e,0,t),i=D(e,1,t),a=r&&k(r),u=i&&k(i),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+T(r).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+T(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var l="left"===a.float?"left":"right";return!i||"both"!==u.clear&&u.clear!==l?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[De]||i&&"none"===n[De]&&s+c>o)?"vertical":"horizontal"},Be=function(e){function t(e,n){return function(o,r,i,a){var u=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||u))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},r=e.group;r&&"object"==o(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Le=function(){!Me&&J&&k(J,"display","none")},Fe=function(){!Me&&J&&k(J,"display","")};Te&&document.addEventListener("click",(function(e){if(Se)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Se=!1,!1}),!0);var Ne=function(e){if(K){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,i=e.clientY,Ae.some((function(e){if(!R(e)){var t=T(e),n=e[V].options.emptyInsertThreshold,o=r>=t.left-n&&r<=t.right+n,u=i>=t.top-n&&i<=t.bottom+n;return n&&o&&u?a=e:void 0}})),a);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[V]._onDragOver(n)}}var r,i,a},je=function(e){K&&K.parentNode[V]._isOutsideThisEl(e.target)};function ze(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=i({},t),e[V]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ze.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var o in q.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var r in Be(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Re,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Ae.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),i(this,H())}function Ue(e,t,n,o,r,i,a,u){var s,c,f=e[V],m=f.options.onMove;return!window.CustomEvent||l||d?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=i||T(t),s.willInsertAfter=u,s.originalEvent=a,e.dispatchEvent(s),m&&(c=m.call(f,s,a)),c}function Ve(e){e.draggable=!1}function He(){Oe=!1}function We(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Ge(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}ze.prototype={constructor:ze,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,K):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,u=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,c=o.filter;if(function(e){Ie.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&Ie.push(o)}}(n),!K&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled||s.isContentEditable||(u=x(u,o.draggable,n,!1))&&u.animated||te===u)){if(re=M(u),ae=M(u,o.draggable),"function"==typeof c){if(c.call(this,e,u,this))return $({sortable:t,rootEl:s,name:"filter",targetEl:u,toEl:n,fromEl:n}),Q("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=x(s,o.trim(),n,!1))return $({sortable:t,rootEl:o,name:"filter",targetEl:u,fromEl:n,toEl:n}),Q("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!x(s,o.handle,n,!1)||this._prepareDragStart(e,a,u)}}},_prepareDragStart:function(e,t,n){var o,r=this,i=r.el,a=r.options,u=i.ownerDocument;if(n&&!K&&n.parentNode===i){var s=T(n);if(Z=i,X=(K=n).parentNode,ee=K.nextSibling,te=n,se=a.group,ze.dragged=K,le={target:K,clientX:(t||e).clientX,clientY:(t||e).clientY},pe=le.clientX-s.left,he=le.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,K.style["will-change"]="all",o=function(){Q("delayEnded",r,{evt:e}),ze.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!f&&r.nativeDraggable&&(K.draggable=!0),r._triggerDragStart(e,t),$({sortable:r,name:"choose",originalEvent:e}),C(K,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){O(K,e.trim(),Ve)})),v(u,"dragover",Ne),v(u,"mousemove",Ne),v(u,"touchmove",Ne),v(u,"mouseup",r._onDrop),v(u,"touchend",r._onDrop),v(u,"touchcancel",r._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),Q("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||l))o();else{if(ze.eventCanceled)return void this._onDrop();v(u,"mouseup",r._disableDelayedDrag),v(u,"touchend",r._disableDelayedDrag),v(u,"touchcancel",r._disableDelayedDrag),v(u,"mousemove",r._delayedDragTouchMoveHandler),v(u,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&v(u,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&Ve(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(K,"dragend",this),v(Z,"dragstart",this._onDragStart));try{document.selection?Ge((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(xe=!1,Z&&K){Q("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",je);var n=this.options;!e&&C(K,n.dragClass,!1),C(K,n.ghostClass,!0),ze.active=this,e&&this._appendGhost(),$({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,Le();for(var e=document.elementFromPoint(de.clientX,de.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(de.clientX,de.clientY))!==t;)t=e;if(K.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]){if(t[V]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Fe()}},_onTouchMove:function(e){if(le){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=J&&_(J,!0),a=J&&i&&i.a,u=J&&i&&i.d,s=Ee&&we&&P(we),c=(r.clientX-le.clientX+o.x)/(a||1)+(s?s[0]-_e[0]:0)/(a||1),l=(r.clientY-le.clientY+o.y)/(u||1)+(s?s[1]-_e[1]:0)/(u||1);if(!ze.active&&!xe){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(J){i?(i.e+=c-(fe||0),i.f+=l-(me||0)):i={a:1,b:0,c:0,d:1,e:c,f:l};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");k(J,"webkitTransform",d),k(J,"mozTransform",d),k(J,"msTransform",d),k(J,"transform",d),fe=c,me=l,de=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:Z,t=T(K,!0,Ee,!0,e),n=this.options;if(Ee){for(we=e;"static"===k(we,"position")&&"none"===k(we,"transform")&&we!==document;)we=we.parentNode;we!==document.body&&we!==document.documentElement?(we===document&&(we=I()),t.top+=we.scrollTop,t.left+=we.scrollLeft):we=I(),_e=P(we)}C(J=K.cloneNode(!0),n.ghostClass,!1),C(J,n.fallbackClass,!0),C(J,n.dragClass,!0),k(J,"transition",""),k(J,"transform",""),k(J,"box-sizing","border-box"),k(J,"margin",0),k(J,"top",t.top),k(J,"left",t.left),k(J,"width",t.width),k(J,"height",t.height),k(J,"opacity","0.8"),k(J,"position",Ee?"absolute":"fixed"),k(J,"zIndex","100000"),k(J,"pointerEvents","none"),ze.ghost=J,e.appendChild(J),k(J,"transform-origin",pe/parseInt(J.style.width)*100+"% "+he/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;Q("dragStart",this,{evt:e}),ze.eventCanceled?this._onDrop():(Q("setupClone",this),ze.eventCanceled||((ne=j(K)).draggable=!1,ne.style["will-change"]="",this._hideClone(),C(ne,this.options.chosenClass,!1),ze.clone=ne),n.cloneId=Ge((function(){Q("clone",n),ze.eventCanceled||(n.options.removeCloneOnHide||Z.insertBefore(ne,K),n._hideClone(),$({sortable:n,name:"clone"}))})),!t&&C(K,r.dragClass,!0),t?(Se=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,K)),v(document,"drop",n),k(K,"transform","translateZ(0)")),xe=!0,n._dragStartId=Ge(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),ge=!0,m&&k(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,i=this.el,u=e.target,s=this.options,c=s.group,l=ze.active,d=se===c,f=s.sort,m=ce||l,p=this,h=!1;if(!Oe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),u=x(u,s.draggable,i,!0),L("dragOver"),ze.eventCanceled)return h;if(K.contains(e.target)||u.animated&&u.animatingX&&u.animatingY||p._ignoreWhileAnimating===u)return j(!1);if(Se=!1,l&&!s.disabled&&(d?f||(o=!Z.contains(K)):ce===this||(this.lastPutMode=se.checkPull(this,l,K,e))&&c.checkPut(this,l,K,e))){if(r="vertical"===this._getDirection(e,u),t=T(K),L("dragOverValid"),ze.eventCanceled)return h;if(o)return X=Z,F(),this._hideClone(),L("revert"),ze.eventCanceled||(ee?Z.insertBefore(K,ee):Z.appendChild(K)),j(!0);var g=R(i,s.draggable);if(!g||function(e,t,n){var o=T(R(n.el,n.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}(e,r,this)&&!g.animated){if(g===K)return j(!1);if(g&&i===e.target&&(u=g),u&&(n=T(u)),!1!==Ue(Z,i,K,t,u,n,e,!!u))return F(),i.appendChild(K),X=i,z(),j(!0)}else if(u.parentNode===i){n=T(u);var v,b,y,w=K.parentNode!==i,S=!function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,u=n?t.right:t.bottom,s=n?t.width:t.height;return o===a||r===u||o+i/2===a+s/2}(K.animated&&K.toRect||t,u.animated&&u.toRect||n,r),A=r?"top":"left",_=E(u,"top","top")||E(K,"top","top"),O=_?_.scrollTop:void 0;if(ve!==u&&(b=n[A],Ce=!1,ke=!S&&s.invertSwap||w),0!==(v=function(e,t,n,o,r,i,a,u){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,l=o?n.top:n.left,d=o?n.bottom:n.right,f=!1;if(!a)if(u&&ye<c*r){if(!Ce&&(1===be?s>l+c*i/2:s<d-c*i/2)&&(Ce=!0),Ce)f=!0;else if(1===be?s<l+ye:s>d-ye)return-be}else if(s>l+c*(1-r)/2&&s<d-c*(1-r)/2)return function(e){return M(K)<M(e)?1:-1}(t);if((f=f||a)&&(s<l+c*i/2||s>d-c*i/2))return s>l+c/2?1:-1;return 0}(e,u,n,r,S?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,ke,ve===u))){var I=M(K);do{I-=v,y=X.children[I]}while(y&&("none"===k(y,"display")||y===J))}if(0===v||y===u)return j(!1);ve=u,be=v;var D=u.nextElementSibling,P=!1,B=Ue(Z,i,K,t,u,n,e,P=1===v);if(!1!==B)return 1!==B&&-1!==B||(P=1===B),Oe=!0,setTimeout(He,30),F(),P&&!D?i.appendChild(K):u.parentNode.insertBefore(K,P?D:u),_&&N(_,0,O-_.scrollTop),X=K.parentNode,void 0===b||ke||(ye=Math.abs(b-T(u)[A])),z(),j(!0)}if(i.contains(K))return j(!1)}return!1}function L(s,c){Q(s,p,a({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:f,fromSortable:m,target:u,completed:j,onMove:function(n,o){return Ue(Z,i,K,t,n,T(n),e,o)},changed:z},c))}function F(){L("dragOverAnimationCapture"),p.captureAnimationState(),p!==m&&m.captureAnimationState()}function j(t){return L("dragOverCompleted",{insertion:t}),t&&(d?l._hideClone():l._showClone(p),p!==m&&(C(K,ce?ce.options.ghostClass:l.options.ghostClass,!1),C(K,s.ghostClass,!0)),ce!==p&&p!==ze.active?ce=p:p===ze.active&&ce&&(ce=null),m===p&&(p._ignoreWhileAnimating=u),p.animateAll((function(){L("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(u===K&&!K.animated||u===i&&!u.animated)&&(ve=null),s.dragoverBubble||e.rootEl||u===document||(K.parentNode[V]._isOutsideThisEl(e.target),!t&&Ne(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function z(){ie=M(K),ue=M(K,s.draggable),$({sortable:p,name:"change",toEl:i,newIndex:ie,newDraggableIndex:ue,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Ne),b(document,"mousemove",Ne),b(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ie=M(K),ue=M(K,n.draggable),Q("drop",this,{evt:e}),X=K&&K.parentNode,ie=M(K),ue=M(K,n.draggable),ze.eventCanceled||(xe=!1,ke=!1,Ce=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),m&&k(document.body,"user-select",""),k(K,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Z===X||ce&&"clone"!==ce.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),K&&(this.nativeDraggable&&b(K,"dragend",this),Ve(K),K.style["will-change"]="",ge&&!xe&&C(K,ce?ce.options.ghostClass:this.options.ghostClass,!1),C(K,this.options.chosenClass,!1),$({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==X?(ie>=0&&($({rootEl:X,name:"add",toEl:X,fromEl:Z,originalEvent:e}),$({sortable:this,name:"remove",toEl:X,originalEvent:e}),$({rootEl:X,name:"sort",toEl:X,fromEl:Z,originalEvent:e}),$({sortable:this,name:"sort",toEl:X,originalEvent:e})),ce&&ce.save()):ie!==re&&ie>=0&&($({sortable:this,name:"update",toEl:X,originalEvent:e}),$({sortable:this,name:"sort",toEl:X,originalEvent:e})),ze.active&&(null!=ie&&-1!==ie||(ie=re,ue=ae),$({sortable:this,name:"end",toEl:X,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Q("nulling",this),Z=K=X=J=ee=ne=te=oe=le=de=ge=ie=ue=re=ae=ve=be=ce=se=ze.dragged=ze.ghost=ze.clone=ze.active=null,Ie.forEach((function(e){e.checked=!0})),Ie.length=fe=me=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":K&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)x(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||We(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,o){var r=n.children[o];x(r,this.options.draggable,n,!1)&&(t[e]=r)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return x(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=q.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&Be(n)},destroy:function(){Q("destroy",this);var e=this.el;e[V]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ae.splice(Ae.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!oe){if(Q("hideClone",this),ze.eventCanceled)return;k(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),oe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(oe){if(Q("showClone",this),ze.eventCanceled)return;Z.contains(K)&&!this.options.group.revertClone?Z.insertBefore(ne,K):ee?Z.insertBefore(ne,ee):Z.appendChild(ne),this.options.group.revertClone&&this.animate(K,ne),k(ne,"display",""),oe=!1}}else this._hideClone()}},Te&&v(document,"touchmove",(function(e){(ze.active||xe)&&e.cancelable&&e.preventDefault()})),ze.utils={on:v,off:b,css:k,find:O,is:function(e,t){return!!x(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:F,closest:x,toggleClass:C,clone:j,index:M,nextTick:Ge,cancelNextTick:qe,detectDirection:Pe,getChild:D},ze.get=function(e){return e[V]},ze.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(ze.utils=a({},ze.utils,e.utils)),q.mount(e)}))},ze.create=function(e,t){return new ze(e,t)},ze.version="1.10.2";var Ye,Qe,$e,Ke,Xe,Je,Ze=[],et=!1;function tt(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function nt(){clearInterval(Je)}var ot,rt=F((function(e,t,n,o){if(t.scroll){var r,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,u=t.scrollSensitivity,s=t.scrollSpeed,c=I(),l=!1;Qe!==n&&(Qe=n,tt(),Ye=t.scroll,r=t.scrollFn,!0===Ye&&(Ye=B(n,!0)));var d=0,f=Ye;do{var m=f,p=T(m),h=p.top,g=p.bottom,v=p.left,b=p.right,y=p.width,w=p.height,x=void 0,S=void 0,A=m.scrollWidth,C=m.scrollHeight,_=k(m),O=m.scrollLeft,E=m.scrollTop;m===c?(x=y<A&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),S=w<C&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(x=y<A&&("auto"===_.overflowX||"scroll"===_.overflowX),S=w<C&&("auto"===_.overflowY||"scroll"===_.overflowY));var D=x&&(Math.abs(b-i)<=u&&O+y<A)-(Math.abs(v-i)<=u&&!!O),R=S&&(Math.abs(g-a)<=u&&E+w<C)-(Math.abs(h-a)<=u&&!!E);if(!Ze[d])for(var M=0;M<=d;M++)Ze[M]||(Ze[M]={});Ze[d].vx==D&&Ze[d].vy==R&&Ze[d].el===m||(Ze[d].el=m,Ze[d].vx=D,Ze[d].vy=R,clearInterval(Ze[d].pid),0==D&&0==R||(l=!0,Ze[d].pid=setInterval(function(){o&&0===this.layer&&ze.active._onTouchMove(Xe);var t=Ze[this.layer].vy?Ze[this.layer].vy*s:0,n=Ze[this.layer].vx?Ze[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(ze.dragged.parentNode[V],n,t,e,Xe,Ze[this.layer].el)||N(Ze[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=B(f,!1)));et=l}}),30),it=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(t){var s=n||r;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,l=document.elementFromPoint(c.clientX,c.clientY);u(),s&&!s.el.contains(l)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function at(){}function ut(){}function st(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;ot=t},dragOverValid:function(e){var t=e.completed,n=e.target,o=e.onMove,r=e.activeSortable,i=e.changed,a=e.cancel;if(r.options.swap){var u=this.sortable.el,s=this.options;if(n&&n!==u){var c=ot;!1!==o(n)?(C(n,s.swapClass,!0),ot=n):ot=null,c&&c!==ot&&C(c,s.swapClass,!1)}i(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,o=e.dragEl,r=n||this.sortable,i=this.options;ot&&C(ot,i.swapClass,!1),ot&&(i.swap||n&&n.options.swap)&&o!==ot&&(r.captureAnimationState(),r!==t&&t.captureAnimationState(),function(e,t){var n,o,r=e.parentNode,i=t.parentNode;if(!r||!i||r.isEqualNode(t)||i.isEqualNode(e))return;n=M(e),o=M(t),r.isEqualNode(i)&&n<o&&o++;r.insertBefore(t,r.children[n]),i.insertBefore(e,i.children[o])}(o,ot),r.animateAll(),r!==t&&t.animateAll())},nulling:function(){ot=null}},i(e,{pluginName:"swap",eventProperties:function(){return{swapItem:ot}}})}at.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=D(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:it},i(at,{pluginName:"revertOnSpill"}),ut.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:it},i(ut,{pluginName:"removeOnSpill"});var ct,lt,dt,ft,mt,pt=[],ht=[],gt=!1,vt=!1,bt=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var o="";pt.length&&lt===e?pt.forEach((function(e,t){o+=(t?", ":"")+e.textContent})):o=n.textContent,t.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;dt=t},delayEnded:function(){this.isMultiDrag=~pt.indexOf(dt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var o=0;o<pt.length;o++)ht.push(j(pt[o])),ht[o].sortableIndex=pt[o].sortableIndex,ht[o].draggable=!1,ht[o].style["will-change"]="",C(ht[o],this.options.selectedClass,!1),pt[o]===dt&&C(ht[o],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,o=e.dispatchSortableEvent,r=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||pt.length&&lt===t&&(wt(!0,n),o("clone"),r()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,o=e.cancel;this.isMultiDrag&&(wt(!1,n),ht.forEach((function(e){k(e,"display","")})),t(),mt=!1,o())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),o=e.cancel;this.isMultiDrag&&(ht.forEach((function(e){k(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),mt=!0,o())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&lt&&lt.multiDrag._deselectMultiDrag(),pt.forEach((function(e){e.sortableIndex=M(e)})),pt=pt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){pt.forEach((function(e){e!==dt&&k(e,"position","absolute")}));var o=T(dt,!1,!0,!0);pt.forEach((function(e){e!==dt&&z(e,o)})),vt=!0,gt=!0}n.animateAll((function(){vt=!1,gt=!1,t.options.animation&&pt.forEach((function(e){U(e)})),t.options.sort&&xt()}))}},dragOver:function(e){var t=e.target,n=e.completed,o=e.cancel;vt&&~pt.indexOf(t)&&(n(!1),o())},revert:function(e){var t=e.fromSortable,n=e.rootEl,o=e.sortable,r=e.dragRect;pt.length>1&&(pt.forEach((function(e){o.addAnimationState({target:e,rect:vt?T(e):r}),U(e),e.fromRect=r,t.removeAnimationState(e)})),vt=!1,function(e,t){pt.forEach((function(n,o){var r=t.children[n.sortableIndex+(e?Number(o):0)];r?t.insertBefore(n,r):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,o=e.insertion,r=e.activeSortable,i=e.parentEl,a=e.putSortable,u=this.options;if(o){if(n&&r._hideClone(),gt=!1,u.animation&&pt.length>1&&(vt||!n&&!r.options.sort&&!a)){var s=T(dt,!1,!0,!0);pt.forEach((function(e){e!==dt&&(z(e,s),i.appendChild(e))})),vt=!0}if(!n)if(vt||xt(),pt.length>1){var c=mt;r._showClone(t),r.options.animation&&!mt&&c&&ht.forEach((function(e){r.addAnimationState({target:e,rect:ft}),e.fromRect=ft,e.thisAnimationDuration=null}))}else r._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,o=e.activeSortable;if(pt.forEach((function(e){e.thisAnimationDuration=null})),o.options.animation&&!n&&o.multiDrag.isMultiDrag){ft=i({},t);var r=_(dt,!0);ft.top-=r.f,ft.left-=r.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,xt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,o=e.parentEl,r=e.sortable,i=e.dispatchSortableEvent,a=e.oldIndex,u=e.putSortable,s=u||this.sortable;if(t){var c=this.options,l=o.children;if(!bt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),C(dt,c.selectedClass,!~pt.indexOf(dt)),~pt.indexOf(dt))pt.splice(pt.indexOf(dt),1),ct=null,Y({sortable:r,rootEl:n,name:"deselect",targetEl:dt,originalEvt:t});else{if(pt.push(dt),Y({sortable:r,rootEl:n,name:"select",targetEl:dt,originalEvt:t}),t.shiftKey&&ct&&r.el.contains(ct)){var d,f,m=M(ct),p=M(dt);if(~m&&~p&&m!==p)for(p>m?(f=m,d=p):(f=p,d=m+1);f<d;f++)~pt.indexOf(l[f])||(C(l[f],c.selectedClass,!0),pt.push(l[f]),Y({sortable:r,rootEl:n,name:"select",targetEl:l[f],originalEvt:t}))}else ct=dt;lt=s}if(bt&&this.isMultiDrag){if((o[V].options.sort||o!==n)&&pt.length>1){var h=T(dt),g=M(dt,":not(."+this.options.selectedClass+")");if(!gt&&c.animation&&(dt.thisAnimationDuration=null),s.captureAnimationState(),!gt&&(c.animation&&(dt.fromRect=h,pt.forEach((function(e){if(e.thisAnimationDuration=null,e!==dt){var t=vt?T(e):h;e.fromRect=t,s.addAnimationState({target:e,rect:t})}}))),xt(),pt.forEach((function(e){l[g]?o.insertBefore(e,l[g]):o.appendChild(e),g++})),a===M(dt))){var v=!1;pt.forEach((function(e){e.sortableIndex===M(e)||(v=!0)})),v&&i("update")}pt.forEach((function(e){U(e)})),s.animateAll()}lt=s}(n===o||u&&"clone"!==u.lastPutMode)&&ht.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,ht.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||lt!==this.sortable||e&&x(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;pt.length;){var t=pt[0];C(t,this.options.selectedClass,!1),pt.shift(),Y({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},i(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[V];t&&t.options.multiDrag&&!~pt.indexOf(e)&&(lt&&lt!==t&&(lt.multiDrag._deselectMultiDrag(),lt=t),C(e,t.options.selectedClass,!0),pt.push(e))},deselect:function(e){var t=e.parentNode[V],n=pt.indexOf(e);t&&t.options.multiDrag&&~n&&(C(e,t.options.selectedClass,!1),pt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return pt.forEach((function(o){var r;t.push({multiDragElement:o,index:o.sortableIndex}),r=vt&&o!==dt?-1:vt?M(o,":not(."+e.options.selectedClass+")"):M(o),n.push({multiDragElement:o,index:r})})),{items:s(pt),clones:[].concat(ht),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function wt(e,t){ht.forEach((function(n,o){var r=t.children[n.sortableIndex+(e?Number(o):0)];r?t.insertBefore(n,r):t.appendChild(n)}))}function xt(){pt.forEach((function(e){e!==dt&&e.parentNode&&e.parentNode.removeChild(e)}))}ze.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(S),S=void 0},nulling:function(){Xe=Qe=Ye=et=Je=$e=Ke=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,r);if(Xe=e,t||d||l||m){rt(e,this.options,i,t);var a=B(i,!0);!et||Je&&o===$e&&r===Ke||(Je&&nt(),Je=setInterval((function(){var i=B(document.elementFromPoint(o,r),!0);i!==a&&(a=i,tt()),rt(e,n.options,i,t)}),10),$e=o,Ke=r)}else{if(!this.options.bubbleScroll||B(i,!0)===I())return void tt();rt(e,this.options,B(i,!1),!1)}}},i(e,{pluginName:"scroll",initializeByDefault:!0})}),ze.mount(ut,at),t.default=ze},aa72:function(e,t,n){},aa7db:function(e,t,n){"use strict";var o=n("c5ca");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},ab5b:function(e,t,n){"use strict";e.exports=n("be24")},ab6f:function(e,t,n){"use strict";n.r(t);var o=n("2d1d"),r=n("3dc2");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"6eefedee",null);t.default=u.exports},ac4f:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("9afb")),i=o(n("79c9")),a=n("2ef0");t.default={name:"index",components:{CourseMenu:r.default,CourseRichText:i.default},data:()=>({top:0}),mounted(){this.handleScroll(),window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:(0,a.throttle)((function(){const e=this.$refs.learnContent;e&&(this.top=window.scrollY<e.offsetTop?e.offsetTop-window.scrollY:10)}),50),handleBlockChange(e){this.$refs.courseRichText&&e&&this.$refs.courseRichText.getRichTextData(e)},handleBlockChangeById({blockId:e}){this.$refs.courseMenu&&e&&this.$refs.courseMenu.changeBlockById(e)}}}},ac6a:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/audio-icon-gif.94f38d2f.gif"},ad4d:function(e,t,n){"use strict";n.r(t);var o=n("edbb"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},ad71:function(e,t,n){"use strict";(function(t,o){var r;e.exports=k,k.ReadableState=C;n("faa1").EventEmitter;var i=function(e,t){return e.listeners(t).length},a=n("429b"),u=n("b639").Buffer,s=(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,l=n(6);c=l&&l.debuglog?l.debuglog("stream"):function(){};var d,f,m,p=n("c6ae"),h=n("4681"),g=n("0db6").getHighWaterMark,v=n("c9b8").codes,b=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,x=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n("3fb5")(k,a);var S=h.errorOrDestroy,A=["error","close","destroy","pause","resume"];function C(e,t,o){r=r||n("b19a"),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",o),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n("7d72").StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function k(e){if(r=r||n("b19a"),!(this instanceof k))return new k(e);var t=this instanceof r;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function _(e,t,n,o,r){c("readableAddChunk",t);var i,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,E(e)))}(e,a);else if(r||(i=function(e,t){var n;o=t,u.isBuffer(o)||o instanceof s||"string"==typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));var o;return n}(a,t)),i)S(e,i);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),o)a.endEmitted?S(e,new x):O(e,a,t,!0);else if(a.ended)S(e,new y);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?O(e,a,t,!1):D(e,a)):O(e,a,t,!1)}else o||(a.reading=!1,D(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function O(e,t,n,o){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,o?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),D(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=h.destroy,k.prototype._undestroy=h.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,o=this._readableState;return o.objectMode?n=!0:"string"==typeof e&&((t=t||o.defaultEncoding)!==o.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},k.prototype.unshift=function(e){return _(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){d||(d=n("7d72").StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var o=this._readableState.buffer.head,r="";null!==o;)r+=t.write(o.data),o=o.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(E,e))}function E(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function D(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function P(e){c("readable nexttick read 0"),e.read(0)}function B(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function N(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(j,t,e))}function j(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function z(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):T(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&N(this),null;var o,r=t.needReadable;return c("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",r=!0),t.ended||t.reading?c("reading or ended",r=!1):r&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(o=e>0?F(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==o&&this.emit("data",o),o},k.prototype._read=function(e){S(this,new w("_read()"))},k.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==o.stdout&&e!==o.stderr?s:g;function u(t,o){c("onunpipe"),t===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",m),e.removeListener("unpipe",u),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",f),d=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function s(){c("onend"),e.end()}r.endEmitted?o.nextTick(a):n.once("end",a),e.on("unpipe",u);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,L(e))}}(n);e.on("drain",l);var d=!1;function f(t){c("ondata");var o=e.write(t);c("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==z(r.pipes,e))&&!d&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function m(t){c("onerror",t),g(),e.removeListener("error",m),0===i(e,"error")&&S(e,t)}function p(){e.removeListener("finish",h),g()}function h(){c("onfinish"),e.removeListener("close",p),g()}function g(){c("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",p),e.once("finish",h),e.emit("pipe",n),r.flowing||(c("pipe resume"),n.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var o=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)o[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},k.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,c("on readable",r.length,r.reading),r.length?T(this):r.reading||o.nextTick(P,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(M,this),n},k.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(M,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(B,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,o=!1;for(var r in e.on("end",(function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(c("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(o=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var i=0;i<A.length;i++)e.on(A[i],this.emit.bind(this,A[i]));return this._read=function(t){c("wrapped _read",t),o&&(o=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n("9c0e0")),f(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=F,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===m&&(m=n("07c6")),m(k,e,t)})}).call(this,n("c8ba"),n("4362"))},ad8a:function(e,t,n){"use strict";n("d83c")},ae07:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return this.loading?this._e():e("router-view",{attrs:{name:this.routerName,schoolId:this.schoolId,isElectoralCourse:this.isElectoralCourse}})},t.staticRenderFns=[]},ae2f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("div",{staticClass:"ka-pover",class:this.className,style:this.styleObj},[this._v(" "+this._s(this.message||"- -")+" ")])},t.staticRenderFns=[]},afb6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"scrollToTop",props:{toTopShowOffset:{type:Number,default:0}},watch:{toTopShowOffset(e){this.localToTopShowOffset=e}},data:()=>({localToTopShowOffset:0,toTopShow:!1}),mounted(){this.initToTopShowOffset(),this.initScrollListen()},methods:{initToTopShowOffset(){this.toTopShowOffset?this.localToTopShowOffset=this.toTopShowOffset:(this.localToTopShowOffset=window.innerHeight,window.addEventListener("resize",()=>{this.localToTopShowOffset=window.innerHeight}))},initScrollListen(){document.addEventListener("scroll",()=>{this._scrolltimer||(this._scrolltimer=setTimeout(()=>{this._scrolltimer=null;const e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.toTopShow=e>=1.5*this.localToTopShowOffset},250))})},scrolltoTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}}},b0af:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var o=n("c7a2"),r=n("deca"),i=n("4aa2"),a=n("3842"),u=n("6d8b");function s(e,t,n,i,a){var s=e.getArea(),c=s.x,l=s.y,d=s.width,f=s.height,m=n.get(["lineStyle","width"])||2;c-=m/2,l-=m/2,d+=m,f+=m,d=Math.ceil(d),c!==Math.floor(c)&&(c=Math.floor(c),d++);var p=new o.a({shape:{x:c,y:l,width:d,height:f}});if(t){var h=e.getBaseAxis(),g=h.isHorizontal(),v=h.inverse;g?(v&&(p.shape.x+=d),p.shape.width=0):(v||(p.shape.y+=f),p.shape.height=0);var b=Object(u.isFunction)(a)?function(e){a(e,p)}:null;r.c(p,{shape:{width:d,height:f,x:c,y:l}},n,null,i,b)}return p}function c(e,t,n){var o=e.getArea(),u=Object(a.w)(o.r0,1),s=Object(a.w)(o.r,1),c=new i.a({shape:{cx:Object(a.w)(e.cx,1),cy:Object(a.w)(e.cy,1),r0:u,r:s,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});t&&("angle"===e.getBaseAxis().dim?c.shape.endAngle=o.startAngle:c.shape.r=u,r.c(c,{shape:{endAngle:o.endAngle,r:s}},n));return c}function l(e,t,n,o,r){return e?"polar"===e.type?c(e,t,n):"cartesian2d"===e.type?s(e,t,n,o,r):null:null}},b119:function(e,t,n){},b19a:function(e,t,n){"use strict";(function(t){var o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var r=n("ad71"),i=n("dc146");n("3fb5")(c,r);for(var a=o(i.prototype),u=0;u<a.length;u++){var s=a[u];c.prototype[s]||(c.prototype[s]=i.prototype[s])}function c(e){if(!(this instanceof c))return new c(e);r.call(this,e),i.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n("4362"))},b1f8:function(e,t,n){"use strict";var o=n("6cbb");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},b255:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceInfo=t.getResInfo=t.getRankingList=t.getProgressTime=t.getPrePass=t.getPassStandard=t.getOutlineOptimized=t.getOuterCourseInfo=t.getMonitorTimes=t.getMixAiSummary=t.getLastStudyRecord=t.getIsOpenEmergency=t.getIsLearned=t.getInvitationHistory=t.getInvitationDetail=t.getInnerAiSummary=t.getHeartbeatDuration=t.getGradesInfo=t.getGradeReport=t.getFlowInvitationDetail=t.getExportList=t.getExamResult=t.getDownloadUrlInner=t.getDiscussionSetting=t.getDiscussionModuleId=t.getDepartMaster=t.getCurrApprovalPeople=t.getCourseStudyStatusList=t.getCourseProgressList=t.getCourseMappingNew=t.getCourseMapping=t.getCourseManageInfo=t.getCourseInWhiteListStatus=t.getCourseClassList=t.getCommentTagEnum=t.getCommentList=t.getCodeByClassId=t.getClassesProgress=t.getClassShareClassInfo=t.getChapterProgress=t.getCategoryTree=t.getCategories=t.getCaseTrees=t.getBlockInfoFallback=t.getBasicCourseResource=t.getBaseInfo=t.getApprovalInfo=t.getAppSignUp=t.getAppOutlineProgress=t.getAppOutlineFallBack=t.getAppOutline=t.getAppLearnerNumber=t.getAppLearnStatus=t.getAppInfo=t.getAppBlock=t.getAnnouncementListId=t.getAnnounceClassName=t.getAiSummary=t.getAiPageConfig=t.getAiModelStatus=t.faceMatch=t.exportCourseResources=t.disucssionList=t.deleteExportRecord=t.deleteComment=t.delStudySatus=t.debateVote=t.courseDocumentSign=t.countingAppStudyTimes=t.commitThrough=t.commitSurvey=t.commitSatisfactionAnswer=t.collectCourse=t.classIsEnrollment=t.checkorderEnroll=t.checkMonitorStatus=t.checkAppIsReview=t.cancelEnroll=t.appbook=t.appGetDownloadUrlV3=t.appGetDownloadUrl=t.addStuCurrentAppProgress=t.addStuAppProgress=t.addFeedbackToCourseSummary=void 0,t.getRoleList=function(e){return(0,r.default)({url:"/api/student/v1/lms/role-switch/roles/"+e,method:"get"})},t.getRoleListAll=function(e){return(0,r.default)({url:`/api/student/v1/lms/role-switch/roles/${e}/all`,method:"get"})},t.getStaticInfo=t.getStandardList=t.getScore=t.getSatisfactionQuestions=t.getSatisfactionAnswer=void 0,t.getStuUploadUrl=function(e){return(0,r.default)({url:"/api/common/api-direct/files/v1/get-upload-url",method:"get",params:e})},t.getSystemCurrentTime=t.getSuperOutlineCourse=t.getSummaryFeedback=t.getStudentLearnRecord=t.getStudentGrdeList=void 0,t.getTrackArr=function(e){return(0,r.default)({url:"/api/resource/center/material/courseware/videoSubtitles/querySubtitleContent",method:"get",params:e})},t.getUnitLearnRecord=t.getUnenrolledCode=void 0,t.hasManageRole=t.getVoteInfo=t.getVideoAccessSignature=t.getUserPassInfo=t.getUserAlreadyAnswer=t.getUploadUrl=void 0,t.importGrade=function(e){return(0,r.default)({url:"/api/student/v1/lms/course/grade/importGrade",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})},t.mapIsEnrollment=t.managerPermission=t.likeAction=t.isInWhiteList=t.isCollectCourse=t.invitationCreate=t.initEvaluationInfo=void 0,Object.defineProperty(t,"newExamTestApi",{enumerable:!0,get:function(){return a.default}}),t.postQuizAnswer=t.postHeartbeat=t.postCourseAppBlockList=t.orderEnroll=t.operaInvitation=void 0,Object.defineProperty(t,"programApi",{enumerable:!0,get:function(){return i.default}}),t.putAppProgress=t.putAppDuration=void 0,t.queryGradeDetail=function(e){return(0,r.default)({url:"/api/student/v1/lms/course/grade/queryGradeDetail/"+e,method:"get"})},t.validateOrderCourseInfo=t.updateFeedbackToCourseSummary=t.summaryAddToNote=t.subscribeCourseWare=t.submitWordCloud=t.submitRoll=t.submitComment=t.submitApproval=t.showStatus=t.setPrompted=t.sendMessage=t.selectEnrollStudents=t.selectCourseScore=t.searchUserBlockStudyDuration=t.saveMonitorStatus=t.saveMonitorPhoto=t.reportGrade=t.replyList=t.reply=t.refreshDigitCoursebookProgress=t.querySkuInventory=t.querySkuDetailByMrcId=t.queryRollTotal=t.queryPrdDisplayDetailInfo=t.queryMyroll=t.queryMyComment=t.queryMsgCountProportions=void 0;var r=o(n("b775")),i=o(n("fd04")),a=o(n("17a1")),u=n("ca00");const s=window.location.pathname.replace(/[^0-9]/gi,"");t.getAppInfo=e=>(0,r.default)({url:"/api/student/api/student/application",method:"get",params:e});t.getResInfo=(e,t)=>(0,r.default)({url:"/api/student/api/student/application/detail/"+e,method:"get",params:t});t.classIsEnrollment=e=>(0,r.default)({url:"/api/manager/api/external/varifyIsEnroll/"+e,method:"get"});t.mapIsEnrollment=e=>(0,r.default)({url:`/api/personal-center/MapMember/${e}/isJoin`,method:"get"});t.getResourceInfo=(e,t,n=!0)=>{const o=n?"/api/student/api/student/courses/courseResources/"+e:"/api/service/api/service/platformSide/courses/courseResources/"+e;return(0,r.default)({url:o,method:"get",params:t})};t.getAnnouncementListId=e=>(0,r.default)({url:"/api/service/v1/cms/course-announcement/queryAnnouncementInfoList/"+e,method:"get"});t.getAnnounceClassName=e=>(0,r.default)({url:"/api/student/api/student/courses/searchResourceInfo/"+e,method:"get"});t.getAppOutlineProgress=(e,t={})=>(0,r.default)({url:"/api/student/api/student/course/outline/application/progress/"+e,method:"get",params:t});t.getOutlineOptimized=(e,t={})=>(0,r.default)({url:`/api/student/v2/curriculum/v2-course/i-learning-application/${e}/outline`,method:"get",params:t});t.getCourseProgressList=(e,t)=>(0,r.default)({url:`/api/student/v2/curriculum/v2-course/application/${e}/progress/${t}`,method:"get"});t.getLastStudyRecord=(e,t)=>(0,r.default)({url:`/api/student/v2/curriculum/v2-course/application/${e}/progress/last-study/${t}`,method:"get"});t.getPrePass=(e,t,n)=>(0,r.default)({url:`/api/student/v2/curriculum/v2-course/i-learning-application/${e}/sequential/${t}/pre-requisite-sequential/passed`,method:"get",params:n});t.getAppOutlineFallBack=()=>(0,r.default)({url:"/api/course/api/course/outline"});t.getIsOpenEmergency=()=>(0,r.default)({url:"/api/course/api/course/isOpenEmergency"});t.getBasicCourseResource=()=>(0,r.default)({url:"/api/course/api/course/basicCourseResource"});t.getBlockInfoFallback=e=>(0,r.default)({url:"/api/course/api/course/block/"+e});t.getCaseTrees=(e,t={})=>(0,r.default)({url:"/api/student/api/student/course/outline/application/case/"+e,method:"get",params:t});t.getAppOutline=(e,t={},n=!0)=>{const o=n?"/api/student/api/student/course/outline/application/"+e:"/api/service/api/service/platformSide/application/"+e;return(0,r.default)({url:o,method:"get",params:{...t,all:!1}})};t.setPrompted=e=>(0,r.default)({url:`/api/student/api/student/course/progress/application/${e.id}/setPrompted`,method:"post",data:e||{}});t.getAppSignUp=(e,t={})=>(0,r.default)({url:"/api/student/api/student/course/application/portalAboutApplicationLearners/"+e,method:"get"});t.getAppLearnerNumber=(e,t={})=>(0,r.default)({url:"/api/student/api/student/course/application/portalApplicationLearnerInfo/"+e,method:"get"});t.getAppLearnStatus=(e,t={})=>(0,r.default)({url:"/api/student/api/student/course/application/portalApplicationInfo/"+e,method:"get",params:t});t.invitationCreate=e=>(0,r.default)({url:"api/service/api/intranet/approvalFlow/create",method:"post",data:e});t.operaInvitation=e=>(0,r.default)({url:"api/service/api/intranet/approvalFlow/auditFlow",method:"put",data:e});t.getDepartMaster=()=>(0,r.default)({url:"/api/service/api/intranet/getHRApprover?approvalCategory=0302",method:"get"});t.getInvitationHistory=e=>(0,r.default)({url:"api/service/api/intranet/getApprovalHistory",method:"get",params:e});t.getInvitationDetail=e=>(0,r.default)({url:"api/service/api/intranet/getProcessDetails",method:"get",params:e});t.getFlowInvitationDetail=e=>(0,r.default)({url:"api/service/api/intranet/getProcessDetailByFlowId",method:"get",params:e});t.getIsLearned=(e,t,n)=>(0,r.default)({url:`/api/student/api/student/course/application/hasEnroll/${n}/${e}/${t}`,method:"get"});t.putAppProgress=(e,t)=>(0,r.default)({url:"/api/student/api/student/course/progress/application/forProgress/"+e,method:"put",data:t});t.putAppDuration=(e,t)=>(0,r.default)({url:"/api/student/api/student/course/progress/application/forDuration/"+e,method:"put",data:t});t.countingAppStudyTimes=e=>(0,r.default)({url:"/api/student/api/student/course/progress/application/countingStudyTimes/"+e,method:"PUT"});t.addStuCurrentAppProgress=e=>(0,r.default)({url:"/api/student/api/student/course/progress/application/addStuCurrentProgress",method:"POST",data:e||{}});t.addStuAppProgress=e=>(0,r.default)({url:"/api/student/api/student/course/progress/application/addStuProgress",method:"POST",data:e||{}});t.checkAppIsReview=e=>(0,r.default)({url:"/api/student/api/student/course/application/comment/checkIsComment",method:"get",params:{resource_apply_id:e}});t.getAppBlock=(e,t,n,o,i=!0)=>{if(o)return(0,r.default)({url:`/api/student/api/student/courses/application/block/${e}/${t}?status=${n}`,method:"get"});{const o=i?`/api/student/api/student/courses/courseResources/block/${e}/${t}?status=${n}`:`/api/service/api/service/platformSide/courseResources/block/${e}/${t}?status=${n}&tenant_id=${s}`;return(0,r.default)({url:o,method:"get"})}};t.courseDocumentSign=(e,t)=>{const n=t?"/api/student/v2/curriculum/v1-course/application/blocks/document/signature":"/api/student/v2/curriculum/v2-course/application/blocks/document/signature";return(0,r.default)({url:n,method:"get",params:e})};t.appbook=(e,t)=>(0,r.default)({url:"/api/student/api/student/courses/coursebook/application/"+e,method:"get",params:t});t.appGetDownloadUrl=(e,t)=>(0,r.default)({url:"/api/student/api/student/v2/getDownloadUrl/"+e,method:"get",params:{resourceApplyId:t}});t.getDownloadUrlInner=(e,t)=>(0,r.default)({url:"/api/service/api/service/intranet/getDownloadUrl/"+e,method:"get",params:{resourceApplyId:t}});t.appGetDownloadUrlV3=(e,t,n)=>(0,r.default)({url:"/api/student/api/student/v3/getDownloadUrl/"+e,method:"get",params:{resourceApplyId:t,blockId:n}});t.postCourseAppBlockList=(e,t)=>(0,r.default)({url:"/api/student/api/student/courses/application/block/getBlockList/"+e,method:"POST",data:t||{}});t.getSystemCurrentTime=()=>(0,r.default)({url:"/api/student/api/student/open/getSystemTime",method:"GET"});t.getUnenrolledCode=()=>(0,r.default)({url:"/api/auth/v1/oauth/authorize?grant_type=authorization_code&response_type=code&client_id=auth_code"});t.showStatus=e=>(0,r.default)({url:"/api/assist/market/subscribe/getResourceInfoByTargetIds",method:"post",data:e});t.subscribeCourseWare=e=>(0,r.default)({url:"/api/assist/market/subscribe/checkResourceStatus",method:"post",params:{targetResourceId:e}});t.getVideoAccessSignature=e=>(0,r.default)({url:"/api/student/api/student/v1/getSignature/"+e.uuid,method:"get",params:e});t.initEvaluationInfo=e=>(0,r.default)({url:"/api/universal/v1/score/general",method:"get",params:e});t.querySkuDetailByMrcId=e=>(0,r.default)({url:"/api/assist/market/portal/querySkuDetailByMrcId",method:"get",params:{mrcId:e}});t.queryPrdDisplayDetailInfo=e=>(0,r.default)({url:"/api/mall/eop/v1/mcp/queryPrdDisplayDetailInfo",method:"get",params:{mrcId:e}});t.querySkuInventory=e=>(0,r.default)({url:"/api/mall/eop/v1/mcp/querySkuInventory",method:"get",params:{mrcId:e}});t.orderEnroll=e=>(0,r.default)({url:"/api/student/api/student/app/subscribe/orderEnroll/"+e,method:"put"});t.validateOrderCourseInfo=(e={})=>(0,r.default)({url:"/api/service/api/service/app/subscribe/validateOrderCourseInfo/"+e,method:"get"});t.checkorderEnroll=e=>(0,r.default)({url:"/api/student/api/student/app/subscribe/checkUserHasEnroll",method:"get",params:e});t.managerPermission=e=>(0,r.default)({url:`/api/student/api/student/${e}/managerPermission`,method:"get"});t.getCourseMapping=e=>(0,r.default)({url:"/api/service/api/intranet/course/edx/getCourseMapping",method:"get",params:e});t.getCourseMappingNew=e=>(0,r.default)({url:"/api/student/v1/lms/course/application/course/edx/getCourseMapping",method:"get",params:e});t.queryMyComment=e=>(0,r.default)({url:"/api/universal/v1/score/queryMyMessages",method:"get",params:e});t.getExamResult=e=>(0,r.default)({url:"/api/iexam/api/iexam/userexam/v1/examResults/1/30",method:"get",params:e});t.getCourseStudyStatusList=e=>(0,r.default)({url:`/api/service/api/service/manager/userStateTree/${e.courseId}?userId=${e.userId}`,method:"get"});t.delStudySatus=e=>(0,r.default)({url:`/api/service/api/service/manager/userState/${e.courseId}?userId=${e.userId}&blockId=${e.blockId}&definitionId=${e.definitionId}`,method:"delete"});t.postQuizAnswer=e=>(0,r.default)({method:"post",url:"/api/student/quiz-student/answer",data:e});t.postHeartbeat=e=>(0,r.default)({url:"/api/student/heartbeat/send",method:"post",data:e});t.getUserPassInfo=(e={})=>(0,r.default)({url:"/api/student/api/student/progress/result/progressGradeOverview",method:"get",params:e});t.getStandardList=(e,t={})=>(0,r.default)({url:`/api/student/api/student/progress/result/${e}/completeRequirementHis`,method:"get",params:t});t.hasManageRole=e=>(0,r.default)({url:`/api/student/api/student/classCourses/${e}/permissions`,method:"get"});t.getStudentLearnRecord=(e={})=>(0,r.default)({url:"/api/service/reports/course",method:"get",params:e});t.getSuperOutlineCourse=e=>(0,r.default)({url:"/api/service/reports/superOutlineCourse/"+e,method:"get"});t.getUnitLearnRecord=(e={})=>(0,r.default)({url:"/api/service/reports/courseUnit",method:"get",params:e});t.getPassStandard=e=>(0,r.default)({method:"get",url:`/api/service/api/intranet/course/${e}/getCompleteRequirement`});t.selectEnrollStudents=(e,t)=>(0,r.default)({url:"/api/student/api/student/mananger/selectEnrollStudents",method:"post",params:t,data:e||{},headers:{tenant_id:s}});t.getCourseManageInfo=(e,t)=>(0,r.default)({url:`/api/student/api/student/${e}/managers${t?"?isAll=true":""}`,method:"get"});t.getCommentTagEnum=e=>(0,r.default)({url:"/api/universal/v1/score/queryMessages",method:"get",params:e});t.getExportList=(e={})=>(0,r.default)({url:"/api/student/api/export/list",method:"post",data:e});t.queryMsgCountProportions=e=>(0,r.default)({url:"/api/universal/v1/score/queryMsgCountProportions",method:"get",params:e});t.getApprovalInfo=(e={})=>(0,r.default)({url:"/api/service/api/intranet/getProcessDetails",method:"get",params:e});t.submitApproval=(e={})=>(0,r.default)({url:"/api/service/api/intranet/approvalFlow/auditFlow",method:"put",data:e});t.getCurrApprovalPeople=(e={})=>(0,r.default)({url:"/api/service/api/intranet/checkApprovalPeople",method:"get",params:e});t.submitComment=e=>(0,r.default)({url:"/api/common/api/moderation/v1/content",method:"post",data:e});t.getScore=e=>(0,r.default)({url:"/api/universal/v1/score/giveScore",method:"post",data:e});t.getUploadUrl=e=>(0,r.default)({url:"/api/service/api/service/api-direct/files/v1/courseResource/get-upload-url",method:"get",params:e});t.exportCourseResources=(e={})=>(0,r.default)({url:"/api/student/api/export/courses",method:"post",responseType:"blob",data:e});t.getRankingList=(e={})=>(0,r.default)({url:"/api/student/api/student/progress/result/gradeTopN",method:"get",params:e});t.getGradesInfo=(e={})=>(0,r.default)({url:"/api/student/api/student/progress/result/gradeInfo",method:"get",params:e});t.selectCourseScore=(e={})=>(0,r.default)({url:"/api/service/api/service/passStandard/selectCourseScore/"+e,method:"get"});t.deleteExportRecord=(e={})=>(0,r.default)({url:"/api/student/api/export/delete",method:"get",params:e});t.getGradeReport=(e={})=>(0,r.default)({url:"/api/student/grade/pageList",methos:"get",params:e});t.searchUserBlockStudyDuration=(e,t)=>(0,r.default)({url:"/api/student/heartbeat/searchUserBlockStudyDuration",method:"get",params:e,headers:{userId:t,user_id:t}});t.getHeartbeatDuration=(e,t)=>(0,r.default)({url:"/api/student/heartbeat/statistic/resource",method:"post",params:t,data:e});t.getCategoryTree=e=>(0,r.default)({method:"get",url:"/api/category/ilearning/categoryTree/selectCategoryById?categoryId="+e});t.saveMonitorPhoto=e=>(0,r.default)({url:"/api/student/v1/lms/learn-behavior/monitor/photos",method:"post",data:e});t.getMonitorTimes=e=>(0,r.default)({url:"/api/student/v1/lms/learn-behavior/monitor/times",method:"get",params:e});t.checkMonitorStatus=e=>(0,r.default)({url:"/api/student/v1/lms/learn-behavior/monitor/status",method:"get",params:e});t.saveMonitorStatus=e=>(0,r.default)({url:"/api/student/v1/lms/learn-behavior/monitor/course-user-status",method:"post",data:e});t.reportGrade=(e,t)=>(0,r.default)({method:"put",url:`/api/student/api/student/courses/exam/inner/report-grade/${e}?blockId=${t}`});t.getBaseInfo=(e,t)=>(0,r.default)({method:"get",url:"/api/student/v1/lms/course/application/intranet/"+e,params:t});t.getAiSummary=e=>(0,r.default)({method:"post",url:"/api/ai/aiSummary/v1/ai-summary/summaries/batch-query",data:e});t.getMixAiSummary=e=>(0,r.default)({method:"post",url:"/api/ai/v1/member/summary/summaries/batch-query",data:e});t.summaryAddToNote=async e=>(0,r.default)({method:"post",url:"/api/universal/v1/experience/createExperiences",data:e});t.addFeedbackToCourseSummary=async e=>(0,r.default)({method:"post",url:"/api/ai/aiSummary/addFeedbackToCourseSummary",data:e});t.getSummaryFeedback=async e=>(0,r.default)({method:"get",url:"/api/ai/aiSummary/getSummaryFeedback",params:e});t.updateFeedbackToCourseSummary=async e=>(0,r.default)({method:"post",url:"/api/ai/aiSummary/updateFeedbackToCourseSummary",data:e});t.getAiPageConfig=()=>(0,r.default)({url:"/api/ai/v1/ai-logo/config",method:"get"});t.getAiModelStatus=()=>(0,r.default)({url:"/api/ai/micromodel/tenantAiModelStatus",method:"get"});t.getCourseInWhiteListStatus=e=>(0,r.default)({url:"/api/ai/v1/platform/member/course-white-list/"+e,method:"get"});t.getCourseClassList=e=>(0,r.default)({url:"/api/student/v1/lms/course/application/mooc/sessions",method:"get",params:e});t.getClassShareClassInfo=e=>(0,r.default)({url:"/api/student/v1/lms/course/application/mooc/session",method:"get",params:e});t.cancelEnroll=e=>(0,r.default)({url:`/api/service/api/intranet/courseLearner/cancelEnroll?courseId=${e.courseId}&sessionId=${e.sessionId}`,method:"put"});t.getClassesProgress=(e,t)=>(0,r.default)({url:"/api/student/v1/lms/course/application/progress/"+e,method:"get",params:t});t.getSatisfactionQuestions=(e,t={})=>(0,r.default)({url:"/api/student/api/student/course/satisfaction/questions?questionnaireId="+e,method:"get",params:t});t.commitSatisfactionAnswer=e=>(0,r.default)({url:"/api/student/api/student/course/satisfaction/commitAnswer",method:"POST",data:e||{}});t.getSatisfactionAnswer=(e,t,n={})=>(0,r.default)({url:`/api/student/api/student/course/satisfaction/mySatis/${e}?questionnaireId=${t}`,method:"get",params:n});t.getStudentGrdeList=(e,t)=>(0,r.default)({url:"/api/service/api/service/manager/grade/"+e.courseId,method:"post",data:t});t.getUserAlreadyAnswer=(e,t={})=>(0,r.default)({url:"/api/student/api/student/course/satisfaction/userAlreadyAnswer/"+e,method:"get",params:t});t.getStaticInfo=(e,t={})=>(0,r.default)({url:"/api/service/api/service/course/satisfaction/staticInfo?sessionId="+e,method:"get",params:t});t.submitWordCloud=e=>(0,r.default)({url:"/api/student/v1/lms/course/wordle/submit",method:"POST",data:e});t.submitRoll=(e={},t)=>{const n=(0,u.Object2QueryString)(e);return(0,r.default)({url:`/api/student/v1/lms/course/roll/commitAnswer/${t}?${n}`,method:"POST"})};t.queryMyroll=e=>(0,r.default)({url:"/api/student/v1/lms/course/roll/queryRollDetail",method:"POST",data:e});t.queryRollTotal=(e,t)=>(0,r.default)({url:`/api/student/v1/lms/course/roll/rollTotal/${e}/${t}`,method:"get"});t.commitSurvey=e=>(0,r.default)({url:"/api/student/v1/lms/course/survey/submit",method:"POST",data:e||{}});t.faceMatch=e=>(0,r.default)({url:"/api/student/v1/lms/course/face/match",method:"post",data:e});t.debateVote=e=>(0,r.default)({url:"/api/student/v1/lms/course/debate/vote",method:"post",data:e});t.getVoteInfo=(e,t)=>(0,r.default)({url:`/api/student/v1/lms/course/debate/queryVote?courseId=${e}&blockId=${t}`,method:"get"});t.getCommentList=(e,t,n,o,i)=>(0,r.default)({url:`/api/universal/v2/comment/commentList?resourceId=${e}&resourceType=debate&hot=false&sortMode=DESC&page=${o}&limit=${i}&resourceRelate1=${t}&resourceRelate2=${n}`,method:"get"});t.reply=e=>(0,r.default)({url:"/api/universal/v2/comment/replySource",method:"post",data:e});t.likeAction=e=>(0,r.default)({url:"/api/universal/v1/liked",method:"post",data:e});t.deleteComment=e=>(0,r.default)({url:"/api/universal/v2/comment/delete",method:"put",data:e});t.sendMessage=(e,t)=>(0,r.default)({url:"/api/student/v1/common/sendNotice/"+t,method:"post",data:e});t.replyList=(e,t,n)=>(0,r.default)({url:`/api/universal/v2/comment/replyList?replyPage=${n}&replyLimit=${t}&hot=false&sortMode=DESC&commentId=${e}`,method:"get"});t.disucssionList=e=>(0,r.default)({url:"/api/student/v1/lms/homework/getDiscussionCategory/"+e,method:"get"});t.getCategories=e=>(0,r.default)({url:`/3msdiscuss/api/category/v1/61/categories?appId=61&scope=1&resourceType=0&ownerId=${e.ownerId}&moduleId=${e.moduleId}&r=1718267391433&page={"limit":0,"offset":0}`,method:"get"});t.getDiscussionModuleId=e=>(0,r.default)({url:"/api/student/v1/lms/homework/getModuleId/"+e,method:"get"});t.isInWhiteList=e=>(0,r.default)({url:"/api/student/v1/lms/course/ai/trustList/"+e,method:"get"});t.getInnerAiSummary=e=>(0,r.default)({url:"/api/ai/aiSummary/v1/ai-summary/summaries/batch-query",method:"post",data:e});t.getCodeByClassId=e=>(0,r.default)({url:"/api/student/v1/lms/course/application/session/info/"+e,method:"get"});t.getOuterCourseInfo=e=>(0,r.default)({url:`/api/student/v1/curriculum/external-courses/${e}/detail`,method:"get"});t.getDiscussionSetting=e=>(0,r.default)({url:"/api/service/v1/cms/discussion/getDiscussionSetting?courseId="+e,method:"post",data:[]});t.commitThrough=e=>(0,r.default)({url:"/api/student/v1/step-builder/commit",method:"post",data:e});t.getProgressTime=(e,t)=>(0,r.default)({url:`/api/student/api/student/course/getProgressTime/${e}/${t}`,method:"get"});t.getChapterProgress=(e,t,n)=>(0,r.default)({url:`/api/student/api/student/course/getChapterProgress/${e}/${t}?blockId=${n}`,method:"get"});t.refreshDigitCoursebookProgress=(e,t,n)=>(0,r.default)({url:`/api/student/v1/lms/digit-coursebook/refreshDigitCoursebookProgress/${e}/${t}`,method:"put",data:n});t.isCollectCourse=e=>(0,r.default)({url:"/api/universal/v1/collect/isCollect",method:"post",data:e});t.collectCourse=e=>(0,r.default)({url:"/api/universal/v1/favor",method:"post",data:e})},b27d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA1ElEQVQ4T92SMZJBQRRF74lILUM8NoBMoGaKDbAKoiFiFWxgFFWqZGY2ILcMKdGd+ur71dr//FgnXd193+n37nsoXba7kj5u5xf7AdgmGgLAWVKlJOACVGNAR1KjJCDJYHcHyAu0Xb+K4FgEzkqIBbZrkvbpfRs45UGeAX4lNdOgP6BVGmB7LekzCtgAXzHkIQPbC0mDgpqXwDB8uwPYHkmavejEGJjfNOEc9CT9lGxjH1jFczAJgr8LQNPsZ7jqc7tg27mOw4P+jQGhoZkdpMaF/vwDmDZKEVylne4AAAAASUVORK5CYII="},b2a4:function(e,t,n){},b33d:function(e,t,n){"use strict";var o=n("1dbc");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},b3bc:function(e,t,n){"use strict";n.r(t);var o=n("6ffd"),r=n("a894");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("1b04");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"133a56a4",null);t.default=u.exports},b45c:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/empty.fa80c4a0.png"},b50a:function(e,t,n){"use strict";n("1103")},b579:function(e,t,n){"use strict";n("4b20")},b57a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e,t=this,o=t._self._c;return o("a-modal",{staticClass:"modal",attrs:{centered:!0,closable:!0,footer:null,keyboard:!1,maskClosable:!1,title:t.$t("course.Photographing"),width:800},on:{cancel:t.closeModel},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[o("a-spin",{attrs:{spinning:t.loading}},[o("div",{staticClass:"align-center"},[o("p",{staticClass:"font-tip"},[t._v(t._s(t.$t("course.photoRequestTips")))]),o("p",{staticClass:"count-tip"},[t._v(" "+t._s(t.$t("course.nowNeedPhotoCount1"))),o("span",[t._v(t._s(t.needCount))]),t._v(" "+t._s(t.$t("course.nowNeedPhotoCount2"))+" ")]),t.hasGetMedia?o("div",{staticClass:"camera-select"},[t._v(" "+t._s(t.$t("course.cameraCanUse"))+" "),o("a-select",{attrs:{value:null===(e=t.selectedVideoDevice)||void 0===e?void 0:e.deviceId},on:{change:e=>t.changeVideoDevice(e)}},t._l(t.videoDeviceList,(function(e){return o("a-select-option",{key:e.deviceId,attrs:{title:e.label}},[t._v(" "+t._s(e.label)+" ")])})),1)],1):t._e(),o("div",{staticClass:"image-wrapper"},[o("div",{staticClass:"border-box left-top",attrs:{"data-v-4f03c8b2":""}}),o("div",{staticClass:"border-box right-top",attrs:{"data-v-4f03c8b2":""}}),o("div",{staticClass:"border-box left-bottom",attrs:{"data-v-4f03c8b2":""}}),o("div",{staticClass:"border-box right-bottom",attrs:{"data-v-4f03c8b2":""}}),t.startTakePhoto?o("div",[o("video",{directives:[{name:"show",rawName:"v-show",value:!t.hasPhoto,expression:"!hasPhoto"}],staticStyle:{background:"#ccc"},attrs:{id:"video",height:"342",width:"402"}}),o("canvas",{directives:[{name:"show",rawName:"v-show",value:t.hasPhoto,expression:"hasPhoto"}],staticStyle:{background:"#ccc"},attrs:{id:"photo",height:"342",width:"402"}})]):t._e()]),o("div",{staticClass:"upload-wrapper"},[o("div",{staticClass:"content-wrapper",on:{click:t.onTakePhoto}},[o("img",{staticClass:"icon-img",attrs:{alt:"camera",src:n("9767")}}),o("div",{staticClass:"camera-text"},[o("div",[t._v(t._s(t.hasPhoto?t.$t("course.rePhoto"):t.$t("course.clickToPhoto")))])])])]),t.monitorStatus?t._e():o("div",{staticClass:"checkbox-wrapper"},[o("a-checkbox",{staticClass:"simple-check",attrs:{checked:t.agree,disabled:t.agreecheckbox},on:{change:t.onAgree}},[t._v(t._s(t.$t("course.allowOpenCameraTip")))])],1),o("a-button",{staticClass:"mt20",attrs:{disabled:!t.hasPhoto||t.loading,type:"primary"},on:{click:t.uploadPhoto}},[t._v(t._s(t.$t("course.Submit")))])],1)]),o("a-modal",{attrs:{closable:!0,footer:null,title:t.$t("course.Photographing")},on:{cancel:t.closeModelErr},model:{value:t.alertShow,callback:function(e){t.alertShow=e},expression:"alertShow"}},[o("div",{staticClass:"closeBox"},[o("div",{staticClass:"closeImg"},[o("img",{attrs:{alt:"",src:n("d6eb")}})]),o("p",{staticClass:"phoneclass"},[t._v(" "+t._s(t.$t("course.faceMathError"))+" ")])]),o("p",[t._v(t._s(t.$t("course.faceMsg")))]),o("div",{staticClass:"errShowBtn"},[o("a-button",{staticClass:"mt20",attrs:{type:"primary"},on:{click:t.closeModelErr}},[t._v(t._s(t.$t("course.MatchErrSubmit")))])],1)])],1)},t.staticRenderFns=[]},b5a72:function(e,t,n){"use strict";n("152b")},b62d:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/no-case-icon.2a00b8ac.png"},b634:function(e,t,n){},b665:function(e,t,n){},b6ad:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/successImage2.3f388f95.png"},b6fc:function(e,t,n){"use strict";n("3253")},b714:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAFq0lEQVR4Ae1bTWwbRRR+s7bXieyY+NCIOKanEBRXAhrUNv1Boj8IBBISCPUC9FI4IXrgUCEh9UCVSw89FHGEA4hLhUBCQgLRnxM0SUU5ICVCDZc0dSiVSHESxXFiL++beO3deO0Y70zI2n2SveOdN2/e982b2ZlZj6Am5fJly5y+vXxUWMVXiETGIkqRZaW4eLxJE7rUlkiIrCDKEllTlgh9O/x47PrJk6LQTIVcrrFcuLD06Mpa8RyV6A3WTDTW3jG5OTLoy+5I6KOzZ+N/NvKqLgGXLlnRhX9yHwpB71sWxRoZ2al57Psy+34x+Uhi7MwZserlpycBstULpW84xEe9CgXunhDj3abxqlc01BAwNrb05Hqp9B33p3TggDZ0WMyJiPHSuQ/ivznVXATIll8t3Ww/8DZkMdcdNfY5I8Gws9DnVxD2bdfyNkJcrTQwAqt9t0IABry26fM2Oq8rj2sSazlPdgGEfr5QnAnqaO+Fs9E9PB26zNAguoKMADznOwU8iAFWObfhtJAzvN9z9zkdlEkOMKiQ3PATiV0GprdsrdPAg8AEsBsbc3sVhAbPBrDzGCAywXNdlcciY8hVnSp7DjsDqRBFIo4bHsneXkH4NBLYgC0dAuzh8pJWqf2DoyY9f6KL7maL9Olny562Afy9dzdW0h9/skQPHrA7HnLqrZgk4Mcrebox3tQK18NKnVu8nMdjUPl63m4x++pVfao/xMt4IT9I1xPbhn2tp9fi/Xi4xYKuYpnhMA0OhsmMCPrq6xVXHn4c2G/SY+kqyBsTtS2ZHgjR6AGzUvbOXJEmJmv1Xn+tmwprFs3MrNPU9HpFv9WEbwIOHzLp+LGuav0eBAB8JlMdEKam16r65VQiIVw6uD0xWaNW0Xn6KZOuXsvTTz/XklRbqv6dylqgvkrjnP37qq3WWFN9roq6fRPQ0+M2EYsJOfgBLgZBSCzuHunjcYOy80Uefy35QRrlnGKXsW3gullnc93O8s2mfXeBzRWhv1+7vkqzs0X6636R+vsNV/+H/sjeCP1yq0AY/SGLixaNjLgjCd0GZT//Ypn6doUkmceOVlaxspyKL+UEHDkcpWSvQbf/WKehoTAhTA3D3bp9fSF653SMbv26RhwD9Mxek3DPKShz6s0YTd4s0N8LJTlA7tlTHUecun7SygmAM3B0K2cB+MUX3KA3A4lGBT17RH2rO+txd2BnToekO54ALV3ADp4F7rvzPML7kX6eJSaT+tpJGwEAb4/yfghAWawZdJGgj1q/qLepvLYIQIuh5Tq2C6ABQYKu0FUVIB3fBTqeAG1jABY62MHJlhdErYZsirfDsMOEzRMdoo0ArN6uXPV8Jf+fcGDTY/fuEKUH9LiqrQtgBZfi1ZxfgQ3Y0iV6aGVvTVPQ26eVbzcq58F/Eyl3aXsNPiRge/neebVpGwMKBUtuZ2XnS75QYxDEyxGMKTpEWxfAfqBf8AAMG7ClS7RFAN7knDgeVTIR0jUHAKnaCMDM7dBBvft5KqJCWxdQ4dx22HhIgF+Wsej5v0RF3b4j4N49f485P+SpqBsEbLyfatGT73/I08rK9kcB6kTdfoTH6cUwDhvwG8qhVg3N3iny7u+iXK6a7td7rZrcslyB34jP3V2nvD/8/FJOzId5fpXl9muZAHgLR2b4XWDQBNi5C1hTQXNcnb/WlIEzNuoMBssSsBs4YMRu54LluhJvc8BuyNNVfMBIickgGWHMwC7nAThdxY8E7z/0BQlUk74CKzBDXRKA/83zhO5ik+UDrwas9rEZSQAQ4WgZzwnGA49uKwCMUWIt61UIwLk6HC3jP0/PbWUjuPl8aIoxOs8QVggAKIRF2DBebk8SNo7N2aFvN6LnRlsnHZx0RYDNClhKJnqe49/ng/x0KPt+Hlg2t7yN1TMC7ExcZTR04uFpJwlIt+vx+X8BniDXfFldqg0AAAAASUVORK5CYII="},b7d5:function(e,t,n){},b8d2:function(e,t,n){"use strict";n.r(t);var o=n("d000"),r=n("07cb");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("1a42");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"1f94e15d",null);t.default=u.exports},b9af:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAABKCAYAAAAc0MJxAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAASqADAAQAAAABAAAASgAAAAAdBadyAAAMxklEQVR4Ae2aC3BWxRXHTcIrARIIIqLQISqPyCMJBCidtiSEYkWrrQiiqLVSlFKFgqUzVapWZ3BsaQe0UgURKMVHLVpqK1VeQSlaDEmAQR5Rg7wfhUhAkkBC+jvf3L1zvpv7fd+9N8GO+O3Mzu6ePefs2f89u3t2v++ii+IpjkAcgTgCcQTiCMQRiCMQRyCOQByBOAJfGAL19fUJRUVFczdt2jQhyKCJQYS+jDLFxcVPY/dPyM9RH+93Dgl+Bb6M/HjSHOyebGxPSEioJw/q379/kaHFKi94jwKk32mQLEBm+QFJZC5ooNiPfsMcp1ngmOL3AwYM+IVpeC0vWKDYh2aygU/XQLDcZufm5j6gaV7r/9c9atu2bW2qq6t7MqErMDgtMTExlXoq9XpyJROrpPyM8mP6yrKysj6nHTOx3B6HaYaD8SlAmuKgeW5+YUABQOLmzZuzamtrhzHxPNrZWNnFs6UwIrefohjZdQC3LicnpwRandbBcnuU/kc0DZ5nWG73aZrf+nkFSsBhCQgot2LYTeR0vwZG4weACnQvo3yJzbmwpKTkwXPnzok36fRHPGmSJgSpnxegMLhdXV2dHMcTyZ2DGBZA5hgyHbQcAM4DwImUspQblZoUKLynI9ZM5av+lFL2Gl+JCcke9F8yjlIv3udbhxrweZbbPU0BkuhsEqAA6DImNp18DzpTlLERq0zgFPyrKVfAtDo9PX1fRkZGtRYoLy9vVVFRkQPwg6BfRx5GTtI8bnV0voAn/bipQJIxGgVUWVlZy5MnTz7ChKeRW7oZ7UI7yARmpqamzu/evXuNS39EEqdZZzbx8Yz1ALmdGyO6FwHSeMpzpp+tILtdu3Y7nB/C9HspAwOF0YMxZiEGZ3oZCJ7T5Ic7deo0t2vXrlUeZVzZtmzZ0v7MmTOr6czRDNizBJDu0iBh5wh4lpP3APIE+t/RMl7rvoGS5XD8+PHHAWgqg8RcBpYh5Rj5A4zc7NWwaHyEALLMJeq2E+AsRf+dGiS2hOEs2zdgaiWM9MmmPq9Vq1Y/79279ymheU2+gGLgIQy8COU9PA+QkLAKw27BsONuMnJCovMa+r5NvpQsB8IZgNjNxMrJxcRLb1OG4iU8RCLrWWSdXmLjvsPwSAe2FlggJWtGq76TcjRhw1aXPleSZ6AwUGKR2eTmrprciRtZanluS620tLQ3IcRjAHIjorE8U/a1JfBVwe8MJl/Bk8ZpkLA1H95/kKMdLFV4+f3ILoAvZooJFIM2x4hnMfDumNrCGfYmJycPwpMOabIcAJWVlXOgTUBnou4LUH8VT7oN+2qNLJ40FE96k3Y0kAy7lE+j42fosDd/3WnqUYGSu1hVVdUymGVD9JNqk5KSBrJkSrUQV5guXGFeA6CBmh6kzsSW4Q1jNUh79+5NPnLkyAH0u56IkcZBx9+RuZWlKAeOa4r4RQEpnQvrWqT8giQDzXeCJPoAaY0BCeNqyGvIL5DlBAvtQSIcK8H/ukyM0vYkkbGW+POx5J396LpBbMDbIwa4rh5lXUHE+P5OpR7aJ5s3b34VN/0jhtdavisxaKhFK2R/GIdHHDA8eFvPs2fPLqY92NAilHLUy0Z81q3fWgW76PN9dQKs94nvriG+q3TqbuBRTCqFTfZfMAYBSfTP1iAJQTZNBdLODh06XKtBEh5kdrKnjaT6ibTdEhN5A54xGiQBRvPKsc94czXNax0bv87+uUKWsFMmDCgYpf0iOdZXdeqx23jTUrtBZfv27R3Q+ytDYxIzIkXIVgjxlOF1lP8kzLgZnjOGzkcdzB5aBFgtDE3Kli1byvJz9TjN51bH1m8cPnx4MWXYagsDikDu1wjLcR0o8cU/FM/QwqdPn57IoPbmyiTW635nHR1h+470Q1uRlpY2SoPE9iAHwlvknuyl44TPJPgOIbPOtAOUoy0sbFEbKAnQUP6g3ROgAiCvuYiN1jQ8IOzr6z5suJN2mEdh01tcmG/S90L4cgkB3oY3TeQZd5qUOkF7R7f91hn3IcD6lpELASXXEgaeh3IbOMPgp2RZhV1R+Ord0JmldWBAgW6bOkbdDu9Chw0rAen7eqnCNwAeORhsL0VHH5bhlUaXlIzzb932Wxc7yIsl7hPZEDA8ZUyifoVfZU5+gNqjaQzU4MIMbabsW5qPSd4GfRHZ/lBMdDVR/Y0aJKL5HOScIIVUwZ+rdVIPs8XR57WZceLEiXuFOWQYBo73KhmNjyDzU92P3q/ptlW/lH2riOUznP4kPOQW6H8iJynetfTdoK8+eGc2cdgq6O0Vn66GhQN8NHkAbHTiA4SwaWZpuqzRGlGAcRUOPa4BHJOVJbkSkE7A35psg4Rh6+i7XkfJgJpFyLIKvnSHfruJXNh7GO9P1ceOyetw45LYKhqMRxVKo7GJfS7sa2N8xJjIGks2Y/OxZF95t1mzZtdpkACzH3oFpLDl6rQVnr2axlNQF90OWpcPJ7IhoDDuiaCKtBxf/WLdpv6Rox2tuZ44aSThxeeGiWi9D19UbghOvYbFLp3Lng63ZW/z+6j8VnhDQGVnZ2+kvtiHsCsrQPXWHRgvQNVpmludr7ahTZs2I4l/Tpl+eYaRuyHtmCDBc5plH3YBR2c36I1K6FjKy8K7oiQElFQI6CbTsVvqQRNf/5ta1vIOt9jKZmPM91u3bv3dXr16nTRE9qSrAV0u0B0NLVqJjhXaE4WXpVgQTcZD3x5uGfcbPhsouQhi2Cg6Ij41GKFIJQY3MA6vmh2JH/pGuYRqkNiTMpmkgHRJFLmwLrxpiSZYV5rrNc1PnXnUwD+mX79+9uFkAyWK2ESLYbqdLG/LvhOTuxpvGKIFeW7ZQLtY06TOGB9QjNA3deKpXuiQ5dZJeLwk9GxgjOWalx8ehtN2PXE1n1vdmvsPweI/uj8MKOlgTb4O8yRLQPN6qjNRCV7txORHoCts76K9CS8YgTESHoQSe1IPKgKSvJt7TXV47FQnMx55n5PmtY39U8HgFSd/A6CEgSeQZyns9ekUitZmoLFypAsPIOVT/A2ajnFKWPvfwQs+M3oIJruzJ8kjYVjQaPojlQA+xTqIbBYrkL3WJvirTOfjzXETSXAjGhoTvpdJPkM7ydC8lExgA1n+MPEm/ClKppT3pAJOt+OGxhhXUS9knMsNzUuJ/ll8+emaFx2J6NsELVvTY9XRdQ6eKej7QyTeqECJEON+DwNepqonHEmfptfS0MHklpSUlGGZmZl2uIzHXQlPIbkL2VNiUvIeNZlJPecUQJ+8ez3mpEdro6+G+d2BJ70alS9ap+nDnXNRtpwc9KqzFV3DMMa+f7Hc5Pe8EnR2M+N4KNcysemAJF4TlvigYyC8jL6YH18JHmSvHMVW856iuVY9KyVKvoQAcCmGyIniJ23DmHyMOeoUYgO/nL3pLnT+iD7xrgYJYI7Sv4JyMQDJZt8gyUkrIQUdoV+EGzC4ENC3Ab038/EOunQ3IHkGSiRRLH8ME/d+WOoNtDkIGPMh16N8gsEjjq4GTZZNGidYBhPOoLMF+Sjyh9j0d1DKHuKa8KRx2DKfzmRXhobEaj7co+idhd6YtwYj7gsoI4QnDMK7FtDuY2gu5Q6effP69u172KWv0STAacZHm0U5xasygHkP/rvxoh1eZQxfIKBEGA+Qn9Z/yeAPMbh4gE7yi0qevF0bIvyd4ZVD4S9cfufTJ5uy78RYcrLJD5+PUu/uUYH8fD4DL5qNXETvjKYrMFCiFM/KYY9ZjcHtzSAYUkZ7qF77W7du7VRTU1MITy+Lbw98CzF+KcaXGdlopbWfjUS3eFBYABtJzgJFTrMZ7G9yQQ+cAgMlIMmLIyPbj2kY9hH7TB5B4H5jkXUISJyUaWiOchdyG8lyAh4GvArAF7vk1eBi6F2gF1Dv65CL1qxF7s/Y8gS27IrG6LUvEFDyLCuexCA2SNQ/JuLOY+PeZwZnD+nI5iwRtycPMHJBS8CRmGghAD2Jp+4OqsdNzg4I3TrdaEze7Vm2nI07n43bBklkMTpfCjc9TUyTzflFgFrAEjvQxLpD6nx5FJtoPyYv8Yr9LItxu6HJnrQnkoHyUsn/CsbAWwDvQPjkIGhMkqX1AQrWsFT/iveEPdo1RnEkWc9AcWrJHiEg2S+OGPsphub5cXP0pCAzBMDk97ke6OtJlmBTDoSwgBH9cjKegO8TSvEaialKOTXX69dQ6Oc9eQLKDSQskxdA2ZPKm8pKeXDjl+RUgExo27Ztpf51uKnGCKrHE1AsOTm1hqpB9rVo0WIoL4Dypb8SKeY1RFDA1cdShKJZXH8/Of+rBJJg4AkoK8IeBv9alkV+Y4M3GTie4gjEEYgjEEcgjkAcgTgCcQTiCMQRiCPgH4H/AaFCTZG14MN7AAAAAElFTkSuQmCC"},bc6a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("div",{staticClass:"discuss"},[this.loading?e("div",{staticClass:"discuss_loading"},[e("Loading",{attrs:{loading:"loading"}})],1):e("div",[e(this.getDiscussComp,{tag:"component",attrs:{checkAsync:this.checkAsync,loadResource:this.loadResource,compProp:this.compProp}})],1)])},t.staticRenderFns=[]},bd32:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/pc-noAuthority.0676dee7.png"},be24:function(e,t,n){"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n("320c"),r=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;r=d("react.element"),i=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),u=d("react.context"),s=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),l=d("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function g(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var y=b.prototype=new v;y.constructor=b,o(y,g.prototype),y.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var o,i={},a=null,u=null;if(null!=t)for(o in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===i[o]&&(i[o]=s[o]);return{$$typeof:r,type:e,key:a,ref:u,props:i,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var k=/\/+/g;function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,o,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case i:s=!0}}if(s)return a=a(s=e),e=""===o?"."+_(s,0):o,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),O(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=o+_(u=e[c],c);s+=O(u,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=O(u=u.value,t,n,l=o+_(u,c++),a);else if("object"===u)throw t=""+e,Error(m(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function I(e,t,n){if(null==e)return e;var o=[],r=0;return O(e,o,"","",(function(e){return t.call(n,e,r++)})),o}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var E={current:null};function D(){var e=E.current;if(null===e)throw Error(m(321));return e}var R={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:o};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(m(143));return e}},t.Component=g,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(m(267,e));var i=o({},e.props),a=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:r,type:e.type,key:a,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},be99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e,t=this,o=t._self._c;return o("div",{class:["course-signup-button",t.otherClassName]},[t.isAllowGift&&"fullyStaffed"!==t.title?o("div",{staticClass:"course-allow-gift",on:{click:t.gotoAllowGiftPage}},[o("img",{attrs:{src:n("27aa"),alt:""}}),o("span",[t._v(t._s(t.$t("course.allowGift")))])]):t._e(),"2"===t.$route.query.coursePackageType&&2===t.subscribeStatus?o("showIcon",{staticClass:"content-market-unsubscribe",attrs:{showContent:t.$t("course.unsubscribe"),fontSize:90,showColor:"gray"}}):t._e(),t.contentMarketTip&&"3"!==t.saleMode?o("span",{staticClass:"tip-span"},[t._v(t._s(1===t.subscribeStatus?t.$t("course.free"):t.$t("course.exclusive")))]):t._e(),o("a-tooltip",[t.startCountdown||"1"!==this.$tools.whichAppType()?t._e():o("template",{slot:"title"},[o("span",[t._v(" "+t._s(t.tempTime)+t._s(t.curriculumShowTitle(t.title))+" ")])]),"3"!==t.saleMode?o("a-button",{staticClass:"signUp-button",attrs:{type:"primary",disabled:t.buttonDisabled},on:{click:t.buttonClick}},[t.startCountdown?o("span",{staticClass:"button-title"},[t.dateTime?o("a-statistic-countdown",{attrs:{value:t.dateTime,prefix:"learningCountDown"===t.courseStatus?t.$t("course.ToStartLearningCountdown"):t.$t("course.ToStartEnrollingCountdown"),format:t.$t("course.courseSignUpTimeShow")},on:{finish:t.onFinish}}):t._e()],1):o("span",{staticClass:"button-title"},[t._v(t._s(t.tempTime)+t._s(t.curriculumShowTitle(t.title)))])]):t._e()],2),"published"!==(null===(e=t.courseInfo)||void 0===e?void 0:e.status)&&2===t.subscribeStatus?o("a-button",{staticClass:"signUp-button unconfigure",attrs:{type:"primary",value:"large"},on:{click:t.unconfigure}},[o("span",{staticClass:"button-title"},[t._v(t._s(t.$t("course.unconfigure")))])]):t._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isQrShow,expression:"isQrShow"}],staticClass:"qr-box"},[o("div",{staticClass:"top"},[o("div",{staticClass:"t-content"},[o("span",[t._v(t._s(t.$t("course.oneToOne")))]),o("span",[t._v(t._s(t.$t("course.oneToOneTitle")))])])]),t._m(0)]),o("a-modal",{attrs:{visible:t.visible,title:t.$t("course.tip"),width:"400px",centered:!0,wrapClassName:"course-enroll-modal"},on:{cancel:t.closeModel},scopedSlots:t._u([{key:"footer",fn:function(){return[o("a-button",{key:"back",on:{click:t.goHome}},[t._v(t._s(t.$t("course.goToHomePage")))]),o("a-button",{key:"submit",attrs:{type:"primary"},on:{click:t.goEnroll}},[t._v(t._s(t.$t("course.goToPortal")))])]},proxy:!0}])},[o("p",{staticClass:"tip-p"},[o("a-icon",{staticClass:"confirm-warning icon",attrs:{type:"exclamation-circle",theme:"filled"}}),o("span",{staticClass:"tip-cont"},[t._v(t._s(t.$t("course.classResourceNeedEnroll")))])],1)])],1)},t.staticRenderFns=[function(){var e=this._self._c;return e("div",{staticClass:"info"},[e("img",{attrs:{src:"//sxzcdn.shixizhi.huawei.com/media/ipublic/1690858872619_wechatCode.png",alt:""}})])}]},bfdd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{ref:"textWrapper",staticClass:"text-wrapper",style:{"--line-clamp":e.line}},[e.isOverflow?t("a-tooltip",{attrs:{title:e.text}},[t("div",{staticClass:"show-text"},[e._v(e._s(e.showText))]),t("div",{ref:"overflowWrapper",staticClass:"text"},[e._v(" "+e._s(e.text)+" ")])]):[t("div",{staticClass:"show-text"},[e._v(e._s(e.showText))]),t("div",{ref:"wrapper",staticClass:"text"},[e._v(" "+e._s(e.text)+" ")])]],2)},t.staticRenderFns=[]},c00a:function(e,t,n){"use strict";n.r(t);var o=n("b33d"),r=n("5e77");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("caa7");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"4b374466",null);t.default=u.exports},c04d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("ca00");t.default={props:["showContent","fontSize","showColor"],data:()=>({}),computed:{sxzLang(){const e=(0,o.getUrl)("sxz-lang");if(!e)return"cn";return{en_US:"en",zh_CN:"cn",es_ES:"es",ru_RU:"ru",ar_SA:"ar",pl_PL:"pl",de_DE:"de",tr_TR:"tr",fr_FR:"fr",pt_BR:"pt",ko_KR:"ko",ja_JP:"ja"}[e]||"en"},calcPosition(){const e=(this.fontSize||122)/122;return{transform:`scale(${e}, ${e})`}}},methods:{}}},c06c:function(e,t,n){"use strict";n.r(t);var o=n("6e9d"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},c1ff:function(e,t,n){"use strict";n("7fb2")},c24f:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.refresh=t.logout=t.login=t.getInnerUserInfo=t.getInfo=void 0;var r=o(n("b775")),i=o(n("4328")),a=n("604d");t.login=({username:e,password:t,grantType:n})=>(0,r.default)({url:"/api/auth/oauth/token",method:"post",data:{username:e,password:t,grantType:n||"password"},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:[e=>i.default.stringify(e)]});t.getInfo=e=>(0,r.default)({url:"/api/school/schools/",method:"get",params:{token:e}});t.refresh=({refreshToken:e})=>(0,r.default)({url:"/api/auth/oauth/token",method:"post",data:{refreshToken:e,grantType:"refreshToken"},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:[e=>i.default.stringify(e)]});t.logout=()=>(0,r.default)({url:"/vue-element-admin/user/logout",method:"post"});t.getInnerUserInfo=function(){return(0,a.GetUserByIdFromCookie)()}},c268:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAABHNCSVQICAgIfAhkiAAAA1BJREFUWIXVmM9vG1UQxz+zP+zU2yUiVUIkkJWAVFVIQVRGvVTqkQtcuKEIVeSSI73zB5RzesMXqh5y5coNCYkLwgLRSy+olQVSlaipzHodr593h4Nj47Ude72Jk/C97ezbmY/evpn33gg5pKqlEHwnwhNhyQiFrsEGcFxiV+mo0u4WCT0IRKQ1bwyZA8Y6DFlbdlnpCtfmCeIoxw3D0arHgYgk5wbWbOo6BdaF3qzklUJMh5fXr8vLM4GpainoULYF7yxAo4qV0C9Qn/aLTwVrqK5oi03XPU+k/2QMSInnyyJHmcGCQFetIuXFIKWVRNR9Xw5H7daooaG6clFQAFaRckN1Zcw+/KCqJW2xeVFQg7gtNlW1NGxLgQUdyotaU9Pkur3Yw7bBGms2dV0KvJ3HcfLoYSX+81mFV68q9p27Veurr2t5/GiHv/ulRKBXPEPDB3nrlPn8432i9k0sOyCJfff7nz7KBQax5/KHiCQWwGHIWm6oLz75lqh9E4Ak9ge2HBKwD0PW4GSNLbuMZUUmqAf3dwmDytiLMKiYB/d38/jss1iqWpp37xtA1V+cHrz+YjcPXFe4pqolaaq+JYZ3MsOcBD1tjLN1m+7T39JGz6/NkxTq8pe02/pubPHmtIHJo4eV+McfZq6bpe0dits7ND69l35xkhQAlDeq7t6T6jQ/dsJriSJ9f9avHGRdBi1t72BvfUi0/xhgfPaAWVnrKMeWEQozo2WEAmjvf0f89HeK21/ifbOHs3U766cDGaHgdA32zGpf3qhOXegT4Kb6mqGuwR7bxCfJ3XtSzeJwpjy/Nmt99WU5LnGWgVkdTpN9524mH45LbLlKJ7Pns8xaeSNzuXCVTqZyMSzz2b1f83DNs3/aCa+tbpEwT6BFqlsktDwILhtkVB4Eloi0HOX4smH6cpRjEWlZAA3DxJvKZajP4gCsehyEJuOFdrTYen6NGzdq9nu3BhkX//Jz+jiUMZsV4lWPA8h5tO4fpWfVtqzjBmCjR+u+/on01nnfurMqVsI3ivKs/5zakvwCdWMuHsqYXuxhWwpMRFpS4vnFYvVaBaN9jLFNfFnkKInS9ItUElGf1L/4fzVV+rqSbahhXbnGXcrpVWx1ToBceHP4X7aakjs1EBeDAAAAAElFTkSuQmCC"},c2b3:function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}},c2bd:function(e,t,n){"use strict";var o=n("0017");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},c337:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA+CAYAAACV6GMAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAHYcAAB2HAY/l8WUAAAqNSURBVGhD7dqJ0831Fwfw539CSqGFrCVtyi5baaVlIk0N2WkoRbZImza0qZQ2hGRfCllSaEGSPT6/eX3m9zFfd65779PzfOfRjDtzxuPe8z2f8/4s57zP+XyrTp06FY4cORIOHjwY9u3bF/bs2ZO7GOfPP/8MJ06cCKdPnw4nT54Mf/31V/j111+L6teWVB0+fDjs3r07rFmzJixatCgsWLAgd/nss8/Chg0bwoEDB8Lx48cj0K1bt4Yvv/yyqH5tSdVvv/0WVq9eHd55550wfvz4MHTo0Nzl6aefDh988EHYtWtX+PvvvwMfvvrqqzBx4sSi+rUlVT/99FP45JNPwrhx40LPnj1D+/btc5fu3buHSZMmhU2bNsXtzIc5c+aEu+66q6h+bUnV9u3bw7x588LgwYND27ZtQ8OGDXOXVq1ahREjRsSjs3///vDjjz+GadOmhZtuuqmofm1JlYHmzp0bBg4cGFq2bBnq1auXuzRv3jw89dRT8fgAu23btjBlypTQrl27ovq1JRfB5i0XJNhLLrkkXH311eHGG28MnTp1Ct26dYvBpZx07do13HrrraF169ahadOm0U7WbqVgGzRoEK644orQokWLeJ67dOlSdLxiQveWW24J1157bbj00kujvZJgL7/88tC5c+cwatSoMHv27Jie3n333bLy1ltvheeeey489NBDcUAOZ+1WCvayyy4L1113XejXr18YO3ZseP3114uOVygCLt1nn3023HnnneHKK6+M9kqCbdKkSbj33nvDm2++GR0TuREQqaKY+O3nn3+Ozn/66acxn95xxx1nB0tSKViT3aFDh/Dkk09GH6Uq9sv5sHPnzqj70UcfhccffzyOx15JsLbggw8+GD7++ONIAA4dOhSpJcbj76z4DhvzOwDffvttmDx5cujbt2+46qqrzrFbKVg7wvEZOXJkZF1o5tGjRyMROZ8PfuMH3W+++SYMGzYsHgP2SoK1Ig8//HAcaO/evdHYL7/8Er777rvw9ddfR9ZDFi9eHMFt3rw5DoIGyqFTp06NRMG5z9qtFGzjxo3jMbKFjYNp/fHHH5Farlq1KixZsuSsD2T58uVhx44d0U8+rFy5Mk5UwlUW7COPPBI5M7AGYpSjd999dzxLwNx3333hiSeeCNOnT4+zaUKARRTo1ASsQJPAsrt+/fp4HpGS/v37x/GTPPbYY/HMIv3AWpR/Ddaq0RVtbTFnitBztgDGeZ2ZPMA6k1YzxQJ2kg9E1mDH6rJbY7Ai7W233RbTQv369aOeqIl7Dho0KLz33ntxsDzAihuOz+jRo+P2FkCz+uju888/HwPpRbAXwf5fCsHqJDiTghPDbdq0iSyJk7169YrkY+HChfFs5XVmV6xYEctDQRGrMn4SzOmll16KejUGy8DSpUvj4PLvgAEDYkSkM3z48MiyOCMa5gFWNEYWMDlBis/GTzJkyJDw4YcfRl9rHI0lbjmOwddeey28+uqr4ZVXXompwPYVKdmTovIAa2cBLKdrs7zxxhtx/CRo4tq1a2M/rcZgsRcJ28o5P1IM8Tcnfv/998he6OQBli4f/MsH2zX5QFBJQOlUG6wA4HxaRdvz+++/j45Z3S1btpwjviN+37hxY5z5MWPGhB49esRJy9qtFKzcqXrCb/FzE8jf8/lA/OZfuu+//34MmsZjryTYRo0axciLiOO5s2bNOmfbnE9efPHFCFQRIdHXpOoReHr37h0bZnZKsfEKReygK2Dqq+H47JUEq2/jO4zJCgsCAlM5eeCBB2J0vvnmm0OzZs3O1pNJKgWrDrYrfC/SisDFxisUgZMuoNdff31cNPZKgpVHKapaFMGqBzrlhN4111wTj4HVSfk4SaVgPWfC7Qznng/FxismdPngWZyAvZJg04CUiZmuRJK+ZwuBkkrBkmSjJj4kW2XB5iHVAVubchFs3lJnYJEFzGfGjBkxJ4m6ecujjz4aczeQiaRgZerhYvq1JVXYhnaHJK3VsWzZstwFs1GZYFuuTPmA/SACxfRrS6r++eefeG1oYBQLr81bjKMxBuiZM2cCHxLFK9S1zVFAO4CPnqtEEm31LBtsxctoA7lNs8Jq1rzFOIoKl9AJLAdx66we4s9Junzkq8vrSoSuRfRswlUFPRKtktBnVTnkLXizLQtIuozGu9XCWT3c9osvvgjr1q2LhQjdSj7AutVnXxWUcFU5K59//nm8CL7nnntiByBvUQnpRAJo5vkgI6B5WT2UUxGgIBdPTEolHzuFrtbuzJkzz+K6oO9n0VScWKGuN+38VfKxhemaIAVJwnVB59nCera6YKtVz+YlF8HWNVhVgwF9zxHtUsV4OaGn86jE0m1gJ2s3C1Zu1dbRTxK4snZuv/32cP/998e3eDAsHZBsG8aNnYh77NixGJSkMR9/C3z03TcJdOyVBKvoTvej7lF07zhZTnQ2FPoiIJtq2qzdLFj5XT61cu50s3Z0LL3Fo3UqImvN8DWJCRCEPA+wlJPAuk00idLOhAkTor2SYBW+uhQGTB3E9AJVKZk/f3544YUXYrNOD8nuyNrNgrUCBF0tfOlLngVQmhKRTaJJT2KL8l3PSaoB0scKy7OOiNXVMGSvJFi9G9vI795Is22wkXJiRuVu288WOt/9rNTDSWQBg+Jc1o7uoWvIl19+OfrnFp+PSTp27BjHcDVpO2Nk6WOV02uCfmOvJFj9H/ezbtFVJvimB82kq0PMhvj7hx9+iCA5LDhYtXL3s8CmYsBqJKqXxG8mWX/asfBc6kAQ/rKjcQ9MFqwPm1m7ZcFm+8ZAAKeD98wzz8SzQLAvnUdbRcfeGQKkXN84gU3br/Dj3NmGwGriCXhZO/pM4ogStRjYwk+1wCLqtqe60/Z0R0r69OkTn9duxXRSufafBmvF3GxrUQLgLNIxqMirtyv62c7/ebDKpLfffjvmv9TB073TbpXHREgRWw6sS7DOqTggOLk+RS5i8V5dsLV5P5sXWPZEd9gsjpSloqo2WNeFXtcBUCVhheVjFYvKSW6s65W1qsiKYIqo8Be2aoOl67U+3X4g0UFn12oLXFjNhQJW+sOrsUCLUy2wcqgk7zU5q5iYDJAYjhek0Te6dQ02FQIut9TPjly1wBqcESuHWCASxN/OKeKR6N+FArbiqgddxFwEHYCkHkZUKla5UHzvd6A5gGzIwaXoIrB4LCIvetp+SRwbDqOLJv2GG26IgJOIE4oFuV/HBQ/wHJYn/SkuTIZJMW5JsAg8uue+k/OJFpYTTS4TZAtpq9ghWbtZsADqHHKQw1k7xgNExSOiIjL4cBITqe3ipRb8GHvznH/9X7tJQ961qXFLgpU/kW/nEi1UYLs5KCeYlBckbWGrIYhl7SawqcSzK/ytwsnaUe04CsZl02s/omsS//c9Dk6XeM7//Y7kmOz0ClFJsHKpiOu+VURTwHO+nNBzY+6sVlq8C27eDc7a8YqgS2WVDd6tW6gSSqJI8BzfZQiX3+lZl9ACU/bl7pJgiShGOFxdSc8W2syCtap8sBqISfZ5jqqnU1vGxGSrIkGJ7ybE5NqJ2edJdvyyYPOQQrD/tgflnDuX3t3ge+HrDIVyEWzeUjdg64X/ATqMwzG31f2WAAAAAElFTkSuQmCC"},c449:function(e,t,n){(function(t){for(var o=n("6d080"),r="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",u=r["request"+a],s=r["cancel"+a]||r["cancelRequest"+a],c=0;!u&&c<i.length;c++)u=r[i[c]+"Request"+a],s=r[i[c]+"Cancel"+a]||r[i[c]+"CancelRequest"+a];if(!u||!s){var l=0,d=0,f=[];u=function(e){if(0===f.length){var t=o(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},s=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return u.call(r,e)},e.exports.cancel=function(){s.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=u,e.cancelAnimationFrame=s}}).call(this,n("c8ba"))},c455:function(e,t,n){},c580:function(e,t,n){"use strict";n.r(t);var o=n("0f02"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},c58b:function(e,t,n){"use strict";var o=n("bc6a");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},c5ca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e,t,o,r,i=this,a=i._self._c;return a("div",{staticClass:"moocClassId",class:["learn-content",i.isInner?"content-inner":"content-outer",{"content-header-show":i.isHeaderShow,"mult-class":i.isInnerMOOC},{"content-o3":i.isO3Tenant}],attrs:{id:"tabIndex-screent",tabindex:"0"}},[a("transition",{attrs:{name:"menu"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!(i.isShowSummary||i.isShowComment),expression:"!(isShowSummary || isShowComment)"}],staticClass:"moocClassId",class:["learn-content-menu",i.isInner?"menu-inner":"menu-outer",{"menu-header-show":i.isHeaderShow,"mult-class":i.isInnerMOOC}]},[a("CatalogTree",{attrs:{"course-status":i.courseTime.statusEnum,"course-time":i.courseTime,data:i.menuList,"default-selected-key":i.currStudyBlockId,"is-preview":i.isPreview,isElectoralCourse:i.isElectoralCourse,isPlaneStyle:i.isInner},on:{root:e=>{this.rootList=e},"change-block":i.changeBlockFromMenu}},[[a("div",{staticClass:"catalog-header"},[a("span",{staticClass:"catalog-header-left"},[i.isInner?a("div",{staticClass:"text-line"}):i._e(),a("strong",{staticClass:"text"},[i._v(i._s(i.$t("course.menu")))]),void 0===i.courseOutline.progress||i.isElectoralCourse?i._e():a("span",{staticClass:"progress"},[i._v(" "+i._s(i.$t("course."+(i.isInner?"learneingProgress":"completed"),{progress:i.courseOutline.progress?i.courseOutline.progress:0}))+" ")])]),i.isInner?a("span",{staticClass:"catalog-header-right"},[a("a-select",{staticClass:"catalog-filter",attrs:{getPopupContainer:e=>e||i.document.body},on:{change:i.onFilterChange,dropdownVisibleChange:function(e){i.isOpenSelectOps=!i.isOpenSelectOps}},model:{value:i.catalogFilter,callback:function(e){i.catalogFilter=e},expression:"catalogFilter"}},[a("svg-icon",{style:{transform:`rotate(${i.isOpenSelectOps?"180deg":"0deg"})`},attrs:{slot:"suffixIcon","icon-class":"caret_right_radius"},slot:"suffixIcon"}),i._l(i.catalogFilterList,(function(e,t){return a("a-select-option",{key:t,attrs:{value:e.value}},[i._v(" "+i._s(e.label)+" ")])}))],2)],1):i._e()])]],2)],1)]),i.showContent?a("div",{staticClass:"moocClassId",class:["learn-content-main","main-"+(i.isInner?"inner":"outer"),{"mult-class":i.isInnerMOOC}]},[a("div",{ref:"contentAreaRef",staticClass:"contentArea"},[i.showPreTips&&i.hasAuth?a("span",{staticClass:"alert-box"},[a("span",{staticClass:"icon"},[a("a-icon",{attrs:{type:"exclamation"}})],1),a("span",{staticStyle:{"font-family":"MicrosoftYaHei","font-size":"14px",color:"#000000"}},[i._v(" "+i._s(this.$t("course.precourseTips"))+" ")])]):i._e(),i.havePreCourse?a("div",[a("div",{staticClass:"preContent"},[a("img",{attrs:{src:i.PrevIcon}}),a("div",{staticClass:"title"},[a("h3",{staticClass:"preTitle"},[i._v(i._s(i.$t("course.precourseLocked")))]),a("span",[i._v(i._s(i.$t("course.precourseName"))+" "+i._s(i.$t("course.reloadTip")))]),a("span",{staticClass:"pre-link",on:{click:i.refresh}},[i._v(" "+i._s(i.$t("course.refreashPage"))+" ")])]),a("p",{staticClass:"page-link"},[a("span",{staticClass:"circle"}),a("span",{staticStyle:{cursor:"pointer"},on:{click:i.go}},[i._v(i._s(i.displayName))])])])]):a("div",[i.blockIsLocked&&!i.isInnerAdmin||i.notWhiteList?a("LearnContentError",{attrs:{"block-info":i.currBlock,"course-code":i.courseCode,"course-id":i.courseId,"course-time":i.courseTime,"node-info":i.nodeInfo}}):[i.showName?a("p",{staticClass:"unit-title"},[a("span",{attrs:{title:i.unitName}},[i._v(i._s(i.unitName))]),i.showStudio?a("a-button",{on:{click:i.goStudio}},[i._v(i._s(i.$t("course.studioEntrance")))]):i._e()],1):i._e(),!i.isInner&&i.talentReader.isFromDigitCoursebook?a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:i.talentReader.isTalentMenu,expression:"talentReader.isTalentMenu"}],staticClass:"talent-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"success"!==i.talentReader.readerStatus,expression:"talentReader.readerStatus !== 'success'"}],staticClass:"talent-loading-box"},[a("svg-icon",{attrs:{"icon-class":"loading"===i.talentReader.readerStatus?"course_talent_load":"course_talent_error"}}),a("p",[i._v(" "+i._s("loading"===i.talentReader.readerStatus?i.$t("course.talentLoading"):i.$t("course.talentError"))+" ")])],1),a("iframe",{directives:[{name:"show",rawName:"v-show",value:"success"===i.talentReader.readerStatus,expression:"talentReader.readerStatus === 'success'"}],ref:"talentReaderIframe",attrs:{src:i.talentReader.iframeSrc,frameborder:"0"}})])]):i._e(),i.talentReader.isTalentMenu?i._e():a("ul",{ref:"ulRef",class:["learn-content-main-overflow","overflow-"+(i.isInner?"inner":"outer"),{"mult-class":i.isInnerMOOC}],attrs:{id:"innerContent"},on:{scroll:function(e){return i.handleScroll(e)}}},i._l(i.blockItemArr,(function(e,t){return a("li",{key:e.definitions.blockId,class:["courseware-wrapper",i.isSingle?i.isO3Tenant?"single single-o3":"single":"multiple",{"mult-program":!i.isInner&&!i.isSingle&&["program","program-question"].includes(e.blockType)},{"mult-graphic":!i.isInner&&!i.isSingle&&"graphic"===e.blockType},{"mult-audio":!i.isInner&&!i.isSingle&&"audio"===e.blockType},{"mult-video":!i.isInner&&!i.isSingle&&"video"===e.blockType},{"mult-video-o3":!i.isInner&&!i.isSingle&&"video"===e.blockType&&i.isO3Tenant},{"mult-elab":!i.isInner&&!i.isSingle&&"elab-experiment"===e.blockType},{"disable-select":!i.isInner&&"graphic"!==e.blockType},{"courseware-o3":i.isO3Tenant}],attrs:{id:e.blockId,oncontextmenu:""+(i.isInner||"graphic"===e.blockType?"":"return false"),onselectstart:""+(i.isInner||["graphic","program-question"].includes(e.blockType)?"":"return false")}},[a(i.handleRenderCourseware("compName",e),{key:e.definitions.blockId,ref:i.handleRenderCourseware("ref",e),refInFor:!0,tag:"component",attrs:{"app-id":i.appId,associationId:i.resourceInfo.associationId,"auto-play":i.autoPlayId===e.blockId,"auto-play-id":i.autoPlayId,"block-catalog":i.blockCatalog,"block-info":e,"block-item-arr":i.blockItemArr,"class-id":i.classId,"course-code":i.courseCode,"course-id":i.courseId,"course-information":i.courseInformation,"course-name":i.resourceInfo.associationTitle,courseManagerList:i.courseManagerList,currBlock:i.currBlock,currBlockId:e.blockId,"fail-text":i.failText,ilearningCourseAdmin:i.ilearningCourseAdmin,"inner-course-status":i.innerCourseStatus,inside:i.inside,isTeacher:i.isTeacher,"is-inner":i.isInner,"is-need-occupy":i.isNeedOccupy,"is-preview":i.isPreview,"is-share":i.isShare,"is-single":i.isSingle,isAdmin:i.isAdmin,isInnerMOOC:i.isInnerMOOC,"manager-list":i.managerList,"need-occupy-flag":i.needOccupyFlag,playing:0==t&&!i.showPhotoModal,"resource-id":i.resourceId,resourceInfo:i.resourceInfo,"show-photo-modal":i.showPhotoModal,status:i.status,sxzLang:i.sxzLang,"type-id":i.resourceInfo.typeId,"water-mark":i.watermark,whiteStatus:i.whiteStatus},on:{changeOccupyFlag:function(e){i.needOccupyFlag=!0},changeProcess:i.changeProcess,"get-all-video-dom":i.getAllVideoDom,"get-all-audio-dom":i.getAllAudioDom,"set-study-process":i.setStudyProcess,"handle-progress":i.handleProgress,"handle-report-duartion":i.postStudyDuration,"next-play":i.handleNextPlay,"toggle-block":i.toggleBlock,"course-progress-change":i.courseProgressChange,"record-curr-block-progress":i.recordCurrBlockProgress,"reset-sso-times":i.resetSSoTimesFn,"show-summary":i.setSummary,"show-subtitles":i.setSubTitle,"video-time-update":i.timeUpdate,"current-video-change":i.updatePlayingVideo,"set-finish":i.setFinish,"change-block":i.handleChangeBlock,"handler-fullScreen":i.handlerFullScreen}})],1)})),0),i.$isInner&&i.showStudyTip&&(i.studyDuration||i.openEndDate)&&i.blockIsLocked&&i.showCompContent()?a("div",{staticClass:"study-tip"},[i.studyDuration?a("span",{staticClass:"tip-duration"},[i._v(" "+i._s(i.$t("course.EstimatedEffort")+i.studyDuration+i.$t("course.minutes"))+" ")]):i._e(),i.openEndDate?a("span",[i._v(" "+i._s(i.$t("course.completeStudyBeforeTime1"))+i._s(i._f("formatDate")(i.openEndDate,"yyyy-MM-dd hh:mm"))+i._s(i.$t("course.completeStudyBeforeTime2"))+" ")]):i._e(),a("a-icon",{staticClass:"close-btn",attrs:{type:"close"},on:{click:i.closeStudyTip}})],1):i._e()]],2)]),i.isInner?a("div",{staticClass:"change-btn-inner",class:[{"mult-class":i.isInnerMOOC}]},[a("div",{staticClass:"switch-btn"},[a("div",{class:["pre",{"no-drop":!i.currBlock.preCourseware}],style:{color:null!=i.currBlock.preCourseware?"#666":"#ccc"},on:{click:function(e){return i.switchCourseware("pre")}}},[a("svg-icon",{attrs:{"icon-class":"next"}}),a("span",[i._v(i._s(i.$t("course.last")))])],1),a("div",{class:["next",{"no-drop":!i.currBlock.nextCourseware}],style:{color:null!=i.currBlock.nextCourseware?"#666":"#ccc"},on:{click:function(e){return i.switchCourseware("next")}}},[a("span",[i._v(i._s(i.$t("course.next")))]),a("svg-icon",{attrs:{"icon-class":"next"}})],1)]),i.isInnerMOOC&&!i.isElectoralCourse?a("div",{staticClass:"comment-inner",on:{click:i.openMenuOrComment}},[i.isShowComment?a("div",[i._v(i._s(i.$t("course.commentButtonClose")))]):a("div",[i._v(" "+i._s(i.$t("course.commentButtonOpen"))+" "),a("span",[i._v(" "+i._s(i.totalNumm)+" ")])])]):i._e()]):i._e(),i.isInner?i._e():a("div",{staticClass:"outer_footer"},[1===i.durationSwitch&&"unpublished"!==i.status?a("span",[i._v(i._s(i.$t("course.chapterLearnedTime"))+"："),a("span",{staticStyle:{color:"#fa8c15"}},[i._v(" "+i._s(i.chapterLearnedDuration)+i._s(i.$t("course.min")))])]):i._e(),i.isInner?i._e():a("div",{staticClass:"change-btn-outer-new"},[a("div",{staticClass:"switch-btn"},[a("div",{class:["pre",{"no-drop":!i.currBlock.preCourseware}],style:{color:null!=i.currBlock.preCourseware?"#666":"#ccc"},on:{click:function(e){return i.switchCourseware("pre")}}},[[a("svg-icon",{attrs:{"icon-class":"next"}}),a("span",{staticClass:"ellipsis-text"},[i._v(i._s(i.$t("course.last")))])]],2),a("div",{class:["next",{"no-drop":!i.currBlock.nextCourseware}],style:{color:null!=i.currBlock.nextCourseware?"#666":"#ccc"},on:{click:function(e){return i.switchCourseware("next")}}},[[a("span",{staticClass:"ellipsis-text"},[i._v(i._s(i.$t("course.next")))]),a("svg-icon",{attrs:{"icon-class":"next"}})]],2)])]),!i.isInner&&i.aiConfig&&(i.hasSummaryData||null!==(e=i.aiConfig)&&void 0!==e&&e.enable)?a("div",{staticClass:"summary-btn",on:{click:i.openSummary}},[i.isShowSummary?a("div",[i._v(i._s(i.$t("course.tucked")))]):a("div",{staticClass:"btn-box"},[a("img",{staticClass:"ai-logo",attrs:{src:(null===(t=i.aiConfig)||void 0===t?void 0:t.logo)||n("a5ee"),alt:""}}),a("a-popover",{attrs:{placement:"top"}},[a("template",{slot:"content"},[i._v(" "+i._s((null===(o=i.aiConfig)||void 0===o?void 0:o.title)||i.$t("aiSummary.aiTitle"))+" ")]),i._v(" "+i._s((null===(r=i.aiConfig)||void 0===r?void 0:r.title)||i.$t("aiSummary.aiTitle"))+" ")],2)],1),i.summaryBtnTipsOn?a("div",{staticClass:"tips"},[i._v(i._s(i.$t("aiSummary.summaryBtnTips")))]):i._e()]):i._e()]),i.isInner&&!i.isInnerMOOC?a("div",{staticClass:"comment-inner",on:{click:i.openMenuOrComment}},[i.isShowComment?a("div",[i._v(i._s(i.$t("course.commentButtonClose")))]):a("div",[i._v(" "+i._s(i.$t("course.commentButtonOpen"))+" "),a("span",[i._v(" "+i._s(i.totalNumm)+" ")])])]):i._e()]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:!i.showContent,expression:"!showContent"}],staticClass:"learn-content-main-loading"}),i.isInner?a("transition",{attrs:{name:"comment"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:i.isShowComment,expression:"isShowComment"}],staticClass:"learn-content-comment"},[a("CourseComment",{ref:"courseComment",attrs:{appId:i.resourceId,appType:2,authorId:i.resourceInfo.createdBy,courseId:i.courseId,isAdmin:i.isAdmin,isInnerMOOC:i.isInnerMOOC,lang:i.sxzLang,resourceId:i.isInner?i.classId:i.commentResourceId,resourceRelate:i.resourceRelate,resourceType:i.isInner?"course":"courseApplication"},on:{getCommentSumNumber:i.getCommentSumNumber,hideComment:i.openMenuOrComment,isCommentReady:i.setIsCommentReady}})],1)]):i._e(),a("transition",{attrs:{name:"summary"}},[i.$isInner||i.aiCovergeParams&&i.aiConfig&&(i.aiConfig.enable||i.hasSummaryData)?a("div",{directives:[{name:"show",rawName:"v-show",value:i.isShowSummary,expression:"isShowSummary"}],class:["learn-content-summary",{"mult-class":i.isInnerMOOC}]},[a("el-image",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"previewImageRef",attrs:{"preview-src-list":i.url,src:i.url[0],alt:""}}),a("sxz-ai-converge",{ref:"aiCoverge",attrs:{params:i.aiCovergeParams},on:{addNoteCallback:i.addNoteCallback,hasSummaryData:i.updateHasSummaryData,onClose:i.onClose,previewImage:i.previewImage,setAIConfig:i.setAIConfig,setMarker:i.setMarker,showTips:i.showTips,updateSubtitleTime:i.updateSubtitleTime,updateVideoMark:i.updateVideoMark}})],1):i._e()]),i.resourceInfo.isEvaluation&&!i.$isInner?a("CourseEvaluation",{key:"courseEvaluation",ref:"courseEvaluation",staticClass:"is-hidden",attrs:{appId:i.appId,classId:i.classId,primaryId:i.resourceId,styles:!1,uuid:i.classId,type:"application"}}):i._e(),i.satisfactionVisible?a("SatisfactionDialog",{ref:"satisfactionQues",on:{closeSatisfaction:i.closeSatisfaction}}):i._e(),a("a-modal",{attrs:{centered:!0,okText:i.$t("course.gotIt"),title:i.$t("course.tip"),visible:i.tipModalVisible,width:400},on:{cancel:function(e){i.tipModalVisible=!1},ok:function(e){i.tipModalVisible=!1}}},[a("template",{slot:"footer"},[a("a-button",{key:"ok",attrs:{type:"primary"},on:{click:function(e){i.tipModalVisible=!1}}},[i._v(" "+i._s(i.$t("course.gotIt"))+" ")])],1),a("div",[a("a-icon",{staticClass:"confirm-warning icon",attrs:{theme:"filled",type:"exclamation-circle"}}),a("span",{staticStyle:{"font-size":"20px"}},[i._v(i._s(i.$t("course.watchFastTip")))])],1)],2)],1)},t.staticRenderFns=[]},c5d5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e,t=this,n=t._self._c;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.filterProgress&&t.filterStudyType&&t.filterLength,expression:"filterProgress && filterStudyType && filterLength"}],staticClass:"tree-node",class:[{"tree-node-indentation":t.node.level>1},{"tree-node-plane":t.isPlaneStyle},{"tree-node-expanded":t.isPlaneStyle&&t.node.expanded}],attrs:{id:"tree_node_"+t.node.id}},[n("div",{staticClass:"tree-node-content",class:{"is-current":t.node.isCurrent},attrs:{id:t.node.data.blockId===t.hasSatisfactionCom?t.hasSatisfactionCom:""},on:{click:function(e){return t.handleContentClick()}}},[!this.$isInner||t.showIcon?n("span",{staticClass:"header-icon"},[null!==(e=t.node)&&void 0!==e&&e.isLeaf?n("svg-icon",{attrs:{"icon-class":t.node.blockType,"class-name":"courseware-icon"}}):t.isPlaneStyle?n("svg-icon",{style:{transform:`rotate(${t.node.expanded?"0deg":"-90deg"})`},attrs:{"icon-class":"caret_right_radius","class-name":"courseWare-right"}}):n("a-icon",{style:{transform:`rotate(${t.node.expanded?"90deg":"0deg"})`},attrs:{type:"caret-right"}})],1):t.isPlaneStyle?n("span",{staticClass:"header-icon"},[n("span",{staticClass:"empty-icon"})]):t._e(),t.node.data.optional?n("span",{staticClass:"elective"},[t._v(t._s(t.$t("course.Optional")))]):t._e(),t.isPlaneStyle?n("p",{staticClass:"text",class:[1===t.node.level?"text-weight ellipsis-text":2===t.node.level?"ellipsis-text-two":"ellipsis-text-three"],attrs:{title:t.node.data.definitions.displayName}},[t._v(" "+t._s(t.node.data.definitions.displayName)+" ")]):n("p",{staticClass:"text",class:[1===t.node.level?"text-weight ellipsis-text-two":"ellipsis-text-three"],attrs:{title:t.node.data.definitions.displayName}},[t._v(" "+t._s(t.node.data.definitions.displayName)+" ")]),t.isShowGradeIcon&&!t.isElectoralCourse?n("span",{staticClass:"is-grade"},[n("a-tooltip",{attrs:{placement:"top",title:t.$t("course.isRelatedGrade")}},[n("svg-icon",{attrs:{"icon-class":t.isPlaneStyle?"grade_icon_plane":"grade_icon"}})],1)],1):t._e(),t.isElectoralCourse?t._e():n("span",{staticClass:"bottom-icon"},[t.setLock?n("svg-icon",{staticStyle:{color:"#ddd"},attrs:{"icon-class":"catalog-lock"}}):t.isPlaneStyle&&!t.isPreview&&100===t.node.data.progress?n("a-icon",{style:{fontSize:"16px",color:"#36BE2D"},attrs:{type:"check-circle",theme:"filled"}}):t.isPreview||100!==t.node.data.progress?t.isPlaneStyle&&!t.isPreview?n("div",{class:[0===t.node.data.progress?"pie-wrap-none":"pie-wrap"]},[n("div",{class:["pie",{"pie-all":100==t.node.data.progress},{"pie-zero":0==t.node.data.progress||!t.node.data.progress}],style:{animationDelay:`-${t.node.data.progress}s`}})]):t.isPreview?t._e():n("a-progress",{attrs:{type:"circle","show-info":!1,width:16,"stroke-width":10,"stroke-color":"#0cb10099",percent:t.node.data.progress||0}}):n("a-icon",{staticStyle:{color:"#0cb100"},attrs:{type:"check"}})],1)]),n("GlobalCollapse",{attrs:{isNoTransition:t.isNoTransition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.node.expanded,expression:"node.expanded"}],staticClass:"tree-node-children",class:{"is-expanded":t.node.expanded}},t._l(t.node.childNodes,(function(e){return n("CatalogTreeNode",{key:e.id,attrs:{node:e,progress:t.progress,"study-type":t.studyType,"course-status":t.courseStatus,"course-time":t.courseTime,"is-preview":t.isPreview,isPlaneStyle:t.isPlaneStyle,isElectoralCourse:t.isElectoralCourse}})})),1)])],1)},t.staticRenderFns=[]},c622:function(e,t,n){"use strict";n.r(t);var o=n("3dd9"),r=n("7454");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("9261");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"5a7bfa02",null);t.default=u.exports},c6ae:function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,u(o.key),o)}}function u(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var s=n("b639").Buffer,c=n(7).inspect,l=c&&c.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,o;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,o,r=s.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,n=r,o=a,s.prototype.copy.call(t,n,o),a+=i.data.length,i=i.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,o=t.data;for(e-=o.length;t=t.next;){var r=t.data,i=e>r.length?r.length:e;if(i===r.length?o+=r:o+=r.slice(0,e),0==(e-=i)){i===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(i));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,o=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,i=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,i),0==(e-=i)){i===r.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(i));break}++o}return this.length-=o,t}},{key:l,value:function(e,t){return c(this,r(r({},t),{},{depth:0,customInspect:!1}))}}])&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},c775:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n("2b17"),r=n("6d8b");function i(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(1===r){var i=Object(o.e)(e,t,n[0]);return null!=i?i+"":null}if(r){for(var a=[],u=0;u<n.length;u++)a.push(Object(o.e)(e,t,n[u]));return a.join(" ")}}function a(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!Object(r.isArray)(t))return t+"";for(var o=[],i=0;i<n.length;i++){var a=e.getDimensionIndex(n[i]);a>=0&&o.push(t[a])}return o.join(" ")}},c88d:function(e,t,n){"use strict";n.r(t);var o=n("9223"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},c8ef:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/noAuth.63ab96c9.png"},c965:function(e,t,n){"use strict";var o=n("7fae"),r=n("9850"),i=n("cbe5"),a=n("2dc5"),u=n("a15a"),s=n("861c"),c=function(){},l=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(o.a)(t,e),t.prototype.getDefaultShape=function(){return new c},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,o=t.points,r=t.size,i=this.symbolProxy,a=i.shape,u=e.getContext?e.getContext():e,s=u&&r[0]<4,c=this.softClipShape;if(s)this._ctx=u;else{for(this._ctx=null,n=this._off;n<o.length;){var l=o[n++],d=o[n++];isNaN(l)||isNaN(d)||(c&&!c.contain(l,d)||(a.x=l-r[0]/2,a.y=d-r[1]/2,a.width=r[0],a.height=r[1],i.buildPath(e,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,o=t.size,r=this._ctx,i=this.softClipShape;if(r){for(e=this._off;e<n.length;){var a=n[e++],u=n[e++];isNaN(a)||isNaN(u)||(i&&!i.contain(a,u)||r.fillRect(a-o[0]/2,u-o[1]/2,o[0],o[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,o=n.points,r=n.size,i=Math.max(r[0],4),a=Math.max(r[1],4),u=o.length/2-1;u>=0;u--){var s=2*u,c=o[s]-i/2,l=o[s+1]-a/2;if(e>=c&&t>=l&&e<=c+i&&t<=l+a)return u}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),o=this.getBoundingRect();return e=n[0],t=n[1],o.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,n=t.points,o=t.size,i=o[0],a=o[1],u=1/0,s=1/0,c=-1/0,l=-1/0,d=0;d<n.length;){var f=n[d++],m=n[d++];u=Math.min(f,u),c=Math.max(f,c),s=Math.min(m,s),l=Math.max(m,l)}e=this._rect=new r.a(u-i/2,s-a/2,c-u+i,l-s+a)}return e},t}(i.b),d=function(){function e(){this.group=new a.a}return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),o=4*e.startIndex*2;t=new Float32Array(t.buffer,o,n)}e.setShape("points",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var o=this._newAdded[0],r=t.getLayout("points"),i=o&&o.shape.points;if(i&&i.length<2e4){var a=i.length,u=new Float32Array(a+r.length);u.set(i),u.set(r,a),o.endIndex=e.end,o.setShape({points:u})}else{this._newAdded=[];var s=this._create();s.startIndex=e.start,s.endIndex=e.end,s.incremental=!0,s.setShape({points:r}),this._setCommon(s,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new l({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var o=t.hostModel;n=n||{};var r=t.getVisual("symbolSize");e.setShape("size",r instanceof Array?r:[r,r]),e.softClipShape=n.clipShape||null,e.symbolProxy=Object(u.a)(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var i=e.shape.size[0]<4;e.useStyle(o.getModel("itemStyle").getItemStyle(i?["color","shadowBlur","shadowColor"]:["color"]));var a=t.getVisual("style"),c=a&&a.fill;c&&e.setColor(c);var l=Object(s.a)(e);l.seriesIndex=o.seriesIndex,e.on("mousemove",(function(t){l.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(l.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();t.a=d},c9b8:function(e,t,n){"use strict";var o={};function r(e,t,n){n||(n=Error);var r=function(e){var n,o;function r(n,o,r){return e.call(this,function(e,n,o){return"string"==typeof t?t:t(e,n,o)}(n,o,r))||this}return o=e,(n=r).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o,r}(n);r.prototype.name=n.name,r.prototype.code=e,o[e]=r}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,r,a,u;if("string"==typeof t&&(r="not ",t.substr(!a||a<0?0:+a,r.length)===r)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))u="The ".concat(e," ").concat(o," ").concat(i(t,"type"));else{var s=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(s," ").concat(o," ").concat(i(t,"type"))}return u+=". Received type ".concat(typeof n)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=o},ca53:function(e,t,n){},ca5d:function(e,t,n){"use strict";
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n("ab5b"),r=n("320c"),i=n("2613");function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!o)throw Error(a(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m=Object.prototype.hasOwnProperty,p={},h={};function g(e,t,n,o,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,o){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0===r.type:!o&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,o){if(null==t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,o)&&(n=null),o||null===r?function(e){return!!m.call(h,e)||!m.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,o=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,A=60106,C=60107,k=60108,_=60114,O=60109,I=60110,T=60112,E=60113,D=60120,R=60115,M=60116,P=60121,B=60128,L=60129,F=60130,N=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;S=j("react.element"),A=j("react.portal"),C=j("react.fragment"),k=j("react.strict_mode"),_=j("react.profiler"),O=j("react.provider"),I=j("react.context"),T=j("react.forward_ref"),E=j("react.suspense"),D=j("react.suspense_list"),R=j("react.memo"),M=j("react.lazy"),P=j("react.block"),j("react.scope"),B=j("react.opaque.id"),L=j("react.debug_trace_mode"),F=j("react.offscreen"),N=j("react.legacy_hidden")}var z,U="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=U&&e[U]||e["@@iterator"])?e:null}function H(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var o=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){o=e}e.call(t.prototype)}else{try{throw Error()}catch(e){o=e}e()}}catch(e){if(e&&o&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),i=o.stack.split("\n"),a=r.length-1,u=i.length-1;1<=a&&0<=u&&r[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==i[u]){if(1!==a||1!==u)do{if(a--,0>--u||r[a]!==i[u])return"\n"+r[a].replace(" at new "," at ")}while(1<=a&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function q(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case A:return"Portal";case _:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return Y(e.type);case P:return Y(e._render);case M:t=e._payload,e=e._init;try{return Y(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=$(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return o.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),o=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,ge=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=we(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}Object.keys(be).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Oe=null,Ie=null;function Te(e){if(e=Zo(e)){if("function"!=typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=tr(t),_e(e.stateNode,e.type,t))}}function Ee(e){Oe?Ie?Ie.push(e):Ie=[e]:Oe=e}function De(){if(Oe){var e=Oe,t=Ie;if(Ie=Oe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Re(e,t){return e(t)}function Me(e,t,n,o,r){return e(t,n,o,r)}function Pe(){}var Be=Re,Le=!1,Fe=!1;function Ne(){null===Oe&&null===Ie||(Pe(),De())}function je(e,t){var n=e.stateNode;if(null===n)return null;var o=tr(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(d)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(e){ze=!1}function Ve(e,t,n,o,r,i,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var He=!1,We=null,Ge=!1,qe=null,Ye={onError:function(e){He=!0,We=e}};function Qe(e,t,n,o,r,i,a,u,s){He=!1,We=null,Ve.apply(Ye,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(o=r.return)){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Xe(r),e;if(i===o)return Xe(r),t;i=i.sibling}throw Error(a(188))}if(n.return!==o.return)n=r,o=i;else{for(var u=!1,s=r.child;s;){if(s===n){u=!0,n=r,o=i;break}if(s===o){u=!0,o=r,n=i;break}s=s.sibling}if(!u){for(s=i.child;s;){if(s===n){u=!0,n=i,o=r;break}if(s===o){u=!0,o=i,n=r;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,ot,rt=!1,it=[],at=null,ut=null,st=null,ct=new Map,lt=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mt(e,t,n,o,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[o]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function ht(e,t,n,o,r,i){return null===e||e.nativeEvent!==i?(e=mt(t,n,o,r,i),null!==t&&(null!==(t=Zo(t))&&tt(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function gt(e){var t=Jo(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zo(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){vt(e)&&n.delete(t)}function yt(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Zo(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==at&&vt(at)&&(at=null),null!==ut&&vt(ut)&&(ut=null),null!==st&&vt(st)&&(st=null),ct.forEach(bt),lt.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yt)))}function xt(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var n=1;n<it.length;n++){var o=it[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==at&&wt(at,e),null!==ut&&wt(ut,e),null!==st&&wt(st,e),ct.forEach(t),lt.forEach(t),n=0;n<dt.length;n++)(o=dt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var At={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},kt={};function _t(e){if(Ct[e])return Ct[e];if(!At[e])return e;var t,n=At[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Ct[e]=n[t];return e}d&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete At.animationend.animation,delete At.animationiteration.animation,delete At.animationstart.animation),"TransitionEvent"in window||delete At.transitionend.transition);var Ot=_t("animationend"),It=_t("animationiteration"),Tt=_t("animationstart"),Et=_t("transitionend"),Dt=new Map,Rt=new Map,Mt=["abort","abort",Ot,"animationEnd",It,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Et,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var o=e[n],r=e[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),Rt.set(o,t),Dt.set(o,r),c(r,[o])}}(0,i.unstable_now)();var Bt=8;function Lt(e){if(0!=(1&e))return Bt=15,1;if(0!=(2&e))return Bt=14,2;if(0!=(4&e))return Bt=13,4;var t=24&e;return 0!==t?(Bt=12,t):0!=(32&e)?(Bt=11,32):0!==(t=192&e)?(Bt=10,t):0!=(256&e)?(Bt=9,256):0!==(t=3584&e)?(Bt=8,t):0!=(4096&e)?(Bt=7,4096):0!==(t=4186112&e)?(Bt=6,t):0!==(t=62914560&e)?(Bt=5,t):67108864&e?(Bt=4,67108864):0!=(134217728&e)?(Bt=3,134217728):0!==(t=805306368&e)?(Bt=2,t):0!=(1073741824&e)?(Bt=1,1073741824):(Bt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Bt=0;var o=0,r=0,i=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(0!==i)o=i,r=Bt=15;else if(0!==(i=134217727&n)){var s=i&~a;0!==s?(o=Lt(s),r=Bt):0!==(u&=i)&&(o=Lt(u),r=Bt)}else 0!==(i=n&~a)?(o=Lt(i),r=Bt):0!==u&&(o=Lt(u),r=Bt);if(0===o)return 0;if(o=n&((0>(o=31-Ht(o))?0:1<<o)<<1)-1,0!==t&&t!==o&&0==(t&a)){if(Lt(t),r<=Bt)return t;Bt=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)r=1<<(n=31-Ht(t)),o|=e[n],t&=~r;return o}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?jt(10,t):e;case 10:return 0===(e=zt(192&~t))?jt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function Ut(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var o=t-1;e.suspendedLanes&=o,e.pingedLanes&=o,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var qt=i.unstable_UserBlockingPriority,Yt=i.unstable_runWithPriority,Qt=!0;function $t(e,t,n,o){Le||Pe();var r=Xt,i=Le;Le=!0;try{Me(r,e,t,n,o)}finally{(Le=i)||Ne()}}function Kt(e,t,n,o){Yt(qt,Xt.bind(null,e,t,n,o))}function Xt(e,t,n,o){var r;if(Qt)if((r=0==(4&t))&&0<it.length&&-1<ft.indexOf(e))e=mt(null,e,t,n,o),it.push(e);else{var i=Jt(e,t,n,o);if(null===i)r&&pt(e,o);else{if(r){if(-1<ft.indexOf(e))return e=mt(i,e,t,n,o),void it.push(e);if(function(e,t,n,o,r){switch(t){case"focusin":return at=ht(at,e,t,n,o,r),!0;case"dragenter":return ut=ht(ut,e,t,n,o,r),!0;case"mouseover":return st=ht(st,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return ct.set(i,ht(ct.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,lt.set(i,ht(lt.get(i)||null,e,t,n,o,r)),!0}return!1}(i,e,t,n,o))return;pt(e,o)}Do(e,t,o,null,n)}}}function Jt(e,t,n,o){var r=ke(o);if(null!==(r=Jo(r))){var i=$e(r);if(null===i)r=null;else{var a=i.tag;if(13===a){if(null!==(r=Ke(i)))return r;r=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Do(e,t,o,r,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,o=n.length,r="value"in Zt?Zt.value:Zt.textContent,i=r.length;for(e=0;e<o&&n[e]===r[e];e++);var a=o-e;for(t=1;t<=a&&n[o-t]===r[i-t];t++);return tn=r.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function un(e){function t(t,n,o,r,i){for(var a in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?rn:an,this.isPropagationStopped=an,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,cn,ln,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=un(dn),mn=r({},dn,{view:0,detail:0}),pn=un(mn),hn=r({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=un(hn),vn=un(r({},hn,{dataTransfer:0})),bn=un(r({},mn,{relatedTarget:0})),yn=un(r({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=un(r({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=un(r({},dn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function _n(){return kn}var On=un(r({},mn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),In=un(r({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=un(r({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),En=un(r({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=un(r({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Mn=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var Bn=d&&"TextEvent"in window&&!Pn,Ln=d&&(!Mn||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),Nn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,o){Ee(o),0<(t=Mo(t,"onChange")).length&&(n=new fn("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Yn(e){ko(e,0)}function Qn(e){if(X(er(e)))return e}function $n(e,t){if("change"===e)return t}var Kn=!1;if(d){var Xn;if(d){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Kn=Xn&&(!document.documentMode||9<document.documentMode)}function eo(){Gn&&(Gn.detachEvent("onpropertychange",to),qn=Gn=null)}function to(e){if("value"===e.propertyName&&Qn(qn)){var t=[];if(Wn(t,qn,e,ke(e)),e=Yn,Le)e(t);else{Le=!0;try{Re(e,t)}finally{Le=!1,Ne()}}}}function no(e,t,n){"focusin"===e?(eo(),qn=n,(Gn=t).attachEvent("onpropertychange",to)):"focusout"===e&&eo()}function oo(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(qn)}function ro(e,t){if("click"===e)return Qn(t)}function io(e,t){if("input"===e||"change"===e)return Qn(t)}var ao="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},uo=Object.prototype.hasOwnProperty;function so(e,t){if(ao(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++)if(!uo.call(t,n[o])||!ao(e[n[o]],t[n[o]]))return!1;return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lo(e,t){var n,o=co(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=co(o)}}function fo(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var po=d&&"documentMode"in document&&11>=document.documentMode,ho=null,go=null,vo=null,bo=!1;function yo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bo||null==ho||ho!==J(o)||("selectionStart"in(o=ho)&&mo(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},vo&&so(vo,o)||(vo=o,0<(o=Mo(go,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=ho)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Mt,2);for(var wo="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xo=0;xo<wo.length;xo++)Rt.set(wo[xo],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ao=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Co(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,r,i,u,s,c){if(Qe.apply(this,arguments),He){if(!He)throw Error(a(198));var l=We;He=!1,We=null,Ge||(Ge=!0,qe=l)}}(o,t,void 0,e),e.currentTarget=null}function ko(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var a=o.length-1;0<=a;a--){var u=o[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&r.isPropagationStopped())break e;Co(r,u,c),i=s}else for(a=0;a<o.length;a++){if(s=(u=o[a]).instance,c=u.currentTarget,u=u.listener,s!==i&&r.isPropagationStopped())break e;Co(r,u,c),i=s}}}if(Ge)throw e=qe,Ge=!1,qe=null,e}function _o(e,t){var n=nr(t),o=e+"__bubble";n.has(o)||(Eo(t,e,2,!1),n.add(o))}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Io(e){e[Oo]||(e[Oo]=!0,u.forEach((function(t){Ao.has(t)||To(t,!1,e,null),To(t,!0,e,null)})))}function To(e,t,n,o){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==o&&!t&&Ao.has(e)){if("scroll"!==e)return;r|=2,i=o}var a=nr(i),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(r|=4),Eo(i,e,r,t),a.add(u))}function Eo(e,t,n,o){var r=Rt.get(t);switch(void 0===r?2:r){case 0:r=$t;break;case 1:r=Kt;break;default:r=Xt}n=r.bind(null,t,n,e),r=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Do(e,t,n,o,r){var i=o;if(0==(1&t)&&0==(2&t)&&null!==o)e:for(;;){if(null===o)return;var a=o.tag;if(3===a||4===a){var u=o.stateNode.containerInfo;if(u===r||8===u.nodeType&&u.parentNode===r)break;if(4===a)for(a=o.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===r||8===s.nodeType&&s.parentNode===r))return;a=a.return}for(;null!==u;){if(null===(a=Jo(u)))return;if(5===(s=a.tag)||6===s){o=i=a;continue e}u=u.parentNode}}o=o.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Be(e,t,n)}finally{Fe=!1,Ne()}}((function(){var o=i,r=ke(n),a=[];e:{var u=Dt.get(e);if(void 0!==u){var s=fn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":s=On;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Ot:case It:case Tt:s=yn;break;case Et:s=En;break;case"scroll":s=pn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var l=0!=(4&t),d=!l&&"scroll"===e,f=l?null!==u?u+"Capture":null:u;l=[];for(var m,p=o;null!==p;){var h=(m=p).stateNode;if(5===m.tag&&null!==h&&(m=h,null!==f&&(null!=(h=je(p,f))&&l.push(Ro(p,h,m)))),d)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,r),a.push({event:u,listeners:l}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Jo(c)&&!c[Ko])&&(s||u)&&(u=r.window===r?r:(u=r.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=o,null!==(c=(c=n.relatedTarget||n.toElement)?Jo(c):null)&&(c!==(d=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=o),s!==c)){if(l=gn,h="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,h="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?u:er(s),m=null==c?u:er(c),(u=new l(h,p+"leave",s,n,r)).target=d,u.relatedTarget=m,h=null,Jo(r)===o&&((l=new l(f,p+"enter",c,n,r)).target=m,l.relatedTarget=d,h=l),d=h,s&&c)e:{for(f=c,p=0,m=l=s;m;m=Po(m))p++;for(m=0,h=f;h;h=Po(h))m++;for(;0<p-m;)l=Po(l),p--;for(;0<m-p;)f=Po(f),m--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Po(l),f=Po(f)}l=null}else l=null;null!==s&&Bo(a,u,s,l,!1),null!==c&&null!==d&&Bo(a,d,c,l,!0)}if("select"===(s=(u=o?er(o):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var g=$n;else if(Hn(u))if(Kn)g=io;else{g=oo;var v=no}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(g=ro);switch(g&&(g=g(e,o))?Wn(a,g,n,r):(v&&v(e,u,o),"focusout"===e&&(v=u._wrapperState)&&v.controlled&&"number"===u.type&&re(u,"number",u.value)),v=o?er(o):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(ho=v,go=o,vo=null);break;case"focusout":vo=go=ho=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,yo(a,n,r);break;case"selectionchange":if(po)break;case"keydown":case"keyup":yo(a,n,r)}var b;if(Mn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?jn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=nn()):(en="value"in(Zt=r)?Zt.value:Zt.textContent,Un=!0)),0<(v=Mo(o,y)).length&&(y=new xn(y,e,null,n,r),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=zn(n))&&(y.data=b))),(b=Bn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Mn&&jn(e,t)?(e=nn(),tn=en=Zt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(o=Mo(o,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:o}),r.data=b))}ko(a,t)}))}function Ro(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mo(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=je(e,n))&&o.unshift(Ro(e,i,r)),null!=(i=je(e,t))&&o.push(Ro(e,i,r))),e=e.return}return o}function Po(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Bo(e,t,n,o,r){for(var i=t._reactName,a=[];null!==n&&n!==o;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===o)break;5===u.tag&&null!==c&&(u=c,r?null!=(s=je(n,i))&&a.unshift(Ro(n,s,u)):r||null!=(s=je(n,i))&&a.push(Ro(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Lo(){}var Fo=null,No=null;function jo(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zo(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Uo="function"==typeof setTimeout?setTimeout:void 0,Vo="function"==typeof clearTimeout?clearTimeout:void 0;function Ho(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Go(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qo=0;var Yo=Math.random().toString(36).slice(2),Qo="__reactFiber$"+Yo,$o="__reactProps$"+Yo,Ko="__reactContainer$"+Yo,Xo="__reactEvents$"+Yo;function Jo(e){var t=e[Qo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ko]||n[Qo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Go(e);null!==e;){if(n=e[Qo])return n;e=Go(e)}return t}n=(e=n).parentNode}return null}function Zo(e){return!(e=e[Qo]||e[Ko])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function er(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function tr(e){return e[$o]||null}function nr(e){var t=e[Xo];return void 0===t&&(t=e[Xo]=new Set),t}var or=[],rr=-1;function ir(e){return{current:e}}function ar(e){0>rr||(e.current=or[rr],or[rr]=null,rr--)}function ur(e,t){rr++,or[rr]=e.current,e.current=t}var sr={},cr=ir(sr),lr=ir(!1),dr=sr;function fr(e,t){var n=e.type.contextTypes;if(!n)return sr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mr(e){return null!=(e=e.childContextTypes)}function pr(){ar(lr),ar(cr)}function hr(e,t,n){if(cr.current!==sr)throw Error(a(168));ur(cr,t),ur(lr,n)}function gr(e,t,n){var o=e.stateNode;if(e=t.childContextTypes,"function"!=typeof o.getChildContext)return n;for(var i in o=o.getChildContext())if(!(i in e))throw Error(a(108,Y(t)||"Unknown",i));return r({},n,o)}function vr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,dr=cr.current,ur(cr,e),ur(lr,lr.current),!0}function br(e,t,n){var o=e.stateNode;if(!o)throw Error(a(169));n?(e=gr(e,t,dr),o.__reactInternalMemoizedMergedChildContext=e,ar(lr),ar(cr),ur(cr,e)):ar(lr),ur(lr,n)}var yr=null,wr=null,xr=i.unstable_runWithPriority,Sr=i.unstable_scheduleCallback,Ar=i.unstable_cancelCallback,Cr=i.unstable_shouldYield,kr=i.unstable_requestPaint,_r=i.unstable_now,Or=i.unstable_getCurrentPriorityLevel,Ir=i.unstable_ImmediatePriority,Tr=i.unstable_UserBlockingPriority,Er=i.unstable_NormalPriority,Dr=i.unstable_LowPriority,Rr=i.unstable_IdlePriority,Mr={},Pr=void 0!==kr?kr:function(){},Br=null,Lr=null,Fr=!1,Nr=_r(),jr=1e4>Nr?_r:function(){return _r()-Nr};function zr(){switch(Or()){case Ir:return 99;case Tr:return 98;case Er:return 97;case Dr:return 96;case Rr:return 95;default:throw Error(a(332))}}function Ur(e){switch(e){case 99:return Ir;case 98:return Tr;case 97:return Er;case 96:return Dr;case 95:return Rr;default:throw Error(a(332))}}function Vr(e,t){return e=Ur(e),xr(e,t)}function Hr(e,t,n){return e=Ur(e),Sr(e,t,n)}function Wr(){if(null!==Lr){var e=Lr;Lr=null,Ar(e)}Gr()}function Gr(){if(!Fr&&null!==Br){Fr=!0;var e=0;try{var t=Br;Vr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Br=null}catch(t){throw null!==Br&&(Br=Br.slice(e+1)),Sr(Ir,Wr),t}finally{Fr=!1}}}var qr=x.ReactCurrentBatchConfig;function Yr(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qr=ir(null),$r=null,Kr=null,Xr=null;function Jr(){Xr=Kr=$r=null}function Zr(e){var t=Qr.current;ar(Qr),e.type._context._currentValue=t}function ei(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ti(e,t){$r=e,Xr=Kr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ra=!0),e.firstContext=null)}function ni(e,t){if(Xr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Kr){if(null===$r)throw Error(a(308));Kr=t,$r.dependencies={lanes:0,firstContext:t,responders:null}}else Kr=Kr.next=t;return e._currentValue}var oi=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function si(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ci(e,t,n,o){var i=e.updateQueue;oi=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?a=l:u.next=l,u=c;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==u&&(null===f?d.firstBaseUpdate=l:f.next=l,d.lastBaseUpdate=c)}}if(null!==a){for(f=i.baseState,u=0,d=l=c=null;;){s=a.lane;var m=a.eventTime;if((o&s)===s){null!==d&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,h=a;switch(s=t,m=n,h.tag){case 1:if("function"==typeof(p=h.payload)){f=p.call(m,f,s);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(s="function"==typeof(p=h.payload)?p.call(m,f,s):p))break e;f=r({},f,s);break e;case 2:oi=!0}}null!==a.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[a]:s.push(a))}else m={eventTime:m,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(l=d=m,c=f):d=d.next=m,u|=s;if(null===(a=a.next)){if(null===(s=i.shared.pending))break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===d&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=d,Pu|=u,e.lanes=u,e.memoizedState=f}}function li(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(null!==r){if(o.callback=null,o=n,"function"!=typeof r)throw Error(a(191,r));r.call(o)}}}var di=(new o.Component).refs;function fi(e,t,n,o){n=null==(n=n(o,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mi={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=is(),r=as(e),i=ai(o,r);i.payload=t,null!=n&&(i.callback=n),ui(e,i),us(e,r,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=is(),r=as(e),i=ai(o,r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),ui(e,i),us(e,r,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=is(),o=as(e),r=ai(n,o);r.tag=2,null!=t&&(r.callback=t),ui(e,r),us(e,o,n)}};function pi(e,t,n,o,r,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!so(n,o)||!so(r,i))}function hi(e,t,n){var o=!1,r=sr,i=t.contextType;return"object"==typeof i&&null!==i?i=ni(i):(r=mr(t)?dr:cr.current,i=(o=null!=(o=t.contextTypes))?fr(e,r):sr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function gi(e,t,n,o){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function vi(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=di,ri(e);var i=t.contextType;"object"==typeof i&&null!==i?r.context=ni(i):(i=mr(t)?dr:cr.current,r.context=fr(e,i)),ci(e,n,r,o),r.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(fi(e,t,i,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&mi.enqueueReplaceState(r,r.state,null),ci(e,n,r,o),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4)}var bi=Array.isArray;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=o.refs;t===di&&(t=o.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wi(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xi(e){function t(t,n){if(e){var o=t.lastEffect;null!==o?(o.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=js(e,t)).index=0,e.sibling=null,e}function i(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags=2,n):o:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,o){return null===t||6!==t.tag?((t=Hs(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,o){return null!==t&&t.elementType===n.type?((o=r(t,n.props)).ref=yi(e,t,n),o.return=e,o):((o=zs(n.type,n.key,n.props,null,e.mode,o)).ref=yi(e,t,n),o.return=e,o)}function l(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ws(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,o,i){return null===t||7!==t.tag?((t=Us(n,e.mode,o,i)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Hs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=zs(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case A:return(t=Ws(t,e.mode,n)).return=e,t}if(bi(t)||V(t))return(t=Us(t,e.mode,n,null)).return=e,t;wi(e,t)}return null}function m(e,t,n,o){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:s(e,t,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===r?n.type===C?d(e,t,n.props.children,o,r):c(e,t,n,o):null;case A:return n.key===r?l(e,t,n,o):null}if(bi(n)||V(n))return null!==r?null:d(e,t,n,o,null);wi(e,n)}return null}function p(e,t,n,o,r){if("string"==typeof o||"number"==typeof o)return s(t,e=e.get(n)||null,""+o,r);if("object"==typeof o&&null!==o){switch(o.$$typeof){case S:return e=e.get(null===o.key?n:o.key)||null,o.type===C?d(t,e,o.props.children,r,o.key):c(t,e,o,r);case A:return l(t,e=e.get(null===o.key?n:o.key)||null,o,r)}if(bi(o)||V(o))return d(t,e=e.get(n)||null,o,r,null);wi(t,o)}return null}function h(r,a,u,s){for(var c=null,l=null,d=a,h=a=0,g=null;null!==d&&h<u.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var v=m(r,d,u[h],s);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),a=i(v,a,h),null===l?c=v:l.sibling=v,l=v,d=g}if(h===u.length)return n(r,d),c;if(null===d){for(;h<u.length;h++)null!==(d=f(r,u[h],s))&&(a=i(d,a,h),null===l?c=d:l.sibling=d,l=d);return c}for(d=o(r,d);h<u.length;h++)null!==(g=p(d,r,h,u[h],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=i(g,a,h),null===l?c=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(r,e)})),c}function g(r,u,s,c){var l=V(s);if("function"!=typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var d=l=null,h=u,g=u=0,v=null,b=s.next();null!==h&&!b.done;g++,b=s.next()){h.index>g?(v=h,h=null):v=h.sibling;var y=m(r,h,b.value,c);if(null===y){null===h&&(h=v);break}e&&h&&null===y.alternate&&t(r,h),u=i(y,u,g),null===d?l=y:d.sibling=y,d=y,h=v}if(b.done)return n(r,h),l;if(null===h){for(;!b.done;g++,b=s.next())null!==(b=f(r,b.value,c))&&(u=i(b,u,g),null===d?l=b:d.sibling=b,d=b);return l}for(h=o(r,h);!b.done;g++,b=s.next())null!==(b=p(h,r,g,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?g:b.key),u=i(b,u,g),null===d?l=b:d.sibling=b,d=b);return e&&h.forEach((function(e){return t(r,e)})),l}return function(e,o,i,s){var c="object"==typeof i&&null!==i&&i.type===C&&null===i.key;c&&(i=i.props.children);var l="object"==typeof i&&null!==i;if(l)switch(i.$$typeof){case S:e:{for(l=i.key,c=o;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===C){n(e,c.sibling),(o=r(c,i.props.children)).return=e,e=o;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(o=r(c,i.props)).ref=yi(e,c,i),o.return=e,e=o;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===C?((o=Us(i.props.children,e.mode,s,i.key)).return=e,e=o):((s=zs(i.type,i.key,i.props,null,e.mode,s)).ref=yi(e,o,i),s.return=e,e=s)}return u(e);case A:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(e,o.sibling),(o=r(o,i.children||[])).return=e,e=o;break e}n(e,o);break}t(e,o),o=o.sibling}(o=Ws(i,e.mode,s)).return=e,e=o}return u(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==o&&6===o.tag?(n(e,o.sibling),(o=r(o,i)).return=e,e=o):(n(e,o),(o=Hs(i,e.mode,s)).return=e,e=o),u(e);if(bi(i))return h(e,o,i,s);if(V(i))return g(e,o,i,s);if(l&&wi(e,i),void 0===i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Y(e.type)||"Component"))}return n(e,o)}}var Si=xi(!0),Ai=xi(!1),Ci={},ki=ir(Ci),_i=ir(Ci),Oi=ir(Ci);function Ii(e){if(e===Ci)throw Error(a(174));return e}function Ti(e,t){switch(ur(Oi,t),ur(_i,e),ur(ki,Ci),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ar(ki),ur(ki,t)}function Ei(){ar(ki),ar(_i),ar(Oi)}function Di(e){Ii(Oi.current);var t=Ii(ki.current),n=pe(t,e.type);t!==n&&(ur(_i,e),ur(ki,n))}function Ri(e){_i.current===e&&(ar(ki),ar(_i))}var Mi=ir(0);function Pi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=null,Li=null,Fi=!1;function Ni(e,t){var n=Fs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ji(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function zi(e){if(Fi){var t=Li;if(t){var n=t;if(!ji(e,t)){if(!(t=Wo(n.nextSibling))||!ji(e,t))return e.flags=-1025&e.flags|2,Fi=!1,void(Bi=e);Ni(Bi,n)}Bi=e,Li=Wo(t.firstChild)}else e.flags=-1025&e.flags|2,Fi=!1,Bi=e}}function Ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bi=e}function Vi(e){if(e!==Bi)return!1;if(!Fi)return Ui(e),Fi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zo(t,e.memoizedProps))for(t=Li;t;)Ni(e,t),t=Wo(t.nextSibling);if(Ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Li=Wo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Li=null}}else Li=Bi?Wo(e.stateNode.nextSibling):null;return!0}function Hi(){Li=Bi=null,Fi=!1}var Wi=[];function Gi(){for(var e=0;e<Wi.length;e++)Wi[e]._workInProgressVersionPrimary=null;Wi.length=0}var qi=x.ReactCurrentDispatcher,Yi=x.ReactCurrentBatchConfig,Qi=0,$i=null,Ki=null,Xi=null,Ji=!1,Zi=!1;function ea(){throw Error(a(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ao(e[n],t[n]))return!1;return!0}function na(e,t,n,o,r,i){if(Qi=i,$i=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qi.current=null===e||null===e.memoizedState?Ia:Ta,e=n(o,r),Zi){i=0;do{if(Zi=!1,!(25>i))throw Error(a(301));i+=1,Xi=Ki=null,t.updateQueue=null,qi.current=Ea,e=n(o,r)}while(Zi)}if(qi.current=Oa,t=null!==Ki&&null!==Ki.next,Qi=0,Xi=Ki=$i=null,Ji=!1,t)throw Error(a(300));return e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xi?$i.memoizedState=Xi=e:Xi=Xi.next=e,Xi}function ra(){if(null===Ki){var e=$i.alternate;e=null!==e?e.memoizedState:null}else e=Ki.next;var t=null===Xi?$i.memoizedState:Xi.next;if(null!==t)Xi=t,Ki=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ki=e).memoizedState,baseState:Ki.baseState,baseQueue:Ki.baseQueue,queue:Ki.queue,next:null},null===Xi?$i.memoizedState=Xi=e:Xi=Xi.next=e}return Xi}function ia(e,t){return"function"==typeof t?t(e):t}function aa(e){var t=ra(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=Ki,r=o.baseQueue,i=n.pending;if(null!==i){if(null!==r){var u=r.next;r.next=i.next,i.next=u}o.baseQueue=r=i,n.pending=null}if(null!==r){r=r.next,o=o.baseState;var s=u=i=null,c=r;do{var l=c.lane;if((Qi&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),o=c.eagerReducer===e?c.eagerState:e(o,c.action);else{var d={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=d,i=o):s=s.next=d,$i.lanes|=l,Pu|=l}c=c.next}while(null!==c&&c!==r);null===s?i=o:s.next=u,ao(o,t.memoizedState)||(Ra=!0),t.memoizedState=o,t.baseState=i,t.baseQueue=s,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function ua(e){var t=ra(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var u=r=r.next;do{i=e(i,u.action),u=u.next}while(u!==r);ao(i,t.memoizedState)||(Ra=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function sa(e,t,n){var o=t._getVersion;o=o(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===o:(e=e.mutableReadLanes,(e=(Qi&e)===e)&&(t._workInProgressVersionPrimary=o,Wi.push(t))),e)return n(t._source);throw Wi.push(t),Error(a(350))}function ca(e,t,n,o){var r=_u;if(null===r)throw Error(a(349));var i=t._getVersion,u=i(t._source),s=qi.current,c=s.useState((function(){return sa(r,t,n)})),l=c[1],d=c[0];c=Xi;var f=e.memoizedState,m=f.refs,p=m.getSnapshot,h=f.source;f=f.subscribe;var g=$i;return e.memoizedState={refs:m,source:t,subscribe:o},s.useEffect((function(){m.getSnapshot=n,m.setSnapshot=l;var e=i(t._source);if(!ao(u,e)){e=n(t._source),ao(d,e)||(l(e),e=as(g),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var o=r.entanglements,a=e;0<a;){var s=31-Ht(a),c=1<<s;o[s]|=e,a&=~c}}}),[n,t,o]),s.useEffect((function(){return o(t._source,(function(){var e=m.getSnapshot,n=m.setSnapshot;try{n(e(t._source));var o=as(g);r.mutableReadLanes|=o&r.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,o]),ao(p,n)&&ao(h,t)&&ao(f,o)||((e={pending:null,dispatch:null,lastRenderedReducer:ia,lastRenderedState:d}).dispatch=l=_a.bind(null,$i,e),c.queue=e,c.baseQueue=null,d=sa(r,t,n),c.memoizedState=c.baseState=d),d}function la(e,t,n){return ca(ra(),e,t,n)}function da(e){var t=oa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e}).dispatch=_a.bind(null,$i,e),[t.memoizedState,e]}function fa(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=$i.updateQueue)?(t={lastEffect:null},$i.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function ma(e){return e={current:e},oa().memoizedState=e}function pa(){return ra().memoizedState}function ha(e,t,n,o){var r=oa();$i.flags|=e,r.memoizedState=fa(1|t,n,void 0,void 0===o?null:o)}function ga(e,t,n,o){var r=ra();o=void 0===o?null:o;var i=void 0;if(null!==Ki){var a=Ki.memoizedState;if(i=a.destroy,null!==o&&ta(o,a.deps))return void fa(t,n,i,o)}$i.flags|=e,r.memoizedState=fa(1|t,n,i,o)}function va(e,t){return ha(516,4,e,t)}function ba(e,t){return ga(516,4,e,t)}function ya(e,t){return ga(4,2,e,t)}function wa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,wa.bind(null,t,e),n)}function Sa(){}function Aa(e,t){var n=ra();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&ta(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=ra();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&ta(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function ka(e,t){var n=zr();Vr(98>n?98:n,(function(){e(!0)})),Vr(97<n?97:n,(function(){var n=Yi.transition;Yi.transition=1;try{e(!1),t()}finally{Yi.transition=n}}))}function _a(e,t,n){var o=is(),r=as(e),i={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===$i||null!==a&&a===$i)Zi=Ji=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=a(u,n);if(i.eagerReducer=a,i.eagerState=s,ao(s,u))return}catch(e){}us(e,r,o)}}var Oa={readContext:ni,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useOpaqueIdentifier:ea,unstable_isNewReconciler:!1},Ia={readContext:ni,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:ni,useEffect:va,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ha(4,2,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var n=oa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=oa();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e=(e=o.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_a.bind(null,$i,e),[o.memoizedState,e]},useRef:ma,useState:da,useDebugValue:Sa,useDeferredValue:function(e){var t=da(e),n=t[0],o=t[1];return va((function(){var t=Yi.transition;Yi.transition=1;try{o(e)}finally{Yi.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return ma(e=ka.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var o=oa();return o.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ca(o,e,t,n)},useOpaqueIdentifier:function(){if(Fi){var e=!1,t=function(e){return{$$typeof:B,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qo++).toString(36))),Error(a(355))})),n=da(t)[1];return 0==(2&$i.mode)&&($i.flags|=516,fa(5,(function(){n("r:"+(qo++).toString(36))}),void 0,null)),t}return da(t="r:"+(qo++).toString(36)),t},unstable_isNewReconciler:!1},Ta={readContext:ni,useCallback:Aa,useContext:ni,useEffect:ba,useImperativeHandle:xa,useLayoutEffect:ya,useMemo:Ca,useReducer:aa,useRef:pa,useState:function(){return aa(ia)},useDebugValue:Sa,useDeferredValue:function(e){var t=aa(ia),n=t[0],o=t[1];return ba((function(){var t=Yi.transition;Yi.transition=1;try{o(e)}finally{Yi.transition=t}}),[e]),n},useTransition:function(){var e=aa(ia)[0];return[pa().current,e]},useMutableSource:la,useOpaqueIdentifier:function(){return aa(ia)[0]},unstable_isNewReconciler:!1},Ea={readContext:ni,useCallback:Aa,useContext:ni,useEffect:ba,useImperativeHandle:xa,useLayoutEffect:ya,useMemo:Ca,useReducer:ua,useRef:pa,useState:function(){return ua(ia)},useDebugValue:Sa,useDeferredValue:function(e){var t=ua(ia),n=t[0],o=t[1];return ba((function(){var t=Yi.transition;Yi.transition=1;try{o(e)}finally{Yi.transition=t}}),[e]),n},useTransition:function(){var e=ua(ia)[0];return[pa().current,e]},useMutableSource:la,useOpaqueIdentifier:function(){return ua(ia)[0]},unstable_isNewReconciler:!1},Da=x.ReactCurrentOwner,Ra=!1;function Ma(e,t,n,o){t.child=null===e?Ai(t,null,n,o):Si(t,e.child,n,o)}function Pa(e,t,n,o,r){n=n.render;var i=t.ref;return ti(t,r),o=na(e,t,n,o,i,r),null===e||Ra?(t.flags|=1,Ma(e,t,o,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,eu(e,t,r))}function Ba(e,t,n,o,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Ns(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zs(n.type,null,o,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,o,r,i))}return a=e.child,0==(r&i)&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:so)(r,o)&&e.ref===t.ref)?eu(e,t,i):(t.flags|=1,(e=js(a,o)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,o,r,i){if(null!==e&&so(e.memoizedProps,o)&&e.ref===t.ref){if(Ra=!1,0==(i&r))return t.lanes=e.lanes,eu(e,t,i);0!=(16384&e.flags)&&(Ra=!0)}return ja(e,t,n,o,i)}function Fa(e,t,n){var o=t.pendingProps,r=o.children,i=null!==e?e.memoizedState:null;if("hidden"===o.mode||"unstable-defer-without-hiding"===o.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},hs(t,n);else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},hs(t,e),null;t.memoizedState={baseLanes:0},hs(t,null!==i?i.baseLanes:n)}else null!==i?(o=i.baseLanes|n,t.memoizedState=null):o=n,hs(t,o);return Ma(e,t,r,n),t.child}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ja(e,t,n,o,r){var i=mr(n)?dr:cr.current;return i=fr(t,i),ti(t,r),n=na(e,t,n,o,i,r),null===e||Ra?(t.flags|=1,Ma(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,eu(e,t,r))}function za(e,t,n,o,r){if(mr(n)){var i=!0;vr(t)}else i=!1;if(ti(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),hi(t,n,o),vi(t,n,o,r),o=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=ni(c):c=fr(t,c=mr(n)?dr:cr.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==o||s!==c)&&gi(t,a,o,c),oi=!1;var f=t.memoizedState;a.state=f,ci(t,o,a,r),s=t.memoizedState,u!==o||f!==s||lr.current||oi?("function"==typeof l&&(fi(t,n,l,o),s=t.memoizedState),(u=oi||pi(t,n,u,o,f,s,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=o,t.memoizedState=s),a.props=o,a.state=s,a.context=c,o=u):("function"==typeof a.componentDidMount&&(t.flags|=4),o=!1)}else{a=t.stateNode,ii(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Yr(t.type,u),a.props=c,d=t.pendingProps,f=a.context,"object"==typeof(s=n.contextType)&&null!==s?s=ni(s):s=fr(t,s=mr(n)?dr:cr.current);var m=n.getDerivedStateFromProps;(l="function"==typeof m||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==d||f!==s)&&gi(t,a,o,s),oi=!1,f=t.memoizedState,a.state=f,ci(t,o,a,r);var p=t.memoizedState;u!==d||f!==p||lr.current||oi?("function"==typeof m&&(fi(t,n,m,o),p=t.memoizedState),(c=oi||pi(t,n,c,o,f,p,s))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(o,p,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(o,p,s)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=o,t.memoizedState=p),a.props=o,a.state=p,a.context=s,o=c):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),o=!1)}return Ua(e,t,n,o,i,r)}function Ua(e,t,n,o,r,i){Na(e,t);var a=0!=(64&t.flags);if(!o&&!a)return r&&br(t,n,!1),eu(e,t,i);o=t.stateNode,Da.current=t;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&a?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,u,i)):Ma(e,t,u,i),t.memoizedState=o.state,r&&br(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?hr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&hr(0,t.context,!1),Ti(e,t.containerInfo)}var Ha,Wa,Ga,qa={dehydrated:null,retryLane:0};function Ya(e,t,n){var o,r=t.pendingProps,i=Mi.current,a=!1;return(o=0!=(64&t.flags))||(o=(null===e||null!==e.memoizedState)&&0!=(2&i)),o?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(i|=1),ur(Mi,1&i),null===e?(void 0!==r.fallback&&zi(t),e=r.children,i=r.fallback,a?(e=Qa(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qa,e):"number"==typeof r.unstable_expectedLoadTime?(e=Qa(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qa,t.lanes=33554432,e):((n=Vs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(r=Ka(e,t,r.children,r.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=qa,r):(n=$a(e,t,r.children,n),t.memoizedState=null,n))}function Qa(e,t,n,o){var r=e.mode,i=e.child;return t={mode:"hidden",children:t},0==(2&r)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Vs(t,r,0,null),n=Us(n,r,o,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function $a(e,t,n,o){var r=e.child;return e=r.sibling,n=js(r,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=o),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ka(e,t,n,o,r){var i=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:n};return 0==(2&i)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=u,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=js(a,u),null!==e?o=js(e,o):(o=Us(o,i,r,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,o}function Xa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ei(e.return,t)}function Ja(e,t,n,o,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=n,a.tailMode=r,a.lastEffect=i)}function Za(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(Ma(e,t,o.children,n),0!=(2&(o=Mi.current)))o=1&o|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xa(e,n);else if(19===e.tag)Xa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ur(Mi,o),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Pi(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ja(t,!1,r,n,i,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Pi(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ja(t,!0,n,null,i,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function eu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pu|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=js(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=js(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function tu(e,t){if(!Fi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function nu(e,t,n){var o=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mr(t.type)&&pr(),null;case 3:return Ei(),ar(lr),ar(cr),Gi(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(Vi(t)?t.flags|=4:o.hydrate||(t.flags|=256)),null;case 5:Ri(t);var i=Ii(Oi.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,o),e.ref!==t.ref&&(t.flags|=128);else{if(!o){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ii(ki.current),Vi(t)){o=t.stateNode,n=t.type;var u=t.memoizedProps;switch(o[Qo]=t,o[$o]=u,n){case"dialog":_o("cancel",o),_o("close",o);break;case"iframe":case"object":case"embed":_o("load",o);break;case"video":case"audio":for(e=0;e<So.length;e++)_o(So[e],o);break;case"source":_o("error",o);break;case"img":case"image":case"link":_o("error",o),_o("load",o);break;case"details":_o("toggle",o);break;case"input":ee(o,u),_o("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},_o("invalid",o);break;case"textarea":se(o,u),_o("invalid",o)}for(var c in Ae(n,u),e=null,u)u.hasOwnProperty(c)&&(i=u[c],"children"===c?"string"==typeof i?o.textContent!==i&&(e=["children",i]):"number"==typeof i&&o.textContent!==""+i&&(e=["children",""+i]):s.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&_o("scroll",o));switch(n){case"input":K(o),oe(o,u,!0);break;case"textarea":K(o),le(o);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(o.onclick=Lo)}o=e,t.updateQueue=o,null!==o&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===de&&(e=me(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=c.createElement(n,{is:o.is}):(e=c.createElement(n),"select"===n&&(c=e,o.multiple?c.multiple=!0:o.size&&(c.size=o.size))):e=c.createElementNS(e,n),e[Qo]=t,e[$o]=o,Ha(e,t),t.stateNode=e,c=Ce(n,o),n){case"dialog":_o("cancel",e),_o("close",e),i=o;break;case"iframe":case"object":case"embed":_o("load",e),i=o;break;case"video":case"audio":for(i=0;i<So.length;i++)_o(So[i],e);i=o;break;case"source":_o("error",e),i=o;break;case"img":case"image":case"link":_o("error",e),_o("load",e),i=o;break;case"details":_o("toggle",e),i=o;break;case"input":ee(e,o),i=Z(e,o),_o("invalid",e);break;case"option":i=ie(e,o);break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=r({},o,{value:void 0}),_o("invalid",e);break;case"textarea":se(e,o),i=ue(e,o),_o("invalid",e);break;default:i=o}Ae(n,i);var l=i;for(u in l)if(l.hasOwnProperty(u)){var d=l[u];"style"===u?xe(e,d):"dangerouslySetInnerHTML"===u?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===u?"string"==typeof d?("textarea"!==n||""!==d)&&ve(e,d):"number"==typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=d&&"onScroll"===u&&_o("scroll",e):null!=d&&w(e,u,d,c))}switch(n){case"input":K(e),oe(e,o,!1);break;case"textarea":K(e),le(e);break;case"option":null!=o.value&&e.setAttribute("value",""+Q(o.value));break;case"select":e.multiple=!!o.multiple,null!=(u=o.value)?ae(e,!!o.multiple,u,!1):null!=o.defaultValue&&ae(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Lo)}jo(n,o)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(a(166));n=Ii(Oi.current),Ii(ki.current),Vi(t)?(o=t.stateNode,n=t.memoizedProps,o[Qo]=t,o.nodeValue!==n&&(t.flags|=4)):((o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[Qo]=t,t.stateNode=o)}return null;case 13:return ar(Mi),o=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(o=null!==o,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vi(t):n=null!==e.memoizedState,o&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Mi.current)?0===Du&&(Du=3):(0!==Du&&3!==Du||(Du=4),null===_u||0==(134217727&Pu)&&0==(134217727&Bu)||ds(_u,Iu))),(o||n)&&(t.flags|=4),null);case 4:return Ei(),null===e&&Io(t.stateNode.containerInfo),null;case 10:return Zr(t),null;case 17:return mr(t.type)&&pr(),null;case 19:if(ar(Mi),null===(o=t.memoizedState))return null;if(u=0!=(64&t.flags),null===(c=o.rendering))if(u)tu(o,!1);else{if(0!==Du||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Pi(e))){for(t.flags|=64,tu(o,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=n,n=t.child;null!==n;)e=o,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ur(Mi,1&Mi.current|2),t.child}e=e.sibling}null!==o.tail&&jr()>ju&&(t.flags|=64,u=!0,tu(o,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Pi(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),tu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!Fi)return null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null),null}else 2*jr()-o.renderingStartTime>ju&&1073741824!==n&&(t.flags|=64,u=!0,tu(o,!1),t.lanes=33554432);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=t.lastEffect,o.renderingStartTime=jr(),n.sibling=null,t=Mi.current,ur(Mi,u?1&t|2:1&t),n):null;case 23:case 24:return gs(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==o.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ou(e){switch(e.tag){case 1:mr(e.type)&&pr();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ei(),ar(lr),ar(cr),Gi(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ri(e),null;case 13:return ar(Mi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ar(Mi),null;case 4:return Ei(),null;case 10:return Zr(e),null;case 23:case 24:return gs(),null;default:return null}}function ru(e,t){try{var n="",o=t;do{n+=q(o),o=o.return}while(o);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function iu(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ha=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,Ii(ki.current);var a,u=null;switch(n){case"input":i=Z(e,i),o=Z(e,o),u=[];break;case"option":i=ie(e,i),o=ie(e,o),u=[];break;case"select":i=r({},i,{value:void 0}),o=r({},o,{value:void 0}),u=[];break;case"textarea":i=ue(e,i),o=ue(e,o),u=[];break;default:"function"!=typeof i.onClick&&"function"==typeof o.onClick&&(e.onclick=Lo)}for(d in Ae(n,o),n=null,i)if(!o.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var c=i[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?u||(u=[]):(u=u||[]).push(d,null));for(d in o){var l=o[d];if(c=null!=i?i[d]:void 0,o.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(u||(u=[]),u.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(d,l)):"children"===d?"string"!=typeof l&&"number"!=typeof l||(u=u||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&_o("scroll",e),u||c===l||(u=[])):"object"==typeof l&&null!==l&&l.$$typeof===B?l.toString():(u=u||[]).push(d,l))}n&&(u=u||[]).push("style",n);var d=u;(t.updateQueue=d)&&(t.flags|=4)}},Ga=function(e,t,n,o){n!==o&&(t.flags|=4)};var au="function"==typeof WeakMap?WeakMap:Map;function uu(e,t,n){(n=ai(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=o),iu(0,t)},n}function su(e,t,n){(n=ai(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"==typeof o){var r=t.value;n.payload=function(){return iu(0,t),o(r)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof o&&(null===Gu?Gu=new Set([this]):Gu.add(this),iu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cu="function"==typeof WeakSet?WeakSet:Set;function lu(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ms(e,t)}else t.current=null}function du(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,o=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yr(t.type,n),o),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ho(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function fu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var o=e.create;e.destroy=o()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;o=r.next,0!=(4&(r=r.tag))&&0!=(1&r)&&(Es(n,e),Ts(n,e)),e=o}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(o=n.elementType===n.type?t.memoizedProps:Yr(n.type,t.memoizedProps),e.componentDidUpdate(o,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&li(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}li(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&jo(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function mu(e,t){for(var n=e;;){if(5===n.tag){var o=n.stateNode;if(t)"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{o=n.stateNode;var r=n.memoizedProps.style;r=null!=r&&r.hasOwnProperty("display")?r.display:null,o.style.display=we("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function pu(e,t){if(wr&&"function"==typeof wr.onCommitFiberUnmount)try{wr.onCommitFiberUnmount(yr,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var o=n,r=o.destroy;if(o=o.tag,void 0!==r)if(0!=(4&o))Es(t,n);else{o=t;try{r()}catch(e){Ms(o,e)}}n=n.next}while(n!==e)}break;case 1:if(lu(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ms(t,e)}break;case 5:lu(t);break;case 4:bu(e,t)}}function hu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gu(e){return 5===e.tag||3===e.tag||4===e.tag}function vu(e){e:{for(var t=e.return;null!==t;){if(gu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var o=!1;break;case 3:case 4:t=t.containerInfo,o=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}o?function e(t,n,o){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===o.nodeType?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(8===o.nodeType?(n=o.parentNode).insertBefore(t,o):(n=o).appendChild(t),null!==(o=o._reactRootContainer)&&void 0!==o||null!==n.onclick||(n.onclick=Lo));else if(4!==r&&null!==(t=t.child))for(e(t,n,o),t=t.sibling;null!==t;)e(t,n,o),t=t.sibling}(e,n,t):function e(t,n,o){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,n?o.insertBefore(t,n):o.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,o),t=t.sibling;null!==t;)e(t,n,o),t=t.sibling}(e,n,t)}function bu(e,t){for(var n,o,r=t,i=!1;;){if(!i){i=r.return;e:for(;;){if(null===i)throw Error(a(160));switch(n=i.stateNode,i.tag){case 5:o=!1;break e;case 3:case 4:n=n.containerInfo,o=!0;break e}i=i.return}i=!0}if(5===r.tag||6===r.tag){e:for(var u=e,s=r,c=s;;)if(pu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}o?(u=n,s=r.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(pu(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function yu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{3==(3&o.tag)&&(e=o.destroy,o.destroy=void 0,void 0!==e&&e()),o=o.next}while(o!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){o=t.memoizedProps;var r=null!==e?e.memoizedProps:o;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[$o]=o,"input"===e&&"radio"===o.type&&null!=o.name&&te(n,o),Ce(e,r),t=Ce(e,o),r=0;r<i.length;r+=2){var u=i[r],s=i[r+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?ve(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,o);break;case"textarea":ce(n,o);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,null!=(i=o.value)?ae(n,!!o.multiple,i,!1):e!==!!o.multiple&&(null!=o.defaultValue?ae(n,!!o.multiple,o.defaultValue,!0):ae(n,!!o.multiple,o.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Nu=jr(),mu(t.child,!0)),void wu(t);case 19:return void wu(t);case 17:return;case 23:case 24:return void mu(t,null!==t.memoizedState)}throw Error(a(163))}function wu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cu),t.forEach((function(t){var o=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))}))}}function xu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Su=Math.ceil,Au=x.ReactCurrentDispatcher,Cu=x.ReactCurrentOwner,ku=0,_u=null,Ou=null,Iu=0,Tu=0,Eu=ir(0),Du=0,Ru=null,Mu=0,Pu=0,Bu=0,Lu=0,Fu=null,Nu=0,ju=1/0;function zu(){ju=jr()+500}var Uu,Vu=null,Hu=!1,Wu=null,Gu=null,qu=!1,Yu=null,Qu=90,$u=[],Ku=[],Xu=null,Ju=0,Zu=null,es=-1,ts=0,ns=0,os=null,rs=!1;function is(){return 0!=(48&ku)?jr():-1!==es?es:es=jr()}function as(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zr()?1:2;if(0===ts&&(ts=Mu),0!==qr.transition){0!==ns&&(ns=null!==Fu?Fu.pendingLanes:0),e=ts;var t=4186112&~ns;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zr(),0!=(4&ku)&&98===e?e=jt(12,ts):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ts),e}function us(e,t,n){if(50<Ju)throw Ju=0,Zu=null,Error(a(185));if(null===(e=ss(e,t)))return null;Vt(e,t,n),e===_u&&(Bu|=t,4===Du&&ds(e,Iu));var o=zr();1===t?0!=(8&ku)&&0==(48&ku)?fs(e):(cs(e,n),0===ku&&(zu(),Wr())):(0==(4&ku)||98!==o&&99!==o||(null===Xu?Xu=new Set([e]):Xu.add(e)),cs(e,n)),Fu=e}function ss(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cs(e,t){for(var n=e.callbackNode,o=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),c=1<<s,l=i[s];if(-1===l){if(0==(c&o)||0!=(c&r)){l=t,Lt(c);var d=Bt;i[s]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(o=Ft(e,e===_u?Iu:0),t=Bt,0===o)null!==n&&(n!==Mr&&Ar(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mr&&Ar(n)}15===t?(n=fs.bind(null,e),null===Br?(Br=[n],Lr=Sr(Ir,Gr)):Br.push(n),n=Mr):14===t?n=Hr(99,fs.bind(null,e)):n=Hr(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),ls.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ls(e){if(es=-1,ns=ts=0,0!=(48&ku))throw Error(a(327));var t=e.callbackNode;if(Is()&&e.callbackNode!==t)return null;var n=Ft(e,e===_u?Iu:0);if(0===n)return null;var o=n,r=ku;ku|=16;var i=ys();for(_u===e&&Iu===o||(zu(),vs(e,o));;)try{Ss();break}catch(t){bs(e,t)}if(Jr(),Au.current=i,ku=r,null!==Ou?o=0:(_u=null,Iu=0,o=Du),0!=(Mu&Bu))vs(e,0);else if(0!==o){if(2===o&&(ku|=64,e.hydrate&&(e.hydrate=!1,Ho(e.containerInfo)),0!==(n=Nt(e))&&(o=ws(e,n))),1===o)throw t=Ru,vs(e,0),ds(e,n),cs(e,jr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,o){case 0:case 1:throw Error(a(345));case 2:ks(e);break;case 3:if(ds(e,n),(62914560&n)===n&&10<(o=Nu+500-jr())){if(0!==Ft(e,0))break;if(((r=e.suspendedLanes)&n)!==n){is(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Uo(ks.bind(null,e),o);break}ks(e);break;case 4:if(ds(e,n),(4186112&n)===n)break;for(o=e.eventTimes,r=-1;0<n;){var u=31-Ht(n);i=1<<u,(u=o[u])>r&&(r=u),n&=~i}if(n=r,10<(n=(120>(n=jr()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Su(n/1960))-n)){e.timeoutHandle=Uo(ks.bind(null,e),n);break}ks(e);break;case 5:ks(e);break;default:throw Error(a(329))}}return cs(e,jr()),e.callbackNode===t?ls.bind(null,e):null}function ds(e,t){for(t&=~Lu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),o=1<<n;e[n]=-1,t&=~o}}function fs(e){if(0!=(48&ku))throw Error(a(327));if(Is(),e===_u&&0!=(e.expiredLanes&Iu)){var t=Iu,n=ws(e,t);0!=(Mu&Bu)&&(n=ws(e,t=Ft(e,t)))}else n=ws(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(ku|=64,e.hydrate&&(e.hydrate=!1,Ho(e.containerInfo)),0!==(t=Nt(e))&&(n=ws(e,t))),1===n)throw n=Ru,vs(e,0),ds(e,t),cs(e,jr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ks(e),cs(e,jr()),null}function ms(e,t){var n=ku;ku|=1;try{return e(t)}finally{0===(ku=n)&&(zu(),Wr())}}function ps(e,t){var n=ku;ku&=-2,ku|=8;try{return e(t)}finally{0===(ku=n)&&(zu(),Wr())}}function hs(e,t){ur(Eu,Tu),Tu|=t,Mu|=t}function gs(){Tu=Eu.current,ar(Eu)}function vs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vo(n)),null!==Ou)for(n=Ou.return;null!==n;){var o=n;switch(o.tag){case 1:null!=(o=o.type.childContextTypes)&&pr();break;case 3:Ei(),ar(lr),ar(cr),Gi();break;case 5:Ri(o);break;case 4:Ei();break;case 13:case 19:ar(Mi);break;case 10:Zr(o);break;case 23:case 24:gs()}n=n.return}_u=e,Ou=js(e.current,null),Iu=Tu=Mu=t,Du=0,Ru=null,Lu=Bu=Pu=0}function bs(e,t){for(;;){var n=Ou;try{if(Jr(),qi.current=Oa,Ji){for(var o=$i.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}Ji=!1}if(Qi=0,Xi=Ki=$i=null,Zi=!1,Cu.current=null,null===n||null===n.return){Du=1,Ru=t,Ou=null;break}e:{var i=e,a=n.return,u=n,s=t;if(t=Iu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=s;if(0==(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=0!=(1&Mi.current),f=a;do{var m;if(m=13===f.tag){var p=f.memoizedState;if(null!==p)m=null!==p.dehydrated;else{var h=f.memoizedProps;m=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!d)}}if(m){var g=f.updateQueue;if(null===g){var v=new Set;v.add(c),f.updateQueue=v}else g.add(c);if(0==(2&f.mode)){if(f.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=ai(-1,1);b.tag=2,ui(u,b)}u.lanes|=1;break e}s=void 0,u=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new au,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(u)){s.add(u);var w=Ps.bind(null,i,c,u);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);s=Error((Y(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Du&&(Du=2),s=ru(s,u),f=a;do{switch(f.tag){case 3:i=s,f.flags|=4096,t&=-t,f.lanes|=t,si(f,uu(0,i,t));break e;case 1:i=s;var x=f.type,S=f.stateNode;if(0==(64&f.flags)&&("function"==typeof x.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Gu||!Gu.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,si(f,su(f,i,t));break e}}f=f.return}while(null!==f)}Cs(n)}catch(e){t=e,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function ys(){var e=Au.current;return Au.current=Oa,null===e?Oa:e}function ws(e,t){var n=ku;ku|=16;var o=ys();for(_u===e&&Iu===t||vs(e,t);;)try{xs();break}catch(t){bs(e,t)}if(Jr(),ku=n,Au.current=o,null!==Ou)throw Error(a(261));return _u=null,Iu=0,Du}function xs(){for(;null!==Ou;)As(Ou)}function Ss(){for(;null!==Ou&&!Cr();)As(Ou)}function As(e){var t=Uu(e.alternate,e,Tu);e.memoizedProps=e.pendingProps,null===t?Cs(e):Ou=t,Cu.current=null}function Cs(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=nu(n,t,Tu)))return void(Ou=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Tu)||0==(4&n.mode)){for(var o=0,r=n.child;null!==r;)o|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=o}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ou(t)))return n.flags&=2047,void(Ou=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Du&&(Du=5)}function ks(e){var t=zr();return Vr(99,_s.bind(null,e,t)),null}function _s(e,t){do{Is()}while(null!==Yu);if(0!=(48&ku))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var o=n.lanes|n.childLanes,r=o,i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<i;){var c=31-Ht(i),l=1<<c;r[c]=0,u[c]=-1,s[c]=-1,i&=~l}if(null!==Xu&&0==(24&o)&&Xu.has(e)&&Xu.delete(e),e===_u&&(Ou=_u=null,Iu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){if(r=ku,ku|=32,Cu.current=null,Fo=Qt,mo(u=fo())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(e){s=null;break e}var d=0,f=-1,m=-1,p=0,h=0,g=u,v=null;t:for(;;){for(var b;g!==s||0!==i&&3!==g.nodeType||(f=d+i),g!==c||0!==l&&3!==g.nodeType||(m=d+l),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)v=g,g=b;for(;;){if(g===u)break t;if(v===s&&++p===i&&(f=d),v===c&&++h===l&&(m=d),null!==(b=g.nextSibling))break;v=(g=v).parentNode}g=b}s=-1===f||-1===m?null:{start:f,end:m}}else s=null;s=s||{start:0,end:0}}else s=null;No={focusedElem:u,selectionRange:s},Qt=!1,os=null,rs=!1,Vu=o;do{try{Os()}catch(e){if(null===Vu)throw Error(a(330));Ms(Vu,e),Vu=Vu.nextEffect}}while(null!==Vu);os=null,Vu=o;do{try{for(u=e;null!==Vu;){var y=Vu.flags;if(16&y&&ve(Vu.stateNode,""),128&y){var w=Vu.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&y){case 2:vu(Vu),Vu.flags&=-3;break;case 6:vu(Vu),Vu.flags&=-3,yu(Vu.alternate,Vu);break;case 1024:Vu.flags&=-1025;break;case 1028:Vu.flags&=-1025,yu(Vu.alternate,Vu);break;case 4:yu(Vu.alternate,Vu);break;case 8:bu(u,s=Vu);var S=s.alternate;hu(s),null!==S&&hu(S)}Vu=Vu.nextEffect}}catch(e){if(null===Vu)throw Error(a(330));Ms(Vu,e),Vu=Vu.nextEffect}}while(null!==Vu);if(x=No,w=fo(),y=x.focusedElem,u=x.selectionRange,w!==y&&y&&y.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(y.ownerDocument.documentElement,y)){null!==u&&mo(y)&&(w=u.start,void 0===(x=u.end)&&(x=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(x,y.value.length)):(x=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),s=y.textContent.length,S=Math.min(u.start,s),u=void 0===u.end?S:Math.min(u.end,s),!x.extend&&S>u&&(s=u,u=S,S=s),s=lo(y,S),i=lo(y,u),s&&i&&(1!==x.rangeCount||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==i.node||x.focusOffset!==i.offset)&&((w=w.createRange()).setStart(s.node,s.offset),x.removeAllRanges(),S>u?(x.addRange(w),x.extend(i.node,i.offset)):(w.setEnd(i.node,i.offset),x.addRange(w))))),w=[];for(x=y;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<w.length;y++)(x=w[y]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Qt=!!Fo,No=Fo=null,e.current=n,Vu=o;do{try{for(y=e;null!==Vu;){var A=Vu.flags;if(36&A&&fu(y,Vu.alternate,Vu),128&A){w=void 0;var C=Vu.ref;if(null!==C){var k=Vu.stateNode;switch(Vu.tag){case 5:w=k;break;default:w=k}"function"==typeof C?C(w):C.current=w}}Vu=Vu.nextEffect}}catch(e){if(null===Vu)throw Error(a(330));Ms(Vu,e),Vu=Vu.nextEffect}}while(null!==Vu);Vu=null,Pr(),ku=r}else e.current=n;if(qu)qu=!1,Yu=e,Qu=t;else for(Vu=o;null!==Vu;)t=Vu.nextEffect,Vu.nextEffect=null,8&Vu.flags&&((A=Vu).sibling=null,A.stateNode=null),Vu=t;if(0===(o=e.pendingLanes)&&(Gu=null),1===o?e===Zu?Ju++:(Ju=0,Zu=e):Ju=0,n=n.stateNode,wr&&"function"==typeof wr.onCommitFiberRoot)try{wr.onCommitFiberRoot(yr,n,void 0,64==(64&n.current.flags))}catch(e){}if(cs(e,jr()),Hu)throw Hu=!1,e=Wu,Wu=null,e;return 0!=(8&ku)||Wr(),null}function Os(){for(;null!==Vu;){var e=Vu.alternate;rs||null===os||(0!=(8&Vu.flags)?Ze(Vu,os)&&(rs=!0):13===Vu.tag&&xu(e,Vu)&&Ze(Vu,os)&&(rs=!0));var t=Vu.flags;0!=(256&t)&&du(e,Vu),0==(512&t)||qu||(qu=!0,Hr(97,(function(){return Is(),null}))),Vu=Vu.nextEffect}}function Is(){if(90!==Qu){var e=97<Qu?97:Qu;return Qu=90,Vr(e,Ds)}return!1}function Ts(e,t){$u.push(t,e),qu||(qu=!0,Hr(97,(function(){return Is(),null})))}function Es(e,t){Ku.push(t,e),qu||(qu=!0,Hr(97,(function(){return Is(),null})))}function Ds(){if(null===Yu)return!1;var e=Yu;if(Yu=null,0!=(48&ku))throw Error(a(331));var t=ku;ku|=32;var n=Ku;Ku=[];for(var o=0;o<n.length;o+=2){var r=n[o],i=n[o+1],u=r.destroy;if(r.destroy=void 0,"function"==typeof u)try{u()}catch(e){if(null===i)throw Error(a(330));Ms(i,e)}}for(n=$u,$u=[],o=0;o<n.length;o+=2){r=n[o],i=n[o+1];try{var s=r.create;r.destroy=s()}catch(e){if(null===i)throw Error(a(330));Ms(i,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return ku=t,Wr(),!0}function Rs(e,t,n){ui(e,t=uu(0,t=ru(n,t),1)),t=is(),null!==(e=ss(e,1))&&(Vt(e,1,t),cs(e,t))}function Ms(e,t){if(3===e.tag)Rs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rs(n,e,t);break}if(1===n.tag){var o=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof o.componentDidCatch&&(null===Gu||!Gu.has(o))){var r=su(n,e=ru(t,e),1);if(ui(n,r),r=is(),null!==(n=ss(n,1)))Vt(n,1,r),cs(n,r);else if("function"==typeof o.componentDidCatch&&(null===Gu||!Gu.has(o)))try{o.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ps(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=is(),e.pingedLanes|=e.suspendedLanes&n,_u===e&&(Iu&n)===n&&(4===Du||3===Du&&(62914560&Iu)===Iu&&500>jr()-Nu?vs(e,0):Lu|=n),cs(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zr()?1:2:(0===ts&&(ts=Mu),0===(t=zt(62914560&~ts))&&(t=4194304))),n=is(),null!==(e=ss(e,t))&&(Vt(e,t,n),cs(e,n))}function Ls(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(e,t,n,o){return new Ls(e,t,n,o)}function Ns(e){return!(!(e=e.prototype)||!e.isReactComponent)}function js(e,t){var n=e.alternate;return null===n?((n=Fs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zs(e,t,n,o,r,i){var u=2;if(o=e,"function"==typeof e)Ns(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case C:return Us(n.children,r,i,t);case L:u=8,r|=16;break;case k:u=8,r|=1;break;case _:return(e=Fs(12,n,t,8|r)).elementType=_,e.type=_,e.lanes=i,e;case E:return(e=Fs(13,n,t,r)).type=E,e.elementType=E,e.lanes=i,e;case D:return(e=Fs(19,n,t,r)).elementType=D,e.lanes=i,e;case F:return Vs(n,r,i,t);case N:return(e=Fs(24,n,t,r)).elementType=N,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:u=10;break e;case I:u=9;break e;case T:u=11;break e;case R:u=14;break e;case M:u=16,o=null;break e;case P:u=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fs(u,n,t,r)).elementType=e,t.type=o,t.lanes=i,t}function Us(e,t,n,o){return(e=Fs(7,e,o,t)).lanes=n,e}function Vs(e,t,n,o){return(e=Fs(23,e,o,t)).elementType=F,e.lanes=n,e}function Hs(e,t,n){return(e=Fs(6,e,null,t)).lanes=n,e}function Ws(e,t,n){return(t=Fs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ut(0),this.expirationTimes=Ut(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.mutableSourceEagerHydrationData=null}function qs(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}function Ys(e,t,n,o){var r=t.current,i=is(),u=as(r);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mr(c)){n=gr(n,c,s);break e}}n=s}else n=sr;return null===t.context?t.context=n:t.pendingContext=n,(t=ai(i,u)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),ui(r,t),us(r,u,i),u}function Qs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $s(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ks(e,t){$s(e,t),(e=e.alternate)&&$s(e,t)}function Xs(e,t,n){var o=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gs(e,t,null!=n&&!0===n.hydrate),t=Fs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ri(t),e[Ko]=n.current,Io(8===e.nodeType?e.parentNode:e),o)for(e=0;e<o.length;e++){var r=(t=o[e])._getVersion;r=r(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=n}function Js(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zs(e,t,n,o,r){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof r){var u=r;r=function(){var e=Qs(a);u.call(e)}}Ys(t,a,e,r)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xs(e,0,t?{hydrate:!0}:void 0)}(n,o),a=i._internalRoot,"function"==typeof r){var s=r;r=function(){var e=Qs(a);s.call(e)}}ps((function(){Ys(t,a,e,r)}))}return Qs(a)}function ec(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Js(t))throw Error(a(200));return qs(e,t,null,n)}Uu=function(e,t,n){var o=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||lr.current)Ra=!0;else{if(0==(n&o)){switch(Ra=!1,t.tag){case 3:Va(t),Hi();break;case 5:Di(t);break;case 1:mr(t.type)&&vr(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:o=t.memoizedProps.value;var r=t.type._context;ur(Qr,r._currentValue),r._currentValue=o;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ya(e,t,n):(ur(Mi,1&Mi.current),null!==(t=eu(e,t,n))?t.sibling:null);ur(Mi,1&Mi.current);break;case 19:if(o=0!=(n&t.childLanes),0!=(64&e.flags)){if(o)return Za(e,t,n);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),ur(Mi,Mi.current),o)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return eu(e,t,n)}Ra=0!=(16384&e.flags)}else Ra=!1;switch(t.lanes=0,t.tag){case 2:if(o=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=fr(t,cr.current),ti(t,n),r=na(null,t,o,e,r,n),t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(o)){var i=!0;vr(t)}else i=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ri(t);var u=o.getDerivedStateFromProps;"function"==typeof u&&fi(t,o,u,e),r.updater=mi,t.stateNode=r,r._reactInternals=t,vi(t,o,e,n),t=Ua(null,t,o,!0,i,n)}else t.tag=0,Ma(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Ns(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=Yr(r,e),i){case 0:t=ja(null,t,r,e,n);break e;case 1:t=za(null,t,r,e,n);break e;case 11:t=Pa(null,t,r,e,n);break e;case 14:t=Ba(null,t,r,Yr(r.type,e),o,n);break e}throw Error(a(306,r,""))}return t;case 0:return o=t.type,r=t.pendingProps,ja(e,t,o,r=t.elementType===o?r:Yr(o,r),n);case 1:return o=t.type,r=t.pendingProps,za(e,t,o,r=t.elementType===o?r:Yr(o,r),n);case 3:if(Va(t),o=t.updateQueue,null===e||null===o)throw Error(a(282));if(o=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ii(e,t),ci(t,o,null,n),(o=t.memoizedState.element)===r)Hi(),t=eu(e,t,n);else{if((i=(r=t.stateNode).hydrate)&&(Li=Wo(t.stateNode.containerInfo.firstChild),Bi=t,i=Fi=!0),i){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(i=e[r])._workInProgressVersionPrimary=e[r+1],Wi.push(i);for(n=Ai(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ma(e,t,o,n),Hi();t=t.child}return t;case 5:return Di(t),null===e&&zi(t),o=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,u=r.children,zo(o,r)?u=null:null!==i&&zo(o,i)&&(t.flags|=16),Na(e,t),Ma(e,t,u,n),t.child;case 6:return null===e&&zi(t),null;case 13:return Ya(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=Si(t,null,o,n):Ma(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,Pa(e,t,o,r=t.elementType===o?r:Yr(o,r),n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{o=t.type._context,r=t.pendingProps,u=t.memoizedProps,i=r.value;var s=t.type._context;if(ur(Qr,s._currentValue),s._currentValue=i,null!==u)if(s=u.value,0===(i=ao(s,i)?0:0|("function"==typeof o._calculateChangedBits?o._calculateChangedBits(s,i):1073741823))){if(u.children===r.children&&!lr.current){t=eu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===o&&0!=(l.observedBits&i)){1===s.tag&&((l=ai(-1,n&-n)).tag=2,ui(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ei(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Ma(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=(i=t.pendingProps).children,ti(t,n),o=o(r=ni(r,i.unstable_observedBits)),t.flags|=1,Ma(e,t,o,n),t.child;case 14:return i=Yr(r=t.type,t.pendingProps),Ba(e,t,r,i=Yr(r.type,i),o,n);case 15:return La(e,t,t.type,t.pendingProps,o,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Yr(o,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mr(o)?(e=!0,vr(t)):e=!1,ti(t,n),hi(t,o,r),vi(t,o,r,n),Ua(null,t,o,!0,e,n);case 19:return Za(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},Xs.prototype.render=function(e){Ys(e,this._internalRoot,null,null)},Xs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ys(null,e,null,(function(){t[Ko]=null}))},et=function(e){13===e.tag&&(us(e,4,is()),Ks(e,4))},tt=function(e){13===e.tag&&(us(e,67108864,is()),Ks(e,67108864))},nt=function(e){if(13===e.tag){var t=is(),n=as(e);us(e,n,t),Ks(e,n)}},ot=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=tr(o);if(!r)throw Error(a(90));X(o),ne(o,r)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=ms,Me=function(e,t,n,o,r){var i=ku;ku|=4;try{return Vr(98,e.bind(null,t,n,o,r))}finally{0===(ku=i)&&(zu(),Wr())}},Pe=function(){0==(49&ku)&&(function(){if(null!==Xu){var e=Xu;Xu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cs(e,jr())}))}Wr()}(),Is())},Be=function(e,t){var n=ku;ku|=2;try{return e(t)}finally{0===(ku=n)&&(zu(),Wr())}};var tc={Events:[Zo,er,tr,Ee,De,Is,{current:!1}]},nc={findFiberByHostInstance:Jo,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},oc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{yr=rc.inject(oc),wr=rc}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=ec,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ku;if(0!=(48&n))return e(t);ku|=1;try{if(e)return Vr(99,e.bind(null,t))}finally{ku=n,Wr()}},t.hydrate=function(e,t,n){if(!Js(t))throw Error(a(200));return Zs(null,e,t,!0,n)},t.render=function(e,t,n){if(!Js(t))throw Error(a(200));return Zs(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Js(e))throw Error(a(40));return!!e._reactRootContainer&&(ps((function(){Zs(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ko]=null}))})),!0)},t.unstable_batchedUpdates=ms,t.unstable_createPortal=function(e,t){return ec(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Js(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zs(e,t,n,!1,o)},t.version="17.0.2"},caa7:function(e,t,n){"use strict";n("6669")},cabd:function(e,t,n){"use strict";var o=n("4ea4").default,r=n("dbce").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addGroupInfo=function(e){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/info",method:"post",data:e})},t.addMember=function(e,t){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/member/"+t,method:"post",data:e})},t.coursegetDownloadUrl=t.coursebook=t.courseSearch=t.countingStudyTimes=t.confirmOutlineIsChange=t.checkRoles=t.checkPermission=t.checkOutlineIsChange=t.checkIsReview=t.checkAuthYc=t.addStuProgress=t.addStuCurrentProgressFetch=t.addStuCurrentProgress=void 0,t.deleteMember=function(e,t){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/deleteMember/"+t,method:"post",data:e})},t.elabCode=void 0,t.fetchLearningTime=function(e,t,n,o){return(0,i.default)({url:`/api/student/v1/curriculum/v2-course/application/config/learning-time?sessionId=${e}&applicationId=${t}&resourceApplyId=${n}&isPreview=${o}`,method:"get"})},t.isSingleNotEnrollCourse=t.isCourseSignUp=t.getscoreType=t.getScoreReport=t.getScoreDetails=t.getLearnerRanks=t.getGoodsAttrVOForCountdown=t.getExamRelateIlearning=t.getDownloadLink=t.getCourseSignUp=t.getCourseOutlineProgress=t.getCourseOutline=t.getCourseLearnerNumber=t.getCourseLearnStatus=t.getCourseInfo=t.getCourseBlock=t.getClasses=t.generateOrder=void 0,t.onlinePreview=function(e){return(0,i.default)({url:"/local/custom/files/v1/onlinePreview",method:"get",params:e})},t.quNaHuaWeiCount=t.putScoreExam=t.putCourseProgress=t.putCourseDuration=t.putCourseAnswer=t.postcourseLearner=t.postCourseBlockList=t.postAnswerResult=t.pointEventLearn=void 0,t.queryContentGroup=function(e){return(0,i.default)({url:"/api/service/v1/cms/course/content-group/groups/"+e,method:"get"})},t.queryGroupList=function(e){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/groupList/"+e,method:"get"})},t.queryMemberList=function(e,t){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/memberList/"+t,method:"post",data:e})},t.queryStorage=function(){return(0,i.default)({url:"/api/service/api/service/api-direct/files/sovereignty/queryStorage",method:"get"})},t.querySwitchInfo=function(e){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/switchInfo/"+e,method:"get"})},t.searchCourseType=t.scoreList=void 0,t.setDefaultGroup=function(e,t){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/defaultGroup/"+t,method:"post",data:{id:e}})},t.setPrompted=void 0,t.updateGroupInfo=function(e){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/update",method:"post",data:e})},t.updateSwitch=function(e){return(0,i.default)({url:"/api/student/v1/lms/course/student-group/switch/"+e,method:"post"})};var i=r(n("b775")),a=o(n("852e"));const u=window.location.pathname.replace(/[^0-9]/gi,"");t.searchCourseType=(e,t)=>(0,i.default)({url:"/api/student/api/student/courses/courseResources/searchCourseType?id="+e,method:"get",params:t});t.courseSearch=function(e){return(0,i.default)({url:"/api/student/api/student/courses/search"+e,method:"get"})};t.getCourseInfo=(e,t={})=>(0,i.default)({url:"/api/student/api/student/courses/"+e,method:"get",params:t});t.getCourseSignUp=(e,t={})=>(0,i.default)({url:"/api/student/api/student/course/portalAboutCourseLearners/"+e,method:"get",params:t});t.getCourseLearnStatus=(e,t={})=>(0,i.default)({url:"/api/student/api/student/course/portalCourseInfo/"+e,method:"get",params:t});t.getCourseLearnerNumber=(e,t={})=>(0,i.default)({url:"/api/student/api/student/course/portalCourseLearnersInfo/"+e,method:"get",params:t});t.isCourseSignUp=(e,t)=>t?(0,i.default)({url:"/api/student/api/student/course/application/courseLearner/startStudy",method:"get",params:e}):(0,i.default)({url:"/api/student/api/student/course/classes/startStudy",method:"get",params:e});t.getCourseOutlineProgress=(e,t={})=>(0,i.default)({url:`/api/student/api/student/course/outline/progress/${e}?all=false`,method:"get",params:t});t.getCourseOutline=(e,t={})=>(0,i.default)({url:`/api/student/api/student/course/outline/${e}?all=false`,method:"get",params:t});t.putCourseProgress=(e,t)=>(0,i.default)({url:`/api/student/api/student/course/progress/forProgress/${e}?courseUuid=${t.uuid}`,method:"put",data:t});t.putCourseDuration=(e,t)=>(0,i.default)({url:`/api/student/api/student/course/progress/forDuration/${e}?courseUuid=${t.uuid}`,method:"put",data:t});t.getCourseBlock=(e,t,n)=>(0,i.default)({url:`/api/student/api/student/courses/block/${e}/${t}?status=${n}`,method:"get"});t.getDownloadLink=(e,t)=>(0,i.default)({url:`/api/student/api/student/v1/getDownloadUrl/${e}?classId=${t}`,method:"get"});t.postcourseLearner=(e,t,n)=>n?(0,i.default)({url:"/api/student/api/student/course/application/courseLearner/"+e,method:"post",params:t}):(0,i.default)({url:"/api/student/api/student/course/courseLearner/"+e,method:"post",data:t,headers:{"Content-Type":"application/json"}});t.putCourseAnswer=(e,t,n)=>(0,i.default)({url:`/api/student/api/student/course/quiz/answer/${e}?status=${n}`,method:"put",data:t});t.postAnswerResult=(e,t,n)=>(0,i.default)({url:`/api/student/api/student/course/quiz/answerResult/${e}?status=${t}`,method:"post",data:n});t.getLearnerRanks=e=>(0,i.default)({url:"/api/student/api/student/course/score/LearnerRanks/"+e,method:"get"});t.getScoreReport=e=>(0,i.default)({url:"/api/student/api/student/course/score/ScoreReport/"+e,method:"get"});t.getscoreType=e=>(0,i.default)({url:"/api/student/api/student/course/score/scoreType/"+e,method:"get"});t.getScoreDetails=(e,t,n)=>(0,i.default)({url:`/api/student/api/student/course/score/scoreDetails/${e}?module_type=${t}&status=${n}`,method:"get"});t.putScoreExam=(e,t)=>(0,i.default)({url:`/api/student/api/student/course/score/exam/${e}?blockId=${t.blockId}&score=${t.score}`,method:"put"});t.isSingleNotEnrollCourse=e=>(0,i.default)({url:"/api/student/api/student/course/classes/isSingleClassAndNoNeed/"+e,method:"get"});t.getClasses=(e,t,n)=>(0,i.default)({url:`/api/student/api/student/course/classes/${e}?status=${t}&isPreview=${n}`,method:"get"});t.coursebook=(e,t)=>(0,i.default)({url:`/api/student/api/student/courses/coursebook/${e}?status=${t}`,method:"get"});t.coursegetDownloadUrl=(e,t)=>(0,i.default)({url:`/api/student/api/student/v1/getDownloadUrl/${e}?classId=${t}`,method:"get"});t.addStuProgress=e=>(0,i.default)({url:"/api/student/api/student/course/progress/addStuProgress",method:"POST",data:e||{}});t.addStuCurrentProgressFetch=e=>window.fetch("/api/student/api/student/course/progress/addStuProgress",{method:"POST",keepalive:!0,mode:"same-origin",headers:{"Content-Type":"application/json",user_id:a.default.get("user_id")},body:JSON.stringify(e),credentials:"include"});t.addStuCurrentProgress=e=>(0,i.default)({url:"/api/student/api/student/course/progress/addStuCurrentProgress",method:"POST",data:e||{}});t.checkIsReview=e=>(0,i.default)({url:"/api/student/api/student/course/comment/checkIsComment?class_id="+e,method:"get"});t.generateOrder=e=>(0,i.default)({url:"/api/mall/order/v1/generateOrder",method:"POST",data:e});t.countingStudyTimes=e=>(0,i.default)({url:"/api/student/api/student/course/progress/countingStudyTimes?classId="+e,method:"PUT"});t.elabCode=()=>(0,i.default)({url:"/api/auth/rest/v1/elab/code",method:"post",data:{}});t.quNaHuaWeiCount=()=>(0,i.default)({url:"/api/accounts/user/to/third_accoount",method:"get",data:{}});t.checkAuthYc=(e,t)=>(0,i.default)({url:`/storage/academy-gw/rest/course/checkAuth?courseUuid=${e}&userUuid=${t}`,method:"get",data:{}});t.getGoodsAttrVOForCountdown=e=>(0,i.default)({url:"/api/mall/goods/user/open/v1/getGoodsAttrVOForCountdown",method:"POST",data:e});t.setPrompted=e=>(0,i.default)({url:`/api/student/api/student/course/progress/${e.id}/setPrompted`,method:"post",data:e||{}});t.checkPermission=e=>(0,i.default)({method:"post",url:"/api/acl/v1/operation/hasPermission",data:e,headers:{"School-Id":u}});t.postCourseBlockList=(e,t)=>(0,i.default)({url:"/api/student/api/student/courses/block/getBlockList/"+e,method:"POST",data:t||{}});t.checkOutlineIsChange=e=>(0,i.default)({url:"/api/student/api/student/course/getIsNeedNotified",method:"get",params:{courseId:e}});t.confirmOutlineIsChange=e=>(0,i.default)({url:"/api/student/api/student/course/confirmNotified",method:"put",params:{courseId:e}});t.pointEventLearn=e=>(0,i.default)({url:"/api/point/v1/event/learn",method:"post",data:e});t.scoreList=e=>(0,i.default)({url:`/api/universal/v1/score/scoreList?current=1&pageSize=10&resourceId=${e}&moduleId=courseApplication&sortColumn=&message=`,method:"get"});t.checkRoles=()=>(0,i.default)({url:"/api/acl/v1/user/roles?tenantId="+u,method:"get"});t.getExamRelateIlearning=(e,t)=>(0,i.defaultAxios)({url:`/edx/catalog/api/v1/relate_exam/${e}/`,method:"get"})},cc39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return e.root.childNodes?t("div",{staticClass:"catalog-tree",attrs:{onselectstart:"return false",oncontextmenu:"return false"}},[e._t("default"),e.root.childNodes?t("div",{class:["catalog-tree-list","catalog-tree-list-"+(e.$isInner?"inner":"outer")]},e._l(e.root.childNodes,(function(n){return t("CatalogTreeNode",{key:n.id,attrs:{node:n,progress:e.progress,"study-type":e.studyType,"course-status":e.courseStatus,"course-time":e.courseTime,"is-preview":e.isPreview,isPlaneStyle:e.isPlaneStyle,isElectoralCourse:e.isElectoralCourse}})})),1):e._e()],2):t("div",{staticClass:"catalog-tree-empty"},[e._t("default"),t("span",[e._v(e._s(e.$t("course.NoData")))])],2)},t.staticRenderFns=[]},cccd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("e0d3");function r(){var e=Object(o.o)();return function(t){var n=e(t),o=t.pipelineContext,r=!!n.large,i=!!n.progressiveRender,a=n.large=!(!o||!o.large),u=n.progressiveRender=!(!o||!o.progressiveRender);return!(r===a&&i===u)&&"reset"}}},ccf1:function(e,t,n){"use strict";var o=n("2714"),r=n("0d25"),i=function(e,t,n){for(var o,r=e;null!=(o=r.next);r=o)if(o.key===t)return r.next=o.next,n||(o.next=e.next,e.next=o),o};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+o(e))},delete:function(t){var n=e&&e.next,o=function(e,t){if(e)return i(e,t,!0)}(e,t);return o&&n&&n===o&&(e=void 0),!!o},get:function(t){return function(e,t){if(e){var n=i(e,t);return n&&n.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!i(e,t)}(e,t)},set:function(t,n){e||(e={next:void 0}),function(e,t,n){var o=i(e,t);o?o.value=n:e.next={key:t,next:e.next,value:n}}(e,t,n)}};return t}},ccf7:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("0643"),n("fffc"),n("4e3e"),n("a573");var r=n("6fbf"),i=n("ca00"),a=o(n("4475")),u=o(n("08e3"));const s=["","width: 390px;","max-width: 260px;"];t.default={props:{status:{type:String,default:()=>({})},courseOneClass:{type:Boolean,default:!1},satisfactionInfo:{type:Object,default:()=>({})},associationId:{type:String,default:""}},components:{Popover:a.default,showIcon:u.default},data(){return{popoverIndex:null,rectangularId:null,oldStr:null,isClickEvent:!1,widthArr:s,satisfactionLevel:[this.$t("satisfaction.VeryPoor"),this.$t("satisfaction.dissatisfied"),this.$t("satisfaction.generaled"),this.$t("satisfaction.Satisfied"),this.$t("satisfaction.Satisfactory")],satTitleShow:!1,satSubTitleShow:!1,classId:"",moveLeft:"move-left",emptyItem:{index:1e3,id:""},submitInfo:{disabled:!1,btnText:"",feedbackText:"",status:""},satisfactionQues:[],backgroundImage:"https://sxzcdn.shixizhi.huawei.com/media/ipublic/1631158159544_satis_banner.png",backgroundImage2:n("5b8e"),isApiCompleted:!1,isSubmited:"not-sub"}},computed:{sxzLang(){const e=(0,i.getUrl)("sxz-lang");if(!e)return"cn";return{en_US:"en",zh_CN:"cn",es_ES:"es",ru_RU:"ru",ar_SA:"ar",pl_PL:"pl",de_DE:"de",tr_TR:"tr",fr_FR:"fr",pt_BR:"pt",ko_KR:"ko",ja_JP:"ja"}[e]||"en"},openSatisfactionFlag(){const{openSatisfactionFlag:e}=this.satisfactionInfo;let t="";switch(e){case 0:t="beenClosed";break;case 1:t="enabled";break;default:t="notEnabled"}return t},rebackStatus(){return"unstart"===this.submitInfo.status?"blue":"answered"===this.submitInfo.status?"green":"finished"===this.submitInfo.status?"gray":""},rebackContent(){return"unstart"===this.submitInfo.status?this.$t("satisfaction.unstart"):"answered"===this.submitInfo.status?this.$t("satisfaction.answered"):"finished"===this.submitInfo.status?this.$t("satisfaction.finished"):""}},watch:{applicationType:{handler(e){this.$emit("getSatisfactionInfo")},deep:!0,immediate:!0},satisfactionInfo:{handler(e){this.satisfactionQues=e.questions||[],this.setSubmitInfo()},deep:!0}},methods:{setSubmitInfo(){const e=this.satisfactionInfo.status,t=parseInt(this.satisfactionInfo.answerTimes),n=parseInt(this.satisfactionInfo.maxAnswerTimes);this.submitInfo={disabled:this.setDisabled(t,n,e),btnText:this.setBtnText(t,n,e),feedbackText:this.setFeedbackText(t,n,e),status:e}},setDisabled:(e,t,n)=>"unstart"===n||"finished"===n||t-e<=0,setBtnText(e,t,n){return"unstart"===n?this.$t("satisfaction.NotStarted"):"unanswer"===n?this.$t("satisfaction.Submit"):"finished"===n?this.$t("satisfaction.Ended"):"answered"===n&&t>1?this.$t("satisfaction.Resubmit"):this.$t("satisfaction.Submitted")},setFeedbackText(e,t,n){return"unstart"===n||1===t?"":`${this.$t("satisfaction.FeedbackTimes")}<span>${e}</span>/${t}`},selectChange(e,t){e.selectKey=t.target.value},textareaChange(e,t){const n=t.target.value;n.length>2e3&&(e.answer=n.slice(0,2e3),this.$messageBox("warning",this.$t("satisfaction.2000Characters")))},scoreEvent(e,t,n,o,r){const i=this.satisfactionQues.find(e=>e.id===r).rows.find(e=>e.id===t);(n||this.isClickEvent)&&(this.isClickEvent=!1,this.oldStr=JSON.parse(JSON.stringify(i.selectKeys))),"display"===e?(this.popoverIndex=o,this.rectangularId=t,i.selectKeys.splice(o,1,String(n))):"hide"===e&&(i.selectKeys=JSON.parse(JSON.stringify(this.oldStr)),this.popoverIndex=null,this.rectangularId=null)},clickEvent(e,t,n,o){this.isClickEvent=!0;const r=this.satisfactionQues.find(e=>e.id===o);r.rows.find(t=>t.id===e).selectKeys.splice(n,1,String(t)),r.selectKey=r.rows.map(e=>[...e.selectKeys])},starChange(e,t,n,o){this.satisfactionQues.find(t=>t.id===e.id).rows.find(e=>e.id===n).selectKeys.splice(t,1,String(o)),e.selectKey=[],e.rows.map(t=>{e.selectKey.push([...t.selectKeys])})},submitHandle(){this.isSubmited="click-sub";const{answerTimes:e,maxAnswerTimes:t}=this.satisfactionInfo;if(parseInt(t)-parseInt(e)<=0)return this.$messageBox("warning",this.$t("satisfaction.exceedsTheLimit")),!1;let n=!0;const o=[];if(this.satisfactionQues.map(e=>{if(e.modify&&delete e.modify,"0"!==e.type||"1"!==e.isMustAnswer||e.selectKey||(n=!1),"2"!==e.type||"1"!==e.isMustAnswer||e.answer||(n=!1),"3"===e.type&&"1"===e.isMustAnswer)if("1"===e.isMustAnswer){if("object"!=typeof e.selectKey&&(e.selectKey=JSON.parse(e.selectKey)),!e.selectKey)return n=!1;[...e.selectKey].map(e=>{(e=[...e]).find(e=>{e&&0!=e||(n=!1)})})}else{if(!e.selectKey){const t=e.rows.map(e=>e.selectKeys);e.selectKey=JSON.parse(JSON.stringify(t))}"object"!=typeof e.selectKey&&(e.selectKey=JSON.parse(e.selectKey));const t=[...e.selectKey];t.map(e=>{(e=[...e]).map(e=>{e||(e="0")})}),e.selectKey=t}if("3"===e.type&&"object"==typeof e.selectKey){const t=[];e.rows.forEach(e=>{t.push(e.selectKeys)}),e.selectKey=JSON.stringify(t)}o.push({answer:e.answer,questionId:e.id,selectKey:e.selectKey,type:e.type})}),!n)return this.$messageBox("warning",this.$t("satisfaction.theRequiredFields")),this.$nextTick(()=>{this.redirctFirstEmptyMust()}),!1;const i={answerTimes:this.satisfactionInfo.answerTimes,questionnaireUserAnswers:o,userName:"",userPhone:"",classId:this.classId};return(0,r.postSatisfactionInfo)(i,this.$tools.whichAppType(),this.associationId).then(e=>{const{code:t,message:n}=e;200===t?(this.$messageBox("success",this.$t("satisfaction.submittedSuccessfully")),this.$emit("getSatisfactionInfo")):this.$messageBox("warning",n)}).catch(()=>{this.$messageBox("error",this.$t("satisfaction.satisfactionEvaluation"))}),!0},popverMouse(e,t){"show"===e&&("title"===t&&(this.satTitleShow=!0),"subTitle"===t&&(this.satSubTitleShow=!0)),"hide"===e&&("title"===t&&(this.satTitleShow=!1),"subTitle"===t&&(this.satSubTitleShow=!1))},isShowRequiredTip(e,t){let n=e.selectKey;const o=e.answer;let r=!1;if("0"===e.type)r=!n;else if("2"===e.type)r=!o;else if("3"===e.type){n=n&&Array.from(n).join().split(",")||["0"];r=!!n.includes("0")}const i="1"===e.isMustAnswer&&r&&"click-sub"===this.isSubmited;!t&&0!==t||r||(e.modify=1);let a=null;if(i&&(t||0===t)){if(Number(t)<Number(this.emptyItem.index)){a={index:t,id:`satisfact_${e.id}_${t}`},this.emptyItem=JSON.parse(JSON.stringify(a))}}else{Number(void 0===t?0:t)===Number(this.emptyItem.index)&&(this.emptyItem={index:1e3,id:-1})}return(!e.modify||1!==e.modify)&&i},redirctFirstEmptyMust(){const e=document.getElementById(this.emptyItem.id);e&&(e.scrollIntoView(),setTimeout(()=>{this.emptyItem.index=1e3,this.emptyItem.id=-2},0))}}}},ccf75:function(e,t,n){"use strict";var o=n("e3f1");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},cd3f:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/cover_fallback.42ee6b07.svg"},cd46:function(e,t,n){"use strict";n.r(t);var o=n("aa7db"),r=n("f11e");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("b5a72"),n("d496"),n("17e8");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"219eb7ee",null);t.default=u.exports},cdde:function(e,t,n){"use strict";n.r(t);var o=n("ce84"),r=n("3b8e");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,null,null);t.default=u.exports},ce44:function(e,t,n){"use strict";var o=n("a3f9");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},ce84:function(e,t,n){"use strict";var o=n("243b");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},ce8a:function(e,t,n){"use strict";n.r(t);var o=n("d849"),r=n("4ac8");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("22c37");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"222014f6",null);t.default=u.exports},d000:function(e,t,n){"use strict";var o=n("d355");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},d059:function(e,t,n){"use strict";var o=n("a655");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},d11a:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/score.16d79cc5.svg"},d13e:function(e,t,n){"use strict";n.r(t);var o=n("8b81"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},d141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){return(0,this._self._c)("iframe",{attrs:{id:this.id,name:"kkfiwpreview",allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true",height:this.height,width:this.width,src:this.publicUrl}})},t.staticRenderFns=[]},d1c2:function(e,t,n){"use strict";n.r(t);var o=n("0325"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},d1df:function(e,t,n){"use strict";var o=n("e686");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},d252:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/sign-up-bg.a4c4781a.png"},d29b:function(e,t,n){"use strict";n.r(t);var o=n("5e37"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},d2cb:function(e,t,n){"use strict";var o=n("9e07");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},d355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e,t,n=this,o=n._self._c;return o("div",{staticClass:"course-signup-mutil"},[n.isNewGoods?o("div",{class:["course-goods-sales",{"not-diff":!n.priceDiff}]},[n.priceDiff&&"beforeActive"!=n.activeState?o("span",{staticClass:"bg-line"}):n._e(),n.priceDiff&&"beforeActive"!=n.activeState?o("div",{staticClass:"course-goods-sales-price"},[o("span",{staticClass:"ellipsis-text",attrs:{title:"￥"+n.priceDiff}},[n._v(n._s(n.$t("course.directReduction"))+" ￥"+n._s(n.priceDiff))])]):n._e(),o("br"),"beforeActive"==n.activeState?o("div",{staticClass:"course-goods-price"},[n.priceDiff?o("span",{staticClass:"course-before-price"},[n._v("￥"+n._s(n.price))]):n._e(),n.overSevenDay?n._e():o("span",{staticClass:"before-actual-price"},[n._v(" "+n._s(n.$t("course.ActivityValue"))),o("i",[n._v("￥"+n._s(n.actualPrice))])])]):o("div",{staticClass:"course-goods-price"},[n.priceDiff?o("span",{staticClass:"course-price-descri"},[n._v(n._s(n.$t("course.HandPrice")))]):n._e(),o("span",{directives:[{name:"show",rawName:"v-show",value:n.showPrice,expression:"showPrice"}],staticClass:"course-current-price"},[n._v("￥"+n._s(n.actualPrice))]),n.priceDiff?o("span",{staticClass:"course-actual-price"},[n._v("￥"+n._s(n.price))]):n._e()])]):o("div",{staticClass:"course-class-select"},[o("div",{staticClass:"course-class-name ellipsis-text",attrs:{title:null===(e=n.currentData)||void 0===e?void 0:e.associationTitle}},[n._v(" "+n._s(null===(t=n.currentData)||void 0===t?void 0:t.associationTitle)+" ")]),o("div",{class:["course-class-down",n.selectIsOpen?"open":""],on:{click:n.openSelectPop}},[n._v(" "+n._s(n.$t("course.selectShift"))+" ")])]),o("div",{staticClass:"course-button-show course-button-show-sa"},[n.isNewGoods?o("div",{staticClass:"course-goods-countdown"},[n.activeState&&!n.overSevenDay||"beforeActive"==n.activeState?o("div",{staticClass:"count-down"},["duringActive"==n.activeState?o("div",[n.overSevenDay?n._e():o("div",[n._v(n._s(n.$t("course.remaining"))+" "+n._s(n.calcDay)+" "+n._s(n.$t("course.day")))])]):n._e(),n.overSevenDay?n._e():o("div",{staticClass:"before-active-day"},[n._v(" "+n._s(n.$t("course.beforeTheActivityBegins"))+"  "+n._s(n.calcDay)+"   "+n._s(n.$t("course.day"))+" ")]),n.overSevenDay?n._e():o("div",{staticClass:"before-active-time"},[o("span",[n._v(n._s(n.calcHour>9?n.calcHour:"0"+n.calcHour))]),o("span",[n._v(":")]),o("span",[n._v(n._s(n.calcMinutes>9?n.calcMinutes:"0"+n.calcMinutes))]),o("span",[n._v(":")]),o("span",[n._v(n._s(n.calcSeconds>9?n.calcSeconds:"0"+n.calcSeconds))])])]):n._e()]):n._e(),o("signupBuuton",{attrs:{appId:n.$route.query.appId,associationId:n.uuid,courseName:n.courseName,courseStatus:n.courseStatus,currentData:JSON.parse(JSON.stringify(n.currentData)),isAllowGift:n.isAllowGift,isNeedBuy:n.isNeedBuy,isTeacher:!1,primaryId:n.primaryId,uuid:n.uuid,fetchLearningTimeInfo:n.fetchLearningTimeInfo,showLearnableTimeTip:n.showLearnableTimeTip},on:{updateCourseStatus:n.updateCourseStatus}})],1),n.selectIsOpen?o("div",{staticClass:"course-select-down"},[o("a-table",{staticClass:"course-select-table",attrs:{customRow:n.rowClick,"data-source":n.dealList,locale:n.antdLocale,pagination:!1,rowClassName:(e,t)=>"course-select-table-item "+(e.associationId===this.uuid?"course-select-table-item-active":""),rowKey:e=>e.associationId,scroll:{y:275},size:"middle"}},[o("a-table-column",{key:"startTime",attrs:{title:""+n.$t("course.openTime")},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(" "+n._s(e.curriculumStartDate)+" ")]}}],null,!1,1193314896)}),o("a-table-column",{key:"endTime",attrs:{title:""+n.$t("course.closeTime")},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v(" "+n._s(e.curriculumEndDate)+" ")]}}],null,!1,1704205983)}),o("a-table-column",{key:"enrollState",attrs:{title:""+n.$t("course.EnrollmentStatus")},scopedSlots:n._u([{key:"default",fn:function(e){return[o("span",{class:"curriculum-study-color curriculum-study-color-"+n.curriculumStudyColor(e.enrollStatus)},[n._v(n._s(n.curriculumStudyStatus(e.enrollStatus)))])]}}],null,!1,1806768414)}),o("a-table-column",{key:"title",attrs:{ellipsis:!0,title:""+n.$t("course.shiftName"),"data-index":"associationTitle",width:"580px"}})],1)],1):n._e()])},t.staticRenderFns=[]},d418:function(e,t,n){"use strict";n.r(t);var o=n("eaa2"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},d457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d9e2");t.default={bind(e,t){e.addEventListener("click",()=>{const[e,n]=[t.value,"[v-stat]: The value of the instruction must be an object. eg:{eventTypeName: eventDataObj}"];if(!e||"object"!=typeof e)throw new Error(n)},!1)}}},d496:function(e,t,n){"use strict";n("5eee")},d56b6:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/learnable_clock.eb083b75.svg"},d683:function(e,t,n){},d6a0:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/编组 4.576e05e7.svg"},d6df:function(e,t,n){"use strict";var o=n("136d");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},d6eb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAq5JREFUWEfFl7trFFEUh78Td1Op2IidhdpaBQS1SNDCBxgiZEYkQlYLi0RQC43rH2CMKbRQCxsjGEJmAgYFEwtlU0RBsNHWpEgX0oimyipHZnbX3ZmdO4/syg5Mdc/ju+ecO/O7Qocf6XB+UgPoELspcxToRekF9lVfbw/r/issAUvk+STT/EyzuVQAOsgIwhiwP01QYA1lQuZ4mmQfC6B95NjLa+BMUiDD+gIb9EuJ3yZ/I4Da2Ciz20wcdBMuiIMTFSsSQC1OAO/bkrwe5KS4fAjHbAJQix1gLlmLUDlx+dMYIwrgAXCrxUQm90lxuW0EaGvfzVMXmId/FdAB9pDnC3AgZve/wLfpi7EpAT3ALoPNKmV6ZJ4f3nodwGYA5VVC6afE5bIOYiERU63YMoerFs+BgjGWcF4c5sMAD1FuJAC8EZd+z6YJoprcX7P8b8e5GIBH4nAzCGCxDBxLHD7BFQc7ANGY3MZBsRLifBSX42GA78DBRICKVwDCK7sPlC65Z7oiLofCAN6A7UwFEILImNwz3xS3MqT1IbTIClAQhxc1YLUZRplKuYFIgCwtuCYOTxp2fkVcNtVmFOVxCojIFqQdwjviMBEq+yI5CjLDutqModzPPoQ291CKsY7CtDhcMvR8mS6GZZYVtXmJMhRzDMfF4W74O3AKZTEWQJkBntHFiOGofUW5DlxFuBgDcFoc3gUBPMm1xbcMqidFqyNN1ujmcE2yBf6GVenlD9d/e5TRRqkW9Tt+24IES+JeEJezjUbNABUdWE6KtK31DfJhfRgtydqpB2ukBl1oFqXt1YWRejBwCqJKWtWH4y1ItEmgGNaBsTMQCVJpiQcSp5YaXVcRiiYpnhnA//J5kq3bl2Le1eyI4Wr22b+abVGqSa6kYU11NUsK0sp6xwH+Aj1I6CET+S0WAAAAAElFTkSuQmCC"},d6fd:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC2klEQVRIS7WV20sUURzHv2dWF83QLBMEKRAzuyASpOvqesFMCEMs6G+IvJVbRM8RBrWVlyTrsWd7660kXXVXbUEiREJ9KBGpzMvu5ro7MyfG2Z2dM3NGLWhe9nJ+5/f5fed3I/jPDzH6fznTUiTItJsQXKAUmSRuQak5EgJIJ3MalsPRlZbGwvsBXqwMQHUu+QFkU3A8Kh60v9WrJbnNiMlbofXYUm1T4UMThAG8ClweopCvsJEkTBKeWdElR5shUxExKRIKygrEw0AY68HApQ1QmrmbVKOu4sMXkSLYQakEUY6FQtHl2qZTSQgDeDHdaPFeACsdB+25yMs4A7twAEQQIMrRrzUFXccTQRoADRqAl1RGWfym8iHJUUS210CIgBSbnXY4pwQuYGCqnprKKm7Jz4Au51SGKG2BEBvaK8Y1N4y/gcm6pIK44xNH6nEoLR/rkW+YXx3es2uU6mst/8AHPPfXmHJwvWwYAhFAKUVg+TV+hL9okGB0BT/D8yZoq2OED+j3u0yA1vJRy6hFeRuD0w3que4dtjm8fECfr9IEaHOMYWF1BEubanlnpeWjNO+aBu33V5kCsMxB70SFDqB+ba/wISqFERGDO79ThXSkp2ZpTvt8ThOgw+njK+gZL6PJilfvdTj9mP3+VpdgFew8dgM5GYXonXCY6qyzcpIPeDZ+Pqkg3gidldO7Vk7PRBmbA1DcrPrIBzwdO2fKQV3BXSjdynt+x37h/cIDwxHBraoAH/DEW2o5KvZsAJ1Bl2uGD/CMliQBulGwU4V/gXZXf+IDHo+e3XNU7EfJ7erPVoDTG8oW0zvZfRsw/bVzjRBsuqtntTpmZtGjkeIhSmFYOCrOCLJSQgje3KmZu5o4ZwAeb3GRJFE/KM1OGGgTwLCbjVNXsSMEazab4HC75rSBZZrOHm9BkSjZugmUpc/fbsboCSGbFHiXYpPuuV2LyWmoU76f3P2TzR8adw0oHWC+dAAAAABJRU5ErkJggg=="},d76c:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/FAIL-1.fa861b87.png"},d81e:function(e,t,n){"use strict";function o(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function r(e,t,n,r){var i=e.getZoom(),a=e.getCenter(),u=t.zoom,s=e.projectedToPoint?e.projectedToPoint(a):e.dataToPoint(a);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(o(e,s),r)),null!=u){if(n){var c=n.min||0,l=n.max||1/0;u=Math.max(Math.min(i*u,l),c)/i}e.scaleX*=u,e.scaleY*=u;var d=(t.originX-e.x)*(u-1),f=(t.originY-e.y)*(u-1);e.x-=d,e.y-=f,e.updateTransform(),e.setCenter(o(e,s),r),e.setZoom(u*i)}return{center:e.getCenter(),zoom:e.getZoom()}}n.d(t,"a",(function(){return r}))},d836:function(e,t,n){"use strict";var o=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function u(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function c(e,t,n){var o={};return n.isMergeableObject(e)&&u(e).forEach((function(t){o[t]=i(e[t],n)})),u(t).forEach((function(r){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(s(e,r)&&n.isMergeableObject(t[r])?o[r]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(r,n)(e[r],t[r],n):o[r]=i(t[r],n))})),o}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||o,n.cloneUnlessOtherwiseSpecified=i;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):c(e,t,n):i(t,n)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var d=l;e.exports=d},d83c:function(e,t,n){},d849:function(e,t,n){"use strict";var o=n("8f6c");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},d913:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAzklEQVQ4T+2UsY5BQRiFvyNBZ0vvYAmNbCHxLErFtluoFF5AKEmUPIRky41CJDpewHa8wZFpmOJeN5FbKEw1M1/+k5nzzxnZHgFfwJn7GEv6i9a3qe0WMIjYB3CQ7SXQBNYRXEjapQjVgH7EusB/EJoBRUm9pMKsPdsToPqaQnWgIGmfdY0HnpX0THFSzVso28n8PLId4hHanxiJrLPYbgDl13zZuYV2BYQ/5jfyYy5pmxKJT+A7Yh3gFDwaAm3gEsGppE2KUGjOT8QqwPEKB2Zm13DqxIUAAAAASUVORK5CYII="},d985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e,t,n=this,o=n._self._c;return o("a-config-provider",{attrs:{locale:n.antdLocale,prefixCls:"kltCourse"}},[n.hasShow?o("div",{class:{bg:"course"!==n.toName&&"application"===(null===(e=n.$route)||void 0===e?void 0:e.name)},attrs:{id:"course"===n.toName?"appcourse":"app"}},[n.isHeaderShow?o("PreviewHeader"):n._e(),n.showCourseApproval?o("CourseApproval",{attrs:{"resource-info":n.courseWareInfo,"school-id":n.schoolId}}):n._e(),n.$isInner&&!n.excludeRoute?o("v-header",{class:{"m-top-64":n.isHeaderShow},attrs:{certFlag:(null===(t=n.courseWareInfo)||void 0===t?void 0:t.certificateFlag)||!1,"course-ware-info":n.courseWareInfo,featureType:n.courseWareInfo.featureType,iLearningXUserName:n.$store.state.user.innerUserInfo.w3Account,"is-core":n.courseWareInfo.isCore,isFeature:n.courseWareInfo.isFeatured,language:n.language,profileUrl:`//w3.huawei.com/w3lab/rest/yellowpage/face/${n.$store.state.user.innerUserInfo.employeeNumber}/120`,title:n.courseWareInfo.title,"un-read-message":n.unReadMessage,userName:n.$store.state.user.innerUserInfo.userCN}}):n._e(),o("keep-alive",{attrs:{include:["login","register"]}},[o("router-view")],1),n.$isInner&&"application"===n.$route.name?o("Footer"):n._e()],1):n._e()])},t.staticRenderFns=[]},d999:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAkhJREFUSEvVlj9oFEEYxd93swg5LRYhINdYSEC0shY00WgaQY2shXDFye3MooU2IoqNCIZYiAo5bmavkes8FFshIUG0TaqgjUgQr7I4wZwg7n4yECH3J7d7d3LEgSl25735zZsd9hvCiBuNmIfdAywWi5OZTOY4ACdpF5h5s9FoPKvVar+StF0TKqUeMvOdJPP2cSJ6w8yzxphmL18HUEp5GMC67cx8Wwjxs8cEx+I4fgzgB4B9AN4BOGeM+b6TpwOolJpl5pfMfDMMw6e9VhsEwak4jpcA3AcwAeAKgFUAM8aYb9283RJ6AF4Q0XWtdSkl8F4ul5ur1+tWr5j5gxDiTLlc/truTwT6vv+AiC62fa81rXU+CAK7patEFGqtpdVIKR8BuAXgs+M4J0ul0pcWb/sKpJQtCZVSC8xs321va8aYGc/zxlzX3SCi/QCeA/i0JboK4BCAy8aYWl/ApJMqpTy7BTvQRfvvgRbied4e13UnhBDj9pmZz9tDN1DCfD6/N5vNHkxKasebzeZGtVrdVEpdY+aFgYBSykUAp9MAASwZY6aHBV4AMJ0SuGiMeT0UMCWoRfZ/AZVSJ5h5Kk1SIlrWWr8dKqHv+8tENJkGyMwrYRhODQUsFArjjuMcEUL0LNZRFDERrduf9lDANMnaNX0B+ylPOy3G9/0bRPSEiC5prV8l/Uv7KcAdzCiKxohoHsBR240xH3sC7eAgV4yOukc0p7W+m1gP/wr6uUS1Tfo7juP3lUplpduW755r4iCnM41n5An/AGfxaCw1zqKfAAAAAElFTkSuQmCC"},d9f1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this._self._c;return e("div",{staticClass:"preview-header",class:{"preview-header-inner":this.$isInner}},[e("div",{staticClass:"header-wrap"},[e("div",{staticClass:"left"},[e("svg-icon",{staticClass:"tip",attrs:{"icon-class":"tip"}}),e("span",[this._v(this._s(this.$t("homework.previewTip")))])],1),e("span",{staticClass:"btn",on:{click:this.closePage}},[this._v(this._s(this.$t("homework.exit")))])])])},t.staticRenderFns=[]},dc146:function(e,t,n){"use strict";(function(t,o){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var o=e.entry;e.entry=null;for(;o;){var r=o.callback;t.pendingcb--,r(n),o=o.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=k,k.WritableState=C;var a={deprecate:n("b7d1")},u=n("429b"),s=n("b639").Buffer,c=(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,d=n("4681"),f=n("0db6").getHighWaterMark,m=n("c9b8").codes,p=m.ERR_INVALID_ARG_TYPE,h=m.ERR_METHOD_NOT_IMPLEMENTED,g=m.ERR_MULTIPLE_CALLBACK,v=m.ERR_STREAM_CANNOT_PIPE,b=m.ERR_STREAM_DESTROYED,y=m.ERR_STREAM_NULL_VALUES,w=m.ERR_STREAM_WRITE_AFTER_END,x=m.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function A(){}function C(e,t,a){i=i||n("b19a"),e=e||{},"boolean"!=typeof a&&(a=t instanceof i),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(D,e,t),e._writableState.errorEmitted=!0,S(e,r)):(i(r),e._writableState.errorEmitted=!0,S(e,r),D(e,t))}(e,n,r,t,i);else{var a=T(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||I(e,n),r?o.nextTick(O,e,n,a,i):O(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function k(e){var t=this instanceof(i=i||n("b19a"));if(!t&&!l.call(k,this))return new k(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function _(e,t,n,o,r,i,a){t.writelen=o,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(r,t.onwrite):e._write(r,i,t.onwrite),t.sync=!1}function O(e,t,n,o){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,o(),D(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var o=t.bufferedRequestCount,i=new Array(o),a=t.corkedRequestsFree;a.entry=n;for(var u=0,s=!0;n;)i[u]=n,n.isBuf||(s=!1),n=n.next,u+=1;i.allBuffers=s,_(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,d=n.callback;if(_(e,t,!1,t.objectMode?1:c.length,c,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),D(e,t)}))}function D(e,t){var n=T(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(E,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n("3fb5")(k,u),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===k&&(e&&e._writableState instanceof C)}})):l=function(e){return e instanceof this},k.prototype.pipe=function(){S(this,new v)},k.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,u=!i.objectMode&&(r=e,s.isBuffer(r)||r instanceof c);return u&&!s.isBuffer(e)&&(e=function(e){return s.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=A),i.ending?function(e,t){var n=new w;S(e,n),o.nextTick(t,n)}(this,n):(u||function(e,t,n,r){var i;return null===n?i=new y:"string"==typeof n||t.objectMode||(i=new p("chunk",["string","Buffer"],n)),!i||(S(e,i),o.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,o,r,i){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=s.from(t,n));return t}(t,o,r);o!==a&&(n=!0,r="buffer",o=a)}var u=t.objectMode?1:o.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:o,encoding:r,isBuf:n,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else _(e,t,!1,u,o,r,i);return c}(this,i,u,e,t,n)),a},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new x(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,n){n(new h("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,D(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(e,t){t(e)}}).call(this,n("c8ba"),n("4362"))},dc23:function(e,t,n){"use strict";n.r(t);var o=n("2796"),r=n("6e16");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("3f0a"),n("0c44");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"65f659ce",null);t.default=u.exports},dcf0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"course-Tag back-btn-position-absolute-style"},[t("div",{staticClass:"institution-and-consulting"},[t("div",{staticClass:"institution"},[t("div",[t("span",[e._v(" "+e._s(e.$t("course.organization"))+" ")])]),t("p",{on:{click:e.courseTag}},[e._v("华为人才在线")])]),t("div",{staticClass:"consulting"},[t("div",{staticClass:"consulting-title"},[t("span",[e._v(" "+e._s(e.$t("course.toConsult"))+" ")])]),t("div",{staticClass:"consulting-person",on:{click:e.courseTag}},e._l(5,(function(o){return t("div",{key:o},[t("img",{attrs:{src:n("9ee2"),alt:""}}),t("a-tooltip",{attrs:{placement:"top"}},[t("template",{slot:"title"},[t("span",[e._v("名字六个汉字多隐藏")])]),t("span",[e._v("名字六个汉字多隐藏")])],2)],1)})),0)])]),t("div",{staticClass:"qrcode",on:{click:e.courseTag}},[t("img",{attrs:{src:n("c337"),alt:""}}),t("span",[e._v(" "+e._s(e.$t("course.scanQR"))+"(123456) ")])]),t("div",{staticClass:"course-recommended"},[t("div",{staticClass:"recommended-title"},[t("p",[e._v(" "+e._s(e.$t("course.courseRecommendation"))+" ")])]),t("div",{staticClass:"recommended-courses",on:{click:e.courseTag}},e._l(5,(function(o){return t("div",{key:o},[t("img",{attrs:{src:n("3617"),alt:""}}),t("span",[e._v("了解企业架构方法论、业务方案设计及BA方法、数据安全…")])])})),0)]),t("div",{staticClass:"course-sequence"},[t("div",{staticClass:"sequence-title"},[t("p",[e._v(" "+e._s(e.$t("course.courseSequence"))+" ")])]),t("div",{staticClass:"sequence-card",on:{click:e.courseTag}},[e._m(0),t("img",{attrs:{src:n("5a92"),alt:""}})])]),e.show?t("div",{staticClass:"course-tag"},[t("div",{staticClass:"tag-title"},[t("p",[e._v(" "+e._s(e.$t("course.label"))+" ")])]),t("div",{staticClass:"tag-box",on:{click:e.courseTag}},e._l(6,(function(n){return t("span",{key:n},[e._v("网络安全")])})),0)]):e._e()])},t.staticRenderFns=[function(){var e=this._self._c;return e("div",{staticClass:"card"},[e("img",{attrs:{src:n("3617"),alt:""}}),e("div",{staticClass:"sequence-font"},[e("h3",[this._v("企业架构解说")]),e("p",[this._v("了解企业架构方法论、业务方案设计及BA方法、数据安全")])])])}]},de0c:function(e,t,n){},de12:function(e,t,n){"use strict";n("fda5")},de41:function(e,t,n){"use strict";n("7e25")},deca:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return h}));var o=n("6d8b"),r=n("e0d3"),i=Object(r.o)();function a(e,t,n,r,i){var a;if(t&&t.ecModel){var u=t.ecModel.getUpdatePayload();a=u&&u.animation}var s="update"===e;if(t&&t.isAnimationEnabled()){var c=void 0,l=void 0,d=void 0;return r?(c=Object(o.retrieve2)(r.duration,200),l=Object(o.retrieve2)(r.easing,"cubicOut"),d=0):(c=t.getShallow(s?"animationDurationUpdate":"animationDuration"),l=t.getShallow(s?"animationEasingUpdate":"animationEasing"),d=t.getShallow(s?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(c=a.duration),null!=a.easing&&(l=a.easing),null!=a.delay&&(d=a.delay)),Object(o.isFunction)(d)&&(d=d(n,i)),Object(o.isFunction)(c)&&(c=c(n)),{duration:c||0,delay:d,easing:l}}return null}function u(e,t,n,r,i,u,s){var c,l=!1;Object(o.isFunction)(i)?(s=u,u=i,i=null):Object(o.isObject)(i)&&(u=i.cb,s=i.during,l=i.isFrom,c=i.removeOpt,i=i.dataIndex);var d="leave"===e;d||t.stopAnimation("leave");var f=a(e,r,i,d?c||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null);if(f&&f.duration>0){var m={duration:f.duration,delay:f.delay||0,easing:f.easing,done:u,force:!!u||!!s,setToFinal:!d,scope:e,during:s};l?t.animateFrom(n,m):t.animateTo(n,m)}else t.stopAnimation(),!l&&t.attr(n),s&&s(1),u&&u()}function s(e,t,n,o,r,i){u("update",e,t,n,o,r,i)}function c(e,t,n,o,r,i){u("enter",e,t,n,o,r,i)}function l(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){if("leave"===e.animators[t].scope)return!0}return!1}function d(e,t,n,o,r,i){l(e)||u("leave",e,t,n,o,r,i)}function f(e,t,n,o){e.removeTextContent(),e.removeTextGuideLine(),d(e,{style:{opacity:0}},t,n,o)}function m(e,t,n){function o(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse((function(e){e.isGroup||f(e,t,n,o)})):f(e,t,n,o)}function p(e){i(e).oldStyle=e.style}function h(e){return i(e).oldStyle}},e022:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("88a7"),n("271a"),n("5494");var o=n("b255"),r=n("08f3");t.default={name:"richText",data:()=>({loading:!1,blockName:"",richTextData:""}),methods:{async getRichTextData(e){if(e){this.blockName=e.blockName,this.loading=!0;const t=await(0,o.getBlockInfoFallback)(e.blockId).finally(()=>{this.loading=!1});(null==t?void 0:t.code)===r.ResponceCodeEnum.Success&&null!=t&&t.data?(document.documentElement.scrollTop=0,this.richTextData=t.data):this.richTextData=""}},handleClickHtml(e){var t;const n=e.target;if(n===this.$refs.htmlWrap||!n)return;if(!("a"===(null==n||null===(t=n.tagName)||void 0===t?void 0:t.toLowerCase()))){const e=(e=>{for(;e&&"A"!==e.tagName&&e!==this.$refs.htmlWrap;)e=e.parentNode;return e})(n);var o;if(e)null===(o=e.click)||void 0===o||o.call(e);return}const r=n.getAttribute("href");if(!r)return;const i=new URL(r);if(!(i.origin===location.origin&&location.pathname.includes("application-learn")))return;if(!("_blank"===n.getAttribute("target"))){var a;const t=null===(a=i.hash)||void 0===a?void 0:a.slice(1);e.preventDefault(),this.$emit("changeBlock",{blockId:t,href:r})}}}}},e0da:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return e.closeLearnBar?e._e():t("div",{staticClass:"learn-bar"},[e.isInner?t("div",{staticClass:"learn-bar-inner"},[t("div",{staticClass:"learn-bar-inner-left"},[t("ul",{staticClass:"learn-bar-inner-left-tabs"},[e._l(e.tabs,(function(n){return["material"!==n.key||e.hasCourseBook?t("li",{key:n.key,staticClass:"tab",class:[{active:e.currTab===n.key},n.key],on:{click:function(t){return e.changeTab(n)}}},["manage"===n.key&&e.roleFineshed?[t("CoursePermissions",{staticClass:"function-perm",attrs:{"school-id":e.schoolId,"course-id":e.courseId,"resource-id":e.resourceId,"app-id":e.appId,"class-id":e.classId,userRole:e.userRole,typeId:e.typeId,isInnerMOOC:e.isInnerMOOC},on:{isStudio:e.geStudio}})]:[e._v(" "+e._s(n.value)+" ")]],2):e._e()]})),t("div",{staticClass:"btn-show",style:e.barStyle})],2)]),t("div",{staticClass:"application-learn-bar-right"},[e.showRoleSelect?t("div",[t("el-select",{attrs:{"popper-append-to-body":!1},on:{change:e.roleChange},model:{value:e.roleValue,callback:function(t){e.roleValue=t},expression:"roleValue"}},e._l(e.options,(function(n){return t("el-option",{key:n.code,attrs:{label:"cn"===e.lang?n.name:n.nameEn,value:n.code,title:"cn"===e.lang?n.name:n.nameEn}})})),1)],1):e._e(),t("CourseHandler",{attrs:{"course-id":e.courseId,"resource-id":e.resourceId,"app-id":e.appId,"class-id":e.classId,"course-name":e.classTitle,"total-progress":e.totalProgress,lang:e.lang,"is-preview":e.isPreview,isInnerMOOC:e.isInnerMOOC}})],1)]):e.isInner||"contentMarket"===e.$route.query.routeFrom?e._e():t("div",{class:["learn-bar-outer",{"header-show":e.headerShow}],attrs:{onselectstart:"return false",oncontextmenu:"return false"}},[e.headerShow?[t("span",{staticClass:"class-name-css",attrs:{title:e.classTitle}},[e._v(e._s(e.classTitle))])]:[t("div",{staticClass:"learn-bar-outer-left"},[t("img",{staticClass:"learn-bar-outer-left-logo",attrs:{src:e.logoUrl||n("b126"),alt:"logo",onerror:e.courseImage},on:{click:e.goToHomePage}}),t("p",{staticClass:"learn-bar-outer-left-title ellipsis-text",attrs:{title:e.classTitle},on:{click:e.backToView}},[e._v(" "+e._s(e.classTitle)+" ")]),1===e.durationSwitch&&-1!==e.remainDuration&&["published","publishing"].includes(e.status)?t("span",[t("img",{attrs:{src:e.clockIcon,alt:""}}),e._v(" "+e._s(e.$t("course.remainingTime"))+"： "),t("span",{staticStyle:{color:"#fa8c15"}},[e._v(e._s(e.remainDuration)+e._s(e.$t("course.min")))])]):e._e()]),e.showLearn?t("div",{staticClass:"learn-bar-outer-right"},[e.tabs.length>1?t("ul",{staticClass:"learn-bar-outer-right-tabs"},[e._l(e.tabs,(function(n){return t("li",{key:n.key,staticClass:"tab",class:[{active:e.currTab===n.key},n.key],on:{click:function(t){return e.changeTab(n)}}},[[["course","material"].includes(n.key)?t("svg-icon",{attrs:{"icon-class":n.key}}):e._e(),e._v(" "+e._s(n.value)+" ")]],2)})),t("div",{staticClass:"btn-show",style:e.barStyle})],2):e._e(),t("div",{staticClass:"learn-bar-outer-right-avatar"},[t("a-avatar",{attrs:{src:e.userHeaderUrl,alt:"avatar",icon:"user"}}),t("p",[e._v(e._s(e.userName))])],1)]):e._e()]],2)])},t.staticRenderFns=[]},e217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("0643"),n("2382"),n("fffc");var o=n("b255"),r=n("08f3"),i=n("ca00");t.default={name:"menu",data:()=>({outlineList:[],currentBlockInfo:{}}),created(){this.getOutline()},methods:{async getOutline(){const e=await(0,o.getAppOutlineFallBack)();if((null==e?void 0:e.code)===r.ResponceCodeEnum.Success&&Array.isArray(null==e?void 0:e.data)){this.outlineList=e.data.filter(e=>{var t;return!(null!==(t=e.blockName)&&void 0!==t&&t.includes("初选名单"))});const t=location.hash.indexOf("&")>0?location.hash.split("&")[0].slice(1):location.hash.slice(1),n=this.outlineList.find(e=>e.blockId===t),[o]=this.outlineList,r=n||o;r&&(this.currentBlockInfo=r,this.$emit("changeBlock",r))}},handleBlockChange(e){this.currentBlockInfo=e,this.$emit("changeBlock",e),this.handleChangeHash(e.blockId)},changeBlockById(e){if(e){const t=this.outlineList.find(t=>t.blockId===e);t&&this.handleBlockChange(t)}},handleChangeHash(e){const{origin:t,pathname:n,search:o}=window.location;(0,i.getUrl)("currentNoteTime")&&sessionStorage.setItem("currentNoteTime",(0,i.getUrl)("currentNoteTime"));const r=t+n+(0,i.deleteQueryString)(o,"currentNoteTime")+(e?"#"+e:window.location.hash||"");window.history.replaceState(null,null,r)}}}},e242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"scrollToTop-pos",class:{"scrollToTop-show":e.toTopShow},on:{click:function(t){return e.scrolltoTop()}}},[e._t("default",(function(){return[t("div",{staticClass:"scrollToTop pointer",class:[{enScrollToTop:"zh_CN"!==e.$route.query["sxz-lang"]}]},[t("img",{staticClass:"icon",attrs:{src:n("a840"),alt:"",srcset:""}}),e._v(" "+e._s(e.$t("common.backToTop"))+" ")])]}))],2)},t.staticRenderFns=[]},e288:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/delete.fb0297c1.svg"},e2c07:function(e,t,n){"use strict";n("88c5")},e372:function(e,t,n){(t=e.exports=n("ad71")).Stream=t,t.Readable=t,t.Writable=n("dc146"),t.Duplex=n("b19a"),t.Transform=n("27bf"),t.PassThrough=n("780f"),t.finished=n("903c"),t.pipeline=n("5d1c")},e3f1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this;return(0,e._self._c)("a-pagination",{attrs:{"page-size":e.pageSize,"page-size-options":e.pageSizeOptions,"show-quick-jumper":"","show-size-changer":"",total:e.total,"show-total":e.totalItems()},on:{change:e.changePageNum,showSizeChange:e.changePageSize},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}})},t.staticRenderFns=[]},e4b8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("6d8b"),r=n("e86a");function i(e,t,n){var i=e.get("borderRadius");if(null==i)return n?{cornerRadius:0}:null;Object(o.isArray)(i)||(i=[i,i,i,i]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Object(o.map)(i,(function(e){return Object(r.g)(e,a)}))}}},e51d:function(e,t,n){"use strict";n.r(t);var o=n("0246"),r=n("6f1f");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("b579");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"f2e6c96c",null);t.default=u.exports},e686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{staticClass:"course-learn-header",class:e.isCourseLearn?"course-learn-newHeader":""},[t("LiteHeader",{attrs:{userDropdownPosition:"headerbar","is-bigComp":!1,"showright-search":!0,"user-name":e.userName,iLearningXserName:e.iLearningXUserName,"profile-url":e.profileUrl,"un-read-message":e.unReadMessage},on:{onHeaderSetLang:e.switchLang},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"course-title"},[t("span",{class:["title",{"can-jump":e.isInnerMOOC&&["newApplicationLearn","applicationLearn"].includes(e.$route.name)}],attrs:{title:e.title},on:{click:e.toViewPage}},[e._v(e._s(e.$isInner&&"application"===e.$route.name?"":e.title))]),e.$isInner&&"application"===e.$route.name?e._e():t("Diamond",{attrs:{type:e.featureType,isFeature:e.isFeature,"is-core":e.isCore,"cert-flag":e.certFlag}}),t("SwitchLanguage")],1)]},proxy:!0}])})],1)},t.staticRenderFns=[]},e797:function(e,t,n){"use strict";n("10de")},ea6a:function(e,t,n){},eaa2:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d9e2"),n("0643"),n("4e3e");var r=o(n("fdb02")),i=n("b255"),a=n("cabd"),u=n("ca00"),s=n("5f87"),c=o(n("08e3"));t.default={props:["courseStatus","isNeedBuy","primaryId","courseName","currentData","uuid","isTeacher","isAllowGift","mapId","courseInfo","appId","associationId","fetchLearningTimeInfo","showLearnableTimeTip"],components:{showIcon:c.default},mixins:[r.default],data(){return{visible:!1,mapType:1,userUuid:"",title:"",resYc:0,startStudyStatus:0,startEnrollStatus:0,priceStatus:!1,courseRoute:this.$route.query.courseId,statusRoute:this.$route.query.status||"",sxzLang:this.$route.query["sxz-lang"]||"zh_CN",applyEndDate:"",applyStartDate:"",curriculumEndDate:"",curriculumStartDate:"",timeShow:"",dateTime:"",tempTime:"",subscribeStatus:null,statusLoading:!1,systemCurrentTime:new Date,isQrShow:!1}},watch:{coursePackageType:{async handler(e){const{saleMode:t}=this.$route.query;2===e&&"3"!==t&&(await this.showStatusFn(),this.handlerTitle())},immediate:!0},courseStatus:{handler(e){this.afterEnroll&&(this.afterEnroll=null,"startLearning"===e||"resumeLearning"===e)?this.goStartStudy(e):e&&this.signupStatus(e)},deep:!0,immediate:!0},isNeedBuy:{handler(e){e&&(this.handlerTitle(),this.priceStatus=!0)},deep:!0,immediate:!0},currentData:{async handler(e){if(this.$tools.isApplication()&&e){this.applyEndDate=null==e?void 0:e.enrollEndDate,this.applyStartDate=null==e?void 0:e.enrollStartDate,this.curriculumEndDate=null==e?void 0:e.curriculumEndDate,this.curriculumStartDate=null==e?void 0:e.curriculumStartDate;const t=this.$moment(this.systemCurrentTime).years();if("learningCountDown"===this.title)this.timeCountdown(new Date(this.curriculumStartDate).getTime()+1e3);else if("enrollCountDown"===this.title)this.timeCountdown(new Date(this.applyStartDate).getTime()+1e3);else if(this.startBeyondSeven){const e="startLearning"===this.title?this.curriculumStartDate:this.applyStartDate;this.$moment(e).years()>t?this.tempTime=this.$moment(e).format("YYYY-MM-DD  HH:mm")+"  ":this.tempTime=this.$moment(e).format("MM-DD  HH:mm")+"  "}}},deep:!0,immediate:!0},applyStartDate(e){"enrollCountDown"!==this.title&&"Enroll"!==this.title||this.timeCountdown(new Date(e).getTime()+1e3)},curriculumStartDate(e){"learningCountDown"!==this.title&&"startLearning"!==this.title||this.timeCountdown(new Date(e).getTime()+1e3)}},computed:{coursePackageType(){return Number(this.$route.query.coursePackageType)},contentMarketTip(){return 1===this.subscribeStatus||12===this.subscribeStatus},classId(){return this.$route.query.classId||this.uuid},headershow(){return"true"==this.$tools.getQueryString("headershow",window.location)},startCountdown(){return["learningCountDown","enrollCountDown"].includes(this.courseStatus)},startBeyondSeven(){return["learningHasNotBegun","enrollHasNotBegun"].includes(this.courseStatus)},buttonDisabled(){return["learningCountDown","learningHasNotBegun","enrollHasNotBegun","enrollCountDown","fullyStaffed","InvitationOnly","EnrollEnded","Ended","apiException",""].includes(this.courseStatus)||1===this.startStudyStatus||1===this.startEnrollStatus},otherClassName(){const e=this.$tools.whichAppType();let t="",n="",o="",r="",i="";return"onlyMember"===this.courseStatus&&(n="signup-VIP"),"onlyVIPPACKAGE"===this.courseStatus&&(n="signup-VIP"),this.isNeedBuy&&(o="signup-goods"),this.contentMarketTip&&(r="guiding-box"),(this.startCountdown||this.startBeyondSeven)&&(i="signup-not-start"),t=["1","4","5","6"].includes(e)?"simple-button simple-button-sa":"complex-button",`${t} ${n} ${o} ${i} ${r}`},saleMode(){return this.$route.query.saleMode}},async created(){this.systemCurrentTime=await(0,u.getSystemTime)()},mounted(){this.handlerTitle(),this.$nextTick(()=>{2!==this.coursePackageType&&(this.statusLoading=!0)})},methods:{gotoAllowGiftPage(){this.showLoginDialog&&this.isLogin&&"10000"!==(0,s.getUserId)()&&null!==(0,s.getUserId)()?this.goToBuy(3):window.sxz.showLoginDialog()},handlerTitle(){this.isTeacher?this.title="StartTheLecture":this.isNeedBuy?this.title="BuyNow":1===this.subscribeStatus?this.title="subscribe":12===this.subscribeStatus?this.title="ask":2===this.subscribeStatus&&(this.title="Preview")},goOrding(){const{courseId:e,"sxz-lang":t}=this.$route.query;window.open(`/iadmin/${this.$route.params.schoolId}/management/contentMarketplace/buyCourse?targetResourceId=${e}&sxz-lang=${t}`,"_blank")},subscribeFn(){const{courseId:e}=this.$route.query;(0,i.subscribeCourseWare)(e).then(e=>{200===e.code?this.goOrding():(this.$message.warning(e.msg),this.showStatusFn())}).catch(e=>{throw this.$message.error(this.$t("course.subscribeError")),new Error(e)})},showStatusFn(){const{courseId:e}=this.$route.query;return(0,i.showStatus)([e]).then(e=>{if(200===e.code){const{saleMode:t,status:n}=e.data[0];this.subscribeStatus=2===n?n:1===t?1:12}}).finally(()=>{this.statusLoading=!0})},onFinish(){this.$emit("updateCourseStatus")},init(){this.$emit("updateCourseStatus")},checkAuthYc(e,t){return(0,a.checkAuthYc)(e,t).then(e=>{e&&"0"==e.code&&1==e.data[0]?this.goSignUpNext("Enroll"):e&&"0"==e.code&&0==e.data[0]?this.$message.error(e.description):this.$message.error(this.$t("course.jianquanerror"))})},quNaHuaWeiCount(){(0,a.quNaHuaWeiCount)().then(e=>{if(e&&"000000"===e.code&&e.data.length>0){e.data.forEach(e=>{e.thirdAccountId&&(this.userUuid=e.thirdAccountId)});const t=this.$route.query.courseId;this.checkAuthYc(t,this.userUuid)}this.resYc=0})},async goToLogin(){const e=await(0,u.isVisibleLearn)()?this.appId:this.associationId,{protocol:t,host:n}=window.location,o=`${t}//${n}`+"/commonUsage/memberCenter.htm?schoolId="+this.$route.params.schoolId+`&sxz-lang=${this.$route.query["sxz-lang"]}&resourceId=${e}&resourceType=1`;this.showLoginDialog?(0,u.publicOpen)(o,"_blank"):window.sxz.showLoginDialog()},async buttonClick(){if(this.showLearnableTimeTip&&!await this.fetchLearningTimeInfo())return void this.$message.warning(this.$t("course.learnableButtonTip"));if(!this.isLogin||"10000"===(0,s.getUserId)()||null===(0,s.getUserId)())return void window.sxz.showLoginDialog();if("VIPPackageExpired"===this.courseStatus)return void this.$message.warning(this.$t("course.VIPPackageExpiredTips"));if(12===this.subscribeStatus)return void(this.isQrShow=!this.isQrShow);if(1===this.subscribeStatus)return void this.subscribeFn();if("MembersOnly"===this.title)return void this.goToLogin();if("VIPBenefits"===this.title)return void this.goToLogin();if("Enroll"===this.title&&await(0,u.isReAuth)())return this.resYc=1,void this.quNaHuaWeiCount();const e=this.$tools.whichAppType();if("4"===e){if(this.isTeacher)return void this.goSignUpNext("StartTheLecture");this.handlerAsyncFn(this.classIsEnrollVerify())}else"5"===e?this.handlerAsyncFn(this.mapIsEnrollVerify()):this.goSignUpNext(this.title)},async handlerAsyncFn(e){try{await e?(this.visible=!1,this.goSignUpNext(this.title)):this.visible=!0}catch(e){this.visible=!1}},classIsEnrollVerify(){return(0,i.classIsEnrollment)(this.classId).then(e=>e.data)},mapIsEnrollVerify(){return(0,i.mapIsEnrollment)(this.mapId).then(e=>(this.mapType=e.data.mapType,e.data.mapMemberJudge))},closeModel(){this.visible=!1},goHome(){let e="";e=`${location.origin}/portal/${this.$route.params.schoolId}?sxz-lang=${this.$route.query["sxz-lang"]||""}`,window.location.href=e},goEnroll(){const e=this.$tools.whichAppType();if("4"===e){let e="";e=`${location.origin}/classInfo/${this.$route.params.schoolId}/class-view/${this.$route.query.classId}?type=home&pageId=&activeIndex=-1&subIndex=&sxz-lang=${this.$route.query["sxz-lang"]||""}`,window.location.href=e}else if("5"===e){let e="";const t=1===this.mapType?2:2===this.mapType?3:2;e=`${location.origin}/center/privateCenter.htm?schoolId=${this.$route.params.schoolId}&type=studyCenter_LearningTask&sxz-lang=${this.$route.query["sxz-lang"]||""}&mapDetail=${t}&mapDetailId=${this.mapId}`,window.location.href=e}},unconfigure(){var e;const{courseId:t,"sxz-lang":n}=this.$route.query,o=`${window.location.origin}/iadmin/${this.$route.params.schoolId}/management/teaching-content/course/classes-information?id=${t}&applicationId=${null===(e=this.courseInfo)||void 0===e?void 0:e.applicationId}&title=&routeFrom=primary&sxz-lang=${n}&nowKey=2`;window.open(o,"_blank")}}}},eae9:function(e,t,n){"use strict";n.r(t);var o=n("1a7b"),r=n("6feb");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("b6fc");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"5094cef7",null);t.default=u.exports},eb9f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAABHNCSVQICAgIfAhkiAAAA0JJREFUWIXVmE1v20YQhp9ZciVaimrEQFwBKQy4p6KHXpjfpPwm6z/p0lNvAYwUCGJAhSpRXytycqBXX7alJW0Zznvbwe7Mw+Xs1wg1pKqtDDrxgrYIiRMaK0cEEFtyqyxVma+aZG0Yi8i0agypAGPuMi7PLRcr4axKkFiZjRzDD22+i0jxYmCTiXZp0BXKWakrhZwl3969k2/PAlPV1njJVSS0nwO0r1zJOg1uD/3iJ8FGqhc65dral0TayDmQFl/ORYbBYOOxfjBNrk6DtKtiwW2nI3f7drNvGKlevBYUgGlyNVK9eGDfbqhqS6dcvxbUOu6Ua1Vtbdt2wMZLrk6VU4dkbRl727YGm0y0W3f1JRFpYumdWW6SiLSOj0hoTyba3QFTVUOD7tPDDksMPQM9AGO4qeuHBl1VNWuwu4zLupvnmeVGIC0KPs8cn72tji+B6C7jcg12bnmwKkKUWHoCaQH9ec4AoIC+UP7aOj49S6yqramrdvZ5KAO9AvpzR9/b545+YsFAL7Flu4rflXCmqi2ZqP4qjt9CYaAMCuXs7AdOItJ5zsCDAygMtNjM6jGp5avM5/p7bnh/ECgi3U7qAvoUDPYDeZip45MfJ6aEE8rV+tjH7Csq+E8WC/3z2DXGJ7PC4JhTn3dalP08vIcUSD34U4qVmXFC41AnKL82BArKnFIYiKFnzGZfC/2NAE5oxCtHdGy3L6BfJZkf65NEpH4FHxu/ckTxsU4+0HqlRQ9zK0TGcBM66wAmtuShcFDu8lWh1jlahEHFltxYZRkaoM7muf0LQ2faKkujyjw0SNXNsu5YVeZm1SSrGyxIpvptY9UkM20Yn4LnOWrD2IjINFZmz3WWRKR172LbipWZiExjgJFj2G7wsTLM3tkJ0DKbsxE2R1GoRo7h/bjyopg5/gq5k20fznAPAQOKzYrzR49vh5yP977ytuVvESnWz7fJRLsSOGtJRIohPXpuBvZbgy3517/Sd96V/y/0j5d+dYcqV7JfmvKPb++8kjoNbp17fSjnytjbth0wEZlKiy+vi1WWCvbrGA9e4uciw2KxS39KFQtuH6tf/FxFFa83WYba1psr3O04fYulzkcgT14c/gF1zJspVFpbrwAAAABJRU5ErkJggg=="},ebbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"courseTag",props:{show:{type:Boolean},active:{type:Boolean}},data:()=>({bottom:100,adDom:"",fxDom:""}),mounted(){window.addEventListener("scroll",this.handleScroll)},methods:{courseTag(){this.$message.info("建设中")},handleScroll(e){this.active?document.documentElement.scrollTop<=document.querySelector(".course-recommended").offsetTop+425?(this.adDom=document.getElementsByClassName("back-btn-position-bottom-style"),this.fxDom=document.getElementsByClassName("back-btn-position-fixed-style"),this.adDom.length>0&&(this.adDom[0].classList.add("back-btn-position-absolute-style"),this.adDom[0].classList.remove("back-btn-position-bottom-style")),this.fxDom.length>0&&(this.fxDom[0].classList.add("back-btn-position-absolute-style"),this.fxDom[0].classList.remove("back-btn-position-fixed-style"))):document.documentElement.scrollTop>=document.documentElement.scrollHeight-document.querySelector(".course-sequence").offsetTop-75?(this.adDom=document.getElementsByClassName("back-btn-position-fixed-style"),this.adDom.length>0&&(this.adDom[0].classList.add("back-btn-position-bottom-style"),this.adDom[0].classList.remove("back-btn-position-fixed-style"))):(this.adDom=document.getElementsByClassName("back-btn-position-absolute-style"),this.fxDom=document.getElementsByClassName("back-btn-position-bottom-style"),this.adDom.length>0&&(this.adDom[0].classList.add("back-btn-position-fixed-style"),this.adDom[0].classList.remove("back-btn-position-absolute-style")),this.fxDom.length>0&&(this.fxDom[0].classList.add("back-btn-position-fixed-style"),this.fxDom[0].classList.remove("back-btn-position-bottom-style"))):document.documentElement.scrollTop<=document.querySelector(".course-recommended").offsetTop+954?(this.adDom=document.getElementsByClassName("back-btn-position-bottom-style"),this.fxDom=document.getElementsByClassName("back-btn-position-fixed-style"),this.adDom.length>0&&(this.adDom[0].classList.add("back-btn-position-absolute-style"),this.adDom[0].classList.remove("back-btn-position-bottom-style")),this.fxDom.length>0&&(this.fxDom[0].classList.add("back-btn-position-absolute-style"),this.fxDom[0].classList.remove("back-btn-position-fixed-style"))):document.documentElement.scrollTop>=document.documentElement.scrollHeight-document.querySelector(".course-sequence").offsetTop-75?(this.adDom=document.getElementsByClassName("back-btn-position-fixed-style"),this.adDom.length>0&&(this.adDom[0].classList.add("back-btn-position-bottom-style"),this.adDom[0].classList.remove("back-btn-position-fixed-style"))):(this.adDom=document.getElementsByClassName("back-btn-position-absolute-style"),this.fxDom=document.getElementsByClassName("back-btn-position-bottom-style"),this.adDom.length>0&&(this.adDom[0].classList.add("back-btn-position-fixed-style"),this.adDom[0].classList.remove("back-btn-position-absolute-style")),this.fxDom.length>0&&(this.fxDom[0].classList.add("back-btn-position-fixed-style"),this.fxDom[0].classList.remove("back-btn-position-bottom-style")))}}}},ec11:function(e,t,n){},ecfb:function(e,t,n){"use strict";n.r(t);var o=n("6d6e"),r=n("352a");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("081a");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"1919037a",null);t.default=u.exports},ed1f:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/pdf_icon.639f24f1.png"},ed42:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("f187")),i=n("cabd"),a=n("ca00"),u=n("b255");t.default={props:["courseStatus","uuid","primaryId","isNeedBuy","courseName","currentData","dealList","fetchLearningTimeInfo","showLearnableTimeTip"],components:{signupBuuton:r.default},data(){return{sxzLang:this.$route.query["sxz-lang"]||"zh_CN",currentIndex:0,selectIsOpen:!1,antdLocale:{emptyText:"no data ~"},headershow:!1,price:"",isAllowGift:!1,actualPrice:"",priceDiff:"",activeState:"noActive",calcDay:0,calcHour:0,calcMinutes:0,calcSeconds:0,overSevenDay:!0,showPrice:!1,tpToken:""}},watch:{primaryId:{handler(e){e&&this.isNewGoods&&this.countDown()},immediate:!0,deep:!0}},computed:{isNewGoods(){return"3"===this.$tools.whichAppType()}},beforeDestroy(){document.removeEventListener("visibilitychange",this.visibilitychangeLis,!1),clearTimeout(this.timers)},created(){const e=this.getUrl("headershow");"true"==e&&(this.breadcrumbShow=!1,this.headershow=!0),this.$tools.getQueryString("_tpToken",window.location)||"true"!==e||-1===location.host.indexOf("huawei.com")||(0,u.getUnenrolledCode)().then(e=>{null!=e&&e.code&&(this.tpToken=e.code)})},methods:{getUrl(e,t){t=t||window.location.search;var n=new RegExp(`(^|&)${e}=([^&]*)(&|$)`,"i"),o=t.substr(1).match(n);return o?o[2]:null},updateCourseStatus(){this.$emit("updateCourseStatus")},openSelectPop(){this.selectIsOpen=!this.selectIsOpen},rowClick(e,t){return{on:{click:()=>{this.$ana.upLog({eventType:"click",eventCode:"030104"}),this.selectedVal=t;let n="";n="unpublished"===this.$route.query.status?`/course/${this.$route.params.schoolId}/application-view?courseId=${e.courseResourceId}&appId=${e.applicationId}&classId=${e.associationId}&appType=${this.$route.query.appType}&status=unpublished&sxz-lang=${this.$route.query["sxz-lang"]||"zh_CN"}`:`/course/${this.$route.params.schoolId}/application-view?courseId=${e.courseResourceId}&appId=${e.applicationId}&classId=${e.associationId}&status=${this.statusRoute||""}&appType=${this.$route.query.appType}&sxz-lang=${this.$route.query["sxz-lang"]||"zh_CN"}&headershow=${this.headershow}`;const o=this.$tools.getQueryString("_tpToken",window.location),r=this.getUrl("headershow");o&&"true"==r&&-1!==location.host.indexOf("huawei.com")&&(n=`${n}&_tpToken=${o}`),n=window.location.origin+n,(0,a.publicOpen)(n,"_self")}}}},curriculumStudyColor(e){const t=(0,a.switchCourseStatus)(e,2);return""===t?"Normal":t},curriculumStudyStatus(e){const t=(0,a.switchCourseStatus)(e,2);if(t){const e="course."+t;return this.$t(e)}return""},visibilitychangeCountDown(){document.addEventListener("visibilitychange",this.visibilitychangeLis=()=>{"visible"==document.visibilityState&&this.isNewGoods&&(this.countDown(),clearTimeout(this.timers),this.timers=null)})},countDown(){const e={resourceId:this.primaryId,resourceType:"02",ignoreStatus:!0,selectPromotionInfo:!0};(0,i.getGoodsAttrVOForCountdown)(e).then(e=>{if(200==e.code){this.showPrice=!0,this.priceDiff=e.data.discountMoney,this.price=e.data.price,this.actualPrice=e.data.actualPrice,this.isAllowGift=1===e.data.allowGift;const t=e.data.promotionStartTime,n=e.data.promotionEndTime;if(t){const o=new Date(t).getTime(),r=new Date(n).getTime(),i=new Date(e.data.serviceTime).getTime();o<=i&&i<=r?(this.activeState="duringActive",this.countdown(i,r,!1,this.activeState)):o>i?(this.activeState="beforeActive",this.countdown(i,t,!1,this.activeState)):(this.activeState="noActive",this.countdown(i,t,!0,this.activeState))}}})},countdown(e,t,n,o){const r=this,i=new Date(t).getTime()-e;let a=Math.floor(i/1e3),u=null;clearTimeout(this.timers),clearTimeout(u),u=setTimeout((function e(){if(a-=1,n)return r.timers=null,clearTimeout(r.timers);{r.timers=setTimeout(e,1e3);let t=0,n=0,i=0,u=0,s=0;a>=0&&(t=Math.floor(a/60/60/24),n=Math.floor(a/60/60%24),i=Math.floor(a/60%60),u=Math.floor(a%60),s=Math.floor(a)),r.calcDay=t,r.calcHour=n,r.calcMinutes=i,r.calcSeconds=u,r.overSevenDay=t>6,"beforeActive"==o?0==s&&location.reload():"duringActive"==o&&0==s&&location.reload()}return!0}),1e3)}}}},edbb:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("0643"),n("4e3e"),n("a573");var r=o(n("f187")),i=o(n("b8d2")),a=n("b255"),u=n("2934"),s=n("ca00"),c=o(n("f2f3")),l=n("4ee2"),d=n("08f3"),f=o(n("5d79")),m=n("cabd");t.default={props:["primaryId","isTeacher","uuid","lists","courseInfo","evaluationInfo","appId","associationId"],inject:["sharedState"],data(){return{sxzLang:this.$route.query["sxz-lang"]||"zh_CN",statusRoute:this.$route.query.status||"",isPurchase:1,isPass:"",isGoods:0,licenseToSell:0,memberLicense:"0",courseName:"",learnerCnt:0,avgScore:0,courseStudyAvatar:`this.src='${n("2c4e")}'`,courseStatus:"",enrollMethod:"",statusShow:!0,currentData:{},dealList:[],courseLanguage:null,recentLearners:[],mapId:"",currentClassId:this.$route.query.classId,courseIsCollect:!1,currentIndex:0,isSubscribe:null,hasRelateCoursewareClass:!1,isOverseas:!1,showCollectButton:!1,isCollected:!1,collectLoading:!1}},mixins:[f.default],components:{signupButton:r.default,mutilSignupSelect:i.default},watch:{lists:{handler(e){this.currentData=this.getCurrentClassInfo(),this.dealList=this.getAllClassInfo()}},primaryId:{handler(e){e&&(this.getCourseClassStatus(),this.getCourseStudyLearn(),this.getResInfo())},immediate:!0,deep:!0},courseStatus(){this.$emit("getCourseStatus",this.courseStatus)},"sharedState.isSchoolMember":{handler(e){e&&this.initCollectStatus()},immediate:!0,deep:!0}},computed:{showRepo(){return!this.$isInner&&!this.isOverseas},cardImageUrl(){var e;const t=window.location.origin+"/commonUsage/public/img/placeholder.svg";var n;return["3","4","5","6"].includes(this.$tools.whichAppType())?(null===(n=this.courseInfo)||void 0===n?void 0:n.cardImageUrl)||t:(null===(e=this.currentData)||void 0===e?void 0:e.associationCardImageUrl)||t},isNeedBuy(){return 1===this.isGoods&&1==this.licenseToSell&&0==this.isPass&&0===this.isPurchase},isVip(){return this.enrollMethod&&3===this.enrollMethod&&"1"===this.memberLicense},isPreview(){return"unpublished"==this.statusRoute},isShowClassSelect(){const e=this.$tools.whichAppType();return!["1","4","5","6"].includes(e)},classId(){return this.currentClassId||this.uuid},language(){return this.$store.state.user.language||"cn"}},created(){this.statusRoute=this.$tools.getStatus(),this.initData(),this.getInfoUrl(),(0,s.getUrlOrigin)().then(e=>this.isOverseas=e)},mounted(){this.getCommentNumData(),this.showLearnableTime&&this.fetchLearningTimeInfo()},methods:{async fetchLearningTimeInfo(){const{data:e,code:t}=await(0,m.fetchLearningTime)(this.classId||this.currentClassId||"",this.appId,this.$route.query.id||"",this.isPreview);return 200===t&&e&&(this.isLearnAllDay=e.isLearnAllDay,this.isStudiableTime=e.isStudiableTime,this.studyStartTime=e.studyStartTime,this.studyEndTime=e.studyEndTime),e.isStudiableTime},initData(){this.$tools.isApplication()||(this.courseStatus="startLearning"),this.$nextTick(()=>{this.courseLanguage={"zh-cn":this.$t("course.Chinese"),en:this.$t("course.English"),other:this.$t("course.Other")}})},getResInfo(){const e=this.$tools.whichAppType(),t={applicationType:e};this.$tools.isApplication()&&"5"===e&&(0,a.getResInfo)(this.primaryId,t).then(e=>{var n;e.code===d.ResponceCodeEnum.Success?this.mapId=null===(n=e.data)||void 0===n?void 0:n.parentAssociationId:(0,l.logReportApi)("curriculum_040005",{statusCode:d.ResponceCodeEnum.Success,subErrorInfo:null==e?void 0:e.code,data:{params:t,data:e,primaryId:this.primaryId},resourceId:this.primaryId})}).catch(e=>{(0,l.logReportApi)("curriculum_040005",{error:e,data:{params:t,error:e},resourceId:this.primaryId})})},collectCourse(){this.courseIsCollect=!this.courseIsCollect},collectToShare(){},initCollectStatus(){const e=[d.APP_TYPE.single,d.APP_TYPE.multiple,d.APP_TYPE.goods].includes(this.$tools.whichAppType());this.$isInner||this.isPreview||(0,s.getUrl)("coursePackageType")===d.COURSE_PACKAGE_TYPE.contentMarket||!e||(0,a.isCollectCourse)({resourceType:"course",resourceId:this.$route.query.appId}).then(e=>{(null==e?void 0:e.code)===d.ResponceCodeEnum.Success?(this.isCollected=null==e?void 0:e.data,this.showCollectButton=!0):this.$message.error(e.message||"error")}).catch(e=>{this.$message.error((null==e?void 0:e.message)||"error")})},collectCourseFn(){this.collectLoading||(this.collectLoading=!0,(0,a.collectCourse)({favor_flag:this.isCollected?d.FAVOR_FLAG.notCollected:d.FAVOR_FLAG.collected,resource_id:this.$route.query.appId,resource_type:"course"}).then(e=>{var t;(null==e?void 0:e.code)===d.ResponceCodeEnum.Success&&null!=e&&e.data?(this.isCollected=(null==e||null===(t=e.data)||void 0===t?void 0:t.favor_flag)===d.FAVOR_FLAG.collected,this.$message.success(this.isCollected?this.$t("course.collectionSuccess"):this.$t("course.cancelCollectionSuccess"))):this.$message.error((null==e?void 0:e.message)||"error")}).catch(e=>{this.$message.error(e.message||"error")}).finally(()=>{this.collectLoading=!1}))},getCommentNumData(){const e=this;c.default.$on("getCommentNum",(function(t){e.evaluationInfo.avgScore=t.avgScore||0}))},getInfoUrl(){return(0,u.getSubSchoolInfo)(this.$route.params.schoolId).then(e=>{this.licenseToSell=e.data.licenseToSell,this.memberLicense=e.data.memberLicense})},async checkOrderEnroll(e,t,n){const o=await(0,a.checkorderEnroll)({courseResourceId:e,resourceApplyId:t});o.code===d.ResponceCodeEnum.Success&&o.data?this.courseStatus=n:this.courseStatus="fullyStaffed"},async orderCourseEnrollLogic(e){const t=(0,s.switchCourseStatus)(e.data.status),n=this.$route.query.courseId,o=this.primaryId;if(null===this.isSubscribe)try{var r;this.isSubscribe=this.lists[0].isSubscribe;0===(null===(r=(await(0,a.validateOrderCourseInfo)(n)).data)||void 0===r?void 0:r.availableEnrollNum)?await this.checkOrderEnroll(n,o,t):this.courseStatus=t}catch{this.courseStatus=t}else this.courseStatus=t},getCourseClassStatus(e){this.primaryId&&(0,a.getAppLearnStatus)(e||this.primaryId,{isPreview:this.isPreview}).then(async e=>{if(e.code!==d.ResponceCodeEnum.Success)return this.statusShow=!1,this.courseStatus="apiException",void this.$message.error(e.message);var t;this.isPurchase=e.data.isPurchase,this.isPass=e.data.isPass,this.isGoods=e.data.isGoods,this.enrollMethod=e.data.enrollMethod,this.isPreview?this.courseStatus="startLearning":this.lists&&null!==(t=this.lists[0])&&void 0!==t&&t.isSubscribe?await this.orderCourseEnrollLogic(e):this.courseStatus=(0,s.switchCourseStatus)(e.data.status),this.isSubscribe&&"Ended"===this.courseStatus&&this.$message.warning(this.$t("course.orderCourseEnded")),this.isSubscribe&&"fullyStaffed"===this.courseStatus&&this.$message.warning(this.$t("course.orderCourseFulled")),this.$emit("updateCoursestatus",this.courseStatus,this.isNeedBuy)},e=>{this.statusShow=!1,this.courseStatus="apiException"}).catch(e=>{this.statusShow=!1,this.$message.error(this.$t("course.refreshPage"))})},getCourseStudyLearn(){this.primaryId&&(0,a.getAppLearnerNumber)(this.primaryId).then(e=>{var t,n;this.recentLearners=(null==e||null===(t=e.data)||void 0===t?void 0:t.recentLearners)||[],this.learnerCnt=(null===(n=e.data)||void 0===n?void 0:n.learnerCnt)||0})},getCurrentClassInfo(e){if(this.lists.length>0&&(e||this.classId)){this.lists.forEach((t,n)=>{const o=e||this.classId;t.associationId===o&&(this.currentIndex=n)});const t=this.lists[this.currentIndex]||{},{curriculumStartDate:n,curriculumEndDate:o}=t,r={...t};return r.curriculumStartDate=this.$moment(n).format("YYYY-MM-DD HH:mm"),r.curriculumEndDate=this.$moment(o).format("YYYY-MM-DD HH:mm"),r.associationCardImageUrl=t.associationCardImageUrl,this.courseName=null==r?void 0:r.title,r}return{}},getAllClassInfo(){return this.lists.map((e,t)=>(e.curriculumStartDate=this.$moment(e.curriculumStartDate).format("YYYY-MM-DD HH:mm"),e.curriculumEndDate=this.$moment(e.curriculumEndDate).format("YYYY-MM-DD HH:mm"),e))},reporeHandle(){const e=window.location.pathname.replace(/[^0-9]/gi,"");window.open(`/complaintReport/${e}?sxz-lang=${this.sxzLang}`,"_blank").sessionStorage.setItem("complaintReportInfo",JSON.stringify({sceneId:"2",subSceneId:"3",businessKey:e+"_course",additionalContext:{contentTitle:this.courseInfo.title,contentId:this.courseInfo.id,contentURL:window.location.href}}))}}}},ee74:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/audio-stop.564a4a40.png"},eeead:function(e,t,n){"use strict";n.r(t);var o=n("c2bd"),r=n("8d85");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"fd1d513c",null);t.default=u.exports},eeee:function(e,t,n){},ef07:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;t.render=function(){var e=this,t=e._self._c;return t("div",{class:["learn-content-error","learn-content-error-"+(e.$isInner?"inner":"outer")]},[e.courseIsOpen?t("div",{staticClass:"course-open"},[e.showHourglass?t("svg-icon",{attrs:{"icon-class":"hourglass"}}):t("svg-icon",{attrs:{"icon-class":"closed"}}),e.getBlockErrorText?t("p",{staticClass:"course-error-text"},[e._v(e._s(e.getBlockErrorText))]):e._e(),e.moreSeven("block")?t("div",{staticClass:"more-seven"},[t("p",[e._v(" "+e._s(e.$t("course.courseOpenTime",{openTime:e.blockInfo.openStartDate}))+" ")])]):e.countdown("block")?t("div",{staticClass:"digits-course count-down"},[t("div",{staticClass:"digits-seperator"},[e._v(e._s(e.$t("course.longStartClass")))]),t("ul",{staticClass:"countdown-list"},e._l(e.countdownStr,(function(n,o){return t("li",{key:o,class:Number.isFinite(Number(n))?"digits-wrapper":"digits-seperator"},[e._v(" "+e._s(n)+" ")])})),0)]):e._e()],1):t("div",{staticClass:"course-not-open invite member"},[["ONLY_INVITE","ONLY_MEMBER"].includes(e.courseTime.statusEnum)||e.courseTime.whiteList?t("svg-icon",{attrs:{"icon-class":"closed"}}):t("svg-icon",{attrs:{"icon-class":"hourglass"}}),e.getCourseErrorText?t("p",{staticClass:"course-error-text",staticStyle:{"margin-top":"24px"}},[t("span",[e._v(e._s(e.getCourseErrorText))]),t("span",{staticStyle:{color:"#0d94ff",cursor:"pointer","margin-left":"4px"},on:{click:e.gorul}},[e._v(e._s(e.getapproveStatus))])]):e._e(),e.moreSeven("course")?t("div",{staticClass:"more-seven"},[t("p",[e._v(" "+e._s(e.$t("course.courseOpenTime",{openTime:e.courseTime.openTime}))+" ")])]):e.countdown("course")?t("div",{staticClass:"digits-course count-down"},[t("div",{staticClass:"digits-seperator"},[e._v(e._s(e.$t("course.longStartClass")))]),t("ul",{staticClass:"countdown-list"},e._l(e.countdownStr,(function(n,o){return t("li",{key:o,class:Number.isFinite(Number(n))?"digits-wrapper":"digits-seperator"},[e._v(" "+e._s(n)+" ")])})),0)]):e._e()],1),t("a-modal",{attrs:{width:400,title:"提示"},on:{cancel:e.okBack},scopedSlots:e._u([{key:"footer",fn:function(){return[t("a-button",{key:"back",staticStyle:{"background-color":"#f04b3d",color:"#fff","margin-bottom":"14px"},on:{click:e.okBack}},[e._v(e._s(e.$t("course.MatchErrSubmit")))])]},proxy:!0}]),model:{value:e.backVisible,callback:function(t){e.backVisible=t},expression:"backVisible"}},[t("div",{staticClass:"switch-screen-back"},[t("i",{staticClass:"el-icon-warning",staticStyle:{color:"#f5a623","margin-right":"8px","font-size":"20px"}}),t("span",{staticClass:"matip"},[e._v(e._s(this.$t("course.proMasterErrorTip")))])])])],1)},t.staticRenderFns=[]},ef2e:function(e,t,n){},ef72:function(e,t,n){"use strict";n("a64dd")},ef7c:function(e,t,n){"use strict";var o=n("97d9");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},f059:function(e,t,n){"use strict";n("9195")},f072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{message:{type:String,default:()=>""},className:{type:String,default:()=>""},styleObj:{type:Object,default:()=>({})}},data:()=>({})}},f100:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/profileImage.c77ddee3.svg"},f11e:function(e,t,n){"use strict";n.r(t);var o=n("1185"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},f187:function(e,t,n){"use strict";n.r(t);var o=n("62d8"),r=n("d418");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("7b75d");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"09ab2744",null);t.default=u.exports},f213:function(e,t,n){"use strict";var o=n("00ce"),r=n("3bbf"),i=n("2714"),a=n("0d25"),u=o("%Map%",!0),s=r("Map.prototype.get",!0),c=r("Map.prototype.set",!0),l=r("Map.prototype.has",!0),d=r("Map.prototype.delete",!0),f=r("Map.prototype.size",!0);e.exports=!!u&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+i(e))},delete:function(t){if(e){var n=d(e,t);return 0===f(e)&&(e=void 0),n}return!1},get:function(t){if(e)return s(e,t)},has:function(t){return!!e&&l(e,t)},set:function(t,n){e||(e=new u),c(e,t,n)}};return t}},f235:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/elabSchool.62d6cb80.png"},f278:function(e,t,n){"use strict";n.r(t);var o=n("897c"),r=n("3f39");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,null,null);t.default=u.exports},f31f:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/video_under_review.1f73def6.png"},f4fd:function(e,t,n){"use strict";n.r(t);var o=n("9233"),r=n("fd93");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("2db1");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"ebbc0d90",null);t.default=u.exports},f5a3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVgAAADMCAYAAAA27LuhAAANm0lEQVR4nO3dXW4rx7WG4a+qu9kKdmB4EkEyBJ/7M6gzgiCjyQCC3CdDCJBJRE7sza7fc1FdTVKiJP6V2FTeB7AtWxLVF9ufFldVrTLPz8+S9DtJf5L0v5J+EADgEj9L+quk/5P0T/P8/Px7SX+X9ONdHwsAvo5/SfrJSvqjCFcAuKUfJf3RPJceAW0BALit/1gRrgDQwm/tvZ8AAL4qAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaARAhYAGiFgAaCR/t4P8NIPP/yglJKmaVIIQTnnez8SAFxkdQGbUtIvv/xCsAJ4eKtrEUzTRLgC+BJWF7AhhHs/AgDcxOoCluoVwFexuoAFgK+CgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARghYAGiEgAWARvp7PwBwTM5ZKSXFlGRk1HWdrDX3fizgLFSwWKWUkpz38j4opSgp3/uRgLNRwWJ1YoyanJNzTpJkzEbDnZ8JuAQBi9XIOSvEKOecJueUYpK1Vsrlc8CjIWCxCimlJVyd94oxLZ/LygQsHhIBi7vLOcuHoGlyCiEopnTwuZQyHVg8JAIWdxVTkvd+Cdf0olLNOSvnRAWLh0TA4m5SyvLOa3JO3vs3q9SUskTA4gERsLiLlFLZKTA5+RDeDNc8f21KBCweD/tgcVP1gMB7UkpyrrQF3gvXg9ekTYAHRMDipkrPNC8fv1Qr1+00KZwQrstrJnYS4PHQIsBNvAy/Y2EYY5TzXm5e0DonLlNOijHJGCNjODKLx0AFi5swxsy90nRQwe5/HEKQc/6ktsC+0octuwmAR0LA4ib2g3X/3+tf3ntNzp9due6/XoiRzQR4KLQIcLUY45v90XJIoA5u8WUB7IK3+LvqOEnqrnxi4HMQsLjKy8p1X50tEEOUc/7D3QXv/pycFWPZrtWRr3gQtAhwkbod671wTSkphKDJ+93x10sXqObXS+ntahlYGwIWZ9vvrX5UvXofFGMsJ7GuXP0vr5muqoSBz0TA4iy1F3rK15Vh2ek2x1znXQoxBoUYr3894BMQsDjZflvg4+o1KcZ402ozSwoxKkVOdeExELA4mTGmDMDW2wOwc86KMZbJWCnttmTd6HBAikkxxVdTt4A1ImBxM/WEVa1es6Rbn7nKkmKIiiFQxWL1CFicpPQ/P37Ln3NWql/XKABjTvKB3QRYPwIWH9rvu76n3j6Q9r/WmJu1B5bniWX7F4tdWDsCFu/6aEFrX91h0HobVZZKHzYyJxbrRsDiTR8dJjj29eGdY7O3lGJSiEEpUcVivQhYHHVO5VqldF4gXyNLCiEq0IvFihGweKVWrqe+1a+7B86teK8VY3x30Axwbwx7weLcivXV96sucEnGth+KneaWREpp2Z/75rO9U5HXId4M8satEbBYfHTdy8ffr2Zbs97+mbuq+VhA7obORMUY5qp3V2Vba9X3nfp+UN936hjVhRsiYCGpBJG19qpdAMbUv31eyNaFta7r1XUlYOt+3RKkaQnVEEI5Ybb3S8BI6vtefR/mgO3nwO2paHE1AhaSDvuoF7+GjKwxyka7SrZxSNXqtO+CpE4xJnnv5gWw8PoamxffnyX5OXiNMeq6TpvNoM1m1DD0VLS4CgELSbv2QO1FnlPF1vDa72V+1sJTvevr15TUWTPPQSiLX+fMK8jza6U5lEOIenoatdls1Pf8b4LL8CcHknQQrDVozw1Ja0sF+Jk7CcqFiOXtf67tjSur5piSonMHv3SoZHEJAhYHXvYdzwnKGkQhhFs/1ts/U7sjuvnGJ8i890vAjuNIyOJsBCwOHL7FNzImn7Uf1to7bncy5qbra+UwQ9A0OVnbyVrLwhfOwkEDHGXm3QBlRf60zfx1Xqy1ewNeGrcK8pGPbv36zjk5N5Wrb4AzELA4qiweeW23v2raTkopfVi9GWNkVPaW2v2vbRmy88GG3UPc/keknOV92F2BA5yIFgFeyTnLe6/v37dy0yRrJc1FqbXduwtgpYrtZG28+mTYOc/b+qfEGOW9U993nPrCyQhYHKjhuv3+XdN2O+8jlaStlKXxaZS1xxd7divuVp21inVHQtPnnRfiGgd5nC9xHIaorusIWJyEFgEWdU/p9vt3TdO0vB3OuUyucm47twve70V21qrru8NgbRaAWZ91csx7r5Rue5EjvjYqWEiar4QJQb9+/y43zQs6L9qoZTTgVpK0mbctHWsX7Ba7bPM2QT0gcK1yyvf10JeXQ2JCiLJd4PABTsKfEuwq1+2uLVA+oVchG2PUNG2Vc9L49KSuO/5HqLNWQ98vt8w2evBdZXzFDYudter7fjkaWwK27KKoz19nGdRfRMApCFhIqn3Meczg/rvuGlx7u65ijHJuklQr2X6pVitjjLq+k02xWS/22urYGqO+77XZDAfTtF5WsPXobG0PfDQaEagIWMjMQaNxlLFWzrnlWuwavEs6mhqyqfRpc9Y4Pr2aPmWMUd91il2nGOa5ALccAPNyvuuZL2kkbTabZd7AW4cIarujnuL6zGPAeHwELCRpqdy6vlff92VbknMKocxQPRqyKUnOlbAbRw3D5qCSXUK27+Xnt9e3qmKvGT27H67jOJ5Ukdbw5bgszkHAYlEXprquU4xRfd/JOy/v/TJjNee8axnMlWzOu8EoNWTr4lfXdRqGeSj20tvN11WxczV86e7XYRj0m988LZUr0AoBi1dqy8Baq6EfFGKYTzJ5hTls90vRlLKcd0u/crPZ7TDYVbFlytZBq+BCdbjLJa/TWTvPe91QjaI5AhZvstZK1sp25UqVzWaQ92F3M8BeVZtTnT5VKtVhM6rvy6p8qWIH5ZTl5t7uxf3Y+WhszufvRa2tgfoLAGiNgMWH6hjCcn/VoJSigg9zZevLItZcnYaQFONWMUaN45PyMJTv6zrlYShfc8Xq/6XhKpWrYcZx1GYzXPT9wLkIWJxsfyN+1/XapKQ4JsUY5sCdbxKIUSF4pZw0xM18K0DZBpXyoJzLtqez5Vwq5FoBn1H99l2np6dyDQzHXPFZCFicrQaU6bq5fdBrGNIy2jCGqJii8ryw5Z1XSnm5UDDnjSSnENPprYK573rJMVVrjDabDUOz8ekIWFxtv4UgDdImKy0b9Eu/djtN6rqgoR/UWavc90rJn3ZvVr2xIO/tQjj12aQlXLkpFp+NgMXNLOFljDqVRbJ6CWHZhRAV+t00qrpF6t1xg3vhesni2DAM82GCgXDFpyNg0USWFGKU817O++WtvXOx7LftumUodz4Wmnu7BXYnys5bGBv6XuO4Yb8r7oaARRMpRm232+U2hIPPzTsOzLyZtsxWMctEq1dVq3R2uNZFraenJ/quuBsCFjeXc5ZzXtN2UnhrktbeSayyIaBcmZD3XuPacK19V+Be+NOHm6rhut1uz7q++1ZzY/cr12Fgvyvui4DFTZV5sZOcc23uGXhjocpof0FrQ7hiFQhY3ExKSd57OedK3/UTVu3rLbbDMGgc2euKdSFgcTMhBE2T27UG9t/yXxK2H7QMjOrx1zJfYBh6dgtgVQhY3EQ9VOCcO95LPWf/6jvBWivWvi+nwoZhmD/mEAHWh4DF1cpV30HO+cPWwFtB+14Qvrh2pv5zGX04B2s/DBr6niu0sWoELK6WUpJzRxa2XhwcOPrxEXXw924AuJ2P4nbzP3e31gJrRsDiauVW2nK54anqUdn96rT8N/MiYLslZN+6NwtYKwIWV6thaY15c3jLLkD3w3M3JKYGqbWHgVu/F3hEBCyuZq3VOI4yRtpup6WSrav85VaDXbAas6tGa6BSneIrImBxNWPMcktASnnZSVDmxPZzyPbL23+qU/y3MM/Pz1zyDgANsAwLAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQCAELAI0QsADQyOoC1hhz70cA8IDWmB2rC9i+7+/9CAAe0BqzY3UBO47jKn8TAVgvY4zGcbz3Y7yyuoC11urbt28ahoGgBfAuY4yGYdC3b99k7eriTOb5+Tnf+yEA4CtaX+QDwBdBwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRCwAJAIwQsADRiJf1874cAgC/oP1bSX+/9FADwBf3FPD8//0HS3yT9eO+nAYAv4l+S/sdK+oeknyT9WdK/7/pIAPDY/q2SpT9J+sf/AxwS7zxRUj6dAAAAAElFTkSuQmCC"},f646:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("9523"),r=n.n(o),i=(n("4082"),n("ab5b"));n("7037"),n("7418");var a=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,u={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},s=function(e){return u[e]};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(a,s)}};var f=n("970b"),m=n.n(f),p=n("5bc3"),h=n.n(p),g={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d=l(l({},d),e)}(e.options.react),function(e){e}(e)}};Object(i.createContext)(),function(){function e(){m()(this,e),this.usedNamespaces={}}h()(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}])}();n("278c")},f67d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("cabd");t.default={props:{path:{type:String,default:""},height:{type:String,default:"800"},width:{type:String,default:"700"},id:{type:String,default:"kkfiwpreview"}},data:()=>({publicUrl:""}),watch:{path:{handler(e){e&&this.onlinePreview()},deep:!0,immediate:!0}},methods:{async onlinePreview(){var e;const t={bucket:"klt-static-content-sit",filePath:null===(e=this.path)||void 0===e?void 0:e.replace("https://klt-static-content-sit.minio.sit.shixizhi.huawei.com",""),expire:72e5},n=await(0,o.onlinePreview)(t);200===n.code&&(this.publicUrl=n.data)}}}},f6f5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("b255"),r=n("604d");t.default={name:"LearnContentError",props:{courseTime:{type:Object,default:()=>({})},courseId:{type:String,default:""},blockInfo:{type:Object,default:()=>({})},nodeInfo:{type:Object,default:()=>({})},courseCode:{type:String,default:""}},data:()=>({countdownStr:"",timer:0,backVisible:!1,proStatus:!0}),mounted(){},created(){},watch:{"courseTime.openTime":{handler(e){e&&!this.courseTime.isStart&&(clearInterval(this.timer),this.time(e))},immediate:!0},handleBlockAndOpen:{handler(e){e.blockId&&e.courseIsOpen&&(clearInterval(this.timer),this.time(this.blockInfo.openStartDate))},immediate:!0}},computed:{courseIsOpen(){return this.hasLearnRole&&this.courseTime.isStart&&!this.courseTime.whiteList},hasLearnRole(){return["COURSE_NOT_START","COURSE_COUNTDOWN","START_LEARN","CONTINUE_LEARN","UNKNOWN"].includes(this.courseTime.statusEnum)},showLock(){return["ONLY_INVITE","ONLY_MEMBER"].includes(this.courseTime.statusEnum)||this.hasLearnRole&&this.nodeInfo.locked},showHourglass(){return this.hasLearnRole&&this.nodeInfo.locked&&!(new Date(this.blockInfo.openEndDate).getTime()<Date.now())},getCourseErrorText(){const{courseTime:e}=this;let t="";return e.whiteList?t="NOT_IN_WHITE_LIST"==e.statusEnum?this.$t("course.onlyInviteTips"):"platformAuditing"===e.statusEnum||"contentAuditing"===e.statusEnum?this.$t("course.onlyapproving"):"platformRevoke"===e.statusEnum?this.$t("course.onlyRevoke"):this.$t("course.onlyReoladapproving"):"ONLY_INVITE"===e.statusEnum?t=this.$t("course.InvitationOnly"):"ONLY_MEMBER"===e.statusEnum?t=this.$t("course.notLearnRuleTips"):this.hasLearnRole&&!this.courseIsOpen&&(t=this.$t("course.WaitingCourse")),t},getapproveStatus(){const{courseTime:e}=this;let t="";return["NOT_IN_WHITE_LIST"].includes(e.statusEnum)?t=this.$t("course.applyStudy"):["platformRejected","contentRejected","platformRevoke"].includes(e.statusEnum)?t=this.$t("course.peApplyStudy"):["platformAuditing","contentAuditing"].includes(e.statusEnum)&&(t=this.$t("course.queryProcess")),t},getBlockErrorText(){const{blockInfo:e}=this;let t="";return t=new Date(e.openEndDate).getTime()<Date.now()?this.$t("course.chapterHasExpired"):this.$t("course.WaitingClass"),t},handleBlockAndOpen(){return{blockId:this.blockInfo.blockId,courseIsOpen:this.courseIsOpen}},language(){let e=null;if((0,r.getILearningStorageLang)())e=(0,r.getILearningStorageLang)(),e="en"===e?"en_US":"zh_CN";else{e=this.$tools.getQueryString("sxz-lang",window.location)}return e||"zh_CN"}},methods:{moreSeven(e){if(this.courseTime.whiteList)return!1;const t="course"===e?this.courseTime.openTime:this.blockInfo.openStartDate;return new Date(t).getTime()-Date.now()>6048e5},gorul(){(0,o.getDepartMaster)().then(e=>{if(200===e.code&&e.data&&e.data.length>0){const{code:e}=this.$route.params,t=this.$isInner?"100000":this.$route.params.schoolId,n=`${location.origin}/course/${t}/application-invitation?courseId=${this.courseId}&code=${e||this.courseCode}`;window.open(n,"_blank")}else this.backVisible=!0})},countdown(e){if(this.courseTime.whiteList)return!1;const t="course"===e?new Date(this.courseTime.openTime):new Date(this.blockInfo.openStartDate),n=t-6048e5;return Date.now()<=t&&Date.now()>=n},okBack(){this.backVisible=!1},time(e,t=new Date){let n=new Date(e).getTime()-new Date(t).getTime();const o=["day","hour","minute"],r=()=>{if(0===n)return void clearInterval(this.timer);this.countdownStr="",n-=1e3;const{_data:e}=this.$moment.duration(n);return o.forEach((t,n)=>{const r=String(e[t+"s"]);this.countdownStr+=(1===r.length?"0"+r:r)+this.$t("course."+o[n])}),r};this.timer=setInterval(r(),1e3)}},destroyed(){clearInterval(this.timer),this.countdownStr=""}}},f706:function(e,t,n){"use strict";var o=n("2dc5"),r=n("deca"),i=n("2306"),a=n("1418"),u=n("6d8b"),s=n("7837");function c(e,t,n,o){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(o.isIgnore&&o.isIgnore(n))&&!(o.clipShape&&!o.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function l(e){return null==e||Object(u.isObject)(e)||(e={isIgnore:e}),e||{}}function d(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Object(s.e)(t),cursorStyle:t.get("cursor")}}var f=function(){function e(e){this.group=new o.a,this._SymbolCtor=e||a.a}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=l(t);var n=this.group,o=e.hostModel,i=this._data,a=this._SymbolCtor,u=t.disableAnimation,s=d(e),f={disableAnimation:u},m=t.getSymbolPoint||function(t){return e.getItemLayout(t)};i||n.removeAll(),e.diff(i).add((function(o){var r=m(o);if(c(e,r,o,t)){var i=new a(e,o,s,f);i.setPosition(r),e.setItemGraphicEl(o,i),n.add(i)}})).update((function(l,d){var p=i.getItemGraphicEl(d),h=m(l);if(c(e,h,l,t)){var g=e.getItemVisual(l,"symbol")||"circle",v=p&&p.getSymbolType&&p.getSymbolType();if(!p||v&&v!==g)n.remove(p),(p=new a(e,l,s,f)).setPosition(h);else{p.updateData(e,l,s,f);var b={x:h[0],y:h[1]};u?p.attr(b):r.h(p,b,o)}n.add(p),e.setItemGraphicEl(l,p)}else n.remove(p)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}),o)})).execute(),this._getSymbolPoint=m,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,n){var o=e._getSymbolPoint(n);t.setPosition(o),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=d(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,n){function o(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=l(n);for(var r=e.start;r<e.end;r++){var i=t.getItemLayout(r);if(c(t,i,r,n)){var a=new this._SymbolCtor(t,r,this._seriesScope);a.traverse(o),a.setPosition(i),this.group.add(a),t.setItemGraphicEl(r,a),this._progressiveEls.push(a)}}},e.prototype.eachRendered=function(e){i.traverseElements(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),n.hostModel)})):t.removeAll()},e}();t.a=f},f710:function(e,t,n){"use strict";var o=n("cc39");n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},f749:function(e,t,n){"use strict";n("40ee3")},f77e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACL0lEQVRIS7WVz29MURTHP/dNmMSi2mZYEakwiX1TU2OSLrpi5cdWQmL8CkIQKhZ2XWmFCimJv6B2djYyaOtHU1vCAhEhmYkxm1feO/L65vX9uveZEe7yzbnnc7/fc+YcxX8+Kpn/6qIUHRhXwqhAD0GEaF/iDBb43LDZc3CLeqWLiAHGFqWYE+aAPpMwaYOCi+V1YLu0vv1kpKqBxABXFmTGhb1ZriUllwvgCtgOrbqbhsTiLy/IdxF6uinLYD+sUj7kl9Bq2IxUt4V2xQCXXgYGaBCGWvSuhoE1kM+BpWBJ+LB/QG0KMsQAFyMAIyrVFuC40LJ9QC6HTA0rSwu48CJDwR98824uOT7kekmtPCP2nvPPQ0DQlUMF6M2H2d834d0PM827d23IADg3LyGhjT6wGfrzEABf1+Hxlww5CiZMgLPzf29RFDm53aDgzFyoIPBu1wboi1gUbaaGDQ8/+amjXhtrcHo2rWD3Rt8i3al7gI/pX24MGxSceiZinD3J/0GyXSOz6uYOA+CkB0icQ1uzFdx/m1YwZQKceCqSfFhpfbwG0XReDWa/pmtwq2xQcPzJv+mi2zsNgGOdAAITTTVQcMcEOFozK0gWRzOSlr3y4qYrBgVHat2P62SJlaI5XVFrtcPucE1mcOMLZ8WR7NUZciwe3KuofVpAtSZF11uZkrEy2zd1JVDQsCxKdyvqjRbgfVyGuIy7MEqn203RtOCRZTEWTZ4cId1syo5jfwOJxMYZi7qE0gAAAABJRU5ErkJggg=="},f82f:function(e,t,n){"use strict";n.r(t);var o=n("63f0"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},f8c4:function(e,t,n){"use strict";n.r(t);var o=n("219d"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},f8cd9:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/ppt_icon.b60d3665.png"},fa63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("0643"),n("fffc"),n("4e3e");var o=n("6394"),r=n("b255"),i=n("2f62"),a=n("499f"),u=n("b893");t.default={name:"CourseHandler",components:{ShareCollect:o.ShareCollect},props:{courseId:String,resourceId:String,appId:String,classId:String,courseName:String,totalProgress:[Number,String],lang:String,isPreview:Boolean,isInnerMOOC:Boolean,type:{default:"deep"},tabs:{default:()=>["addPlan","rate","collect","share","goToApp"]}},data:()=>({isCommented:null,rate:0,marksList:[],showOnce:!0,mobileUrl:window.location.href}),created(){this.init(),this.$bus.$on("updateRating",e=>{e?this.init():(this.isCommented=!1,this.rate=0)})},watch:{Exceed30AndNotcomment:{handler(e){if(!this.$tools.isredWelink()&&!this.isPreview&&this.showOnce&&e.total>=30&&!1===e.isCommented){const e=this;e.showOnce=!1,setTimeout(()=>{e.$refs.shareCollect.$refs.rate[0].handleComment()},99)}}}},computed:{...(0,i.mapState)({courseMap:e=>e.courseMap}),tabData(){const{edxClassId:e,courseType:t}=this.courseMap,{code:n}=this.$route.params,{classCode:o,typeId:r}=this.$route.query,i=(n||(location.search,location.hash),this.isInnerMOOC?this.courseId:this.classId);return{collect:{info:"edx"===t?{rawResourceId:e,source:"edx",subType:"course_run"}:{rawResourceId:this.courseId,source:"ilearning2",subType:this.isInnerMOOC?"course_run":"course"}},rate:{placement:"bottom",rate:this.rate,isCommented:this.isCommented,process:this.totalProgress,currentProcess:this.totalProgress,requiredProcess:30},share:{classInfo:{title:this.courseName,key:this.courseId},sharedBy:this.$store.state.user.innerUserInfo.w3Account},addPlan:{course:{source:"edx"===t?"edx":"ilearning2",sub_type:"course_run",resource_id:"edx"===t?e:i,id:"edx"===t?e:i,progress:null},color:"#fff",activeColor:"#ff4c4c",placement:"bottom-end"},goToApp:{mobileUrl:this.isElectoralCourse?this.mobileUrl:window.location.href}}},Exceed30AndNotcomment(){return{total:this.totalProgress,isCommented:this.isCommented}},isElectoralCourse(){const{code:e}=this.$route.params,{courseId:t}=this.$route.query;return a.FALLBACK_COURSE_CODE_LIST.includes(e)||a.FALLBACK_COURSE_COURSEID_LIST.includes(t)}},methods:{handleSubmitRate(e){const t={content:e.inputValue||""};(0,r.submitComment)(t).then(async t=>{const{code:n,message:o}=t;if(901100001===n||"pass"===o){const t=this.setMessage(e.quickContent),n=this.hasInvalidatCharactor(e.inputValue);if(n.length>0)return this.$message.error(this.$t("course.commentIllegalCharacter")+n.join(",")),!1;const{edxClassId:o,courseType:i}=this.courseMap,a=this.$tools.whichAppType(),u={courseId:this.courseId,resourceId:"edx"===i?o:this.classId,appId:this.appId,classId:this.classId,content:e.inputValue,score:e.rate,message:t,moduleId:this.$isInner?"course":"courseApplication",appType:a};(0,r.getScore)(u).then(t=>{const{code:n,data:o,message:r}=t;200===n?(this.isCommented=!0,this.rate=e.rate,Object.prototype.hasOwnProperty.call(this.$bus._events,"referRating")&&this.$bus.$emit("upadteRatings"),this.$bus.$emit("referRating"),e.after()):this.$message.error(o||r)},e=>{this.$message.error(e.message)})}else this.$message.error("评语包含敏感字")},e=>{this.$message.error(e.message)})},init(){const{edxClassId:e,courseType:t}=this.courseMap,n={moduleId:this.$isInner?"course":"courseApplication",resourceId:"edx"===t?e:this.classId};(0,r.queryMyComment)(n).then(e=>{const{code:t,data:n}=e;200===t&&(n.score?(this.isCommented=!0,this.rate=n.score):this.isCommented=!1,this.marksList=n.marks||[])},e=>{this.$tools.getIsRateLimiting(e)||this.$message.error(e.message)}),this.getMobileUrl()},handleError(e){if(e){const t=encodeURIComponent(decodeURIComponent(window.location.href)),n=!0,{data:o=""}=e;this.$isInner&&"401"==(null==o?void 0:o.status)&&(window.location.href=`${window.location.protocol}//login${n?"":"-beta"}.huawei.com/login/?redirect=${t}`)}},setMessage(e){let t="";return Array.isArray(e)&&e.length&&Array.isArray(this.marksList)&&this.marksList.length&&e.forEach(e=>{const n=this.marksList.find(t=>"cn"===this.lang?e===t.message:e===t.messageEn);n&&(t+=n.code+",")}),t.slice(0,-1)},hasInvalidatCharactor(e){const t=[];return["\\","/",":","*","?",'"',"<",">","|"].forEach(n=>{e.indexOf(n)>=0&&t.push(n)}),t},async getMobileUrl(){const e=await(0,u.getMobileUrl)(this.$route);this.mobileUrl=e}}}},fbce:function(e,t,n){"use strict";n.r(t);var o=n("068b"),r=n("73bb");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("30d7");var a=n("2877"),u=Object(a.a)(r.default,o.render,o.staticRenderFns,!1,null,"4ea1ddbe",null);t.default=u.exports},fc20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d9e2"),n("14d9"),n("0643"),n("a573"),n("9a9a");const o=[{key:"exam",icon:"catalog-exam"},{key:"examtest",icon:"catalog-quiz"},{key:"quiz",icon:"catalog-quiz"},{key:"video",icon:"catalog-video"},{key:"audio",icon:"catalog-audio"},{key:"edm-document",icon:"catalog-edm-document"},{key:"graphic",icon:"catalog-graphic"},{key:"h5",icon:e=>1===Number(e)?"catalog-h5-1":"catalog-h5"},{key:"experiment",icon:"catalog-experiment"},{key:"satisfaction",icon:"catalog-satisfaction"},{key:"wordle",icon:"catalog-wordle"},{key:"survey",icon:"catalog-survey"},{key:"roll",icon:"catalog-roll"},{key:"grade",icon:"catalog-grade"},{key:"homework",icon:"course-homework"},{key:"case",icon:"course-homework"},{key:"debate",icon:"course-debate"},{key:"discussion",icon:"course-discussion"},{key:"step-builder",icon:"catalog-step-builder"},{key:"program",icon:"online-program"},{key:"program-question",icon:"online-program"},{key:"test",icon:"course-test"}],r=[{key:"exam",icon:"catalog-exam-plane"},{key:"examtest",icon:"catalog-quiz-plane"},{key:"quiz",icon:"catalog-quiz-plane"},{key:"video",icon:"catalog-video-plane"},{key:"audio",icon:"catalog-audio-plane"},{key:"edm-document",icon:"catalog-edm-document-plane"},{key:"graphic",icon:"catalog-graphic-plane"},{key:"h5",icon:e=>1===Number(e)?"catalog-h5-1":"catalog-h5-plane"},{key:"experiment",icon:"catalog-experiment"},{key:"satisfaction",icon:"catalog-satisfaction-plane"},{key:"wordle",icon:"catalog-wordle-plane"},{key:"survey",icon:"catalog-survey-plane"},{key:"roll",icon:"catalog-roll-plane"},{key:"grade",icon:"catalog-grade-plane"},{key:"homework",icon:"course-homework-plane"},{key:"case",icon:"course-homework-plane"},{key:"debate",icon:"course-debate-plane"},{key:"discussion",icon:"course-discussion-plane"},{key:"step-builder",icon:"catalog-step-builder-plane"}],i=function(e,t){return t.findIndex(t=>t.key===e)};let a=0;class u{constructor(e){this.id=a++,this.data=null,this.childNodes=[],this.level=0,this.expanded=!1,this.parent=null,this.isCurrent=!1,this.locked=!1;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t]);this.progress=this.data.progress||0,this.isCurrent=this.data.blockId===this.store.blockId,this.locked=this.handleLock(this),this.parent&&(this.level=this.parent.level+1);const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this),this.data&&(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0)),this.updateLeafState()}setData(e){this.data=e,this.childNodes=[];let t=null;t=0===this.level&&this.data instanceof Array?this.data:function(e,t){const n=e.data||{};if("string"==typeof t)return n[t]}(this,"children")||[];for(let e=0;e<t.length;e++)t[e].level>=1&&this.insertChild({data:t[e]})}insertChild(e){if(!e)throw new Error("insertChild error: child is required.");if(!(e instanceof u)){const t=this.getChildren(!0)||[];-1===t.indexOf(e.data)&&t.push(e.data),function(e){for(let t=1,n=arguments.length;t<n;t++){const n=arguments[t]||{};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&void 0!==n[t]&&(e[t]=n[t])}}(e,{parent:this,store:this.store}),e=new u({...e,isPlaneStyle:this.isPlaneStyle})}e.level=this.level+1,this.childNodes.push(e),this.updateLeafState()}getChildren(){if(0===this.level)return this.data;const e=this.data;return e?(void 0===e.children&&(e.children=null),e.children||(e.children=[]),e.children):null}updateLeafState(){const e=this.childNodes;this.isLeaf=!!e&&0===e.length,this.isLeaf&&(this.blockType=function(e,t){let n="empty";return e.children.map(e=>({blockType:e.blockType,key:i(e.blockType,t)})).sort((e,t)=>e.key-t.key).some(o=>{const r=t.findIndex(e=>e.key===o.blockType);if(r>-1){let a=t[r].icon;var i;if("h5"===o.blockType)a=a(null===(i=e.children[0])||void 0===i||null===(i=i.definitions)||void 0===i?void 0:i.h5Type);return n=a,!0}return!1}),n}(this.data,this.isPlaneStyle?r:o))}collapse(){this.expanded=!1}expand(){let e=this.parent;if(e)for(;e.level>0;)e.expanded=!0,e=e.parent;this.expanded=!0}handleLock(e){if(this.store.notLearnable)return!1;const{openStartDate:t,openEndDate:n}=e.data,o=!t||new Date(t).getTime()<=new Date(this.store.currSystemTime||Date.now()).getTime(),r=!n||new Date(n).getTime()>=new Date(this.store.currSystemTime||Date.now()).getTime();return!o||!r}}t.default=u},fc61:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/elab.5100c84e.svg"},fd04:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("b775"));t.default={executeProgram:e=>(0,r.default)({url:"/api/student/v1/curriculum/v2-course/outline/block/program/execute",method:"post",data:e}),commitProgramsQuestion:(e,t=!1)=>(0,r.default)({url:`/api/${t?"service":"student"}/v1/curriculum/v2-course/outline/block/programs-question/commit`,method:"post",data:e}),getCommitResultProgramsQuestion:(e,t=!1)=>(0,r.default)({url:`/api/${t?"service":"student"}/v1/curriculum/v2-course/outline/block/programs-question/commit-result`,method:"post",data:e}),executeProgramsQuestion:(e,t=!1)=>(0,r.default)({url:`/api/${t?"service":"student"}/v1/curriculum/v2-course/outline/block/programs-question/execute`,method:"post",data:e}),getExecuteResultProgramsQuestion:(e,t=!1)=>(0,r.default)({url:`/api/${t?"service":"student"}/v1/curriculum/v2-course/outline/block/programs-question/execute-result`,method:"post",data:e}),getHistoryProgramsQuestion:e=>(0,r.default)({url:"/api/student/v1/curriculum/v2-course/outline/block/programs-question/getProgramList",method:"post",data:e}),getLastCommitProgramsQuestion:e=>(0,r.default)({url:"/api/student/v1/curriculum/v2-course/outline/block/programs-question/getProgramQuestion",method:"get",params:e}),getSubjectDetailProgramsQuestion:(e,t=!1)=>(0,r.default)({url:`/api/${t?"service":"student"}/v1/curriculum/v2-course/outline/block/programs-question/subject-detail`,method:"get",params:e})}},fd31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d9e2");const o=function(e,t){if(e){for(var n=e.className,o=(t||"").split(" "),r=0,a=o.length;r<a;r++){var u=o[r];u&&(e.classList?e.classList.add(u):i(e,u)||(n+=" "+u))}e.classList||e.setAttribute("class",n)}},r=function(e,t){if(e&&t){for(var n=t.split(" "),o=" "+e.className+" ",r=0,u=n.length;r<u;r++){var s=n[r];s&&(e.classList?e.classList.remove(s):i(e,s)&&(o=o.replace(" "+s+" "," ")))}e.classList||e.setAttribute("class",a(o))}},i=function(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},a=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};t.default={name:"GlobalCollapse",data:()=>({}),props:{isNoTransition:{type:Boolean,default:!1}},methods:{beforeEnter(e){o(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){r(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(this.isNoTransition||o(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){r(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}}},fd93:function(e,t,n){"use strict";n.r(t);var o=n("ac4f"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t.default=r.a},fda5:function(e,t,n){},fdb02:function(e,t,n){"use strict";var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9");var r=n("cabd"),i=n("b255"),a=o(n("f2f3")),u=n("ca00"),s=n("5f87"),c=n("4ee2"),l=n("08f3");const d=window.location.pathname.split("/")[2];t.default={data:()=>({startStudyTimer:null,showLoginDialog:!0,isLogin:!0,afterEnroll:null}),created(){const e=(0,s.getToken)(),t=(0,s.getRefreshToken)(),n=(0,s.getUserId)();this.isLogin=""!=n&&""!=t&&""!=e,1e4!=Number(n)&&""!=n&&""!=e&&""!=t||(this.showLoginDialog=!1)},methods:{signupStatus(e){const t=this.$tools.whichAppType();let n=!1;"Enroll"===e?(this.startEnrollStatus=0,this.startStudyStatus=0):"startLearning"===e&&(this.startStudyStatus=0),"4"!==t&&"5"!==t&&"6"!==t||(n=!0),this.signupStatusChange(e,n)},hendelDefault(){this.outlineProgress>0?this.title="resumeLearning":this.title="startLearning",this.disabled=!1,this.dateTime="",this.dateTitle=""},signupStatusChange(e,t){const n={Enroll:()=>{this.title=t?"startLearning":"Enroll",this.disabled=!1,this.dateTitle="",this.dateTime=""},startLearning:()=>{this.title="startLearning",this.disabled=!1,this.dateTime="",this.dateTitle=""},resumeLearning:()=>{this.title="resumeLearning",this.disabled=!1,this.dateTime="",this.dateTitle=""},learningCountDown:()=>{this.title="startLearning",this.disabled=!0,this.timeCountdown(new Date(this.curriculumStartDate).getTime()+1e3),this.dateTitle="learningCountDown"},learningHasNotBegun:()=>{this.title="startLearning",this.disabled=!0,this.timeCountdown(new Date(this.curriculumStartDate).getTime()+1e3),this.dateTitle="learningHasNotBegun"},enrollHasNotBegun:()=>{this.title="Enroll",this.disabled=!0,this.timeCountdown(new Date(this.applyStartDate).getTime()+1e3),this.dateTitle="enrollHasNotBegun"},enrollCountDown:()=>{this.title="Enroll",this.disabled=!0,this.timeCountdown(new Date(this.applyStartDate).getTime()+1e3),this.dateTitle="enrollCountDown"},fullyStaffed:()=>{this.title="fullyStaffed",this.disabled=!0,this.dateTime="",this.dateTitle=""},InvitationOnly:()=>{this.title="InvitationOnly",this.disabled=!0,this.dateTime="",this.dateTitle=""},EnrollEnded:()=>{this.title="EnrollEnded",this.disabled=!0,this.dateTime="",this.dateTitle=""},Ended:()=>{this.title="Ended",this.disabled=!0,this.dateTime="",this.dateTitle=""},null:()=>{this.title=t?"startLearning":"Enroll",this.disabled=!0,this.dateTime="",this.dateTitle=""},onlyMember:()=>{this.title="MembersOnly",this.disabled=!1,this.timeCountdown(new Date(this.applyStartDate).getTime()+1e3),this.dateTitle="MembersOnly"},onlyVIPPACKAGE:()=>{this.title="VIPBenefits",this.disabled=!1,this.timeCountdown(new Date(this.applyStartDate).getTime()+1e3),this.dateTitle="VIPBenefits"},VIPPackageExpired:()=>{this.title="resumeLearning",this.disabled=!1,this.dateTime="",this.dateTitle=""},apiException:()=>{this.title="startLearning",this.disabled=!0,this.dateTime="",this.dateTitle=""}};n[e]?n[e]():this.hendelDefault()},async timeCountdown(e){this.dateTime=await(0,i.getSystemCurrentTime)().then(t=>{const n=new Date(t.data).getTime(),o=e-n;return(new Date).getTime()+o||e})},goSignUpNext(e){if(("startLearning"===e||"resumeLearning"===e)&&!this.priceStatus){const e={type:"goSignUp",data:1};window.parent.postMessage(e,window.location.origin)}if(this.showLoginDialog)if(this.isLogin&&"10000"!==(0,s.getUserId)()&&null!==(0,s.getUserId)()){("startLearning"===e||"resumeLearning"===e||"StartTheLecture"===e||"Preview"===e)&&!this.priceStatus?this.previewAndStudy(e):this.priceStatus?(this.$ana.upLog({eventType:"click",eventCode:"030108"}),this.goToBuy()):(this.$ana.upLog({eventType:"click",eventCode:"030108"}),this.startStudyStatus=0,0===this.startEnrollStatus?(this.startEnrollStatus=1,this.goToSignUp()):2===this.startEnrollStatus&&this.init())}else window.sxz.showLoginDialog();else window.sxz.showLoginDialog()},previewAndStudy(e){const{routeFrom:t,coursePackageType:n,appId:o,status:r,"sxz-lang":i,classId:a,saleMode:u,entry:s,scheduleId:c,processId:l,type:d}=this.$route.query;this.$ana.upLog({eventType:"click",eventCode:"030101"});const f={status:"classLectureCenter"===s?r:this.statusRoute,courseId:this.courseRoute,courseType:this.$tools.whichAppType(),"sxz-lang":i||"zh_CN",processId:l,type:d,headershow:this.headershow,routeFrom:t,coursePackageType:n,saleMode:u,entry:s,appId:o,classId:a,scheduleId:c};this.$tools.isApplication()?this.goStartStudy(e):this.$router.push({name:"applicationLearn",query:l?{processId:l,type:d,...f}:f})},goStartStudy(e){if("unpublished"!==this.statusRoute&&"resumeLearning"===e&&(this.startStudyed=!0),"startLearning"!==e||"unpublished"==this.statusRoute||this.startStudyed)this.gotToLearnPage();else{let e=null;if(e=this.$tools.isNewCourse()?{resourceApplyId:this.primaryId}:{classId:this.classId||this.uuid},2===this.startStudyStatus)return void this.gotToLearnPage();this.startStudyTimer=setTimeout(()=>{2!==this.startStudyStatus?this.gotToLearnPage():clearTimeout(this.startStudyTimer)},1500),this.startStudyStatus=1,(0,r.isCourseSignUp)(e,this.$tools.isNewCourse()).then(e=>{e.data?(clearTimeout(this.startStudyTimer),this.startStudyStatus=2,this.gotToLearnPage()):this.startStudyStatus=0}).catch(e=>{this.startStudyStatus=0})}},gotToLearnPage(){this.$tools.isNewCourse()?this.goToLearnAppPage():this.gotToLearnOldPage()},goToLearnAppPage(){var e;const{appId:t,"sxz-lang":n,entry:o,nowKey:r,courseStatus:i,from:a}=this.$route.query;this.startStudyStatus=0,clearTimeout(this.startStudyTimer);let s={status:this.statusRoute,courseId:this.courseRoute,id:this.primaryId,appId:t,classId:this.classId||this.uuid,courseType:this.$tools.whichAppType(),"sxz-lang":n||"zh_CN",headershow:this.headershow,source:"open",entry:o,nowKey:r,courseStatus:i};a&&"ascend"===a&&(s={status:this.statusRoute,courseId:this.courseRoute,id:this.primaryId,appId:t,classId:this.classId||this.uuid,courseType:this.$tools.whichAppType(),"sxz-lang":n||"zh_CN",entry:o,nowKey:r,courseStatus:i,headershow:!0,closeLearnBar:!0});const c={name:"applicationLearn",query:s};(0,u.publicOpen)(window.location.origin+(null===(e=this.$router.resolve(c))||void 0===e?void 0:e.href),"_self",()=>{this.$router.push(c)})},gotToLearnOldPage(){this.startStudyStatus=0,clearTimeout(this.startStudyTimer),this.$router.push({name:"courseLearn",query:{status:this.statusRoute,courseId:this.courseRoute,classId:this.classId||this.uuid,"sxz-lang":this.$route.query["sxz-lang"]||"zh_CN",headershow:this.headershow}})},goToSignUp(){let e=null;this.$tools.isNewCourse()&&(e={applicationType:this.$tools.whichAppType()});const t=this.$tools.isNewCourse()?this.primaryId:this.uuid;(0,r.postcourseLearner)(t,e,this.$tools.isNewCourse()).then(n=>{200===n.code?(this.startEnrollStatus=2,this.init(),this.afterEnroll=!0):(this.startEnrollStatus=0,this.$messageBox("error",n.message),(0,c.logReportApi)("curriculum_010002",{statusCode:l.ResponceCodeEnum.Success,subErrorInfo:null==n?void 0:n.code,data:{params:{sessionId:t,params:e,isNewCourse:this.$tools.isNewCourse()},response:n},resourceId:this.courseRoute}))},e=>{(0,c.logReportApi)("curriculum_010002",{error:e,data:e,resourceId:this.courseRoute}),this.startEnrollStatus=0}).catch(e=>{this.startEnrollStatus=0,this.$tools.getIsRateLimiting(e)&&this.$message.error(this.$t("common.rateLimiting"))})},goToBuy(e=1){const t={goodsNumber:"1",resourceId:this.$tools.isNewCourse()?this.primaryId:this.uuid,resourceType:this.$tools.isNewCourse()?"02":"01",createdWay:e};(0,r.generateOrder)(t).then(e=>{if(200===e.code)this.$messageBox("success",this.$t("course.purchaseSuccess")),this.isPurchase=1,this.init();else if(702===e.code){this.orderId=e.data.orderId,a.default.$emit("getCourseOrderId",e.data.orderId);this.orderId;e.data.purchaseTip?(this.$messageBox("info",e.data.purchaseTip),setTimeout(()=>{this.goToGoodsOrder()},2e3)):this.goToGoodsOrder()}else e.code===l.ResponceCodeEnum.BuyNoAuth?this.$messageBox("warning",e.message):this.$messageBox("info",e.message)})},goToGoodsOrder(){const e=window.location.origin+(this.$tools.isNewCourse()?`/course/${d}/courseone#/orderPayment/${this.orderId}?courseName=${this.courseName}&courseId=${this.courseRoute}&appId=${this.$route.query.appId}&appType=3&activeIndex=0&headershow=true&sxz-lang=${this.sxzLang}`:`/course/${d}/courseone#/orderPayment/${this.orderId}?courseName=${this.courseName}&courseId=${this.courseRoute}&classId=${this.classId}&activeIndex=0&headershow=true&sxz-lang=${this.sxzLang}`);(0,u.publicOpen)(e,"_self")},countdown(e,t,n,o){const r=this,i=new Date(t).getTime()-e;let a=Math.floor(i/1e3),u=null;clearTimeout(this.timers),clearTimeout(u),u=setTimeout((function e(){if(a-=1,n)return r.timers=null,clearTimeout(r.timers);{r.timers=setTimeout(e,1e3);let t=0,n=0,i=0,u=0,s=0;a>=0&&(t=Math.floor(a/60/60/24),n=Math.floor(a/60/60%24),i=Math.floor(a/60%60),u=Math.floor(a%60),s=Math.floor(a)),r.calcDay=t,r.calcHour=n,r.calcMinutes=i,r.calcSeconds=u,r.overSevenDay=t>6,"beforeActive"==o?0==s&&location.reload():"duringActive"==o&&0==s&&location.reload()}return!0}),1e3)},curriculumStudyColor(e){let t="#333";switch((0,u.switchCourseStatus)(e,2)){case"NotStarted":t="#689bf0";break;case"Enrolling":t="#5accaa";break;case"EnrollmentFull":t="#b5b5b5";break;case"Enrolled":t="#666666";break;case"EnrollmentEnded":case"EnrollmentRestricted":t="#ff8870";break;case"VIPBenefits":t="#8e5801";break;case"":t="#666666";break;default:t="#333"}return t},curriculumStudyStatus(e){const t=(0,u.switchCourseStatus)(e,2);if(t){const e="course."+t;return this.$t(e)}return""},curriculumShowTitle(e){if(e){const t="course."+e;return this.$t(t)}return""}}}},fe66:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABLCAYAAADakmGTAAAABHNCSVQICAgIfAhkiAAAA2xJREFUeJzdnEFyozAQRR/EV/B5Bt+BzaR8F4e7THk2vsOQ83AGD7PAlBmMsATdUsPfJa4I6vO69ZHkZOxUzbksuHMRHTTj+yA6oCXduZBRiI6ZU2WiAxpRcy4L/vJHdNCW+vj7dspFB7Ui6VIE+KAC2B1hmnQB7I8wRbpgZ4Rp0wV7I0yBrqFZsCPDmnNZiMcInqXYazeGqdB1vX2Nf7cLw2LRBXBofpayTXKgcf2rqUv1cuoa/dfURwcyvkFhKo6kx8xYiA76MU0XKJdkcy4LzfEB+d7VUh9/3WrXxzk5zg9XS/rJj6TSu2boAsjn3DSvyHRBX5KtImVKSkEX9IZ1jV9eLT9UxoUkdIF2DpPPRkA6uqA3TLPxa0h6MvGkCx6GaTZ+pWghVY4VUIUE7OeafkutUkIdDbXUcM1n+bXizyuYfkf01dOwrvEXK24mlkLpWm3SUPq7RoIzZSBdlZRJQ/33ytp8lq30BQCO15vIq7Hn/akY1Wszyzuek4eqWfBqmFcWCZXITDkfVKvj9ZZpmwUbIexNUFWnaqh89FOtcpW1QdNFV84pplndJQeyuHLhpCvnlOJ+X0tSY+ViTbSYoiuRWd2lx9JYuVj4BuGgq0pZCbab/piuljp2zxrrxTCtGwqNFpN0eS7BaCoeYaEz5RRdBiYll2FJn6RVusBqDzNKF7gM0wiwntHCMl3gMEzlafpGC8N0wVxJJth6UzpUIiq3YQoB9m20mEr1hsoRYjf9mWjhostSOcKcYbG33qboMrgj7zQs5pPdQu/qNV+S0k/YFS00joorad4w6cY/QdEsXVpnPlYofdLfEF3wxjCNlYuXaLGR3tUrPmGDaPF2Y1bzuNRC+RimGRw3VY6QgrAHNV7b/gbL9b1hegHWi64oJ7ED9NYw8QCbUQQdKlE+iR0qv5KMFWCnZarP+RkWIcDOaeUhOlGlD64bk/e5La2zYwGKeujEpe0QZiTE+huWem0qdHZVkr9hNlYOLqlzmb9hNr78kPQgCgT+G4bUjV/qcPEahTX9tH3MxO5RmGEJ+5iFSAHbiRUm6IJQw1I0fgOH6IYKMizJDLX5ne+Yjd/YQRRYYljMxm+MLrDc9A3SBQsMi9aADdIFVgkzShcsN0z36RulCywSZpguWPoV5pyau86CXrR/obVQ/wDiYkwaRE7pPAAAAABJRU5ErkJggg=="},ffc7:function(e,t,n){e.exports=n.p+"static_klt_2025_09_01_15_04_57_OUTER/img/txt_icon.8f502980.svg"}}]);